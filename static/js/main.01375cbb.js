/*! For license information please see main.01375cbb.js.LICENSE.txt */
(function(){var __webpack_modules__={9183:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{i:function(){return MemoizedOutput}});var _Users_hannesips_STUDIE_thesis_master_thesis_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(885),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2791),react_p5_wrapper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3985),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(184),PAR={},GLOB={};function Output(e){e.selected;var t=e.paramsDict,r=e.globDict,n=e.state,i=e.updateVisualWidth,o=e.updateVisualHeight,a=e.visualWidth,s=e.visualHeight,l=e.visualCode,u=e.setCodeErrorMessage,c=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),h=(0,_Users_hannesips_STUDIE_thesis_master_thesis_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_3__.Z)(c,2),d=h[0],f=h[1],p=document.getElementById("output-canvas");console.log("rerender output"),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){PAR=t,GLOB=r}),[t,r,n]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var e=function(){document.fullscreenElement||f(!1)};return document.addEventListener("fullscreenchange",e),function(){document.removeEventListener("fullscreenchange",e)}}),[]);var m=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),y=function(){var e=m.current.getBoundingClientRect(),t=e.width,r=e.height;i(t),o(r)};return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var e=new ResizeObserver(y);return e.observe(m.current),function(){return e.disconnect()}}),[]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{ref:m,id:"output-canvas",style:{height:"100%",width:"100%",position:"relative"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(VisualMemoize,{visualCode:l,canvasWidth:a,canvasHeight:s,setCodeErrorMessage:u}),d?null:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("button",{onClick:function(){p.requestFullscreen?p.requestFullscreen():p.webkitRequestFullscreen?p.webkitRequestFullscreen():p.msRequestFullscreen&&p.msRequestFullscreen(),f(!0)},style:{position:"absolute",bottom:0,right:0},children:"[  ]"})]})}var MemoizedOutput=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(Output);function Visual(_ref2){var visualCode=_ref2.visualCode,canvasWidth=_ref2.canvasWidth,canvasHeight=_ref2.canvasHeight,setCodeErrorMessage=_ref2.setCodeErrorMessage,sketch=function sketch(p5){function start_canvas(){var e=p5.createCanvas(canvasWidth,canvasHeight,p5.WEBGL);return e.parent("output-canvas"),e}var canvas;p5.setup=function(){canvas=start_canvas()};try{eval(visualCode),setTimeout((function(){setCodeErrorMessage(void 0)}),3e3)}catch(error){setTimeout((function(){setCodeErrorMessage(error)}),3e3)}};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_p5_wrapper__WEBPACK_IMPORTED_MODULE_1__.a,{sketch:sketch})})}var VisualMemoize=(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(Visual)},9340:function(e,t,r){"use strict";r.d(t,{jQ:function(){return Ie},BX:function(){return Wr}});var n=r(4165),i=r(5861),o=r(9142);function a(e,t,r){return(t=(0,o.Z)(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r(885),l=r(2982),u=r(181);function c(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=(0,u.Z)(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var p=r(4453),m=Object.prototype.toString;function y(e){return"function"===typeof e||"[object Function]"===m.call(e)}var g=Math.pow(2,53)-1;function v(e){var t=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),g)}function b(e,t){var r=Array,n=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");if("undefined"!==typeof t&&!y(t))throw new TypeError("Array.from: when provided, the second argument must be a function");for(var i,o=v(n.length),a=y(r)?Object(new r(o)):new Array(o),s=0;s<o;)i=n[s],a[s]=t?t(i,s):i,s+=1;return a.length=o,a}function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,S(n.key),n)}}function S(e){var t=function(e,t){if("object"!==x(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==x(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===x(t)?t:String(t)}var k=function(){function e(){var t,r,n,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t=this,n=void 0,(r=S(r="items"))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,this.items=i}var t,r,n;return t=e,(r=[{key:"add",value:function(e){return!1===this.has(e)&&this.items.push(e),this}},{key:"clear",value:function(){this.items=[]}},{key:"delete",value:function(e){var t=this.items.length;return this.items=this.items.filter((function(t){return t!==e})),t!==this.items.length}},{key:"forEach",value:function(e){var t=this;this.items.forEach((function(r){e(r,r,t)}))}},{key:"has",value:function(e){return-1!==this.items.indexOf(e)}},{key:"size",get:function(){return this.items.length}}])&&w(t.prototype,r),n&&w(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),_="undefined"===typeof Set?Set:k;function j(e){var t;return null!==(t=e.localName)&&void 0!==t?t:e.tagName.toLowerCase()}var M={article:"article",aside:"complementary",button:"button",datalist:"listbox",dd:"definition",details:"group",dialog:"dialog",dt:"term",fieldset:"group",figure:"figure",form:"form",footer:"contentinfo",h1:"heading",h2:"heading",h3:"heading",h4:"heading",h5:"heading",h6:"heading",header:"banner",hr:"separator",html:"document",legend:"legend",li:"listitem",math:"math",main:"main",menu:"list",nav:"navigation",ol:"list",optgroup:"group",option:"option",output:"status",progress:"progressbar",section:"region",summary:"button",table:"table",tbody:"rowgroup",textarea:"textbox",tfoot:"rowgroup",td:"cell",th:"columnheader",thead:"rowgroup",tr:"row",ul:"list"},C={caption:new Set(["aria-label","aria-labelledby"]),code:new Set(["aria-label","aria-labelledby"]),deletion:new Set(["aria-label","aria-labelledby"]),emphasis:new Set(["aria-label","aria-labelledby"]),generic:new Set(["aria-label","aria-labelledby","aria-roledescription"]),insertion:new Set(["aria-label","aria-labelledby"]),paragraph:new Set(["aria-label","aria-labelledby"]),presentation:new Set(["aria-label","aria-labelledby"]),strong:new Set(["aria-label","aria-labelledby"]),subscript:new Set(["aria-label","aria-labelledby"]),superscript:new Set(["aria-label","aria-labelledby"])};function P(e,t){return function(e,t){return["aria-atomic","aria-busy","aria-controls","aria-current","aria-describedby","aria-details","aria-dropeffect","aria-flowto","aria-grabbed","aria-hidden","aria-keyshortcuts","aria-label","aria-labelledby","aria-live","aria-owns","aria-relevant","aria-roledescription"].some((function(r){var n;return e.hasAttribute(r)&&!(null!==(n=C[t])&&void 0!==n&&n.has(r))}))}(e,t)}function T(e){var t=function(e){var t=e.getAttribute("role");if(null!==t){var r=t.trim().split(" ")[0];if(r.length>0)return r}return null}(e);if(null===t||"presentation"===t){var r=function(e){var t=M[j(e)];if(void 0!==t)return t;switch(j(e)){case"a":case"area":case"link":if(e.hasAttribute("href"))return"link";break;case"img":return""!==e.getAttribute("alt")||P(e,"img")?"img":"presentation";case"input":var r=e.type;switch(r){case"button":case"image":case"reset":case"submit":return"button";case"checkbox":case"radio":return r;case"range":return"slider";case"email":case"tel":case"text":case"url":return e.hasAttribute("list")?"combobox":"textbox";case"search":return e.hasAttribute("list")?"combobox":"searchbox";case"number":return"spinbutton";default:return null}case"select":return e.hasAttribute("multiple")||e.size>1?"listbox":"combobox"}return null}(e);if("presentation"!==t||P(e,r||""))return r}return t}function E(e){return null!==e&&e.nodeType===e.ELEMENT_NODE}function O(e){return E(e)&&"caption"===j(e)}function A(e){return E(e)&&"input"===j(e)}function L(e){return E(e)&&"legend"===j(e)}function N(e){return function(e){return E(e)&&void 0!==e.ownerSVGElement}(e)&&"title"===j(e)}function R(e,t){if(E(e)&&e.hasAttribute(t)){var r=e.getAttribute(t).split(" "),n=e.getRootNode?e.getRootNode():e.ownerDocument;return r.map((function(e){return n.getElementById(e)})).filter((function(e){return null!==e}))}return[]}function D(e,t){return!!E(e)&&-1!==t.indexOf(T(e))}function I(e,t){if(!E(e))return!1;if("range"===t)return D(e,["meter","progressbar","scrollbar","slider","spinbutton"]);throw new TypeError("No knowledge about abstract role '".concat(t,"'. This is likely a bug :("))}function F(e,t){var r=b(e.querySelectorAll(t));return R(e,"aria-owns").forEach((function(e){r.push.apply(r,b(e.querySelectorAll(t)))})),r}function B(e){return E(t=e)&&"select"===j(t)?e.selectedOptions||F(e,"[selected]"):F(e,'[aria-selected="true"]');var t}function U(e){return A(e)||E(t=e)&&"textarea"===j(t)?e.value:e.textContent||"";var t}function z(e){var t=e.getPropertyValue("content");return/^["'].*["']$/.test(t)?t.slice(1,-1):""}function q(e){var t=j(e);return"button"===t||"input"===t&&"hidden"!==e.getAttribute("type")||"meter"===t||"output"===t||"progress"===t||"select"===t||"textarea"===t}function G(e){if(q(e))return e;var t=null;return e.childNodes.forEach((function(e){if(null===t&&E(e)){var r=G(e);null!==r&&(t=r)}})),t}function V(e){if(void 0!==e.control)return e.control;var t=e.getAttribute("for");return null!==t?e.ownerDocument.getElementById(t):G(e)}function H(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new _,n=function(e){var t=(null===e.ownerDocument?e:e.ownerDocument).defaultView;if(null===t)throw new TypeError("no window available");return t}(e),i=t.compute,o=void 0===i?"name":i,a=t.computedStyleSupportsPseudoElements,s=void 0===a?void 0!==t.getComputedStyle:a,l=t.getComputedStyle,u=void 0===l?n.getComputedStyle.bind(n):l,c=t.hidden,h=void 0!==c&&c;function d(e,t){var r="";if(E(e)&&s){var n=z(u(e,"::before"));r="".concat(n," ").concat(r)}if((function(e){return E(e)&&"slot"===j(e)}(e)?function(e){var t=e.assignedNodes();return 0===t.length?b(e.childNodes):t}(e):b(e.childNodes).concat(R(e,"aria-owns"))).forEach((function(e){var n=m(e,{isEmbeddedInLabel:t.isEmbeddedInLabel,isReferenced:!1,recursion:!0}),i="inline"!==(E(e)?u(e).getPropertyValue("display"):"inline")?" ":"";r+="".concat(i).concat(n).concat(i)})),E(e)&&s){var i=z(u(e,"::after"));r="".concat(r," ").concat(i)}return r.trim()}function f(e,t){var n=e.getAttributeNode(t);return null===n||r.has(n)||""===n.value.trim()?null:(r.add(n),n.value)}function p(e){if(!E(e))return null;if(function(e){return E(e)&&"fieldset"===j(e)}(e)){r.add(e);for(var t=b(e.childNodes),n=0;n<t.length;n+=1){var i=t[n];if(L(i))return m(i,{isEmbeddedInLabel:!1,isReferenced:!1,recursion:!1})}}else if(function(e){return E(e)&&"table"===j(e)}(e)){r.add(e);for(var o=b(e.childNodes),a=0;a<o.length;a+=1){var s=o[a];if(O(s))return m(s,{isEmbeddedInLabel:!1,isReferenced:!1,recursion:!1})}}else{if(function(e){return E(e)&&"svg"===j(e)}(e)){r.add(e);for(var l=b(e.childNodes),u=0;u<l.length;u+=1){var c=l[u];if(N(c))return c.textContent}return null}if("img"===j(e)||"area"===j(e)){var h=f(e,"alt");if(null!==h)return h}else if(function(e){return E(e)&&"optgroup"===j(e)}(e)){var p=f(e,"label");if(null!==p)return p}}if(A(e)&&("button"===e.type||"submit"===e.type||"reset"===e.type)){var y=f(e,"value");if(null!==y)return y;if("submit"===e.type)return"Submit";if("reset"===e.type)return"Reset"}var g=function(e){var t=e.labels;return null===t?t:void 0!==t?b(t):q(e)?b(e.ownerDocument.querySelectorAll("label")).filter((function(t){return V(t)===e})):null}(e);if(null!==g&&0!==g.length)return r.add(e),b(g).map((function(e){return m(e,{isEmbeddedInLabel:!0,isReferenced:!1,recursion:!0})})).filter((function(e){return e.length>0})).join(" ");if(A(e)&&"image"===e.type){var v=f(e,"alt");if(null!==v)return v;var x=f(e,"title");return null!==x?x:"Submit Query"}if(D(e,["button"])){var w=d(e,{isEmbeddedInLabel:!1,isReferenced:!1});if(""!==w)return w}return null}function m(e,t){if(r.has(e))return"";if(!h&&function(e,t){if(!E(e))return!1;if(e.hasAttribute("hidden")||"true"===e.getAttribute("aria-hidden"))return!0;var r=t(e);return"none"===r.getPropertyValue("display")||"hidden"===r.getPropertyValue("visibility")}(e,u)&&!t.isReferenced)return r.add(e),"";var n=E(e)?e.getAttributeNode("aria-labelledby"):null,i=null===n||r.has(n)?[]:R(e,"aria-labelledby");if("name"===o&&!t.isReferenced&&i.length>0)return r.add(n),i.map((function(e){return m(e,{isEmbeddedInLabel:t.isEmbeddedInLabel,isReferenced:!0,recursion:!1})})).join(" ");var a,s=t.recursion&&(D(a=e,["button","combobox","listbox","textbox"])||I(a,"range"))&&"name"===o;if(!s){var l=(E(e)&&e.getAttribute("aria-label")||"").trim();if(""!==l&&"name"===o)return r.add(e),l;if(!function(e){return D(e,["none","presentation"])}(e)){var c=p(e);if(null!==c)return r.add(e),c}}if(D(e,["menu"]))return r.add(e),"";if(s||t.isEmbeddedInLabel||t.isReferenced){if(D(e,["combobox","listbox"])){r.add(e);var y=B(e);return 0===y.length?A(e)?e.value:"":b(y).map((function(e){return m(e,{isEmbeddedInLabel:t.isEmbeddedInLabel,isReferenced:!1,recursion:!0})})).join(" ")}if(I(e,"range"))return r.add(e),e.hasAttribute("aria-valuetext")?e.getAttribute("aria-valuetext"):e.hasAttribute("aria-valuenow")?e.getAttribute("aria-valuenow"):e.getAttribute("value")||"";if(D(e,["textbox"]))return r.add(e),U(e)}if(function(e){return D(e,["button","cell","checkbox","columnheader","gridcell","heading","label","legend","link","menuitem","menuitemcheckbox","menuitemradio","option","radio","row","rowheader","switch","tab","tooltip","treeitem"])}(e)||E(e)&&t.isReferenced||function(e){return O(e)}(e)){var g=d(e,{isEmbeddedInLabel:t.isEmbeddedInLabel,isReferenced:!1});if(""!==g)return r.add(e),g}if(e.nodeType===e.TEXT_NODE)return r.add(e),e.textContent||"";if(t.recursion)return r.add(e),d(e,{isEmbeddedInLabel:t.isEmbeddedInLabel,isReferenced:!1});var v=function(e){return E(e)?f(e,"title"):null}(e);return null!==v?(r.add(e),v):(r.add(e),"")}return m(e,{isEmbeddedInLabel:!1,isReferenced:"description"===o,recursion:!1}).trim().replace(/\s\s+/g," ")}function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach((function(t){K(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function K(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==W(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==W(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===W(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=R(e,"aria-describedby").map((function(e){return H(e,Y(Y({},t),{},{compute:"description"}))})).join(" ");if(""===r){var n=e.getAttribute("title");r=null===n?"":n}return r}function $(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return D(e,["caption","code","deletion","emphasis","generic","insertion","paragraph","presentation","strong","subscript","superscript"])?"":H(e,t)}var J=r(859),Q=r(4235),ee=r.n(Q);e=r.hmd(e);var te=["filterNode"],re=["value","files"],ne=["bubbles","cancelable","detail"];function ie(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}var oe=function(e,t,r,n,i,o,a){var s=n+r.indent,l=r.colors;return e.map((function(e){var u=t[e],c=a(u,r,s,i,o);return"string"!==typeof u&&(-1!==c.indexOf("\n")&&(c=r.spacingOuter+s+c+r.spacingOuter+n),c="{"+c+"}"),r.spacingInner+n+l.prop.open+e+l.prop.close+"="+l.value.open+c+l.value.close})).join("")},ae=function(e,t,r,n,i,o){return e.map((function(e){var a="string"===typeof e?se(e,t):o(e,t,r,n,i);return""===a&&"object"===typeof e&&null!==e&&3!==e.nodeType?"":t.spacingOuter+r+a})).join("")},se=function(e,t){var r=t.colors.content;return r.open+ie(e)+r.close},le=function(e,t){var r=t.colors.comment;return r.open+"\x3c!--"+ie(e)+"--\x3e"+r.close},ue=function(e,t,r,n,i){var o=n.colors.tag;return o.open+"<"+e+(t&&o.close+t+n.spacingOuter+i+o.open)+(r?">"+o.close+r+n.spacingOuter+i+o.open+"</"+e:(t&&!n.min?"":" ")+"/")+">"+o.close},ce=function(e,t){var r=t.colors.tag;return r.open+"<"+e+r.close+" \u2026"+r.open+" />"+r.close},he=3,de=8,fe=11,pe=/^((HTML|SVG)\w*)?Element$/,me=function(e){var t=e.constructor.name,r=e.nodeType,n=e.tagName,i="string"===typeof n&&n.includes("-")||"function"===typeof e.hasAttribute&&e.hasAttribute("is");return 1===r&&(pe.test(t)||i)||r===he&&"Text"===t||r===de&&"Comment"===t||r===fe&&"DocumentFragment"===t};function ye(e){return e.nodeType===fe}function ge(e){return{test:function(e){var t;return(null==e||null==(t=e.constructor)?void 0:t.name)&&me(e)},serialize:function(t,r,n,i,o,a){if(function(e){return e.nodeType===he}(t))return se(t.data,r);if(function(e){return e.nodeType===de}(t))return le(t.data,r);var s=ye(t)?"DocumentFragment":t.tagName.toLowerCase();return++i>r.maxDepth?ce(s,r):ue(s,oe(ye(t)?[]:Array.from(t.attributes).map((function(e){return e.name})).sort(),ye(t)?{}:Array.from(t.attributes).reduce((function(e,t){return e[t.name]=t.value,e}),{}),r,n+r.indent,i,o,a),ae(Array.prototype.slice.call(t.childNodes||t.children).filter(e),r,n+r.indent,i,o,a),r,n)}}}var ve=null,be=null,xe=null;try{var we=e&&e.require;be=we.call(e,"fs").readFileSync,xe=we.call(e,"@babel/code-frame").codeFrameColumns,ve=we.call(e,"chalk")}catch(Zr){}function Se(){return be&&xe?function(e){var t=e.indexOf("(")+1,r=e.indexOf(")"),n=e.slice(t,r),i=n.split(":"),o=[i[0],parseInt(i[1],10),parseInt(i[2],10)],a=o[0],s=o[1],l=o[2],u="";try{u=be(a,"utf-8")}catch(h){return""}var c=xe(u,{start:{line:s,column:l}},{highlightCode:!0,linesBelow:0});return ve.dim(n)+"\n"+c+"\n"}((new Error).stack.split("\n").slice(1).find((function(e){return!e.includes("node_modules/")}))):""}var ke=3;function _e(){return"undefined"!==typeof jest&&null!==jest&&(!0===setTimeout._isMockFunction||Object.prototype.hasOwnProperty.call(setTimeout,"clock"))}function je(){if("undefined"===typeof window)throw new Error("Could not find default container");return window.document}function Me(e){if(e.defaultView)return e.defaultView;if(e.ownerDocument&&e.ownerDocument.defaultView)return e.ownerDocument.defaultView;if(e.window)return e.window;throw e.ownerDocument&&null===e.ownerDocument.defaultView?new Error("It looks like the window object is not available for the provided node."):e.then instanceof Function?new Error("It looks like you passed a Promise object instead of a DOM node. Did you do something like `fireEvent.click(screen.findBy...` when you meant to use a `getBy` query `fireEvent.click(screen.getBy...`, or await the findBy query `fireEvent.click(await screen.findBy...`?"):Array.isArray(e)?new Error("It looks like you passed an Array instead of a DOM node. Did you do something like `fireEvent.click(screen.getAllBy...` when you meant to use a `getBy` query `fireEvent.click(screen.getBy...`?"):"function"===typeof e.debug&&"function"===typeof e.logTestingPlaygroundURL?new Error("It looks like you passed a `screen` object. Did you do something like `fireEvent.click(screen, ...` when you meant to use a query, e.g. `fireEvent.click(screen.getBy..., `?"):new Error("The given node is not an Element, the node type is: "+typeof e+".")}function Ce(e){if(!e||"function"!==typeof e.querySelector||"function"!==typeof e.querySelectorAll)throw new TypeError("Expected container to be an Element, a Document or a DocumentFragment but got "+function(e){if("object"===typeof e)return null===e?"null":e.constructor.name;return typeof e}(e)+".")}var Pe=function(){var e;try{var t;e=JSON.parse(null==process||null==(t={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})?void 0:t.COLORS)}catch(r){}return"boolean"===typeof e?e:"undefined"!==typeof process&&void 0!==process.versions&&void 0!==process.versions.node},Te=p.Gr.DOMCollection,Ee=1,Oe=8;function Ae(e){return e.nodeType!==Oe&&(e.nodeType!==Ee||!e.matches(Fe().defaultIgnore))}function Le(e,t,r){if(void 0===r&&(r={}),e||(e=je().body),"number"!==typeof t&&(t="undefined"!==typeof process&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DEBUG_PRINT_LIMIT||7e3),0===t)return"";e.documentElement&&(e=e.documentElement);var n=typeof e;if("object"===n?n=e.constructor.name:e={},!("outerHTML"in e))throw new TypeError("Expected an element or document but got "+n);var i=r,o=i.filterNode,a=void 0===o?Ae:o,s=f(i,te),l=p.WU(e,d({plugins:[ge(a),Te],printFunctionName:!1,highlight:Pe()},s));return void 0!==t&&e.outerHTML.length>t?l.slice(0,t)+"...":l}var Ne=function(){var e=Se();e?console.log(Le.apply(void 0,arguments)+"\n\n"+e):console.log(Le.apply(void 0,arguments))},Re={testIdAttribute:"data-testid",asyncUtilTimeout:1e3,asyncWrapper:function(e){return e()},unstable_advanceTimersWrapper:function(e){return e()},eventWrapper:function(e){return e()},defaultHidden:!1,defaultIgnore:"script, style",showOriginalStackTrace:!1,throwSuggestions:!1,getElementError:function(e,t){var r=Le(t),n=new Error([e,"Ignored nodes: comments, "+Re.defaultIgnore+"\n"+r].filter(Boolean).join("\n\n"));return n.name="TestingLibraryElementError",n},_disableExpensiveErrorDiagnostics:!1,computedStyleSupportsPseudoElements:!1};function De(e){try{return Re._disableExpensiveErrorDiagnostics=!0,e()}finally{Re._disableExpensiveErrorDiagnostics=!1}}function Ie(e){"function"===typeof e&&(e=e(Re)),Re=d(d({},Re),e)}function Fe(){return Re}var Be=["button","meter","output","progress","select","textarea","input"];function Ue(e){return Be.includes(e.nodeName.toLowerCase())?"":e.nodeType===ke?e.textContent:Array.from(e.childNodes).map((function(e){return Ue(e)})).join("")}function ze(e){return"label"===e.tagName.toLowerCase()?Ue(e):e.value||e.textContent}function qe(e){var t;if(void 0!==e.labels)return null!=(t=e.labels)?t:[];if(!function(e){return/BUTTON|METER|OUTPUT|PROGRESS|SELECT|TEXTAREA/.test(e.tagName)||"INPUT"===e.tagName&&"hidden"!==e.getAttribute("type")}(e))return[];var r=e.ownerDocument.querySelectorAll("label");return Array.from(r).filter((function(t){return t.control===e}))}function Ge(e,t,r){var n=(void 0===r?{}:r).selector,i=void 0===n?"*":n,o=t.getAttribute("aria-labelledby"),a=o?o.split(" "):[];return a.length?a.map((function(t){var r=e.querySelector('[id="'+t+'"]');return r?{content:ze(r),formControl:null}:{content:"",formControl:null}})):Array.from(qe(t)).map((function(e){return{content:ze(e),formControl:Array.from(e.querySelectorAll("button, input, meter, output, progress, select, textarea")).filter((function(e){return e.matches(i)}))[0]}}))}function Ve(e){if(null===e||void 0===e)throw new Error("It looks like "+e+" was passed instead of a matcher. Did you do something like getByText("+e+")?")}function He(e,t,r,n){if("string"!==typeof e)return!1;Ve(r);var i=n(e);return"string"===typeof r||"number"===typeof r?i.toLowerCase().includes(r.toString().toLowerCase()):"function"===typeof r?r(i,t):Ke(r,i)}function We(e,t,r,n){if("string"!==typeof e)return!1;Ve(r);var i=n(e);return r instanceof Function?r(i,t):r instanceof RegExp?Ke(r,i):i===String(r)}function Xe(e){var t=void 0===e?{}:e,r=t.trim,n=void 0===r||r,i=t.collapseWhitespace,o=void 0===i||i;return function(e){var t=e;return t=n?t.trim():t,t=o?t.replace(/\s+/g," "):t}}function Ye(e){var t=e.trim,r=e.collapseWhitespace,n=e.normalizer;if(!n)return Xe({trim:t,collapseWhitespace:r});if("undefined"!==typeof t||"undefined"!==typeof r)throw new Error('trim and collapseWhitespace are not supported with a normalizer. If you want to use the default trim and collapseWhitespace logic in your normalizer, use "getDefaultNormalizer({trim, collapseWhitespace})" and compose that into your normalizer');return n}function Ke(e,t){var r=e.test(t);return e.global&&0!==e.lastIndex&&(console.warn("To match all elements we had to reset the lastIndex of the RegExp because the global flag is enabled. We encourage to remove the global flag from the RegExp."),e.lastIndex=0),r}function Ze(e){return e.matches("input[type=submit], input[type=button], input[type=reset]")?e.value:Array.from(e.childNodes).filter((function(e){return e.nodeType===ke&&Boolean(e.textContent)})).map((function(e){return e.textContent})).join("")}var $e=function(e){function t(e){var t=e.attributes;return(void 0===t?[]:t).length}function r(e){var t=e.attributes,r=void 0===t?[]:t,n=r.findIndex((function(e){return e.value&&"type"===e.name&&"text"===e.value}));n>=0&&(r=[].concat((0,l.Z)(r.slice(0,n)),(0,l.Z)(r.slice(n+1))));var i,o=""+(i=d(d({},e),{},{attributes:r})).name+i.attributes.map((function(e){var t=e.name,r=e.value,n=e.constraints;return-1!==(void 0===n?[]:n).indexOf("undefined")?":not(["+t+"])":r?"["+t+'="'+r+'"]':"["+t+"]"})).join("");return function(e){return!(n>=0&&"text"!==e.type)&&e.matches(o)}}var n,i=[],o=c(e.entries());try{for(o.s();!(n=o.n()).done;){var a=(0,s.Z)(n.value,2),u=a[0],h=a[1];i=[].concat((0,l.Z)(i),[{match:r(u),roles:Array.from(h),specificity:t(u)}])}}catch(f){o.e(f)}finally{o.f()}return i.sort((function(e,t){var r=e.specificity;return t.specificity-r}))}(J.Qv);function Je(e){return!0===e.hidden||("true"===e.getAttribute("aria-hidden")||"none"===e.ownerDocument.defaultView.getComputedStyle(e).display)}function Qe(e,t){void 0===t&&(t={});var r=t.isSubtreeInaccessible,n=void 0===r?Je:r;if("hidden"===e.ownerDocument.defaultView.getComputedStyle(e).visibility)return!0;for(var i=e;i;){if(n(i))return!0;i=i.parentElement}return!1}function et(e){var t,r=c($e);try{for(r.s();!(t=r.n()).done;){var n=t.value,i=n.match,o=n.roles;if(i(e))return(0,l.Z)(o)}}catch(a){r.e(a)}finally{r.f()}return[]}function tt(e,t){var r=t.hidden,n=t.includeDescription,i=function(e,t){var r=(void 0===t?{}:t).hidden,n=void 0!==r&&r;return function e(t){return[t].concat((0,l.Z)(Array.from(t.children).reduce((function(t,r){return[].concat((0,l.Z)(t),(0,l.Z)(e(r)))}),[])))}(e).filter((function(e){return!1!==n||!1===Qe(e)})).reduce((function(e,t){return(t.hasAttribute("role")?t.getAttribute("role").split(" ").slice(0,1):et(t)).reduce((function(e,r){return Array.isArray(e[r])?d(d({},e),{},a({},r,[].concat((0,l.Z)(e[r]),[t]))):d(d({},e),{},a({},r,[t]))}),e)}),{})}(e,{hidden:r});return Object.entries(i).filter((function(e){return"generic"!==(0,s.Z)(e,1)[0]})).map((function(e){var t=(0,s.Z)(e,2),r=t[0],i=t[1],o="-".repeat(50);return r+":\n\n"+i.map((function(e){var t='Name "'+$(e,{computedStyleSupportsPseudoElements:Fe().computedStyleSupportsPseudoElements})+'":\n',r=Le(e.cloneNode(!1));return n?""+t+('Description "'+Z(e,{computedStyleSupportsPseudoElements:Fe().computedStyleSupportsPseudoElements})+'":\n')+r:""+t+r})).join("\n\n")+"\n\n"+o})).join("\n")}function rt(e,t){var r=e.getAttribute(t);return"true"===r||"false"!==r&&void 0}var nt=Xe();function it(e){return new RegExp(function(e){return e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")}(e.toLowerCase()),"i")}function ot(e,t,r,n){var i=n.variant,o=n.name,a="",l={},u=[["Role","TestId"].includes(e)?r:it(r)];o&&(l.name=it(o)),"Role"===e&&Qe(t)&&(l.hidden=!0,a="Element is inaccessible. This means that the element and all its children are invisible to screen readers.\n    If you are using the aria-hidden prop, make sure this is the right choice for your case.\n    "),Object.keys(l).length>0&&u.push(l);var c=i+"By"+e;return{queryName:e,queryMethod:c,queryArgs:u,variant:i,warning:a,toString:function(){a&&console.warn(a);var e=u[0],t=u[1];return e="string"===typeof e?"'"+e+"'":e,t=t?", { "+Object.entries(t).map((function(e){var t=(0,s.Z)(e,2);return t[0]+": "+t[1]})).join(", ")+" }":"",c+"("+e+t+")"}}}function at(e,t,r){return r&&(!t||t.toLowerCase()===e.toLowerCase())}function st(e,t,r){var n,i;if(void 0===t&&(t="get"),!e.matches(Fe().defaultIgnore)){var o=null!=(n=e.getAttribute("role"))?n:null==(i=et(e))?void 0:i[0];if("generic"!==o&&at("Role",r,o))return ot("Role",e,o,{variant:t,name:$(e,{computedStyleSupportsPseudoElements:Fe().computedStyleSupportsPseudoElements})});var a=Ge(document,e).map((function(e){return e.content})).join(" ");if(at("LabelText",r,a))return ot("LabelText",e,a,{variant:t});var s=e.getAttribute("placeholder");if(at("PlaceholderText",r,s))return ot("PlaceholderText",e,s,{variant:t});var l=nt(Ze(e));if(at("Text",r,l))return ot("Text",e,l,{variant:t});if(at("DisplayValue",r,e.value))return ot("DisplayValue",e,nt(e.value),{variant:t});var u=e.getAttribute("alt");if(at("AltText",r,u))return ot("AltText",e,u,{variant:t});var c=e.getAttribute("title");if(at("Title",r,c))return ot("Title",e,c,{variant:t});var h=e.getAttribute(Fe().testIdAttribute);return at("TestId",r,h)?ot("TestId",e,h,{variant:t}):void 0}}function lt(e,t){e.stack=t.stack.replace(t.message,e.message)}function ut(e,t){var r=new Error("STACK_TRACE_MESSAGE");return Fe().asyncWrapper((function(){return function(e,t){var r=t.container,o=void 0===r?je():r,a=t.timeout,s=void 0===a?Fe().asyncUtilTimeout:a,l=t.showOriginalStackTrace,u=void 0===l?Fe().showOriginalStackTrace:l,c=t.stackTraceError,h=t.interval,d=void 0===h?50:h,f=t.onTimeout,p=void 0===f?function(e){return e.message=Fe().getElementError(e.message,o).message,e}:f,m=t.mutationObserverOptions,y=void 0===m?{subtree:!0,childList:!0,attributes:!0,characterData:!0}:m;if("function"!==typeof e)throw new TypeError("Received `callback` arg must be a function");return new Promise(function(){var t=(0,i.Z)((0,n.Z)().mark((function t(r,a){var l,h,f,m,g,v,b,x,w,S,k,_,j,M,C,P;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(P=function(){var e;l?(e=l,u||"TestingLibraryElementError"!==e.name||lt(e,c)):(e=new Error("Timed out in waitFor."),u||lt(e,c)),j(p(e),null)},C=function(){if("pending"!==g)try{var t=De(e);"function"===typeof(null==t?void 0:t.then)?(g="pending",t.then((function(e){g="resolved",j(null,e)}),(function(e){g="rejected",l=e}))):j(null,t)}catch(S){l=S}},M=function(){if(_e()){var e=new Error("Changed from using real timers to fake timers while using waitFor. This is not allowed and will result in very strange behavior. Please ensure you're awaiting all async things your test is doing before changing to fake timers. For more info, please go to https://github.com/testing-library/dom-testing-library/issues/830");return u||lt(e,c),a(e)}return C()},j=function(e,t){m=!0,clearTimeout(v),b||(clearInterval(h),f.disconnect()),e?a(e):r(t)},m=!1,g="idle",v=setTimeout(P,s),!(b=_e())){t.next=27;break}x=Fe(),w=x.unstable_advanceTimersWrapper,C();case 11:if(m){t.next=25;break}if(_e()){t.next=17;break}return S=new Error("Changed from using fake timers to real timers while using waitFor. This is not allowed and will result in very strange behavior. Please ensure you're awaiting all async things your test is doing before changing to real timers. For more info, please go to https://github.com/testing-library/dom-testing-library/issues/830"),u||lt(S,c),a(S),t.abrupt("return");case 17:if(w((function(){jest.advanceTimersByTime(d)})),C(),!m){t.next=21;break}return t.abrupt("break",25);case 21:return t.next=23,w((0,i.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){setTimeout(e,0),jest.advanceTimersByTime(0)}));case 2:case"end":return e.stop()}}),e)}))));case 23:t.next=11;break;case 25:t.next=40;break;case 27:t.prev=27,Ce(o),t.next=35;break;case 31:return t.prev=31,t.t0=t.catch(27),a(t.t0),t.abrupt("return");case 35:h=setInterval(M,d),k=Me(o),_=k.MutationObserver,(f=new _(M)).observe(o,y),C();case 40:case"end":return t.stop()}}),t,null,[[27,31]])})));return function(e,r){return t.apply(this,arguments)}}())}(e,d({stackTraceError:r},t))}))}function ct(e,t){return Fe().getElementError(e,t)}function ht(e,t){return ct(e+"\n\n(If this is intentional, then use the `*AllBy*` variant of the query (like `queryAllByText`, `getAllByText`, or `findAllByText`)).",t)}function dt(e,t,r,n){var i=void 0===n?{}:n,o=i.exact,a=void 0===o||o,s=i.collapseWhitespace,l=i.trim,u=i.normalizer,c=a?We:He,h=Ye({collapseWhitespace:s,trim:l,normalizer:u});return Array.from(t.querySelectorAll("["+e+"]")).filter((function(t){return c(t.getAttribute(e),t,r,h)}))}function ft(e,t){return function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var a=e.apply(void 0,[r].concat(i));if(a.length>1){var s=a.map((function(e){return ct(null,e).message})).join("\n\n");throw ht(t.apply(void 0,[r].concat(i))+"\n\nHere are the matching elements:\n\n"+s,r)}return a[0]||null}}function pt(e,t){return Fe().getElementError("A better query is available, try this:\n"+e.toString()+"\n",t)}function mt(e,t){return function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var a=e.apply(void 0,[r].concat(i));if(!a.length)throw Fe().getElementError(t.apply(void 0,[r].concat(i)),r);return a}}function yt(e){return function(t,r,n,i){return ut((function(){return e(t,r,n)}),d({container:t},i))}}var gt=function(e,t,r){return function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];var l=e.apply(void 0,[n].concat(o)),u=o.slice(-1),c=(0,s.Z)(u,1)[0],h=(void 0===c?{}:c).suggest,d=void 0===h?Fe().throwSuggestions:h;if(l&&d){var f=st(l,r);if(f&&!t.endsWith(f.queryName))throw pt(f.toString(),n)}return l}},vt=function(e,t,r){return function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];var u=e.apply(void 0,[n].concat(o)),c=o.slice(-1),h=(0,s.Z)(c,1)[0],d=(void 0===h?{}:h).suggest,f=void 0===d?Fe().throwSuggestions:d;if(u.length&&f){var p=(0,l.Z)(new Set(u.map((function(e){var t;return null==(t=st(e,r))?void 0:t.toString()}))));if(1===p.length&&!t.endsWith(st(u[0],r).queryName))throw pt(p[0],n)}return u}};function bt(e,t,r){var n=gt(ft(e,t),e.name,"query"),i=mt(e,r),o=ft(i,t),a=gt(o,e.name,"get");return[n,vt(i,e.name.replace("query","get"),"getAll"),a,yt(vt(i,e.name,"findAll")),yt(gt(o,e.name,"find"))]}var xt=function(e,t,r){var n=void 0===r?{}:r,i=n.exact,o=void 0===i||i,a=n.trim,s=n.collapseWhitespace,l=n.normalizer,u=o?We:He,c=Ye({collapseWhitespace:s,trim:a,normalizer:l}),h=function(e){return Array.from(e.querySelectorAll("label,input")).map((function(e){return{node:e,textToMatch:ze(e)}})).filter((function(e){return null!==e.textToMatch}))}(e);return h.filter((function(e){var r=e.node,n=e.textToMatch;return u(n,r,t,c)})).map((function(e){return e.node}))},wt=function(e,t,r){var n=void 0===r?{}:r,i=n.selector,o=void 0===i?"*":i,a=n.exact,s=void 0===a||a,u=n.collapseWhitespace,c=n.trim,h=n.normalizer;Ce(e);var d=s?We:He,f=Ye({collapseWhitespace:u,trim:c,normalizer:h}),p=Array.from(e.querySelectorAll("*")).filter((function(e){return qe(e).length||e.hasAttribute("aria-labelledby")})).reduce((function(r,n){var i=Ge(e,n,{selector:o});i.filter((function(e){return Boolean(e.formControl)})).forEach((function(e){d(e.content,e.formControl,t,f)&&e.formControl&&r.push(e.formControl)}));var a=i.filter((function(e){return Boolean(e.content)})).map((function(e){return e.content}));return d(a.join(" "),n,t,f)&&r.push(n),a.length>1&&a.forEach((function(e,i){d(e,n,t,f)&&r.push(n);var o=(0,l.Z)(a);o.splice(i,1),o.length>1&&d(o.join(" "),n,t,f)&&r.push(n)})),r}),[]).concat(dt("aria-label",e,t,{exact:s,normalizer:f}));return Array.from(new Set(p)).filter((function(e){return e.matches(o)}))},St=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];var o=wt.apply(void 0,[e,t].concat(n));if(!o.length){var a=xt.apply(void 0,[e,t].concat(n));if(a.length){var s=a.map((function(t){return function(e,t){var r=t.getAttribute("for");if(!r)return null;var n=e.querySelector('[id="'+r+'"]');return n?n.tagName.toLowerCase():null}(e,t)})).filter((function(e){return!!e}));throw s.length?Fe().getElementError(s.map((function(e){return"Found a label with the text of: "+t+", however the element associated with this label (<"+e+" />) is non-labellable [https://html.spec.whatwg.org/multipage/forms.html#category-label]. If you really need to label a <"+e+" />, you can use aria-label or aria-labelledby instead."})).join("\n\n"),e):Fe().getElementError("Found a label with the text of: "+t+', however no form control was found associated to that label. Make sure you\'re using the "for" attribute or "aria-labelledby" attribute correctly.',e)}throw Fe().getElementError("Unable to find a label with the text of: "+t,e)}return o};var kt=function(e,t){return"Found multiple elements with the text of: "+t},_t=gt(ft(wt,kt),wt.name,"query"),jt=ft(St,kt),Mt=yt(vt(St,St.name,"findAll")),Ct=yt(gt(jt,St.name,"find")),Pt=vt(St,St.name,"getAll"),Tt=gt(jt,St.name,"get"),Et=vt(wt,wt.name,"queryAll"),Ot=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Ce(t[0]),dt.apply(void 0,["placeholder"].concat(t))},At=vt(Ot,Ot.name,"queryAll"),Lt=bt(Ot,(function(e,t){return"Found multiple elements with the placeholder text of: "+t}),(function(e,t){return"Unable to find an element with the placeholder text of: "+t})),Nt=(0,s.Z)(Lt,5),Rt=Nt[0],Dt=Nt[1],It=Nt[2],Ft=Nt[3],Bt=Nt[4],Ut=function(e,t,r){var n=void 0===r?{}:r,i=n.selector,o=void 0===i?"*":i,a=n.exact,s=void 0===a||a,u=n.collapseWhitespace,c=n.trim,h=n.ignore,d=void 0===h?Fe().defaultIgnore:h,f=n.normalizer;Ce(e);var p=s?We:He,m=Ye({collapseWhitespace:u,trim:c,normalizer:f}),y=[];return"function"===typeof e.matches&&e.matches(o)&&(y=[e]),[].concat((0,l.Z)(y),(0,l.Z)(Array.from(e.querySelectorAll(o)))).filter((function(e){return!d||!e.matches(d)})).filter((function(e){return p(Ze(e),e,t,m)}))},zt=vt(Ut,Ut.name,"queryAll"),qt=bt(Ut,(function(e,t){return"Found multiple elements with the text: "+t}),(function(e,t,r){void 0===r&&(r={});var n=r,i=n.collapseWhitespace,o=n.trim,a=n.normalizer,s=n.selector,l=Ye({collapseWhitespace:i,trim:o,normalizer:a})(t.toString());return"Unable to find an element with the text: "+(l!==t.toString()?l+" (normalized from '"+t+"')":t)+("*"!==(null!=s?s:"*")?", which matches selector '"+s+"'":"")+". This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible."})),Gt=(0,s.Z)(qt,5),Vt=Gt[0],Ht=Gt[1],Wt=Gt[2],Xt=Gt[3],Yt=Gt[4],Kt=function(e,t,r){var n=void 0===r?{}:r,i=n.exact,o=void 0===i||i,a=n.collapseWhitespace,s=n.trim,l=n.normalizer;Ce(e);var u=o?We:He,c=Ye({collapseWhitespace:a,trim:s,normalizer:l});return Array.from(e.querySelectorAll("input,textarea,select")).filter((function(e){return"SELECT"===e.tagName?Array.from(e.options).filter((function(e){return e.selected})).some((function(e){return u(Ze(e),e,t,c)})):u(e.value,e,t,c)}))},Zt=vt(Kt,Kt.name,"queryAll"),$t=bt(Kt,(function(e,t){return"Found multiple elements with the display value: "+t+"."}),(function(e,t){return"Unable to find an element with the display value: "+t+"."})),Jt=(0,s.Z)($t,5),Qt=Jt[0],er=Jt[1],tr=Jt[2],rr=Jt[3],nr=Jt[4],ir=/^(img|input|area|.+-.+)$/i,or=function(e,t,r){return void 0===r&&(r={}),Ce(e),dt("alt",e,t,r).filter((function(e){return ir.test(e.tagName)}))},ar=vt(or,or.name,"queryAll"),sr=bt(or,(function(e,t){return"Found multiple elements with the alt text: "+t}),(function(e,t){return"Unable to find an element with the alt text: "+t})),lr=(0,s.Z)(sr,5),ur=lr[0],cr=lr[1],hr=lr[2],dr=lr[3],fr=lr[4],pr=function(e,t,r){var n=void 0===r?{}:r,i=n.exact,o=void 0===i||i,a=n.collapseWhitespace,s=n.trim,l=n.normalizer;Ce(e);var u=o?We:He,c=Ye({collapseWhitespace:a,trim:s,normalizer:l});return Array.from(e.querySelectorAll("[title], svg > title")).filter((function(e){return u(e.getAttribute("title"),e,t,c)||function(e){var t;return"title"===e.tagName.toLowerCase()&&"svg"===(null==(t=e.parentElement)?void 0:t.tagName.toLowerCase())}(e)&&u(Ze(e),e,t,c)}))},mr=vt(pr,pr.name,"queryAll"),yr=bt(pr,(function(e,t){return"Found multiple elements with the title: "+t+"."}),(function(e,t){return"Unable to find an element with the title: "+t+"."})),gr=(0,s.Z)(yr,5),vr=gr[0],br=gr[1],xr=gr[2],wr=gr[3],Sr=gr[4];function kr(e,t,r){var n=void 0===r?{}:r,i=n.exact,o=void 0===i||i,a=n.collapseWhitespace,l=n.hidden,u=void 0===l?Fe().defaultHidden:l,c=n.name,h=n.description,d=n.trim,f=n.normalizer,p=n.queryFallbacks,m=void 0!==p&&p,y=n.selected,g=n.checked,v=n.pressed,b=n.current,x=n.level,w=n.expanded;Ce(e);var S,k,_,j,M,C=o?We:He,P=Ye({collapseWhitespace:a,trim:d,normalizer:f});if(void 0!==y&&void 0===(null==(S=J.uJ.get(t))?void 0:S.props["aria-selected"]))throw new Error('"aria-selected" is not supported on role "'+t+'".');if(void 0!==g&&void 0===(null==(k=J.uJ.get(t))?void 0:k.props["aria-checked"]))throw new Error('"aria-checked" is not supported on role "'+t+'".');if(void 0!==v&&void 0===(null==(_=J.uJ.get(t))?void 0:_.props["aria-pressed"]))throw new Error('"aria-pressed" is not supported on role "'+t+'".');if(void 0!==b&&void 0===(null==(j=J.uJ.get(t))?void 0:j.props["aria-current"]))throw new Error('"aria-current" is not supported on role "'+t+'".');if(void 0!==x&&"heading"!==t)throw new Error('Role "'+t+'" cannot have "level" property.');if(void 0!==w&&void 0===(null==(M=J.uJ.get(t))?void 0:M.props["aria-expanded"]))throw new Error('"aria-expanded" is not supported on role "'+t+'".');var T=new WeakMap;function E(e){return T.has(e)||T.set(e,Je(e)),T.get(e)}return Array.from(e.querySelectorAll(function(e,t,r){var n;if("string"!==typeof e)return"*";var i=t&&!r?'*[role~="'+e+'"]':"*[role]",o=null!=(n=J.UN.get(e))?n:new Set,a=new Set(Array.from(o).map((function(e){return e.name})));return[i].concat(Array.from(a)).join(",")}(t,o,f?P:void 0))).filter((function(e){if(e.hasAttribute("role")){var r=e.getAttribute("role");if(m)return r.split(" ").filter(Boolean).some((function(r){return C(r,e,t,P)}));if(f)return C(r,e,t,P);var n=r.split(" "),i=(0,s.Z)(n,1)[0];return C(i,e,t,P)}return et(e).some((function(r){return C(r,e,t,P)}))})).filter((function(e){return void 0!==y?y===function(e){return"OPTION"===e.tagName?e.selected:rt(e,"aria-selected")}(e):void 0!==g?g===function(e){if(!("indeterminate"in e)||!e.indeterminate)return"checked"in e?e.checked:rt(e,"aria-checked")}(e):void 0!==v?v===function(e){return rt(e,"aria-pressed")}(e):void 0!==b?b===function(e){var t,r;return null!=(t=null!=(r=rt(e,"aria-current"))?r:e.getAttribute("aria-current"))&&t}(e):void 0!==w?w===function(e){return rt(e,"aria-expanded")}(e):void 0===x||x===function(e){return e.getAttribute("aria-level")&&Number(e.getAttribute("aria-level"))||{H1:1,H2:2,H3:3,H4:4,H5:5,H6:6}[e.tagName]}(e)})).filter((function(e){return void 0===c||We($(e,{computedStyleSupportsPseudoElements:Fe().computedStyleSupportsPseudoElements}),e,c,(function(e){return e}))})).filter((function(e){return void 0===h||We(Z(e,{computedStyleSupportsPseudoElements:Fe().computedStyleSupportsPseudoElements}),e,h,(function(e){return e}))})).filter((function(e){return!1!==u||!1===Qe(e,{isSubtreeInaccessible:E})}))}var _r=function(e){return void 0===e?"":"string"===typeof e?' and name "'+e+'"':" and name `"+e+"`"},jr=vt(kr,kr.name,"queryAll"),Mr=bt(kr,(function(e,t,r){var n=(void 0===r?{}:r).name;return'Found multiple elements with the role "'+t+'"'+_r(n)}),(function(e,t,r){var n=void 0===r?{}:r,i=n.hidden,o=void 0===i?Fe().defaultHidden:i,a=n.name,s=n.description;if(Fe()._disableExpensiveErrorDiagnostics)return'Unable to find role="'+t+'"'+_r(a);var l,u="";Array.from(e.children).forEach((function(e){u+=tt(e,{hidden:o,includeDescription:void 0!==s})})),l=0===u.length?!1===o?"There are no accessible roles. But there might be some inaccessible roles. If you wish to access them, then set the `hidden` option to `true`. Learn more about this here: https://testing-library.com/docs/dom-testing-library/api-queries#byrole":"There are no available roles.":("\nHere are the "+(!1===o?"accessible":"available")+" roles:\n\n  "+u.replace(/\n/g,"\n  ").replace(/\n\s\s\n/g,"\n\n")+"\n").trim();return("\nUnable to find an "+(!1===o?"accessible ":"")+'element with the role "'+t+'"'+(void 0===a?"":"string"===typeof a?' and name "'+a+'"':" and name `"+a+"`")+(void 0===s?"":"string"===typeof s?' and description "'+s+'"':" and description `"+s+"`")+"\n\n"+l).trim()})),Cr=(0,s.Z)(Mr,5),Pr=Cr[0],Tr=Cr[1],Er=Cr[2],Or=Cr[3],Ar=Cr[4],Lr=function(){return Fe().testIdAttribute},Nr=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Ce(t[0]),dt.apply(void 0,[Lr()].concat(t))},Rr=vt(Nr,Nr.name,"queryAll"),Dr=bt(Nr,(function(e,t){return"Found multiple elements by: ["+Lr()+'="'+t+'"]'}),(function(e,t){return"Unable to find an element by: ["+Lr()+'="'+t+'"]'})),Ir=(0,s.Z)(Dr,5),Fr=Ir[0],Br=Ir[1],Ur=Ir[2],zr=Ir[3],qr=Ir[4],Gr=Object.freeze({__proto__:null,queryAllByLabelText:Et,queryByLabelText:_t,getAllByLabelText:Pt,getByLabelText:Tt,findAllByLabelText:Mt,findByLabelText:Ct,queryByPlaceholderText:Rt,queryAllByPlaceholderText:At,getByPlaceholderText:It,getAllByPlaceholderText:Dt,findAllByPlaceholderText:Ft,findByPlaceholderText:Bt,queryByText:Vt,queryAllByText:zt,getByText:Wt,getAllByText:Ht,findAllByText:Xt,findByText:Yt,queryByDisplayValue:Qt,queryAllByDisplayValue:Zt,getByDisplayValue:tr,getAllByDisplayValue:er,findAllByDisplayValue:rr,findByDisplayValue:nr,queryByAltText:ur,queryAllByAltText:ar,getByAltText:hr,getAllByAltText:cr,findAllByAltText:dr,findByAltText:fr,queryByTitle:vr,queryAllByTitle:mr,getByTitle:xr,getAllByTitle:br,findAllByTitle:wr,findByTitle:Sr,queryByRole:Pr,queryAllByRole:jr,getAllByRole:Tr,getByRole:Er,findAllByRole:Or,findByRole:Ar,queryByTestId:Fr,queryAllByTestId:Rr,getByTestId:Ur,getAllByTestId:Br,findAllByTestId:zr,findByTestId:qr});var Vr={copy:{EventType:"ClipboardEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},cut:{EventType:"ClipboardEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},paste:{EventType:"ClipboardEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},compositionEnd:{EventType:"CompositionEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},compositionStart:{EventType:"CompositionEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},compositionUpdate:{EventType:"CompositionEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},keyDown:{EventType:"KeyboardEvent",defaultInit:{bubbles:!0,cancelable:!0,charCode:0,composed:!0}},keyPress:{EventType:"KeyboardEvent",defaultInit:{bubbles:!0,cancelable:!0,charCode:0,composed:!0}},keyUp:{EventType:"KeyboardEvent",defaultInit:{bubbles:!0,cancelable:!0,charCode:0,composed:!0}},focus:{EventType:"FocusEvent",defaultInit:{bubbles:!1,cancelable:!1,composed:!0}},blur:{EventType:"FocusEvent",defaultInit:{bubbles:!1,cancelable:!1,composed:!0}},focusIn:{EventType:"FocusEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},focusOut:{EventType:"FocusEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},change:{EventType:"Event",defaultInit:{bubbles:!0,cancelable:!1}},input:{EventType:"InputEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},invalid:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!0}},submit:{EventType:"Event",defaultInit:{bubbles:!0,cancelable:!0}},reset:{EventType:"Event",defaultInit:{bubbles:!0,cancelable:!0}},click:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,button:0,composed:!0}},contextMenu:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},dblClick:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},drag:{EventType:"DragEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},dragEnd:{EventType:"DragEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},dragEnter:{EventType:"DragEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},dragExit:{EventType:"DragEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},dragLeave:{EventType:"DragEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},dragOver:{EventType:"DragEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},dragStart:{EventType:"DragEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},drop:{EventType:"DragEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},mouseDown:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},mouseEnter:{EventType:"MouseEvent",defaultInit:{bubbles:!1,cancelable:!1,composed:!0}},mouseLeave:{EventType:"MouseEvent",defaultInit:{bubbles:!1,cancelable:!1,composed:!0}},mouseMove:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},mouseOut:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},mouseOver:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},mouseUp:{EventType:"MouseEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},select:{EventType:"Event",defaultInit:{bubbles:!0,cancelable:!1}},touchCancel:{EventType:"TouchEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},touchEnd:{EventType:"TouchEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},touchMove:{EventType:"TouchEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},touchStart:{EventType:"TouchEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},resize:{EventType:"UIEvent",defaultInit:{bubbles:!1,cancelable:!1}},scroll:{EventType:"UIEvent",defaultInit:{bubbles:!1,cancelable:!1}},wheel:{EventType:"WheelEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},abort:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},canPlay:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},canPlayThrough:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},durationChange:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},emptied:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},encrypted:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},ended:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},loadedData:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},loadedMetadata:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},loadStart:{EventType:"ProgressEvent",defaultInit:{bubbles:!1,cancelable:!1}},pause:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},play:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},playing:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},progress:{EventType:"ProgressEvent",defaultInit:{bubbles:!1,cancelable:!1}},rateChange:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},seeked:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},seeking:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},stalled:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},suspend:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},timeUpdate:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},volumeChange:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},waiting:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},load:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},error:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},animationStart:{EventType:"AnimationEvent",defaultInit:{bubbles:!0,cancelable:!1}},animationEnd:{EventType:"AnimationEvent",defaultInit:{bubbles:!0,cancelable:!1}},animationIteration:{EventType:"AnimationEvent",defaultInit:{bubbles:!0,cancelable:!1}},transitionCancel:{EventType:"TransitionEvent",defaultInit:{bubbles:!0,cancelable:!1}},transitionEnd:{EventType:"TransitionEvent",defaultInit:{bubbles:!0,cancelable:!0}},transitionRun:{EventType:"TransitionEvent",defaultInit:{bubbles:!0,cancelable:!1}},transitionStart:{EventType:"TransitionEvent",defaultInit:{bubbles:!0,cancelable:!1}},pointerOver:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointerEnter:{EventType:"PointerEvent",defaultInit:{bubbles:!1,cancelable:!1}},pointerDown:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointerMove:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointerUp:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointerCancel:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},pointerOut:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!0,composed:!0}},pointerLeave:{EventType:"PointerEvent",defaultInit:{bubbles:!1,cancelable:!1}},gotPointerCapture:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},lostPointerCapture:{EventType:"PointerEvent",defaultInit:{bubbles:!0,cancelable:!1,composed:!0}},popState:{EventType:"PopStateEvent",defaultInit:{bubbles:!0,cancelable:!1}},offline:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}},online:{EventType:"Event",defaultInit:{bubbles:!1,cancelable:!1}}},Hr={doubleClick:"dblClick"};function Wr(e,t){return Fe().eventWrapper((function(){if(!t)throw new Error("Unable to fire an event - please provide an event object.");if(!e)throw new Error('Unable to fire a "'+t.type+'" event - please provide a DOM element.');return e.dispatchEvent(t)}))}function Xr(e,t,r,n){var i=void 0===n?{}:n,o=i.EventType,a=void 0===o?"Event":o,s=i.defaultInit,l=void 0===s?{}:s;if(!t)throw new Error('Unable to fire a "'+e+'" event - please provide a DOM element.');var u=d(d({},l),r),c=u.target,h=void 0===c?{}:c,p=h.value,m=h.files,y=f(h,re);void 0!==p&&function(e,t){var r=(Object.getOwnPropertyDescriptor(e,"value")||{}).set,n=Object.getPrototypeOf(e),i=(Object.getOwnPropertyDescriptor(n,"value")||{}).set;if(i&&r!==i)i.call(e,t);else{if(!r)throw new Error("The given element does not have a value setter");r.call(e,t)}}(t,p),void 0!==m&&Object.defineProperty(t,"files",{configurable:!0,enumerable:!0,writable:!0,value:m}),Object.assign(t,y);var g,v=Me(t),b=v[a]||v.Event;if("function"===typeof b)g=new b(e,u);else{g=v.document.createEvent(a);var x=u.bubbles,w=u.cancelable,S=u.detail,k=f(u,ne);g.initEvent(e,x,w,S),Object.keys(k).forEach((function(e){g[e]=k[e]}))}return["dataTransfer","clipboardData"].forEach((function(e){var t=u[e];"object"===typeof t&&("function"===typeof v.DataTransfer?Object.defineProperty(g,e,{value:Object.getOwnPropertyNames(t).reduce((function(e,r){return Object.defineProperty(e,r,{value:t[r]}),e}),new v.DataTransfer)}):Object.defineProperty(g,e,{value:t}))})),g}function Yr(e){return"https://testing-playground.com/#markup="+(t=e,ee().compressToEncodedURIComponent(t.replace(/[ \t]*[\n][ \t]*/g,"\n")));var t}Object.keys(Vr).forEach((function(e){var t=Vr[e],r=t.EventType,n=t.defaultInit,i=e.toLowerCase();Xr[e]=function(e,t){return Xr(i,e,t,{EventType:r,defaultInit:n})},Wr[e]=function(t,r){return Wr(t,Xr[e](t,r))}})),Object.keys(Hr).forEach((function(e){var t=Hr[e];Wr[e]=function(){return Wr[t].apply(Wr,arguments)}}));var Kr={debug:function(e,t,r){return Array.isArray(e)?e.forEach((function(e){return Ne(e,t,r)})):Ne(e,t,r)},logTestingPlaygroundURL:function(e){if(void 0===e&&(e=je().body),e&&"innerHTML"in e){if(e.innerHTML){var t=Yr(e.innerHTML);return console.log("Open this URL in your browser\n\n"+t),t}console.log("The provided element doesn't have any children.")}else console.log("The element you're providing isn't a valid DOM element.")}};"undefined"!==typeof document&&document.body?function(e,t,r){void 0===t&&(t=Gr),void 0===r&&(r={}),Object.keys(t).reduce((function(r,n){var i=t[n];return r[n]=i.bind(null,e),r}),r)}(document.body,Gr,Kr):Object.keys(Gr).reduce((function(e,t){return e[t]=function(){throw new TypeError("For queries bound to document.body a global document has to be available... Learn more: https://testing-library.com/s/screen-global-error")},e}),Kr)},7251:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.printIteratorEntries=function(e,t,r,n,i,o){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:": ",s="",l=e.next();if(!l.done){s+=t.spacingOuter;for(var u=r+t.indent;!l.done;){s+=u+o(l.value[0],t,u,n,i)+a+o(l.value[1],t,u,n,i),(l=e.next()).done?t.min||(s+=","):s+=","+t.spacingInner}s+=t.spacingOuter+r}return s},t.printIteratorValues=function(e,t,r,n,i,o){var a="",s=e.next();if(!s.done){a+=t.spacingOuter;for(var l=r+t.indent;!s.done;)a+=l+o(s.value,t,l,n,i),(s=e.next()).done?t.min||(a+=","):a+=","+t.spacingInner;a+=t.spacingOuter+r}return a},t.printListItems=function(e,t,r,n,i,o){var a="";if(e.length){a+=t.spacingOuter;for(var s=r+t.indent,l=0;l<e.length;l++)a+=s,l in e&&(a+=o(e[l],t,s,n,i)),l<e.length-1?a+=","+t.spacingInner:t.min||(a+=",");a+=t.spacingOuter+r}return a},t.printObjectProperties=function(e,t,n,i,o,a){var s="",l=r(e,t.compareKeys);if(l.length){s+=t.spacingOuter;for(var u=n+t.indent,c=0;c<l.length;c++){var h=l[c];s+=u+a(h,t,u,i,o)+": "+a(e[h],t,u,i,o),c<l.length-1?s+=","+t.spacingInner:t.min||(s+=",")}s+=t.spacingOuter+n}return s};var r=function(e,t){var r=Object.keys(e).sort(t);return Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach((function(t){Object.getOwnPropertyDescriptor(e,t).enumerable&&r.push(t)})),r}},4453:function(e,t,r){"use strict";var n=r(9728).default,i=r(6690).default,o=r(1655).default,a=r(6389).default,s=r(3496).default;t.WU=G,t.Gr=void 0;var l=g(r(4428)),u=r(7251),c=g(r(4670)),h=g(r(4278)),d=g(r(6620)),f=g(r(866)),p=g(r(7297)),m=g(r(5848)),y=g(r(4222));function g(e){return e&&e.__esModule?e:{default:e}}var v=Object.prototype.toString,b=Date.prototype.toISOString,x=Error.prototype.toString,w=RegExp.prototype.toString,S=function(e){return"function"===typeof e.constructor&&e.constructor.name||"Object"},k=function(e){return"undefined"!==typeof window&&e===window},_=/^Symbol\((.*)\)(.*)$/,j=/\n/gi,M=function(e){o(r,e);var t=a(r);function r(e,n){var o;return i(this,r),(o=t.call(this,e)).stack=n,o.name=o.constructor.name,o}return n(r)}(s(Error));function C(e,t){return t?"[Function "+(e.name||"anonymous")+"]":"[Function]"}function P(e){return String(e).replace(_,"Symbol($1)")}function T(e){return"["+x.call(e)+"]"}function E(e,t,r,n){if(!0===e||!1===e)return""+e;if(void 0===e)return"undefined";if(null===e)return"null";var i=typeof e;if("number"===i)return function(e){return Object.is(e,-0)?"-0":String(e)}(e);if("bigint"===i)return function(e){return String("".concat(e,"n"))}(e);if("string"===i)return n?'"'+e.replace(/"|\\/g,"\\$&")+'"':'"'+e+'"';if("function"===i)return C(e,t);if("symbol"===i)return P(e);var o=v.call(e);return"[object WeakMap]"===o?"WeakMap {}":"[object WeakSet]"===o?"WeakSet {}":"[object Function]"===o||"[object GeneratorFunction]"===o?C(e,t):"[object Symbol]"===o?P(e):"[object Date]"===o?isNaN(+e)?"Date { NaN }":b.call(e):"[object Error]"===o?T(e):"[object RegExp]"===o?r?w.call(e).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&"):w.call(e):e instanceof Error?T(e):null}function O(e,t,r,n,i,o){if(-1!==i.indexOf(e))return"[Circular]";(i=i.slice()).push(e);var a=++n>t.maxDepth,s=t.min;if(t.callToJSON&&!a&&e.toJSON&&"function"===typeof e.toJSON&&!o)return N(e.toJSON(),t,r,n,i,!0);var l=v.call(e);return"[object Arguments]"===l?a?"[Arguments]":(s?"":"Arguments ")+"["+(0,u.printListItems)(e,t,r,n,i,N)+"]":function(e){return"[object Array]"===e||"[object ArrayBuffer]"===e||"[object DataView]"===e||"[object Float32Array]"===e||"[object Float64Array]"===e||"[object Int8Array]"===e||"[object Int16Array]"===e||"[object Int32Array]"===e||"[object Uint8Array]"===e||"[object Uint8ClampedArray]"===e||"[object Uint16Array]"===e||"[object Uint32Array]"===e}(l)?a?"["+e.constructor.name+"]":(s?"":t.printBasicPrototype||"Array"!==e.constructor.name?e.constructor.name+" ":"")+"["+(0,u.printListItems)(e,t,r,n,i,N)+"]":"[object Map]"===l?a?"[Map]":"Map {"+(0,u.printIteratorEntries)(e.entries(),t,r,n,i,N," => ")+"}":"[object Set]"===l?a?"[Set]":"Set {"+(0,u.printIteratorValues)(e.values(),t,r,n,i,N)+"}":a||k(e)?"["+S(e)+"]":(s?"":t.printBasicPrototype||"Object"!==S(e)?S(e)+" ":"")+"{"+(0,u.printObjectProperties)(e,t,r,n,i,N)+"}"}function A(e,t,r,n,i,o){var a;try{a=function(e){return null!=e.serialize}(e)?e.serialize(t,r,n,i,o,N):e.print(t,(function(e){return N(e,r,n,i,o)}),(function(e){var t=n+r.indent;return t+e.replace(j,"\n"+t)}),{edgeSpacing:r.spacingOuter,min:r.min,spacing:r.spacingInner},r.colors)}catch(s){throw new M(s.message,s.stack)}if("string"!==typeof a)throw new Error('pretty-format: Plugin must return type "string" but instead returned "'.concat(typeof a,'".'));return a}function L(e,t){for(var r=0;r<e.length;r++)try{if(e[r].test(t))return e[r]}catch(n){throw new M(n.message,n.stack)}return null}function N(e,t,r,n,i,o){var a=L(t.plugins,e);if(null!==a)return A(a,e,t,r,n,i);var s=E(e,t.printFunctionName,t.escapeRegex,t.escapeString);return null!==s?s:O(e,t,r,n,i,o)}var R={comment:"gray",content:"reset",prop:"yellow",tag:"cyan",value:"green"},D=Object.keys(R),I={callToJSON:!0,compareKeys:void 0,escapeRegex:!1,escapeString:!0,highlight:!1,indent:2,maxDepth:1/0,min:!1,plugins:[],printBasicPrototype:!0,printFunctionName:!0,theme:R};var F=function(e){return D.reduce((function(t,r){var n=e.theme&&void 0!==e.theme[r]?e.theme[r]:R[r],i=n&&l.default[n];if(!i||"string"!==typeof i.close||"string"!==typeof i.open)throw new Error('pretty-format: Option "theme" has a key "'.concat(r,'" whose value "').concat(n,'" is undefined in ansi-styles.'));return t[r]=i,t}),Object.create(null))},B=function(e){return e&&void 0!==e.printFunctionName?e.printFunctionName:I.printFunctionName},U=function(e){return e&&void 0!==e.escapeRegex?e.escapeRegex:I.escapeRegex},z=function(e){return e&&void 0!==e.escapeString?e.escapeString:I.escapeString},q=function(e){var t,r;return{callToJSON:e&&void 0!==e.callToJSON?e.callToJSON:I.callToJSON,colors:e&&e.highlight?F(e):D.reduce((function(e,t){return e[t]={close:"",open:""},e}),Object.create(null)),compareKeys:e&&"function"===typeof e.compareKeys?e.compareKeys:I.compareKeys,escapeRegex:U(e),escapeString:z(e),indent:e&&e.min?"":(r=e&&void 0!==e.indent?e.indent:I.indent,new Array(r+1).join(" ")),maxDepth:e&&void 0!==e.maxDepth?e.maxDepth:I.maxDepth,min:e&&void 0!==e.min?e.min:I.min,plugins:e&&void 0!==e.plugins?e.plugins:I.plugins,printBasicPrototype:null===(t=null===e||void 0===e?void 0:e.printBasicPrototype)||void 0===t||t,printFunctionName:B(e),spacingInner:e&&e.min?" ":"\n",spacingOuter:e&&e.min?"":"\n"}};function G(e,t){if(t&&(function(e){if(Object.keys(e).forEach((function(e){if(!I.hasOwnProperty(e))throw new Error('pretty-format: Unknown option "'.concat(e,'".'))})),e.min&&void 0!==e.indent&&0!==e.indent)throw new Error('pretty-format: Options "min" and "indent" cannot be used together.');if(void 0!==e.theme){if(null===e.theme)throw new Error('pretty-format: Option "theme" must not be null.');if("object"!==typeof e.theme)throw new Error('pretty-format: Option "theme" must be of type "object" but instead received "'.concat(typeof e.theme,'".'))}}(t),t.plugins)){var r=L(t.plugins,e);if(null!==r)return A(r,e,q(t),"",0,[])}var n=E(e,B(t),U(t),z(t));return null!==n?n:O(e,q(t),"",0,[])}var V={AsymmetricMatcher:c.default,ConvertAnsi:h.default,DOMCollection:d.default,DOMElement:f.default,Immutable:p.default,ReactElement:m.default,ReactTestComponent:y.default};t.Gr=V},4670:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.test=t.serialize=t.default=void 0;var n=r(7251),i="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof i?i:"undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")(),o=i["jest-symbol-do-not-touch"]||i.Symbol,a="function"===typeof o&&o.for?o.for("jest.asymmetricMatcher"):1267621,s=" ",l=function(e,t,r,i,o,a){var l=e.toString();return"ArrayContaining"===l||"ArrayNotContaining"===l?++i>t.maxDepth?"["+l+"]":l+s+"["+(0,n.printListItems)(e.sample,t,r,i,o,a)+"]":"ObjectContaining"===l||"ObjectNotContaining"===l?++i>t.maxDepth?"["+l+"]":l+s+"{"+(0,n.printObjectProperties)(e.sample,t,r,i,o,a)+"}":"StringMatching"===l||"StringNotMatching"===l||"StringContaining"===l||"StringNotContaining"===l?l+s+a(e.sample,t,r,i,o):e.toAsymmetricMatcher()};t.serialize=l;var u=function(e){return e&&e.$$typeof===a};t.test=u;var c={serialize:l,test:u};t.default=c},4278:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.test=t.serialize=t.default=void 0;var n=o(r(5442)),i=o(r(4428));function o(e){return e&&e.__esModule?e:{default:e}}var a=function(e){return"string"===typeof e&&!!e.match((0,n.default)())};t.test=a;var s=function(e,t,r,o,a,s){return s(e.replace((0,n.default)(),(function(e){switch(e){case i.default.red.close:case i.default.green.close:case i.default.cyan.close:case i.default.gray.close:case i.default.white.close:case i.default.yellow.close:case i.default.bgRed.close:case i.default.bgGreen.close:case i.default.bgYellow.close:case i.default.inverse.close:case i.default.dim.close:case i.default.bold.close:case i.default.reset.open:case i.default.reset.close:return"</>";case i.default.red.open:return"<red>";case i.default.green.open:return"<green>";case i.default.cyan.open:return"<cyan>";case i.default.gray.open:return"<gray>";case i.default.white.open:return"<white>";case i.default.yellow.open:return"<yellow>";case i.default.bgRed.open:return"<bgRed>";case i.default.bgGreen.open:return"<bgGreen>";case i.default.bgYellow.open:return"<bgYellow>";case i.default.inverse.open:return"<inverse>";case i.default.dim.open:return"<dim>";case i.default.bold.open:return"<bold>";default:return""}})),t,r,o,a)};t.serialize=s;var l={serialize:s,test:a};t.default=l},6620:function(e,t,r){"use strict";var n=r(2122).default;Object.defineProperty(t,"__esModule",{value:!0}),t.test=t.serialize=t.default=void 0;var i=r(7251),o=["DOMStringMap","NamedNodeMap"],a=/^(HTML\w*Collection|NodeList)$/,s=function(e){return e&&e.constructor&&!!e.constructor.name&&(t=e.constructor.name,-1!==o.indexOf(t)||a.test(t));var t};t.test=s;var l=function(e,t,r,a,s,l){var u=e.constructor.name;return++a>t.maxDepth?"["+u+"]":(t.min?"":u+" ")+(-1!==o.indexOf(u)?"{"+(0,i.printObjectProperties)(function(e){return"NamedNodeMap"===e.constructor.name}(e)?Array.from(e).reduce((function(e,t){return e[t.name]=t.value,e}),{}):n({},e),t,r,a,s,l)+"}":"["+(0,i.printListItems)(Array.from(e),t,r,a,s,l)+"]")};t.serialize=l;var u={serialize:l,test:s};t.default=u},866:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.test=t.serialize=t.default=void 0;var n=r(6103),i=3,o=8,a=11,s=/^((HTML|SVG)\w*)?Element$/,l=function(e){var t;return(null===e||void 0===e||null===(t=e.constructor)||void 0===t?void 0:t.name)&&function(e){var t=e.constructor.name,r=e.nodeType,n=e.tagName,l="string"===typeof n&&n.includes("-")||function(e){try{return"function"===typeof e.hasAttribute&&e.hasAttribute("is")}catch(t){return!1}}(e);return 1===r&&(s.test(t)||l)||r===i&&"Text"===t||r===o&&"Comment"===t||r===a&&"DocumentFragment"===t}(e)};function u(e){return e.nodeType===a}t.test=l;var c=function(e,t,r,a,s,l){if(function(e){return e.nodeType===i}(e))return(0,n.printText)(e.data,t);if(function(e){return e.nodeType===o}(e))return(0,n.printComment)(e.data,t);var c=u(e)?"DocumentFragment":e.tagName.toLowerCase();return++a>t.maxDepth?(0,n.printElementAsLeaf)(c,t):(0,n.printElement)(c,(0,n.printProps)(u(e)?[]:Array.from(e.attributes).map((function(e){return e.name})).sort(),u(e)?{}:Array.from(e.attributes).reduce((function(e,t){return e[t.name]=t.value,e}),{}),t,r+t.indent,a,s,l),(0,n.printChildren)(Array.prototype.slice.call(e.childNodes||e.children),t,r+t.indent,a,s,l),t,r)};t.serialize=c;var h={serialize:c,test:l};t.default=h},7297:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.test=t.serialize=t.default=void 0;var n=r(7251),i="@@__IMMUTABLE_ORDERED__@@",o=function(e){return"Immutable."+e},a=function(e){return"["+e+"]"},s=" ";var l=function(e,t,r,i,l,u,c){return++i>t.maxDepth?a(o(c)):o(c)+s+"["+(0,n.printIteratorValues)(e.values(),t,r,i,l,u)+"]"},u=function(e,t,r,u,c,h){return e["@@__IMMUTABLE_MAP__@@"]?function(e,t,r,i,l,u,c){return++i>t.maxDepth?a(o(c)):o(c)+s+"{"+(0,n.printIteratorEntries)(e.entries(),t,r,i,l,u)+"}"}(e,t,r,u,c,h,e[i]?"OrderedMap":"Map"):e["@@__IMMUTABLE_LIST__@@"]?l(e,t,r,u,c,h,"List"):e["@@__IMMUTABLE_SET__@@"]?l(e,t,r,u,c,h,e[i]?"OrderedSet":"Set"):e["@@__IMMUTABLE_STACK__@@"]?l(e,t,r,u,c,h,"Stack"):e["@@__IMMUTABLE_SEQ__@@"]?function(e,t,r,i,l,u){var c=o("Seq");return++i>t.maxDepth?a(c):e["@@__IMMUTABLE_KEYED__@@"]?c+s+"{"+(e._iter||e._object?(0,n.printIteratorEntries)(e.entries(),t,r,i,l,u):"\u2026")+"}":c+s+"["+(e._iter||e._array||e._collection||e._iterable?(0,n.printIteratorValues)(e.values(),t,r,i,l,u):"\u2026")+"]"}(e,t,r,u,c,h):function(e,t,r,i,l,u){var c=o(e._name||"Record");return++i>t.maxDepth?a(c):c+s+"{"+(0,n.printIteratorEntries)(function(e){var t=0;return{next:function(){if(t<e._keys.length){var r=e._keys[t++];return{done:!1,value:[r,e.get(r)]}}return{done:!0,value:void 0}}}}(e),t,r,i,l,u)+"}"}(e,t,r,u,c,h)};t.serialize=u;var c=function(e){return e&&(!0===e["@@__IMMUTABLE_ITERABLE__@@"]||!0===e["@@__IMMUTABLE_RECORD__@@"])};t.test=c;var h={serialize:u,test:c};t.default=h},5848:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.test=t.serialize=t.default=void 0;var n=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}n.default=e,r&&r.set(e,n);return n}(r(5044)),i=r(6103);function o(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}var a=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return Array.isArray(t)?t.forEach((function(t){e(t,r)})):null!=t&&!1!==t&&r.push(t),r},s=function(e){var t=e.type;if("string"===typeof t)return t;if("function"===typeof t)return t.displayName||t.name||"Unknown";if(n.isFragment(e))return"React.Fragment";if(n.isSuspense(e))return"React.Suspense";if("object"===typeof t&&null!==t){if(n.isContextProvider(e))return"Context.Provider";if(n.isContextConsumer(e))return"Context.Consumer";if(n.isForwardRef(e)){if(t.displayName)return t.displayName;var r=t.render.displayName||t.render.name||"";return""!==r?"ForwardRef("+r+")":"ForwardRef"}if(n.isMemo(e)){var i=t.displayName||t.type.displayName||t.type.name||"";return""!==i?"Memo("+i+")":"Memo"}}return"UNDEFINED"},l=function(e,t,r,n,o,l){return++n>t.maxDepth?(0,i.printElementAsLeaf)(s(e),t):(0,i.printElement)(s(e),(0,i.printProps)(function(e){var t=e.props;return Object.keys(t).filter((function(e){return"children"!==e&&void 0!==t[e]})).sort()}(e),e.props,t,r+t.indent,n,o,l),(0,i.printChildren)(a(e.props.children),t,r+t.indent,n,o,l),t,r)};t.serialize=l;var u=function(e){return null!=e&&n.isElement(e)};t.test=u;var c={serialize:l,test:u};t.default=c},4222:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.test=t.serialize=t.default=void 0;var n=r(6103),i="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof i?i:"undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")(),o=i["jest-symbol-do-not-touch"]||i.Symbol,a="function"===typeof o&&o.for?o.for("react.test.json"):245830487,s=function(e,t,r,i,o,a){return++i>t.maxDepth?(0,n.printElementAsLeaf)(e.type,t):(0,n.printElement)(e.type,e.props?(0,n.printProps)(function(e){var t=e.props;return t?Object.keys(t).filter((function(e){return void 0!==t[e]})).sort():[]}(e),e.props,t,r+t.indent,i,o,a):"",e.children?(0,n.printChildren)(e.children,t,r+t.indent,i,o,a):"",t,r)};t.serialize=s;var l=function(e){return e&&e.$$typeof===a};t.test=l;var u={serialize:s,test:l};t.default=u},3562:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}},6103:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.printText=t.printProps=t.printElementAsLeaf=t.printElement=t.printComment=t.printChildren=void 0;var n,i=(n=r(3562))&&n.__esModule?n:{default:n};t.printProps=function(e,t,r,n,i,o,a){var s=n+r.indent,l=r.colors;return e.map((function(e){var u=t[e],c=a(u,r,s,i,o);return"string"!==typeof u&&(-1!==c.indexOf("\n")&&(c=r.spacingOuter+s+c+r.spacingOuter+n),c="{"+c+"}"),r.spacingInner+n+l.prop.open+e+l.prop.close+"="+l.value.open+c+l.value.close})).join("")};t.printChildren=function(e,t,r,n,i,a){return e.map((function(e){return t.spacingOuter+r+("string"===typeof e?o(e,t):a(e,t,r,n,i))})).join("")};var o=function(e,t){var r=t.colors.content;return r.open+(0,i.default)(e)+r.close};t.printText=o;t.printComment=function(e,t){var r=t.colors.comment;return r.open+"\x3c!--"+(0,i.default)(e)+"--\x3e"+r.close};t.printElement=function(e,t,r,n,i){var o=n.colors.tag;return o.open+"<"+e+(t&&o.close+t+n.spacingOuter+i+o.open)+(r?">"+o.close+r+n.spacingOuter+i+o.open+"</"+e:(t&&!n.min?"":" ")+"/")+">"+o.close};t.printElementAsLeaf=function(e,t){var r=t.colors.tag;return r.open+"<"+e+r.close+" \u2026"+r.open+" />"+r.close}},4428:function(e,t,r){"use strict";e=r.nmd(e);var n=r(861).default,i=r(3344).default,o=r(7424).default,a=10,s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(t){return"\x1b[".concat(38+e,";5;").concat(t,"m")}},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(t,r,n){return"\x1b[".concat(38+e,";2;").concat(t,";").concat(r,";").concat(n,"m")}};Object.defineProperty(e,"exports",{enumerable:!0,get:function(){var e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(var r=0,u=Object.entries(t);r<u.length;r++){for(var c=o(u[r],2),h=c[0],d=c[1],f=0,p=Object.entries(d);f<p.length;f++){var m=o(p[f],2),y=m[0],g=m[1];t[y]={open:"\x1b[".concat(g[0],"m"),close:"\x1b[".concat(g[1],"m")},d[y]=t[y],e.set(g[0],g[1])}Object.defineProperty(t,h,{value:d,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="\x1b[39m",t.bgColor.close="\x1b[49m",t.color.ansi256=s(),t.color.ansi16m=l(),t.bgColor.ansi256=s(a),t.bgColor.ansi16m=l(a),Object.defineProperties(t,{rgbToAnsi256:{value:function(e,t,r){return e===t&&t===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(r/255*5)},enumerable:!1},hexToRgb:{value:function(e){var t=i(/([a-f\d]{6}|[a-f\d]{3})/i,{colorString:1}).exec(e.toString(16));if(!t)return[0,0,0];var r=t.groups.colorString;3===r.length&&(r=r.split("").map((function(e){return e+e})).join(""));var n=Number.parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},enumerable:!1},hexToAnsi256:{value:function(e){return t.rgbToAnsi256.apply(t,n(t.hexToRgb(e)))},enumerable:!1}}),t}})},4652:function(e,t){"use strict";var r=60103,n=60106,i=60107,o=60108,a=60114,s=60109,l=60110,u=60112,c=60113,h=60120,d=60115,f=60116,p=60121,m=60122,y=60117,g=60129,v=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;r=b("react.element"),n=b("react.portal"),i=b("react.fragment"),o=b("react.strict_mode"),a=b("react.profiler"),s=b("react.provider"),l=b("react.context"),u=b("react.forward_ref"),c=b("react.suspense"),h=b("react.suspense_list"),d=b("react.memo"),f=b("react.lazy"),p=b("react.block"),m=b("react.server.block"),y=b("react.fundamental"),g=b("react.debug_trace_mode"),v=b("react.legacy_hidden")}function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case i:case a:case o:case c:case h:return e;default:switch(e=e&&e.$$typeof){case l:case u:case f:case d:case s:return e;default:return t}}case n:return t}}}var w=s,S=r,k=u,_=i,j=f,M=d,C=n,P=a,T=o,E=c;t.ContextConsumer=l,t.ContextProvider=w,t.Element=S,t.ForwardRef=k,t.Fragment=_,t.Lazy=j,t.Memo=M,t.Portal=C,t.Profiler=P,t.StrictMode=T,t.Suspense=E,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return x(e)===l},t.isContextProvider=function(e){return x(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===u},t.isFragment=function(e){return x(e)===i},t.isLazy=function(e){return x(e)===f},t.isMemo=function(e){return x(e)===d},t.isPortal=function(e){return x(e)===n},t.isProfiler=function(e){return x(e)===a},t.isStrictMode=function(e){return x(e)===o},t.isSuspense=function(e){return x(e)===c},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===a||e===g||e===o||e===c||e===h||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===d||e.$$typeof===s||e.$$typeof===l||e.$$typeof===u||e.$$typeof===y||e.$$typeof===p||e[0]===m)},t.typeOf=x},5044:function(e,t,r){"use strict";e.exports=r(4652)},5442:function(e){"use strict";e.exports=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).onlyFirst,t=void 0!==e&&e,r=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(r,t?void 0:"g")}},5571:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(9327))&&n.__esModule?n:{default:n};function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"===typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l=[["aria-activedescendant",{type:"id"}],["aria-atomic",{type:"boolean"}],["aria-autocomplete",{type:"token",values:["inline","list","both","none"]}],["aria-busy",{type:"boolean"}],["aria-checked",{type:"tristate"}],["aria-colcount",{type:"integer"}],["aria-colindex",{type:"integer"}],["aria-colspan",{type:"integer"}],["aria-controls",{type:"idlist"}],["aria-current",{type:"token",values:["page","step","location","date","time",!0,!1]}],["aria-describedby",{type:"idlist"}],["aria-details",{type:"id"}],["aria-disabled",{type:"boolean"}],["aria-dropeffect",{type:"tokenlist",values:["copy","execute","link","move","none","popup"]}],["aria-errormessage",{type:"id"}],["aria-expanded",{type:"boolean",allowundefined:!0}],["aria-flowto",{type:"idlist"}],["aria-grabbed",{type:"boolean",allowundefined:!0}],["aria-haspopup",{type:"token",values:[!1,!0,"menu","listbox","tree","grid","dialog"]}],["aria-hidden",{type:"boolean",allowundefined:!0}],["aria-invalid",{type:"token",values:["grammar",!1,"spelling",!0]}],["aria-keyshortcuts",{type:"string"}],["aria-label",{type:"string"}],["aria-labelledby",{type:"idlist"}],["aria-level",{type:"integer"}],["aria-live",{type:"token",values:["assertive","off","polite"]}],["aria-modal",{type:"boolean"}],["aria-multiline",{type:"boolean"}],["aria-multiselectable",{type:"boolean"}],["aria-orientation",{type:"token",values:["vertical","undefined","horizontal"]}],["aria-owns",{type:"idlist"}],["aria-placeholder",{type:"string"}],["aria-posinset",{type:"integer"}],["aria-pressed",{type:"tristate"}],["aria-readonly",{type:"boolean"}],["aria-relevant",{type:"tokenlist",values:["additions","all","removals","text"]}],["aria-required",{type:"boolean"}],["aria-roledescription",{type:"string"}],["aria-rowcount",{type:"integer"}],["aria-rowindex",{type:"integer"}],["aria-rowspan",{type:"integer"}],["aria-selected",{type:"boolean",allowundefined:!0}],["aria-setsize",{type:"integer"}],["aria-sort",{type:"token",values:["ascending","descending","none","other"]}],["aria-valuemax",{type:"number"}],["aria-valuemin",{type:"number"}],["aria-valuenow",{type:"number"}],["aria-valuetext",{type:"string"}]],u={entries:function(){return l},forEach:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=function(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=a(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(l)throw o}}}}(l);try{for(n.s();!(t=n.n()).done;){var i=o(t.value,2),s=i[0],u=i[1];e.call(r,u,s,l)}}catch(c){n.e(c)}finally{n.f()}},get:function(e){var t=l.find((function(t){return t[0]===e}));return t&&t[1]},has:function(e){return!!u.get(e)},keys:function(){return l.map((function(e){return o(e,1)[0]}))},values:function(){return l.map((function(e){return o(e,2)[1]}))}},c=(0,i.default)(u,u.entries());t.default=c},4858:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(9327))&&n.__esModule?n:{default:n};function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"===typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l=[["a",{reserved:!1}],["abbr",{reserved:!1}],["acronym",{reserved:!1}],["address",{reserved:!1}],["applet",{reserved:!1}],["area",{reserved:!1}],["article",{reserved:!1}],["aside",{reserved:!1}],["audio",{reserved:!1}],["b",{reserved:!1}],["base",{reserved:!0}],["bdi",{reserved:!1}],["bdo",{reserved:!1}],["big",{reserved:!1}],["blink",{reserved:!1}],["blockquote",{reserved:!1}],["body",{reserved:!1}],["br",{reserved:!1}],["button",{reserved:!1}],["canvas",{reserved:!1}],["caption",{reserved:!1}],["center",{reserved:!1}],["cite",{reserved:!1}],["code",{reserved:!1}],["col",{reserved:!0}],["colgroup",{reserved:!0}],["content",{reserved:!1}],["data",{reserved:!1}],["datalist",{reserved:!1}],["dd",{reserved:!1}],["del",{reserved:!1}],["details",{reserved:!1}],["dfn",{reserved:!1}],["dialog",{reserved:!1}],["dir",{reserved:!1}],["div",{reserved:!1}],["dl",{reserved:!1}],["dt",{reserved:!1}],["em",{reserved:!1}],["embed",{reserved:!1}],["fieldset",{reserved:!1}],["figcaption",{reserved:!1}],["figure",{reserved:!1}],["font",{reserved:!1}],["footer",{reserved:!1}],["form",{reserved:!1}],["frame",{reserved:!1}],["frameset",{reserved:!1}],["h1",{reserved:!1}],["h2",{reserved:!1}],["h3",{reserved:!1}],["h4",{reserved:!1}],["h5",{reserved:!1}],["h6",{reserved:!1}],["head",{reserved:!0}],["header",{reserved:!1}],["hgroup",{reserved:!1}],["hr",{reserved:!1}],["html",{reserved:!0}],["i",{reserved:!1}],["iframe",{reserved:!1}],["img",{reserved:!1}],["input",{reserved:!1}],["ins",{reserved:!1}],["kbd",{reserved:!1}],["keygen",{reserved:!1}],["label",{reserved:!1}],["legend",{reserved:!1}],["li",{reserved:!1}],["link",{reserved:!0}],["main",{reserved:!1}],["map",{reserved:!1}],["mark",{reserved:!1}],["marquee",{reserved:!1}],["menu",{reserved:!1}],["menuitem",{reserved:!1}],["meta",{reserved:!0}],["meter",{reserved:!1}],["nav",{reserved:!1}],["noembed",{reserved:!0}],["noscript",{reserved:!0}],["object",{reserved:!1}],["ol",{reserved:!1}],["optgroup",{reserved:!1}],["option",{reserved:!1}],["output",{reserved:!1}],["p",{reserved:!1}],["param",{reserved:!0}],["picture",{reserved:!0}],["pre",{reserved:!1}],["progress",{reserved:!1}],["q",{reserved:!1}],["rp",{reserved:!1}],["rt",{reserved:!1}],["rtc",{reserved:!1}],["ruby",{reserved:!1}],["s",{reserved:!1}],["samp",{reserved:!1}],["script",{reserved:!0}],["section",{reserved:!1}],["select",{reserved:!1}],["small",{reserved:!1}],["source",{reserved:!0}],["spacer",{reserved:!1}],["span",{reserved:!1}],["strike",{reserved:!1}],["strong",{reserved:!1}],["style",{reserved:!0}],["sub",{reserved:!1}],["summary",{reserved:!1}],["sup",{reserved:!1}],["table",{reserved:!1}],["tbody",{reserved:!1}],["td",{reserved:!1}],["textarea",{reserved:!1}],["tfoot",{reserved:!1}],["th",{reserved:!1}],["thead",{reserved:!1}],["time",{reserved:!1}],["title",{reserved:!0}],["tr",{reserved:!1}],["track",{reserved:!0}],["tt",{reserved:!1}],["u",{reserved:!1}],["ul",{reserved:!1}],["var",{reserved:!1}],["video",{reserved:!1}],["wbr",{reserved:!1}],["xmp",{reserved:!1}]],u={entries:function(){return l},forEach:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=function(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=a(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(l)throw o}}}}(l);try{for(n.s();!(t=n.n()).done;){var i=o(t.value,2),s=i[0],u=i[1];e.call(r,u,s,l)}}catch(c){n.e(c)}finally{n.f()}},get:function(e){var t=l.find((function(t){return t[0]===e}));return t&&t[1]},has:function(e){return!!u.get(e)},keys:function(){return l.map((function(e){return o(e,1)[0]}))},values:function(){return l.map((function(e){return o(e,2)[1]}))}},c=(0,i.default)(u,u.entries());t.default=c},4090:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(1579)),i=a(r(9327)),o=a(r(8686));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"===typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}for(var c=[],h=o.default.keys(),d=0;d<h.length;d++){var f=h[d],p=o.default.get(f);if(p)for(var m=[].concat(p.baseConcepts,p.relatedConcepts),y=0;y<m.length;y++){var g=m[y];if("HTML"===g.module){var v=g.concept;v&&function(){var e=JSON.stringify(v),t=c.find((function(t){return JSON.stringify(t[0])===e})),r=void 0;r=t?t[1]:[];for(var n=!0,i=0;i<r.length;i++)if(r[i]===f){n=!1;break}n&&r.push(f),c.push([v,r])}()}}}var b={entries:function(){return c},forEach:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=function(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=l(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}(c);try{for(n.s();!(t=n.n()).done;){var i=s(t.value,2),o=i[0],a=i[1];e.call(r,a,o,c)}}catch(u){n.e(u)}finally{n.f()}},get:function(e){var t=c.find((function(t){return(0,n.default)(e,t[0])}));return t&&t[1]},has:function(e){return!!b.get(e)},keys:function(){return c.map((function(e){return s(e,1)[0]}))},values:function(){return c.map((function(e){return s(e,2)[1]}))}},x=(0,i.default)(b,b.entries());t.default=x},5776:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"menuitem"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget"]]};t.default=r},5793:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-activedescendant":null,"aria-disabled":null},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget"]]};t.default=r},1892:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null},relatedConcepts:[{concept:{name:"input"},module:"XForms"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget"]]};t.default=r},4876:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},2308:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure"]]};t.default=r},3049:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:[],prohibitedProps:[],props:{"aria-atomic":null,"aria-busy":null,"aria-controls":null,"aria-current":null,"aria-describedby":null,"aria-details":null,"aria-dropeffect":null,"aria-flowto":null,"aria-grabbed":null,"aria-hidden":null,"aria-keyshortcuts":null,"aria-label":null,"aria-labelledby":null,"aria-live":null,"aria-owns":null,"aria-relevant":null,"aria-roledescription":null},relatedConcepts:[{concept:{name:"rel"},module:"HTML"},{concept:{name:"role"},module:"XHTML"},{concept:{name:"type"},module:"Dublin Core"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[]};t.default=r},7652:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:[],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"frontmatter"},module:"DTB"},{concept:{name:"level"},module:"DTB"},{concept:{name:"level"},module:"SMIL"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure"]]};t.default=r},3993:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure"]]};t.default=r},8034:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-orientation":null},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","composite"],["roletype","structure","section","group"]]};t.default=r},4058:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:[],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype"]]};t.default=r},5766:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:[],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype"]]};t.default=r},409:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!0,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-modal":null},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype"]]};t.default=r},129:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=m(r(5776)),i=m(r(5793)),o=m(r(1892)),a=m(r(4876)),s=m(r(2308)),l=m(r(3049)),u=m(r(7652)),c=m(r(3993)),h=m(r(8034)),d=m(r(4058)),f=m(r(5766)),p=m(r(409));function m(e){return e&&e.__esModule?e:{default:e}}var y=[["command",n.default],["composite",i.default],["input",o.default],["landmark",a.default],["range",s.default],["roletype",l.default],["section",u.default],["sectionhead",c.default],["select",h.default],["structure",d.default],["widget",f.default],["window",p.default]];t.default=y},9426:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=q(r(4153)),i=q(r(9283)),o=q(r(7104)),a=q(r(1355)),s=q(r(8084)),l=q(r(4130)),u=q(r(5749)),c=q(r(4308)),h=q(r(7582)),d=q(r(2877)),f=q(r(9656)),p=q(r(5057)),m=q(r(8960)),y=q(r(5993)),g=q(r(5437)),v=q(r(3862)),b=q(r(5116)),x=q(r(3800)),w=q(r(7539)),S=q(r(7191)),k=q(r(3238)),_=q(r(1360)),j=q(r(1686)),M=q(r(831)),C=q(r(9178)),P=q(r(7245)),T=q(r(2113)),E=q(r(1482)),O=q(r(7638)),A=q(r(3506)),L=q(r(5821)),N=q(r(9008)),R=q(r(4883)),D=q(r(7227)),I=q(r(7849)),F=q(r(6864)),B=q(r(8753)),U=q(r(9259)),z=q(r(4086));function q(e){return e&&e.__esModule?e:{default:e}}var G=[["doc-abstract",n.default],["doc-acknowledgments",i.default],["doc-afterword",o.default],["doc-appendix",a.default],["doc-backlink",s.default],["doc-biblioentry",l.default],["doc-bibliography",u.default],["doc-biblioref",c.default],["doc-chapter",h.default],["doc-colophon",d.default],["doc-conclusion",f.default],["doc-cover",p.default],["doc-credit",m.default],["doc-credits",y.default],["doc-dedication",g.default],["doc-endnote",v.default],["doc-endnotes",b.default],["doc-epigraph",x.default],["doc-epilogue",w.default],["doc-errata",S.default],["doc-example",k.default],["doc-footnote",_.default],["doc-foreword",j.default],["doc-glossary",M.default],["doc-glossref",C.default],["doc-index",P.default],["doc-introduction",T.default],["doc-noteref",E.default],["doc-notice",O.default],["doc-pagebreak",A.default],["doc-pagelist",L.default],["doc-part",N.default],["doc-preface",R.default],["doc-prologue",D.default],["doc-pullquote",I.default],["doc-qna",F.default],["doc-subtitle",B.default],["doc-tip",U.default],["doc-toc",z.default]];t.default=G},8296:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(3701)),i=a(r(5655)),o=a(r(761));function a(e){return e&&e.__esModule?e:{default:e}}var s=[["graphics-document",n.default],["graphics-object",i.default],["graphics-symbol",o.default]];t.default=s},1369:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=Oe(r(951)),i=Oe(r(1144)),o=Oe(r(9212)),a=Oe(r(7535)),s=Oe(r(7216)),l=Oe(r(1958)),u=Oe(r(4569)),c=Oe(r(9597)),h=Oe(r(6179)),d=Oe(r(9638)),f=Oe(r(2664)),p=Oe(r(2951)),m=Oe(r(3606)),y=Oe(r(2761)),g=Oe(r(971)),v=Oe(r(2884)),b=Oe(r(3208)),x=Oe(r(8385)),w=Oe(r(6566)),S=Oe(r(7166)),k=Oe(r(778)),_=Oe(r(48)),j=Oe(r(1116)),M=Oe(r(984)),C=Oe(r(4849)),P=Oe(r(9789)),T=Oe(r(4755)),E=Oe(r(2442)),O=Oe(r(6476)),A=Oe(r(209)),L=Oe(r(7255)),N=Oe(r(329)),R=Oe(r(1399)),D=Oe(r(3342)),I=Oe(r(1431)),F=Oe(r(2387)),B=Oe(r(2614)),U=Oe(r(2186)),z=Oe(r(8899)),q=Oe(r(100)),G=Oe(r(8549)),V=Oe(r(7736)),H=Oe(r(1335)),W=Oe(r(4025)),X=Oe(r(347)),Y=Oe(r(5172)),K=Oe(r(7461)),Z=Oe(r(6750)),$=Oe(r(1838)),J=Oe(r(2027)),Q=Oe(r(1689)),ee=Oe(r(4944)),te=Oe(r(1560)),re=Oe(r(5641)),ne=Oe(r(3116)),ie=Oe(r(7107)),oe=Oe(r(6890)),ae=Oe(r(5529)),se=Oe(r(5933)),le=Oe(r(8174)),ue=Oe(r(475)),ce=Oe(r(3399)),he=Oe(r(9629)),de=Oe(r(7058)),fe=Oe(r(1167)),pe=Oe(r(333)),me=Oe(r(8891)),ye=Oe(r(5974)),ge=Oe(r(9460)),ve=Oe(r(2374)),be=Oe(r(9303)),xe=Oe(r(6771)),we=Oe(r(292)),Se=Oe(r(7559)),ke=Oe(r(6877)),_e=Oe(r(1195)),je=Oe(r(7950)),Me=Oe(r(5741)),Ce=Oe(r(5239)),Pe=Oe(r(6916)),Te=Oe(r(9217)),Ee=Oe(r(7862));function Oe(e){return e&&e.__esModule?e:{default:e}}var Ae=[["alert",n.default],["alertdialog",i.default],["application",o.default],["article",a.default],["banner",s.default],["blockquote",l.default],["button",u.default],["caption",c.default],["cell",h.default],["checkbox",d.default],["code",f.default],["columnheader",p.default],["combobox",m.default],["complementary",y.default],["contentinfo",g.default],["definition",v.default],["deletion",b.default],["dialog",x.default],["directory",w.default],["document",S.default],["emphasis",k.default],["feed",_.default],["figure",j.default],["form",M.default],["generic",C.default],["grid",P.default],["gridcell",T.default],["group",E.default],["heading",O.default],["img",A.default],["insertion",L.default],["link",N.default],["list",R.default],["listbox",D.default],["listitem",I.default],["log",F.default],["main",B.default],["marquee",U.default],["math",z.default],["menu",q.default],["menubar",G.default],["menuitem",V.default],["menuitemcheckbox",H.default],["menuitemradio",W.default],["meter",X.default],["navigation",Y.default],["none",K.default],["note",Z.default],["option",$.default],["paragraph",J.default],["presentation",Q.default],["progressbar",ee.default],["radio",te.default],["radiogroup",re.default],["region",ne.default],["row",ie.default],["rowgroup",oe.default],["rowheader",ae.default],["scrollbar",se.default],["search",le.default],["searchbox",ue.default],["separator",ce.default],["slider",he.default],["spinbutton",de.default],["status",fe.default],["strong",pe.default],["subscript",me.default],["superscript",ye.default],["switch",ge.default],["tab",ve.default],["table",be.default],["tablist",xe.default],["tabpanel",we.default],["term",Se.default],["textbox",ke.default],["time",_e.default],["timer",je.default],["toolbar",Me.default],["tooltip",Ce.default],["tree",Pe.default],["treegrid",Te.default],["treeitem",Ee.default]];t.default=Ae},4153:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"abstract [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},9283:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"acknowledgments [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},7104:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"afterword [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},1355:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"appendix [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},8084:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","content"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"referrer [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","command","link"]]};t.default=r},4130:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"EPUB biblioentry [EPUB-SSV]"},module:"EPUB"}],requireContextRole:["doc-bibliography"],requiredContextRole:["doc-bibliography"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","listitem"]]};t.default=r},5749:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"bibliography [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["doc-biblioentry"]],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},4308:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"biblioref [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","command","link"]]};t.default=r},7582:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"chapter [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},2877:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"colophon [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},9656:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"conclusion [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},5057:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"cover [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","img"]]};t.default=r},8960:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"credit [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},5993:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"credits [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},5437:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"dedication [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},3862:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"rearnote [EPUB-SSV]"},module:"EPUB"}],requireContextRole:["doc-endnotes"],requiredContextRole:["doc-endnotes"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","listitem"]]};t.default=r},5116:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"rearnotes [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["doc-endnote"]],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},3800:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"epigraph [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},7539:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"epilogue [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},7191:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"errata [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},3238:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},1360:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"footnote [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},1686:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"foreword [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},831:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"glossary [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["definition"],["term"]],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},9178:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"glossref [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","command","link"]]};t.default=r},7245:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"index [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark","navigation"]]};t.default=r},2113:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"introduction [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},1482:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"noteref [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","command","link"]]};t.default=r},7638:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"notice [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","note"]]};t.default=r},3506:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"pagebreak [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","separator"]]};t.default=r},5821:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"page-list [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark","navigation"]]};t.default=r},9008:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"part [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},4883:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"preface [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},7227:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"prologue [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},7849:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"pullquote [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["none"]]};t.default=r},6864:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"qna [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},8753:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"subtitle [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","sectionhead"]]};t.default=r},9259:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"help [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","note"]]};t.default=r},4086:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"toc [EPUB-SSV]"},module:"EPUB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark","navigation"]]};t.default=r},3701:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{module:"GRAPHICS",concept:{name:"graphics-object"}},{module:"ARIA",concept:{name:"img"}},{module:"ARIA",concept:{name:"article"}}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","document"]]};t.default=r},5655:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{module:"GRAPHICS",concept:{name:"graphics-document"}},{module:"ARIA",concept:{name:"group"}},{module:"ARIA",concept:{name:"img"}},{module:"GRAPHICS",concept:{name:"graphics-symbol"}}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","group"]]};t.default=r},761:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","img"]]};t.default=r},951:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-atomic":"true","aria-live":"assertive"},relatedConcepts:[{concept:{name:"alert"},module:"XForms"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},1144:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"alert"},module:"XForms"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","alert"],["roletype","window","dialog"]]};t.default=r},9212:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-activedescendant":null,"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null},relatedConcepts:[{concept:{name:"Device Independence Delivery Unit"}}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure"]]};t.default=r},7535:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-posinset":null,"aria-setsize":null},relatedConcepts:[{concept:{name:"article"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","document"]]};t.default=r},7216:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{constraints:["direct descendant of document"],name:"header"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},1958:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},4569:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-disabled":null,"aria-expanded":null,"aria-haspopup":null,"aria-pressed":null},relatedConcepts:[{concept:{attributes:[{constraints:["set"],name:"aria-pressed"},{name:"type",value:"checkbox"}],name:"input"},module:"HTML"},{concept:{attributes:[{name:"aria-expanded",value:"false"}],name:"summary"},module:"HTML"},{concept:{attributes:[{name:"aria-expanded",value:"true"}],constraints:["direct descendant of details element with the open attribute defined"],name:"summary"},module:"HTML"},{concept:{attributes:[{name:"type",value:"button"}],name:"input"},module:"HTML"},{concept:{attributes:[{name:"type",value:"image"}],name:"input"},module:"HTML"},{concept:{attributes:[{name:"type",value:"reset"}],name:"input"},module:"HTML"},{concept:{attributes:[{name:"type",value:"submit"}],name:"input"},module:"HTML"},{concept:{name:"button"},module:"HTML"},{concept:{name:"trigger"},module:"XForms"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","command"]]};t.default=r},9597:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:["figure","grid","table"],requiredContextRole:["figure","grid","table"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},6179:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-colindex":null,"aria-colspan":null,"aria-rowindex":null,"aria-rowspan":null},relatedConcepts:[{concept:{constraints:["descendant of table"],name:"td"},module:"HTML"}],requireContextRole:["row"],requiredContextRole:["row"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},9638:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-checked":null,"aria-errormessage":null,"aria-expanded":null,"aria-invalid":null,"aria-readonly":null,"aria-required":null},relatedConcepts:[{concept:{attributes:[{name:"type",value:"checkbox"}],name:"input"},module:"HTML"},{concept:{name:"option"},module:"ARIA"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-checked":null},superClass:[["roletype","widget","input"]]};t.default=r},2664:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},2951:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-sort":null},relatedConcepts:[{attributes:[{name:"scope",value:"col"}],concept:{name:"th"},module:"HTML"}],requireContextRole:["row"],requiredContextRole:["row"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","cell"],["roletype","structure","section","cell","gridcell"],["roletype","widget","gridcell"],["roletype","structure","sectionhead"]]};t.default=r},3606:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-activedescendant":null,"aria-autocomplete":null,"aria-errormessage":null,"aria-invalid":null,"aria-readonly":null,"aria-required":null,"aria-expanded":"false","aria-haspopup":"listbox"},relatedConcepts:[{concept:{attributes:[{constraints:["set"],name:"list"},{name:"type",value:"email"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["set"],name:"list"},{name:"type",value:"search"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["set"],name:"list"},{name:"type",value:"tel"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["set"],name:"list"},{name:"type",value:"text"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["set"],name:"list"},{name:"type",value:"url"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["set"],name:"list"},{name:"type",value:"url"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["undefined"],name:"multiple"},{constraints:["undefined"],name:"size"}],name:"select"},module:"HTML"},{concept:{attributes:[{constraints:["undefined"],name:"multiple"},{name:"size",value:1}],name:"select"},module:"HTML"},{concept:{name:"select"},module:"XForms"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-controls":null,"aria-expanded":"false"},superClass:[["roletype","widget","input"]]};t.default=r},2761:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"aside"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},971:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{constraints:["direct descendant of document"],name:"footer"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},2884:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"dd"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},3208:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},8385:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"dialog"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","window"]]};t.default=r},6566:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{module:"DAISY Guide"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","list"]]};t.default=r},7166:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"Device Independence Delivery Unit"}},{concept:{name:"body"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure"]]};t.default=r},778:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},48:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["article"]],requiredProps:{},superClass:[["roletype","structure","section","list"]]};t.default=r},1116:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"figure"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},984:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{attributes:[{constraints:["set"],name:"aria-label"}],name:"form"},module:"HTML"},{concept:{attributes:[{constraints:["set"],name:"aria-labelledby"}],name:"form"},module:"HTML"},{concept:{attributes:[{constraints:["set"],name:"name"}],name:"form"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},4849:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[{concept:{name:"span"},module:"HTML"},{concept:{name:"div"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure"]]};t.default=r},9789:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-multiselectable":null,"aria-readonly":null},relatedConcepts:[{concept:{attributes:[{name:"role",value:"grid"}],name:"table"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["row"],["row","rowgroup"]],requiredProps:{},superClass:[["roletype","widget","composite"],["roletype","structure","section","table"]]};t.default=r},4755:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-disabled":null,"aria-errormessage":null,"aria-expanded":null,"aria-haspopup":null,"aria-invalid":null,"aria-readonly":null,"aria-required":null,"aria-selected":null},relatedConcepts:[{concept:{attributes:[{name:"role",value:"gridcell"}],name:"td"},module:"HTML"}],requireContextRole:["row"],requiredContextRole:["row"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","cell"],["roletype","widget"]]};t.default=r},2442:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-activedescendant":null,"aria-disabled":null},relatedConcepts:[{concept:{name:"details"},module:"HTML"},{concept:{name:"fieldset"},module:"HTML"},{concept:{name:"optgroup"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},6476:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-level":"2"},relatedConcepts:[{concept:{name:"h1"},module:"HTML"},{concept:{name:"h2"},module:"HTML"},{concept:{name:"h3"},module:"HTML"},{concept:{name:"h4"},module:"HTML"},{concept:{name:"h5"},module:"HTML"},{concept:{name:"h6"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-level":"2"},superClass:[["roletype","structure","sectionhead"]]};t.default=r},209:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{attributes:[{constraints:["set"],name:"alt"}],name:"img"},module:"HTML"},{concept:{attributes:[{constraints:["undefined"],name:"alt"}],name:"img"},module:"HTML"},{concept:{name:"imggroup"},module:"DTB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},7255:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},329:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-disabled":null,"aria-expanded":null,"aria-haspopup":null},relatedConcepts:[{concept:{attributes:[{name:"href"}],name:"a"},module:"HTML"},{concept:{attributes:[{name:"href"}],name:"area"},module:"HTML"},{concept:{attributes:[{name:"href"}],name:"link"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","command"]]};t.default=r},1399:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"menu"},module:"HTML"},{concept:{name:"ol"},module:"HTML"},{concept:{name:"ul"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["listitem"]],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},3342:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-expanded":null,"aria-invalid":null,"aria-multiselectable":null,"aria-readonly":null,"aria-required":null,"aria-orientation":"vertical"},relatedConcepts:[{concept:{attributes:[{constraints:[">1"],name:"size"},{name:"multiple"}],name:"select"},module:"HTML"},{concept:{attributes:[{constraints:[">1"],name:"size"}],name:"select"},module:"HTML"},{concept:{attributes:[{name:"multiple"}],name:"select"},module:"HTML"},{concept:{name:"datalist"},module:"HTML"},{concept:{name:"list"},module:"ARIA"},{concept:{name:"select"},module:"XForms"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["option","group"],["option"]],requiredProps:{},superClass:[["roletype","widget","composite","select"],["roletype","structure","section","group","select"]]};t.default=r},1431:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-level":null,"aria-posinset":null,"aria-setsize":null},relatedConcepts:[{concept:{constraints:["direct descendant of ol, ul or menu"],name:"li"},module:"HTML"},{concept:{name:"item"},module:"XForms"}],requireContextRole:["directory","list"],requiredContextRole:["directory","list"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},2387:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-live":"polite"},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},2614:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"main"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},2186:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},8899:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"math"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},100:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-orientation":"vertical"},relatedConcepts:[{concept:{name:"MENU"},module:"JAPI"},{concept:{name:"list"},module:"ARIA"},{concept:{name:"select"},module:"XForms"},{concept:{name:"sidebar"},module:"DTB"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["menuitem","group"],["menuitemradio","group"],["menuitemcheckbox","group"],["menuitem"],["menuitemcheckbox"],["menuitemradio"]],requiredProps:{},superClass:[["roletype","widget","composite","select"],["roletype","structure","section","group","select"]]};t.default=r},8549:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-orientation":"horizontal"},relatedConcepts:[{concept:{name:"toolbar"},module:"ARIA"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["menuitem","group"],["menuitemradio","group"],["menuitemcheckbox","group"],["menuitem"],["menuitemcheckbox"],["menuitemradio"]],requiredProps:{},superClass:[["roletype","widget","composite","select","menu"],["roletype","structure","section","group","select","menu"]]};t.default=r},7736:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-disabled":null,"aria-expanded":null,"aria-haspopup":null,"aria-posinset":null,"aria-setsize":null},relatedConcepts:[{concept:{name:"MENU_ITEM"},module:"JAPI"},{concept:{name:"listitem"},module:"ARIA"},{concept:{name:"menuitem"},module:"HTML"},{concept:{name:"option"},module:"ARIA"}],requireContextRole:["group","menu","menubar"],requiredContextRole:["group","menu","menubar"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","command"]]};t.default=r},1335:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author","contents"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"menuitem"},module:"ARIA"}],requireContextRole:["group","menu","menubar"],requiredContextRole:["group","menu","menubar"],requiredOwnedElements:[],requiredProps:{"aria-checked":null},superClass:[["roletype","widget","input","checkbox"],["roletype","widget","command","menuitem"]]};t.default=r},4025:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author","contents"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"menuitem"},module:"ARIA"}],requireContextRole:["group","menu","menubar"],requiredContextRole:["group","menu","menubar"],requiredOwnedElements:[],requiredProps:{"aria-checked":null},superClass:[["roletype","widget","input","checkbox","menuitemcheckbox"],["roletype","widget","command","menuitem","menuitemcheckbox"],["roletype","widget","input","radio"]]};t.default=r},347:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author"],prohibitedProps:[],props:{"aria-valuetext":null,"aria-valuemax":"100","aria-valuemin":"0"},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-valuenow":null},superClass:[["roletype","structure","range"]]};t.default=r},5172:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"nav"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},7461:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:[],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[]};t.default=r},6750:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},1838:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-checked":null,"aria-posinset":null,"aria-setsize":null,"aria-selected":"false"},relatedConcepts:[{concept:{name:"item"},module:"XForms"},{concept:{name:"listitem"},module:"ARIA"},{concept:{name:"option"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-selected":"false"},superClass:[["roletype","widget","input"]]};t.default=r},2027:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},1689:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure"]]};t.default=r},4944:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author"],prohibitedProps:[],props:{"aria-valuetext":null},relatedConcepts:[{concept:{name:"progress"},module:"HTML"},{concept:{name:"status"},module:"ARIA"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","range"],["roletype","widget"]]};t.default=r},1560:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-checked":null,"aria-posinset":null,"aria-setsize":null},relatedConcepts:[{concept:{attributes:[{name:"type",value:"radio"}],name:"input"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-checked":null},superClass:[["roletype","widget","input"]]};t.default=r},5641:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-invalid":null,"aria-readonly":null,"aria-required":null},relatedConcepts:[{concept:{name:"list"},module:"ARIA"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["radio"]],requiredProps:{},superClass:[["roletype","widget","composite","select"],["roletype","structure","section","group","select"]]};t.default=r},3116:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{attributes:[{constraints:["set"],name:"aria-label"}],name:"section"},module:"HTML"},{concept:{attributes:[{constraints:["set"],name:"aria-labelledby"}],name:"section"},module:"HTML"},{concept:{name:"Device Independence Glossart perceivable unit"}},{concept:{name:"frame"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},7107:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-colindex":null,"aria-expanded":null,"aria-level":null,"aria-posinset":null,"aria-rowindex":null,"aria-selected":null,"aria-setsize":null},relatedConcepts:[{concept:{name:"tr"},module:"HTML"}],requireContextRole:["grid","rowgroup","table","treegrid"],requiredContextRole:["grid","rowgroup","table","treegrid"],requiredOwnedElements:[["cell"],["columnheader"],["gridcell"],["rowheader"]],requiredProps:{},superClass:[["roletype","structure","section","group"],["roletype","widget"]]};t.default=r},6890:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"tbody"},module:"HTML"},{concept:{name:"tfoot"},module:"HTML"},{concept:{name:"thead"},module:"HTML"}],requireContextRole:["grid","table","treegrid"],requiredContextRole:["grid","table","treegrid"],requiredOwnedElements:[["row"]],requiredProps:{},superClass:[["roletype","structure"]]};t.default=r},5529:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-sort":null},relatedConcepts:[{concept:{attributes:[{name:"scope",value:"row"}],name:"th"},module:"HTML"},{concept:{attributes:[{name:"scope",value:"rowgroup"}],name:"th"},module:"HTML"}],requireContextRole:["row","rowgroup"],requiredContextRole:["row","rowgroup"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","cell"],["roletype","structure","section","cell","gridcell"],["roletype","widget","gridcell"],["roletype","structure","sectionhead"]]};t.default=r},5933:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!0,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-valuetext":null,"aria-orientation":"vertical","aria-valuemax":"100","aria-valuemin":"0"},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-controls":null,"aria-valuenow":null},superClass:[["roletype","structure","range"],["roletype","widget"]]};t.default=r},8174:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","landmark"]]};t.default=r},475:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{attributes:[{constraints:["undefined"],name:"list"},{name:"type",value:"search"}],name:"input"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","input","textbox"]]};t.default=r},3399:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!0,nameFrom:["author"],prohibitedProps:[],props:{"aria-disabled":null,"aria-orientation":"horizontal","aria-valuemax":"100","aria-valuemin":"0","aria-valuenow":null,"aria-valuetext":null},relatedConcepts:[{concept:{name:"hr"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure"]]};t.default=r},9629:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-haspopup":null,"aria-invalid":null,"aria-readonly":null,"aria-valuetext":null,"aria-orientation":"horizontal","aria-valuemax":"100","aria-valuemin":"0"},relatedConcepts:[{concept:{attributes:[{name:"type",value:"range"}],name:"input"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-valuenow":null},superClass:[["roletype","widget","input"],["roletype","structure","range"]]};t.default=r},7058:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-invalid":null,"aria-readonly":null,"aria-required":null,"aria-valuetext":null,"aria-valuenow":"0"},relatedConcepts:[{concept:{attributes:[{name:"type",value:"number"}],name:"input"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","composite"],["roletype","widget","input"],["roletype","structure","range"]]};t.default=r},1167:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-atomic":"true","aria-live":"polite"},relatedConcepts:[{concept:{name:"output"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},333:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},8891:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},5974:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["prohibited"],prohibitedProps:["aria-label","aria-labelledby"],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},9460:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!0,nameFrom:["author","contents"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"button"},module:"ARIA"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{"aria-checked":null},superClass:[["roletype","widget","input","checkbox"]]};t.default=r},2374:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!0,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-disabled":null,"aria-expanded":null,"aria-haspopup":null,"aria-posinset":null,"aria-setsize":null,"aria-selected":"false"},relatedConcepts:[],requireContextRole:["tablist"],requiredContextRole:["tablist"],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","sectionhead"],["roletype","widget"]]};t.default=r},9303:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-colcount":null,"aria-rowcount":null},relatedConcepts:[{concept:{name:"table"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["row"],["row","rowgroup"]],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},6771:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-level":null,"aria-multiselectable":null,"aria-orientation":"horizontal"},relatedConcepts:[{module:"DAISY",concept:{name:"guide"}}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["tab"]],requiredProps:{},superClass:[["roletype","widget","composite"]]};t.default=r},292:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},7559:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[{concept:{name:"dfn"},module:"HTML"},{concept:{name:"dt"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},6877:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-activedescendant":null,"aria-autocomplete":null,"aria-errormessage":null,"aria-haspopup":null,"aria-invalid":null,"aria-multiline":null,"aria-placeholder":null,"aria-readonly":null,"aria-required":null},relatedConcepts:[{concept:{attributes:[{constraints:["undefined"],name:"type"},{constraints:["undefined"],name:"list"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["undefined"],name:"list"},{name:"type",value:"email"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["undefined"],name:"list"},{name:"type",value:"tel"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["undefined"],name:"list"},{name:"type",value:"text"}],name:"input"},module:"HTML"},{concept:{attributes:[{constraints:["undefined"],name:"list"},{name:"type",value:"url"}],name:"input"},module:"HTML"},{concept:{name:"input"},module:"XForms"},{concept:{name:"textarea"},module:"HTML"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","widget","input"]]};t.default=r},1195:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},7950:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","status"]]};t.default=r},5741:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!1,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-orientation":"horizontal"},relatedConcepts:[{concept:{name:"menubar"},module:"ARIA"}],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section","group"]]};t.default=r},5239:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[],requiredProps:{},superClass:[["roletype","structure","section"]]};t.default=r},6916:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{"aria-errormessage":null,"aria-invalid":null,"aria-multiselectable":null,"aria-required":null,"aria-orientation":"vertical"},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["treeitem","group"],["treeitem"]],requiredProps:{},superClass:[["roletype","widget","composite","select"],["roletype","structure","section","group","select"]]};t.default=r},9217:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author"],prohibitedProps:[],props:{},relatedConcepts:[],requireContextRole:[],requiredContextRole:[],requiredOwnedElements:[["row"],["row","rowgroup"]],requiredProps:{},superClass:[["roletype","widget","composite","grid"],["roletype","structure","section","table","grid"],["roletype","widget","composite","select","tree"],["roletype","structure","section","group","select","tree"]]};t.default=r},7862:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={abstract:!1,accessibleNameRequired:!0,baseConcepts:[],childrenPresentational:!1,nameFrom:["author","contents"],prohibitedProps:[],props:{"aria-expanded":null,"aria-haspopup":null},relatedConcepts:[],requireContextRole:["group","tree"],requiredContextRole:["group","tree"],requiredOwnedElements:[],requiredProps:{"aria-selected":null},superClass:[["roletype","structure","section","listitem"],["roletype","widget","input","option"]]};t.default=r},859:function(e,t,r){"use strict";t.uJ=t.UN=t.Qv=void 0;var n=l(r(5571)),i=l(r(4858)),o=l(r(8686)),a=l(r(4090)),s=l(r(5528));function l(e){return e&&e.__esModule?e:{default:e}}n.default,i.default;var u=o.default;t.uJ=u;var c=a.default;t.Qv=c;var h=s.default;t.UN=h},5528:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(9327)),i=o(r(8686));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"===typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}for(var u=[],c=i.default.keys(),h=function(e){var t=c[e],r=i.default.get(t);if(r)for(var n=[].concat(r.baseConcepts,r.relatedConcepts),o=0;o<n.length;o++){var a=n[o];if("HTML"===a.module){var s=a.concept;if(s){var l=u.find((function(e){return e[0]===t})),h=void 0;(h=l?l[1]:[]).push(s),u.push([t,h])}}}},d=0;d<c.length;d++)h(d);var f={entries:function(){return u},forEach:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=function(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw o}}}}(u);try{for(n.s();!(t=n.n()).done;){var i=a(t.value,2),o=i[0],l=i[1];e.call(r,l,o,u)}}catch(c){n.e(c)}finally{n.f()}},get:function(e){var t=u.find((function(t){return t[0]===e}));return t&&t[1]},has:function(e){return!!f.get(e)},keys:function(){return u.map((function(e){return a(e,1)[0]}))},values:function(){return u.map((function(e){return a(e,2)[1]}))}},p=(0,n.default)(f,f.entries());t.default=p},8686:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(129)),i=l(r(1369)),o=l(r(9426)),a=l(r(8296)),s=l(r(9327));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=h(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,i,o=[],a=!0,s=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==r.return||r.return()}finally{if(s)throw i}}return o}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"===typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f=[].concat(n.default,i.default,o.default,a.default);f.forEach((function(e){var t,r=c(e,2)[1],n=u(r.superClass);try{for(n.s();!(t=n.n()).done;){var i,o=u(t.value);try{var a=function(){var e,t,n,o=i.value,a=f.find((function(e){return c(e,1)[0]===o}));if(a)for(var s=a[1],l=0,u=Object.keys(s.props);l<u.length;l++){var h=u[l];Object.prototype.hasOwnProperty.call(r.props,h)||Object.assign(r.props,(e={},t=h,n=s.props[h],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e))}};for(o.s();!(i=o.n()).done;)a()}catch(s){o.e(s)}finally{o.f()}}}catch(s){n.e(s)}finally{n.f()}}));var p={entries:function(){return f},forEach:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=u(f);try{for(n.s();!(t=n.n()).done;){var i=c(t.value,2),o=i[0],a=i[1];e.call(r,a,o,f)}}catch(s){n.e(s)}finally{n.f()}},get:function(e){var t=f.find((function(t){return t[0]===e}));return t&&t[1]},has:function(e){return!!p.get(e)},keys:function(){return f.map((function(e){return c(e,1)[0]}))},values:function(){return f.map((function(e){return c(e,2)[1]}))}},m=(0,s.default)(p,p.entries());t.default=m},9327:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){"function"===typeof Symbol&&"symbol"===o(Symbol.iterator)&&Object.defineProperty(e,Symbol.iterator,{value:i.default.bind(t)});return e};var n,i=(n=r(1466))&&n.__esModule?n:{default:n};function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}},1466:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){var e=this,t=0,r={"@@iterator":function(){return r},next:function(){if(t<e.length){var r=e[t];return t+=1,{done:!1,value:r}}return{done:!0}}};return r};t.default=r},4037:function(e,t,r){"use strict";var n=r(2506),i=r(9722),o=i(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"===typeof r&&o(e,".prototype.")>-1?i(r):r}},9722:function(e,t,r){"use strict";var n=r(3350),i=r(2506),o=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||n.call(a,o),l=i("%Object.getOwnPropertyDescriptor%",!0),u=i("%Object.defineProperty%",!0),c=i("%Math.max%");if(u)try{u({},"a",{value:1})}catch(d){u=null}e.exports=function(e){var t=s(n,a,arguments);l&&u&&(l(t,"length").configurable&&u(t,"length",{value:1+c(0,e.length-(arguments.length-1))}));return t};var h=function(){return s(n,o,arguments)};u?u(e.exports,"apply",{value:h}):e.exports.apply=h},2088:function(e,t,r){!function(e){var t={pairs:"()[]{}''\"\"",closeBefore:")]}'\":;>",triples:"",explode:"[]{}"},r=e.Pos;function n(e,r){return"pairs"==r&&"string"==typeof e?e:"object"==typeof e&&null!=e[r]?e[r]:t[r]}e.defineOption("autoCloseBrackets",!1,(function(t,r,a){a&&a!=e.Init&&(t.removeKeyMap(i),t.state.closeBrackets=null),r&&(o(n(r,"pairs")),t.state.closeBrackets=r,t.addKeyMap(i))}));var i={Backspace:l,Enter:u};function o(e){for(var t=0;t<e.length;t++){var r=e.charAt(t),n="'"+r+"'";i[n]||(i[n]=a(r))}}function a(e){return function(t){return d(t,e)}}function s(e){var t=e.state.closeBrackets;return!t||t.override?t:e.getModeAt(e.getCursor()).closeBrackets||t}function l(t){var i=s(t);if(!i||t.getOption("disableInput"))return e.Pass;for(var o=n(i,"pairs"),a=t.listSelections(),l=0;l<a.length;l++){if(!a[l].empty())return e.Pass;var u=f(t,a[l].head);if(!u||o.indexOf(u)%2!=0)return e.Pass}for(l=a.length-1;l>=0;l--){var c=a[l].head;t.replaceRange("",r(c.line,c.ch-1),r(c.line,c.ch+1),"+delete")}}function u(t){var r=s(t),i=r&&n(r,"explode");if(!i||t.getOption("disableInput"))return e.Pass;for(var o=t.listSelections(),a=0;a<o.length;a++){if(!o[a].empty())return e.Pass;var l=f(t,o[a].head);if(!l||i.indexOf(l)%2!=0)return e.Pass}t.operation((function(){var e=t.lineSeparator()||"\n";t.replaceSelection(e+e,null),c(t,-1),o=t.listSelections();for(var r=0;r<o.length;r++){var n=o[r].head.line;t.indentLine(n,null,!0),t.indentLine(n+1,null,!0)}}))}function c(e,t){for(var r=[],n=e.listSelections(),i=0,o=0;o<n.length;o++){var a=n[o];a.head==e.getCursor()&&(i=o);var s=a.head.ch||t>0?{line:a.head.line,ch:a.head.ch+t}:{line:a.head.line-1};r.push({anchor:s,head:s})}e.setSelections(r,i)}function h(t){var n=e.cmpPos(t.anchor,t.head)>0;return{anchor:new r(t.anchor.line,t.anchor.ch+(n?-1:1)),head:new r(t.head.line,t.head.ch+(n?1:-1))}}function d(t,i){var o=s(t);if(!o||t.getOption("disableInput"))return e.Pass;var a=n(o,"pairs"),l=a.indexOf(i);if(-1==l)return e.Pass;for(var u,d=n(o,"closeBefore"),f=n(o,"triples"),m=a.charAt(l+1)==i,y=t.listSelections(),g=l%2==0,v=0;v<y.length;v++){var b,x=y[v],w=x.head,S=t.getRange(w,r(w.line,w.ch+1));if(g&&!x.empty())b="surround";else if(!m&&g||S!=i)if(m&&w.ch>1&&f.indexOf(i)>=0&&t.getRange(r(w.line,w.ch-2),w)==i+i){if(w.ch>2&&/\bstring/.test(t.getTokenTypeAt(r(w.line,w.ch-2))))return e.Pass;b="addFour"}else if(m){var k=0==w.ch?" ":t.getRange(r(w.line,w.ch-1),w);if(e.isWordChar(S)||k==i||e.isWordChar(k))return e.Pass;b="both"}else{if(!g||!(0===S.length||/\s/.test(S)||d.indexOf(S)>-1))return e.Pass;b="both"}else b=m&&p(t,w)?"both":f.indexOf(i)>=0&&t.getRange(w,r(w.line,w.ch+3))==i+i+i?"skipThree":"skip";if(u){if(u!=b)return e.Pass}else u=b}var _=l%2?a.charAt(l-1):i,j=l%2?i:a.charAt(l+1);t.operation((function(){if("skip"==u)c(t,1);else if("skipThree"==u)c(t,3);else if("surround"==u){for(var e=t.getSelections(),r=0;r<e.length;r++)e[r]=_+e[r]+j;for(t.replaceSelections(e,"around"),e=t.listSelections().slice(),r=0;r<e.length;r++)e[r]=h(e[r]);t.setSelections(e)}else"both"==u?(t.replaceSelection(_+j,null),t.triggerElectric(_+j),c(t,-1)):"addFour"==u&&(t.replaceSelection(_+_+_+_,"before"),c(t,1))}))}function f(e,t){var n=e.getRange(r(t.line,t.ch-1),r(t.line,t.ch+1));return 2==n.length?n:null}function p(e,t){var n=e.getTokenAt(r(t.line,t.ch+1));return/\bstring/.test(n.type)&&n.start==t.ch&&(0==t.ch||!/\bstring/.test(e.getTokenTypeAt(t)))}o(t.pairs+"`")}(r(3668))},8045:function(e,t,r){!function(e){e.defineOption("autoCloseTags",!1,(function(t,r,i){if(i!=e.Init&&i&&t.removeKeyMap("autoCloseTags"),r){var a={name:"autoCloseTags"};"object"==typeof r&&!1===r.whenClosing||(a["'/'"]=function(e){return o(e)}),"object"==typeof r&&!1===r.whenOpening||(a["'>'"]=function(e){return n(e)}),t.addKeyMap(a)}}));var t=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],r=["applet","blockquote","body","button","div","dl","fieldset","form","frameset","h1","h2","h3","h4","h5","h6","head","html","iframe","layer","legend","object","ol","p","select","table","ul"];function n(n){if(n.getOption("disableInput"))return e.Pass;for(var i=n.listSelections(),o=[],l=n.getOption("autoCloseTags"),u=0;u<i.length;u++){if(!i[u].empty())return e.Pass;var c=i[u].head,h=n.getTokenAt(c),d=e.innerMode(n.getMode(),h.state),f=d.state,p=d.mode.xmlCurrentTag&&d.mode.xmlCurrentTag(f),m=p&&p.name;if(!m)return e.Pass;var y="html"==d.mode.configuration,g="object"==typeof l&&l.dontCloseTags||y&&t,v="object"==typeof l&&l.indentTags||y&&r;h.end>c.ch&&(m=m.slice(0,m.length-h.end+c.ch));var b=m.toLowerCase();if(!m||"string"==h.type&&(h.end!=c.ch||!/[\"\']/.test(h.string.charAt(h.string.length-1))||1==h.string.length)||"tag"==h.type&&p.close||h.string.indexOf("/")==c.ch-h.start-1||g&&a(g,b)>-1||s(n,d.mode.xmlCurrentContext&&d.mode.xmlCurrentContext(f)||[],m,c,!0))return e.Pass;var x="object"==typeof l&&l.emptyTags;if(x&&a(x,m)>-1)o[u]={text:"/>",newPos:e.Pos(c.line,c.ch+2)};else{var w=v&&a(v,b)>-1;o[u]={indent:w,text:">"+(w?"\n\n":"")+"</"+m+">",newPos:w?e.Pos(c.line+1,0):e.Pos(c.line,c.ch+1)}}}var S="object"==typeof l&&l.dontIndentOnAutoClose;for(u=i.length-1;u>=0;u--){var k=o[u];n.replaceRange(k.text,i[u].head,i[u].anchor,"+insert");var _=n.listSelections().slice(0);_[u]={head:k.newPos,anchor:k.newPos},n.setSelections(_),!S&&k.indent&&(n.indentLine(k.newPos.line,null,!0),n.indentLine(k.newPos.line+1,null,!0))}}function i(t,r){for(var n=t.listSelections(),i=[],o=r?"/":"</",a=t.getOption("autoCloseTags"),l="object"==typeof a&&a.dontIndentOnSlash,u=0;u<n.length;u++){if(!n[u].empty())return e.Pass;var c=n[u].head,h=t.getTokenAt(c),d=e.innerMode(t.getMode(),h.state),f=d.state;if(r&&("string"==h.type||"<"!=h.string.charAt(0)||h.start!=c.ch-1))return e.Pass;var p,m="xml"!=d.mode.name&&"htmlmixed"==t.getMode().name;if(m&&"javascript"==d.mode.name)p=o+"script";else if(m&&"css"==d.mode.name)p=o+"style";else{var y=d.mode.xmlCurrentContext&&d.mode.xmlCurrentContext(f),g=y.length?y[y.length-1]:"";if(!y||y.length&&s(t,y,g,c))return e.Pass;p=o+g}">"!=t.getLine(c.line).charAt(h.end)&&(p+=">"),i[u]=p}if(t.replaceSelections(i),n=t.listSelections(),!l)for(u=0;u<n.length;u++)(u==n.length-1||n[u].head.line<n[u+1].head.line)&&t.indentLine(n[u].head.line)}function o(t){return t.getOption("disableInput")?e.Pass:i(t,!0)}function a(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;++r)if(e[r]==t)return r;return-1}function s(t,r,n,i,o){if(!e.scanForClosingTag)return!1;var a=Math.min(t.lastLine()+1,i.line+500),s=e.scanForClosingTag(t,i,null,a);if(!s||s.tag!=n)return!1;for(var l=o?1:0,u=r.length-1;u>=0&&r[u]==n;u--)++l;for(i=s.to,u=1;u<l;u++){var c=e.scanForClosingTag(t,i,null,a);if(!c||c.tag!=n)return!1;i=c.to}return!0}e.commands.closeTag=function(e){return i(e)}}(r(3668),r(3259))},2756:function(e,t,r){!function(e){var t=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),r=e.Pos,n={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function i(e){return e&&e.bracketRegex||/[(){}[\]]/}function o(e,t,o){var s=e.getLineHandle(t.line),l=t.ch-1,u=o&&o.afterCursor;null==u&&(u=/(^| )cm-fat-cursor($| )/.test(e.getWrapperElement().className));var c=i(o),h=!u&&l>=0&&c.test(s.text.charAt(l))&&n[s.text.charAt(l)]||c.test(s.text.charAt(l+1))&&n[s.text.charAt(++l)];if(!h)return null;var d=">"==h.charAt(1)?1:-1;if(o&&o.strict&&d>0!=(l==t.ch))return null;var f=e.getTokenTypeAt(r(t.line,l+1)),p=a(e,r(t.line,l+(d>0?1:0)),d,f,o);return null==p?null:{from:r(t.line,l),to:p&&p.pos,match:p&&p.ch==h.charAt(0),forward:d>0}}function a(e,t,o,a,s){for(var l=s&&s.maxScanLineLength||1e4,u=s&&s.maxScanLines||1e3,c=[],h=i(s),d=o>0?Math.min(t.line+u,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-u),f=t.line;f!=d;f+=o){var p=e.getLine(f);if(p){var m=o>0?0:p.length-1,y=o>0?p.length:-1;if(!(p.length>l))for(f==t.line&&(m=t.ch-(o<0?1:0));m!=y;m+=o){var g=p.charAt(m);if(h.test(g)&&(void 0===a||(e.getTokenTypeAt(r(f,m+1))||"")==(a||""))){var v=n[g];if(v&&">"==v.charAt(1)==o>0)c.push(g);else{if(!c.length)return{pos:r(f,m),ch:g};c.pop()}}}}}return f-o!=(o>0?e.lastLine():e.firstLine())&&null}function s(e,n,i){for(var a=e.state.matchBrackets.maxHighlightLineLength||1e3,s=i&&i.highlightNonMatching,l=[],u=e.listSelections(),c=0;c<u.length;c++){var h=u[c].empty()&&o(e,u[c].head,i);if(h&&(h.match||!1!==s)&&e.getLine(h.from.line).length<=a){var d=h.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";l.push(e.markText(h.from,r(h.from.line,h.from.ch+1),{className:d})),h.to&&e.getLine(h.to.line).length<=a&&l.push(e.markText(h.to,r(h.to.line,h.to.ch+1),{className:d}))}}if(l.length){t&&e.state.focused&&e.focus();var f=function(){e.operation((function(){for(var e=0;e<l.length;e++)l[e].clear()}))};if(!n)return f;setTimeout(f,800)}}function l(e){e.operation((function(){e.state.matchBrackets.currentlyHighlighted&&(e.state.matchBrackets.currentlyHighlighted(),e.state.matchBrackets.currentlyHighlighted=null),e.state.matchBrackets.currentlyHighlighted=s(e,!1,e.state.matchBrackets)}))}function u(e){e.state.matchBrackets&&e.state.matchBrackets.currentlyHighlighted&&(e.state.matchBrackets.currentlyHighlighted(),e.state.matchBrackets.currentlyHighlighted=null)}e.defineOption("matchBrackets",!1,(function(t,r,n){n&&n!=e.Init&&(t.off("cursorActivity",l),t.off("focus",l),t.off("blur",u),u(t)),r&&(t.state.matchBrackets="object"==typeof r?r:{},t.on("cursorActivity",l),t.on("focus",l),t.on("blur",u))})),e.defineExtension("matchBrackets",(function(){s(this,!0)})),e.defineExtension("findMatchingBracket",(function(e,t,r){return(r||"boolean"==typeof t)&&(r?(r.strict=t,t=r):t=t?{strict:!0}:null),o(this,e,t)})),e.defineExtension("scanForBracket",(function(e,t,r,n){return a(this,e,t,r,n)}))}(r(3668))},1804:function(e,t,r){!function(e){"use strict";function t(t){return function(r,n){var i=n.line,o=r.getLine(i);function a(t){for(var a,s=n.ch,l=0;;){var u=s<=0?-1:o.lastIndexOf(t[0],s-1);if(-1!=u){if(1==l&&u<n.ch)break;if(a=r.getTokenTypeAt(e.Pos(i,u+1)),!/^(comment|string)/.test(a))return{ch:u+1,tokenType:a,pair:t};s=u-1}else{if(1==l)break;l=1,s=o.length}}}function s(t){var n,o,a=1,s=r.lastLine(),l=t.ch;e:for(var u=i;u<=s;++u)for(var c=r.getLine(u),h=u==i?l:0;;){var d=c.indexOf(t.pair[0],h),f=c.indexOf(t.pair[1],h);if(d<0&&(d=c.length),f<0&&(f=c.length),(h=Math.min(d,f))==c.length)break;if(r.getTokenTypeAt(e.Pos(u,h+1))==t.tokenType)if(h==d)++a;else if(!--a){n=u,o=h;break e}++h}return null==n||i==n?null:{from:e.Pos(i,l),to:e.Pos(n,o)}}for(var l=[],u=0;u<t.length;u++){var c=a(t[u]);c&&l.push(c)}for(l.sort((function(e,t){return e.ch-t.ch})),u=0;u<l.length;u++){var h=s(l[u]);if(h)return h}return null}}e.registerHelper("fold","brace",t([["{","}"],["[","]"]])),e.registerHelper("fold","brace-paren",t([["{","}"],["[","]"],["(",")"]])),e.registerHelper("fold","import",(function(t,r){function n(r){if(r<t.firstLine()||r>t.lastLine())return null;var n=t.getTokenAt(e.Pos(r,1));if(/\S/.test(n.string)||(n=t.getTokenAt(e.Pos(r,n.end+1))),"keyword"!=n.type||"import"!=n.string)return null;for(var i=r,o=Math.min(t.lastLine(),r+10);i<=o;++i){var a=t.getLine(i).indexOf(";");if(-1!=a)return{startCh:n.end,end:e.Pos(i,a)}}}var i,o=r.line,a=n(o);if(!a||n(o-1)||(i=n(o-2))&&i.end.line==o-1)return null;for(var s=a.end;;){var l=n(s.line+1);if(null==l)break;s=l.end}return{from:t.clipPos(e.Pos(o,a.startCh+1)),to:s}})),e.registerHelper("fold","include",(function(t,r){function n(r){if(r<t.firstLine()||r>t.lastLine())return null;var n=t.getTokenAt(e.Pos(r,1));return/\S/.test(n.string)||(n=t.getTokenAt(e.Pos(r,n.end+1))),"meta"==n.type&&"#include"==n.string.slice(0,8)?n.start+8:void 0}var i=r.line,o=n(i);if(null==o||null!=n(i-1))return null;for(var a=i;null!=n(a+1);)++a;return{from:e.Pos(i,o+1),to:t.clipPos(e.Pos(a))}}))}(r(3668))},7070:function(e,t,r){!function(e){"use strict";e.registerGlobalHelper("fold","comment",(function(e){return e.blockCommentStart&&e.blockCommentEnd}),(function(t,r){var n=t.getModeAt(r),i=n.blockCommentStart,o=n.blockCommentEnd;if(i&&o){for(var a,s=r.line,l=t.getLine(s),u=r.ch,c=0;;){var h=u<=0?-1:l.lastIndexOf(i,u-1);if(-1!=h){if(1==c&&h<r.ch)return;if(/comment/.test(t.getTokenTypeAt(e.Pos(s,h+1)))&&(0==h||l.slice(h-o.length,h)==o||!/comment/.test(t.getTokenTypeAt(e.Pos(s,h))))){a=h+i.length;break}u=h-1}else{if(1==c)return;c=1,u=l.length}}var d,f,p=1,m=t.lastLine();e:for(var y=s;y<=m;++y)for(var g=t.getLine(y),v=y==s?a:0;;){var b=g.indexOf(i,v),x=g.indexOf(o,v);if(b<0&&(b=g.length),x<0&&(x=g.length),(v=Math.min(b,x))==g.length)break;if(v==b)++p;else if(!--p){d=y,f=v;break e}++v}if(null!=d&&(s!=d||f!=a))return{from:e.Pos(s,a),to:e.Pos(d,f)}}}))}(r(3668))},2219:function(e,t,r){!function(e){"use strict";function t(t,n,o,a){if(o&&o.call){var s=o;o=null}else s=i(t,o,"rangeFinder");"number"==typeof n&&(n=e.Pos(n,0));var l=i(t,o,"minFoldSize");function u(e){var r=s(t,n);if(!r||r.to.line-r.from.line<l)return null;if("fold"===a)return r;for(var i=t.findMarksAt(r.from),o=0;o<i.length;++o)if(i[o].__isFold){if(!e)return null;r.cleared=!0,i[o].clear()}return r}var c=u(!0);if(i(t,o,"scanUp"))for(;!c&&n.line>t.firstLine();)n=e.Pos(n.line-1,0),c=u(!1);if(c&&!c.cleared&&"unfold"!==a){var h=r(t,o,c);e.on(h,"mousedown",(function(t){d.clear(),e.e_preventDefault(t)}));var d=t.markText(c.from,c.to,{replacedWith:h,clearOnEnter:i(t,o,"clearOnEnter"),__isFold:!0});d.on("clear",(function(r,n){e.signal(t,"unfold",t,r,n)})),e.signal(t,"fold",t,c.from,c.to)}}function r(e,t,r){var n=i(e,t,"widget");if("function"==typeof n&&(n=n(r.from,r.to)),"string"==typeof n){var o=document.createTextNode(n);(n=document.createElement("span")).appendChild(o),n.className="CodeMirror-foldmarker"}else n&&(n=n.cloneNode(!0));return n}e.newFoldFunction=function(e,r){return function(n,i){t(n,i,{rangeFinder:e,widget:r})}},e.defineExtension("foldCode",(function(e,r,n){t(this,e,r,n)})),e.defineExtension("isFolded",(function(e){for(var t=this.findMarksAt(e),r=0;r<t.length;++r)if(t[r].__isFold)return!0})),e.commands.toggleFold=function(e){e.foldCode(e.getCursor())},e.commands.fold=function(e){e.foldCode(e.getCursor(),null,"fold")},e.commands.unfold=function(e){e.foldCode(e.getCursor(),{scanUp:!1},"unfold")},e.commands.foldAll=function(t){t.operation((function(){for(var r=t.firstLine(),n=t.lastLine();r<=n;r++)t.foldCode(e.Pos(r,0),{scanUp:!1},"fold")}))},e.commands.unfoldAll=function(t){t.operation((function(){for(var r=t.firstLine(),n=t.lastLine();r<=n;r++)t.foldCode(e.Pos(r,0),{scanUp:!1},"unfold")}))},e.registerHelper("fold","combine",(function(){var e=Array.prototype.slice.call(arguments,0);return function(t,r){for(var n=0;n<e.length;++n){var i=e[n](t,r);if(i)return i}}})),e.registerHelper("fold","auto",(function(e,t){for(var r=e.getHelpers(t,"fold"),n=0;n<r.length;n++){var i=r[n](e,t);if(i)return i}}));var n={rangeFinder:e.fold.auto,widget:"\u2194",minFoldSize:0,scanUp:!1,clearOnEnter:!0};function i(e,t,r){if(t&&void 0!==t[r])return t[r];var i=e.options.foldOptions;return i&&void 0!==i[r]?i[r]:n[r]}e.defineOption("foldOptions",null),e.defineExtension("foldOption",(function(e,t){return i(this,e,t)}))}(r(3668))},7430:function(e,t,r){!function(e){"use strict";e.defineOption("foldGutter",!1,(function(t,i,o){o&&o!=e.Init&&(t.clearGutter(t.state.foldGutter.options.gutter),t.state.foldGutter=null,t.off("gutterClick",u),t.off("changes",h),t.off("viewportChange",d),t.off("fold",f),t.off("unfold",f),t.off("swapDoc",h),t.off("optionChange",c)),i&&(t.state.foldGutter=new r(n(i)),l(t),t.on("gutterClick",u),t.on("changes",h),t.on("viewportChange",d),t.on("fold",f),t.on("unfold",f),t.on("swapDoc",h),t.on("optionChange",c))}));var t=e.Pos;function r(e){this.options=e,this.from=this.to=0}function n(e){return!0===e&&(e={}),null==e.gutter&&(e.gutter="CodeMirror-foldgutter"),null==e.indicatorOpen&&(e.indicatorOpen="CodeMirror-foldgutter-open"),null==e.indicatorFolded&&(e.indicatorFolded="CodeMirror-foldgutter-folded"),e}function i(e,r){for(var n=e.findMarks(t(r,0),t(r+1,0)),i=0;i<n.length;++i)if(n[i].__isFold){var o=n[i].find(-1);if(o&&o.line===r)return n[i]}}function o(e){if("string"==typeof e){var t=document.createElement("div");return t.className=e+" CodeMirror-guttermarker-subtle",t}return e.cloneNode(!0)}function a(e,r,n){var a=e.state.foldGutter.options,l=r-1,u=e.foldOption(a,"minFoldSize"),c=e.foldOption(a,"rangeFinder"),h="string"==typeof a.indicatorFolded&&s(a.indicatorFolded),d="string"==typeof a.indicatorOpen&&s(a.indicatorOpen);e.eachLine(r,n,(function(r){++l;var n=null,s=r.gutterMarkers;if(s&&(s=s[a.gutter]),i(e,l)){if(h&&s&&h.test(s.className))return;n=o(a.indicatorFolded)}else{var f=t(l,0),p=c&&c(e,f);if(p&&p.to.line-p.from.line>=u){if(d&&s&&d.test(s.className))return;n=o(a.indicatorOpen)}}(n||s)&&e.setGutterMarker(r,a.gutter,n)}))}function s(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function l(e){var t=e.getViewport(),r=e.state.foldGutter;r&&(e.operation((function(){a(e,t.from,t.to)})),r.from=t.from,r.to=t.to)}function u(e,r,n){var o=e.state.foldGutter;if(o){var a=o.options;if(n==a.gutter){var s=i(e,r);s?s.clear():e.foldCode(t(r,0),a)}}}function c(e,t){"mode"==t&&h(e)}function h(e){var t=e.state.foldGutter;if(t){var r=t.options;t.from=t.to=0,clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout((function(){l(e)}),r.foldOnChangeTimeSpan||600)}}function d(e){var t=e.state.foldGutter;if(t){var r=t.options;clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout((function(){var r=e.getViewport();t.from==t.to||r.from-t.to>20||t.from-r.to>20?l(e):e.operation((function(){r.from<t.from&&(a(e,r.from,t.from),t.from=r.from),r.to>t.to&&(a(e,t.to,r.to),t.to=r.to)}))}),r.updateViewportTimeSpan||400)}}function f(e,t){var r=e.state.foldGutter;if(r){var n=t.line;n>=r.from&&n<r.to&&a(e,n,n+1)}}}(r(3668),r(2219))},3259:function(e,t,r){!function(e){"use strict";var t=e.Pos;function r(e,t){return e.line-t.line||e.ch-t.ch}var n="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",i=new RegExp("<(/?)(["+n+"]["+n+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*)","g");function o(e,t,r,n){this.line=t,this.ch=r,this.cm=e,this.text=e.getLine(t),this.min=n?Math.max(n.from,e.firstLine()):e.firstLine(),this.max=n?Math.min(n.to-1,e.lastLine()):e.lastLine()}function a(e,r){var n=e.cm.getTokenTypeAt(t(e.line,r));return n&&/\btag\b/.test(n)}function s(e){if(!(e.line>=e.max))return e.ch=0,e.text=e.cm.getLine(++e.line),!0}function l(e){if(!(e.line<=e.min))return e.text=e.cm.getLine(--e.line),e.ch=e.text.length,!0}function u(e){for(;;){var t=e.text.indexOf(">",e.ch);if(-1==t){if(s(e))continue;return}if(a(e,t+1)){var r=e.text.lastIndexOf("/",t),n=r>-1&&!/\S/.test(e.text.slice(r+1,t));return e.ch=t+1,n?"selfClose":"regular"}e.ch=t+1}}function c(e){for(;;){var t=e.ch?e.text.lastIndexOf("<",e.ch-1):-1;if(-1==t){if(l(e))continue;return}if(a(e,t+1)){i.lastIndex=t,e.ch=t;var r=i.exec(e.text);if(r&&r.index==t)return r}else e.ch=t}}function h(e){for(;;){i.lastIndex=e.ch;var t=i.exec(e.text);if(!t){if(s(e))continue;return}if(a(e,t.index+1))return e.ch=t.index+t[0].length,t;e.ch=t.index+1}}function d(e){for(;;){var t=e.ch?e.text.lastIndexOf(">",e.ch-1):-1;if(-1==t){if(l(e))continue;return}if(a(e,t+1)){var r=e.text.lastIndexOf("/",t),n=r>-1&&!/\S/.test(e.text.slice(r+1,t));return e.ch=t+1,n?"selfClose":"regular"}e.ch=t}}function f(e,r){for(var n=[];;){var i,o=h(e),a=e.line,s=e.ch-(o?o[0].length:0);if(!o||!(i=u(e)))return;if("selfClose"!=i)if(o[1]){for(var l=n.length-1;l>=0;--l)if(n[l]==o[2]){n.length=l;break}if(l<0&&(!r||r==o[2]))return{tag:o[2],from:t(a,s),to:t(e.line,e.ch)}}else n.push(o[2])}}function p(e,r){for(var n=[];;){var i=d(e);if(!i)return;if("selfClose"!=i){var o=e.line,a=e.ch,s=c(e);if(!s)return;if(s[1])n.push(s[2]);else{for(var l=n.length-1;l>=0;--l)if(n[l]==s[2]){n.length=l;break}if(l<0&&(!r||r==s[2]))return{tag:s[2],from:t(e.line,e.ch),to:t(o,a)}}}else c(e)}}e.registerHelper("fold","xml",(function(e,n){for(var i=new o(e,n.line,0);;){var a=h(i);if(!a||i.line!=n.line)return;var s=u(i);if(!s)return;if(!a[1]&&"selfClose"!=s){var l=t(i.line,i.ch),c=f(i,a[2]);return c&&r(c.from,l)>0?{from:l,to:c.from}:null}}})),e.findMatchingTag=function(e,n,i){var a=new o(e,n.line,n.ch,i);if(-1!=a.text.indexOf(">")||-1!=a.text.indexOf("<")){var s=u(a),l=s&&t(a.line,a.ch),h=s&&c(a);if(s&&h&&!(r(a,n)>0)){var d={from:t(a.line,a.ch),to:l,tag:h[2]};return"selfClose"==s?{open:d,close:null,at:"open"}:h[1]?{open:p(a,h[2]),close:d,at:"close"}:{open:d,close:f(a=new o(e,l.line,l.ch,i),h[2]),at:"open"}}}},e.findEnclosingTag=function(e,t,r,n){for(var i=new o(e,t.line,t.ch,r);;){var a=p(i,n);if(!a)break;var s=f(new o(e,t.line,t.ch,r),a.tag);if(s)return{open:a,close:s}}},e.scanForClosingTag=function(e,t,r,n){return f(new o(e,t.line,t.ch,n?{from:0,to:n}:null),r)}}(r(3668))},2304:function(e,t,r){!function(e){"use strict";var t=/[\w$]+/,r=500;e.registerHelper("hint","anyword",(function(n,i){for(var o=i&&i.word||t,a=i&&i.range||r,s=n.getCursor(),l=n.getLine(s.line),u=s.ch,c=u;c&&o.test(l.charAt(c-1));)--c;for(var h=c!=u&&l.slice(c,u),d=i&&i.list||[],f={},p=new RegExp(o.source,"g"),m=-1;m<=1;m+=2)for(var y=s.line,g=Math.min(Math.max(y+m*a,n.firstLine()),n.lastLine())+m;y!=g;y+=m)for(var v,b=n.getLine(y);v=p.exec(b);)y==s.line&&v[0]===h||h&&0!=v[0].lastIndexOf(h,0)||Object.prototype.hasOwnProperty.call(f,v[0])||(f[v[0]]=!0,d.push(v[0]));return{list:d,from:e.Pos(s.line,c),to:e.Pos(s.line,u)}}))}(r(3668))},3897:function(e,t,r){!function(e){var t=e.Pos;function r(e,t){for(var r=0,n=e.length;r<n;++r)t(e[r])}function n(e,t){if(!Array.prototype.indexOf){for(var r=e.length;r--;)if(e[r]===t)return!0;return!1}return-1!=e.indexOf(t)}function i(r,n,i,o){var a=r.getCursor(),s=i(r,a);if(!/\b(?:string|comment)\b/.test(s.type)){var l=e.innerMode(r.getMode(),s.state);if("json"!==l.mode.helperType){s.state=l.state,/^[\w$_]*$/.test(s.string)?s.end>a.ch&&(s.end=a.ch,s.string=s.string.slice(0,a.ch-s.start)):s={start:a.ch,end:a.ch,string:"",state:s.state,type:"."==s.string?"property":null};for(var u=s;"property"==u.type;){if("."!=(u=i(r,t(a.line,u.start))).string)return;if(u=i(r,t(a.line,u.start)),!c)var c=[];c.push(u)}return{list:p(s,c,n,o),from:t(a.line,s.start),to:t(a.line,s.end)}}}}function o(e,t){return i(e,h,(function(e,t){return e.getTokenAt(t)}),t)}function a(e,t){var r=e.getTokenAt(t);return t.ch==r.start+1&&"."==r.string.charAt(0)?(r.end=r.start,r.string=".",r.type="property"):/^\.[\w$_]*$/.test(r.string)&&(r.type="property",r.start++,r.string=r.string.replace(/\./,"")),r}function s(e,t){return i(e,d,a,t)}e.registerHelper("hint","javascript",o),e.registerHelper("hint","coffeescript",s);var l="charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight toUpperCase toLowerCase split concat match replace search".split(" "),u="length concat join splice push pop shift unshift slice reverse sort indexOf lastIndexOf every some filter forEach map reduce reduceRight ".split(" "),c="prototype apply call bind".split(" "),h="break case catch class const continue debugger default delete do else export extends false finally for function if in import instanceof new null return super switch this throw true try typeof var void while with yield".split(" "),d="and break catch class continue delete do else extends false finally for if in instanceof isnt new no not null of off on or return switch then throw true try typeof until void while with yes".split(" ");function f(e,t){if(Object.getOwnPropertyNames&&Object.getPrototypeOf)for(var r=e;r;r=Object.getPrototypeOf(r))Object.getOwnPropertyNames(r).forEach(t);else for(var n in e)t(n)}function p(e,t,i,o){var a=[],s=e.string,h=o&&o.globalScope||window;function d(e){0!=e.lastIndexOf(s,0)||n(a,e)||a.push(e)}function p(e){"string"==typeof e?r(l,d):e instanceof Array?r(u,d):e instanceof Function&&r(c,d),f(e,d)}if(t&&t.length){var m,y=t.pop();for(y.type&&0===y.type.indexOf("variable")?(o&&o.additionalContext&&(m=o.additionalContext[y.string]),o&&!1===o.useGlobalScope||(m=m||h[y.string])):"string"==y.type?m="":"atom"==y.type?m=1:"function"==y.type&&(null==h.jQuery||"$"!=y.string&&"jQuery"!=y.string||"function"!=typeof h.jQuery?null!=h._&&"_"==y.string&&"function"==typeof h._&&(m=h._()):m=h.jQuery());null!=m&&t.length;)m=m[t.pop().string];null!=m&&p(m)}else{for(var g=e.state.localVars;g;g=g.next)d(g.name);for(var v=e.state.context;v;v=v.prev)for(g=v.vars;g;g=g.next)d(g.name);for(g=e.state.globalVars;g;g=g.next)d(g.name);if(o&&null!=o.additionalContext)for(var b in o.additionalContext)d(b);o&&!1===o.useGlobalScope||p(h),r(i,d)}return a}}(r(3668))},2322:function(e,t,r){!function(e){"use strict";var t="CodeMirror-hint",r="CodeMirror-hint-active";function n(e,t){if(this.cm=e,this.options=t,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length,this.options.updateOnCursorActivity){var r=this;e.on("cursorActivity",this.activityFunc=function(){r.cursorActivity()})}}e.showHint=function(e,t,r){if(!t)return e.showHint(r);r&&r.async&&(t.async=!0);var n={hint:t};if(r)for(var i in r)n[i]=r[i];return e.showHint(n)},e.defineExtension("showHint",(function(t){t=a(this,this.getCursor("start"),t);var r=this.listSelections();if(!(r.length>1)){if(this.somethingSelected()){if(!t.hint.supportsSelection)return;for(var i=0;i<r.length;i++)if(r[i].head.line!=r[i].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var o=this.state.completionActive=new n(this,t);o.options.hint&&(e.signal(this,"startCompletion",this),o.update(!0))}})),e.defineExtension("closeHint",(function(){this.state.completionActive&&this.state.completionActive.close()}));var i=window.requestAnimationFrame||function(e){return setTimeout(e,1e3/60)},o=window.cancelAnimationFrame||clearTimeout;function a(e,t,r){var n=e.options.hintOptions,i={};for(var o in p)i[o]=p[o];if(n)for(var o in n)void 0!==n[o]&&(i[o]=n[o]);if(r)for(var o in r)void 0!==r[o]&&(i[o]=r[o]);return i.hint.resolve&&(i.hint=i.hint.resolve(e,t)),i}function s(e){return"string"==typeof e?e:e.text}function l(e,t){var r={Up:function(){t.moveFocus(-1)},Down:function(){t.moveFocus(1)},PageUp:function(){t.moveFocus(1-t.menuSize(),!0)},PageDown:function(){t.moveFocus(t.menuSize()-1,!0)},Home:function(){t.setFocus(0)},End:function(){t.setFocus(t.length-1)},Enter:t.pick,Tab:t.pick,Esc:t.close};/Mac/.test(navigator.platform)&&(r["Ctrl-P"]=function(){t.moveFocus(-1)},r["Ctrl-N"]=function(){t.moveFocus(1)});var n=e.options.customKeys,i=n?{}:r;function o(e,n){var o;o="string"!=typeof n?function(e){return n(e,t)}:r.hasOwnProperty(n)?r[n]:n,i[e]=o}if(n)for(var a in n)n.hasOwnProperty(a)&&o(a,n[a]);var s=e.options.extraKeys;if(s)for(var a in s)s.hasOwnProperty(a)&&o(a,s[a]);return i}function u(e,t){for(;t&&t!=e;){if("LI"===t.nodeName.toUpperCase()&&t.parentNode==e)return t;t=t.parentNode}}function c(n,i){this.id="cm-complete-"+Math.floor(Math.random(1e6)),this.completion=n,this.data=i,this.picked=!1;var o=this,a=n.cm,c=a.getInputField().ownerDocument,h=c.defaultView||c.parentWindow,d=this.hints=c.createElement("ul");d.setAttribute("role","listbox"),d.setAttribute("aria-expanded","true"),d.id=this.id;var f=n.cm.options.theme;d.className="CodeMirror-hints "+f,this.selectedHint=i.selectedHint||0;for(var p=i.list,m=0;m<p.length;++m){var y=d.appendChild(c.createElement("li")),g=p[m],v=t+(m!=this.selectedHint?"":" "+r);null!=g.className&&(v=g.className+" "+v),y.className=v,m==this.selectedHint&&y.setAttribute("aria-selected","true"),y.id=this.id+"-"+m,y.setAttribute("role","option"),g.render?g.render(y,i,g):y.appendChild(c.createTextNode(g.displayText||s(g))),y.hintId=m}var b=n.options.container||c.body,x=a.cursorCoords(n.options.alignWithWord?i.from:null),w=x.left,S=x.bottom,k=!0,_=0,j=0;if(b!==c.body){var M=-1!==["absolute","relative","fixed"].indexOf(h.getComputedStyle(b).position)?b:b.offsetParent,C=M.getBoundingClientRect(),P=c.body.getBoundingClientRect();_=C.left-P.left-M.scrollLeft,j=C.top-P.top-M.scrollTop}d.style.left=w-_+"px",d.style.top=S-j+"px";var T=h.innerWidth||Math.max(c.body.offsetWidth,c.documentElement.offsetWidth),E=h.innerHeight||Math.max(c.body.offsetHeight,c.documentElement.offsetHeight);b.appendChild(d),a.getInputField().setAttribute("aria-autocomplete","list"),a.getInputField().setAttribute("aria-owns",this.id),a.getInputField().setAttribute("aria-activedescendant",this.id+"-"+this.selectedHint);var O,A=n.options.moveOnOverlap?d.getBoundingClientRect():new DOMRect,L=!!n.options.paddingForScrollbar&&d.scrollHeight>d.clientHeight+1;if(setTimeout((function(){O=a.getScrollInfo()})),A.bottom-E>0){var N=A.bottom-A.top,R=A.top-(x.bottom-x.top)-2;E-A.top<R?(N>R&&(d.style.height=(N=R)+"px"),d.style.top=(S=x.top-N)+j+"px",k=!1):d.style.height=E-A.top-2+"px"}var D,I=A.right-T;if(L&&(I+=a.display.nativeBarWidth),I>0&&(A.right-A.left>T&&(d.style.width=T-5+"px",I-=A.right-A.left-T),d.style.left=(w=Math.max(x.left-I-_,0))+"px"),L)for(var F=d.firstChild;F;F=F.nextSibling)F.style.paddingRight=a.display.nativeBarWidth+"px";a.addKeyMap(this.keyMap=l(n,{moveFocus:function(e,t){o.changeActive(o.selectedHint+e,t)},setFocus:function(e){o.changeActive(e)},menuSize:function(){return o.screenAmount()},length:p.length,close:function(){n.close()},pick:function(){o.pick()},data:i})),n.options.closeOnUnfocus&&(a.on("blur",this.onBlur=function(){D=setTimeout((function(){n.close()}),100)}),a.on("focus",this.onFocus=function(){clearTimeout(D)})),a.on("scroll",this.onScroll=function(){var e=a.getScrollInfo(),t=a.getWrapperElement().getBoundingClientRect();O||(O=a.getScrollInfo());var r=S+O.top-e.top,i=r-(h.pageYOffset||(c.documentElement||c.body).scrollTop);if(k||(i+=d.offsetHeight),i<=t.top||i>=t.bottom)return n.close();d.style.top=r+"px",d.style.left=w+O.left-e.left+"px"}),e.on(d,"dblclick",(function(e){var t=u(d,e.target||e.srcElement);t&&null!=t.hintId&&(o.changeActive(t.hintId),o.pick())})),e.on(d,"click",(function(e){var t=u(d,e.target||e.srcElement);t&&null!=t.hintId&&(o.changeActive(t.hintId),n.options.completeOnSingleClick&&o.pick())})),e.on(d,"mousedown",(function(){setTimeout((function(){a.focus()}),20)}));var B=this.getSelectedHintRange();return 0===B.from&&0===B.to||this.scrollToActive(),e.signal(i,"select",p[this.selectedHint],d.childNodes[this.selectedHint]),!0}function h(e,t){if(!e.somethingSelected())return t;for(var r=[],n=0;n<t.length;n++)t[n].supportsSelection&&r.push(t[n]);return r}function d(e,t,r,n){if(e.async)e(t,n,r);else{var i=e(t,r);i&&i.then?i.then(n):n(i)}}function f(t,r){var n,i=t.getHelpers(r,"hint");if(i.length){var o=function(e,t,r){var n=h(e,i);function o(i){if(i==n.length)return t(null);d(n[i],e,r,(function(e){e&&e.list.length>0?t(e):o(i+1)}))}o(0)};return o.async=!0,o.supportsSelection=!0,o}return(n=t.getHelper(t.getCursor(),"hintWords"))?function(t){return e.hint.fromList(t,{words:n})}:e.hint.anyword?function(t,r){return e.hint.anyword(t,r)}:function(){}}n.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.options.updateOnCursorActivity&&this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&e.signal(this.data,"close"),this.widget&&this.widget.close(),e.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(t,r){var n=t.list[r],i=this;this.cm.operation((function(){n.hint?n.hint(i.cm,t,n):i.cm.replaceRange(s(n),n.from||t.from,n.to||t.to,"complete"),e.signal(t,"pick",n),i.cm.scrollIntoView()})),this.options.closeOnPick&&this.close()},cursorActivity:function(){this.debounce&&(o(this.debounce),this.debounce=0);var e=this.startPos;this.data&&(e=this.data.from);var t=this.cm.getCursor(),r=this.cm.getLine(t.line);if(t.line!=this.startPos.line||r.length-t.ch!=this.startLen-this.startPos.ch||t.ch<e.ch||this.cm.somethingSelected()||!t.ch||this.options.closeCharacters.test(r.charAt(t.ch-1)))this.close();else{var n=this;this.debounce=i((function(){n.update()})),this.widget&&this.widget.disable()}},update:function(e){if(null!=this.tick){var t=this,r=++this.tick;d(this.options.hint,this.cm,this.options,(function(n){t.tick==r&&t.finishUpdate(n,e)}))}},finishUpdate:function(t,r){this.data&&e.signal(this.data,"update");var n=this.widget&&this.widget.picked||r&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=t,t&&t.list.length&&(n&&1==t.list.length?this.pick(t,0):(this.widget=new c(this,t),e.signal(t,"shown")))}},c.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode&&this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var e=this.completion.cm.getInputField();e.removeAttribute("aria-activedescendant"),e.removeAttribute("aria-owns");var t=this.completion.cm;this.completion.options.closeOnUnfocus&&(t.off("blur",this.onBlur),t.off("focus",this.onFocus)),t.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var e=this;this.keyMap={Enter:function(){e.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(t,n){if(t>=this.data.list.length?t=n?this.data.list.length-1:0:t<0&&(t=n?0:this.data.list.length-1),this.selectedHint!=t){var i=this.hints.childNodes[this.selectedHint];i&&(i.className=i.className.replace(" "+r,""),i.removeAttribute("aria-selected")),(i=this.hints.childNodes[this.selectedHint=t]).className+=" "+r,i.setAttribute("aria-selected","true"),this.completion.cm.getInputField().setAttribute("aria-activedescendant",i.id),this.scrollToActive(),e.signal(this.data,"select",this.data.list[this.selectedHint],i)}},scrollToActive:function(){var e=this.getSelectedHintRange(),t=this.hints.childNodes[e.from],r=this.hints.childNodes[e.to],n=this.hints.firstChild;t.offsetTop<this.hints.scrollTop?this.hints.scrollTop=t.offsetTop-n.offsetTop:r.offsetTop+r.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=r.offsetTop+r.offsetHeight-this.hints.clientHeight+n.offsetTop)},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1},getSelectedHintRange:function(){var e=this.completion.options.scrollMargin||0;return{from:Math.max(0,this.selectedHint-e),to:Math.min(this.data.list.length-1,this.selectedHint+e)}}},e.registerHelper("hint","auto",{resolve:f}),e.registerHelper("hint","fromList",(function(t,r){var n,i=t.getCursor(),o=t.getTokenAt(i),a=e.Pos(i.line,o.start),s=i;o.start<i.ch&&/\w/.test(o.string.charAt(i.ch-o.start-1))?n=o.string.substr(0,i.ch-o.start):(n="",a=i);for(var l=[],u=0;u<r.words.length;u++){var c=r.words[u];c.slice(0,n.length)==n&&l.push(c)}if(l.length)return{list:l,from:a,to:s}})),e.commands.autocomplete=e.showHint;var p={hint:e.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnPick:!0,closeOnUnfocus:!0,updateOnCursorActivity:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null,paddingForScrollbar:!0,moveOnOverlap:!0};e.defineOption("hintOptions",null)}(r(3668))},5740:function(e,t,r){!function(e){"use strict";function t(e,t){function r(e){clearTimeout(n.doRedraw),n.doRedraw=setTimeout((function(){n.redraw()}),e)}this.cm=e,this.options=t,this.buttonHeight=t.scrollButtonHeight||e.getOption("scrollButtonHeight"),this.annotations=[],this.doRedraw=this.doUpdate=null,this.div=e.getWrapperElement().appendChild(document.createElement("div")),this.div.style.cssText="position: absolute; right: 0; top: 0; z-index: 7; pointer-events: none",this.computeScale();var n=this;e.on("refresh",this.resizeHandler=function(){clearTimeout(n.doUpdate),n.doUpdate=setTimeout((function(){n.computeScale()&&r(20)}),100)}),e.on("markerAdded",this.resizeHandler),e.on("markerCleared",this.resizeHandler),!1!==t.listenForChanges&&e.on("changes",this.changeHandler=function(){r(250)})}e.defineExtension("annotateScrollbar",(function(e){return"string"==typeof e&&(e={className:e}),new t(this,e)})),e.defineOption("scrollButtonHeight",0),t.prototype.computeScale=function(){var e=this.cm,t=(e.getWrapperElement().clientHeight-e.display.barHeight-2*this.buttonHeight)/e.getScrollerElement().scrollHeight;if(t!=this.hScale)return this.hScale=t,!0},t.prototype.update=function(e){this.annotations=e,this.redraw()},t.prototype.redraw=function(e){!1!==e&&this.computeScale();var t=this.cm,r=this.hScale,n=document.createDocumentFragment(),i=this.annotations,o=t.getOption("lineWrapping"),a=o&&1.5*t.defaultTextHeight(),s=null,l=null;function u(e,r){if(s!=e.line){s=e.line,l=t.getLineHandle(e.line);var n=t.getLineHandleVisualStart(l);n!=l&&(s=t.getLineNumber(n),l=n)}return l.widgets&&l.widgets.length||o&&l.height>a?t.charCoords(e,"local")[r?"top":"bottom"]:t.heightAtLine(l,"local")+(r?0:l.height)}var c=t.lastLine();if(t.display.barWidth)for(var h,d=0;d<i.length;d++){var f=i[d];if(!(f.to.line>c)){for(var p=h||u(f.from,!0)*r,m=u(f.to,!1)*r;d<i.length-1&&!(i[d+1].to.line>c)&&!((h=u(i[d+1].from,!0)*r)>m+.9);)m=u((f=i[++d]).to,!1)*r;if(m!=p){var y=Math.max(m-p,3),g=n.appendChild(document.createElement("div"));g.style.cssText="position: absolute; right: 0px; width: "+Math.max(t.display.barWidth-1,2)+"px; top: "+(p+this.buttonHeight)+"px; height: "+y+"px",g.className=this.options.className,f.id&&g.setAttribute("annotation-id",f.id)}}}this.div.textContent="",this.div.appendChild(n)},t.prototype.clear=function(){this.cm.off("refresh",this.resizeHandler),this.cm.off("markerAdded",this.resizeHandler),this.cm.off("markerCleared",this.resizeHandler),this.changeHandler&&this.cm.off("changes",this.changeHandler),this.div.parentNode.removeChild(this.div)}}(r(3668))},4454:function(e,t,r){!function(e){"use strict";var t={style:"matchhighlight",minChars:2,delay:100,wordsOnly:!1,annotateScrollbar:!1,showToken:!1,trim:!0};function r(e){for(var r in this.options={},t)this.options[r]=(e&&e.hasOwnProperty(r)?e:t)[r];this.overlay=this.timeout=null,this.matchesonscroll=null,this.active=!1}function n(e){var t=e.state.matchHighlighter;(t.active||e.hasFocus())&&o(e,t)}function i(e){var t=e.state.matchHighlighter;t.active||(t.active=!0,o(e,t))}function o(e,t){clearTimeout(t.timeout),t.timeout=setTimeout((function(){l(e)}),t.options.delay)}function a(e,t,r,n){var i=e.state.matchHighlighter;if(e.addOverlay(i.overlay=h(t,r,n)),i.options.annotateScrollbar&&e.showMatchesOnScrollbar){var o=r?new RegExp((/\w/.test(t.charAt(0))?"\\b":"")+t.replace(/[\\\[.+*?(){|^$]/g,"\\$&")+(/\w/.test(t.charAt(t.length-1))?"\\b":"")):t;i.matchesonscroll=e.showMatchesOnScrollbar(o,!1,{className:"CodeMirror-selection-highlight-scrollbar"})}}function s(e){var t=e.state.matchHighlighter;t.overlay&&(e.removeOverlay(t.overlay),t.overlay=null,t.matchesonscroll&&(t.matchesonscroll.clear(),t.matchesonscroll=null))}function l(e){e.operation((function(){var t=e.state.matchHighlighter;if(s(e),e.somethingSelected()||!t.options.showToken){var r=e.getCursor("from"),n=e.getCursor("to");if(r.line==n.line&&(!t.options.wordsOnly||u(e,r,n))){var i=e.getRange(r,n);t.options.trim&&(i=i.replace(/^\s+|\s+$/g,"")),i.length>=t.options.minChars&&a(e,i,!1,t.options.style)}}else{for(var o=!0===t.options.showToken?/[\w$]/:t.options.showToken,l=e.getCursor(),c=e.getLine(l.line),h=l.ch,d=h;h&&o.test(c.charAt(h-1));)--h;for(;d<c.length&&o.test(c.charAt(d));)++d;h<d&&a(e,c.slice(h,d),o,t.options.style)}}))}function u(e,t,r){if(null!==e.getRange(t,r).match(/^\w+$/)){if(t.ch>0){var n={line:t.line,ch:t.ch-1};if(null===e.getRange(n,t).match(/\W/))return!1}return!(r.ch<e.getLine(t.line).length&&(n={line:r.line,ch:r.ch+1},null===e.getRange(r,n).match(/\W/)))}return!1}function c(e,t){return(!e.start||!t.test(e.string.charAt(e.start-1)))&&(e.pos==e.string.length||!t.test(e.string.charAt(e.pos)))}function h(e,t,r){return{token:function(n){if(n.match(e)&&(!t||c(n,t)))return r;n.next(),n.skipTo(e.charAt(0))||n.skipToEnd()}}}e.defineOption("highlightSelectionMatches",!1,(function(t,o,a){if(a&&a!=e.Init&&(s(t),clearTimeout(t.state.matchHighlighter.timeout),t.state.matchHighlighter=null,t.off("cursorActivity",n),t.off("focus",i)),o){var u=t.state.matchHighlighter=new r(o);t.hasFocus()?(u.active=!0,l(t)):t.on("focus",i),t.on("cursorActivity",n)}}))}(r(3668),r(4418))},4418:function(e,t,r){!function(e){"use strict";function t(e,t,r,n){this.cm=e,this.options=n;var i={listenForChanges:!1};for(var o in n)i[o]=n[o];i.className||(i.className="CodeMirror-search-match"),this.annotation=e.annotateScrollbar(i),this.query=t,this.caseFold=r,this.gap={from:e.firstLine(),to:e.lastLine()+1},this.matches=[],this.update=null,this.findMatches(),this.annotation.update(this.matches);var a=this;e.on("change",this.changeHandler=function(e,t){a.onChange(t)})}e.defineExtension("showMatchesOnScrollbar",(function(e,r,n){return"string"==typeof n&&(n={className:n}),n||(n={}),new t(this,e,r,n)}));var r=1e3;function n(e,t,r){return e<=t?e:Math.max(t,e+r)}t.prototype.findMatches=function(){if(this.gap){for(var t=0;t<this.matches.length&&!((o=this.matches[t]).from.line>=this.gap.to);t++)o.to.line>=this.gap.from&&this.matches.splice(t--,1);for(var n=this.cm.getSearchCursor(this.query,e.Pos(this.gap.from,0),{caseFold:this.caseFold,multiline:this.options.multiline}),i=this.options&&this.options.maxMatches||r;n.findNext();){var o;if((o={from:n.from(),to:n.to()}).from.line>=this.gap.to)break;if(this.matches.splice(t++,0,o),this.matches.length>i)break}this.gap=null}},t.prototype.onChange=function(t){var r=t.from.line,i=e.changeEnd(t).line,o=i-t.to.line;if(this.gap?(this.gap.from=Math.min(n(this.gap.from,r,o),t.from.line),this.gap.to=Math.max(n(this.gap.to,r,o),t.from.line)):this.gap={from:t.from.line,to:i+1},o)for(var a=0;a<this.matches.length;a++){var s=this.matches[a],l=n(s.from.line,r,o);l!=s.from.line&&(s.from=e.Pos(l,s.from.ch));var u=n(s.to.line,r,o);u!=s.to.line&&(s.to=e.Pos(u,s.to.ch))}clearTimeout(this.update);var c=this;this.update=setTimeout((function(){c.updateAfterChange()}),250)},t.prototype.updateAfterChange=function(){this.findMatches(),this.annotation.update(this.matches)},t.prototype.clear=function(){this.cm.off("change",this.changeHandler),this.annotation.clear()}}(r(3668),r(6849),r(5740))},6849:function(e,t,r){!function(e){"use strict";var t,r,n=e.Pos;function i(e){var t=e.flags;return null!=t?t:(e.ignoreCase?"i":"")+(e.global?"g":"")+(e.multiline?"m":"")}function o(e,t){for(var r=i(e),n=r,o=0;o<t.length;o++)-1==n.indexOf(t.charAt(o))&&(n+=t.charAt(o));return r==n?e:new RegExp(e.source,n)}function a(e){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(e.source)}function s(e,t,r){t=o(t,"g");for(var i=r.line,a=r.ch,s=e.lastLine();i<=s;i++,a=0){t.lastIndex=a;var l=e.getLine(i),u=t.exec(l);if(u)return{from:n(i,u.index),to:n(i,u.index+u[0].length),match:u}}}function l(e,t,r){if(!a(t))return s(e,t,r);t=o(t,"gm");for(var i,l=1,u=r.line,c=e.lastLine();u<=c;){for(var h=0;h<l&&!(u>c);h++){var d=e.getLine(u++);i=null==i?d:i+"\n"+d}l*=2,t.lastIndex=r.ch;var f=t.exec(i);if(f){var p=i.slice(0,f.index).split("\n"),m=f[0].split("\n"),y=r.line+p.length-1,g=p[p.length-1].length;return{from:n(y,g),to:n(y+m.length-1,1==m.length?g+m[0].length:m[m.length-1].length),match:f}}}}function u(e,t,r){for(var n,i=0;i<=e.length;){t.lastIndex=i;var o=t.exec(e);if(!o)break;var a=o.index+o[0].length;if(a>e.length-r)break;(!n||a>n.index+n[0].length)&&(n=o),i=o.index+1}return n}function c(e,t,r){t=o(t,"g");for(var i=r.line,a=r.ch,s=e.firstLine();i>=s;i--,a=-1){var l=e.getLine(i),c=u(l,t,a<0?0:l.length-a);if(c)return{from:n(i,c.index),to:n(i,c.index+c[0].length),match:c}}}function h(e,t,r){if(!a(t))return c(e,t,r);t=o(t,"gm");for(var i,s=1,l=e.getLine(r.line).length-r.ch,h=r.line,d=e.firstLine();h>=d;){for(var f=0;f<s&&h>=d;f++){var p=e.getLine(h--);i=null==i?p:p+"\n"+i}s*=2;var m=u(i,t,l);if(m){var y=i.slice(0,m.index).split("\n"),g=m[0].split("\n"),v=h+y.length,b=y[y.length-1].length;return{from:n(v,b),to:n(v+g.length-1,1==g.length?b+g[0].length:g[g.length-1].length),match:m}}}}function d(e,t,r,n){if(e.length==t.length)return r;for(var i=0,o=r+Math.max(0,e.length-t.length);;){if(i==o)return i;var a=i+o>>1,s=n(e.slice(0,a)).length;if(s==r)return a;s>r?o=a:i=a+1}}function f(e,i,o,a){if(!i.length)return null;var s=a?t:r,l=s(i).split(/\r|\n\r?/);e:for(var u=o.line,c=o.ch,h=e.lastLine()+1-l.length;u<=h;u++,c=0){var f=e.getLine(u).slice(c),p=s(f);if(1==l.length){var m=p.indexOf(l[0]);if(-1==m)continue e;return o=d(f,p,m,s)+c,{from:n(u,d(f,p,m,s)+c),to:n(u,d(f,p,m+l[0].length,s)+c)}}var y=p.length-l[0].length;if(p.slice(y)==l[0]){for(var g=1;g<l.length-1;g++)if(s(e.getLine(u+g))!=l[g])continue e;var v=e.getLine(u+l.length-1),b=s(v),x=l[l.length-1];if(b.slice(0,x.length)==x)return{from:n(u,d(f,p,y,s)+c),to:n(u+l.length-1,d(v,b,x.length,s))}}}}function p(e,i,o,a){if(!i.length)return null;var s=a?t:r,l=s(i).split(/\r|\n\r?/);e:for(var u=o.line,c=o.ch,h=e.firstLine()-1+l.length;u>=h;u--,c=-1){var f=e.getLine(u);c>-1&&(f=f.slice(0,c));var p=s(f);if(1==l.length){var m=p.lastIndexOf(l[0]);if(-1==m)continue e;return{from:n(u,d(f,p,m,s)),to:n(u,d(f,p,m+l[0].length,s))}}var y=l[l.length-1];if(p.slice(0,y.length)==y){var g=1;for(o=u-l.length+1;g<l.length-1;g++)if(s(e.getLine(o+g))!=l[g])continue e;var v=e.getLine(u+1-l.length),b=s(v);if(b.slice(b.length-l[0].length)==l[0])return{from:n(u+1-l.length,d(v,b,v.length-l[0].length,s)),to:n(u,d(f,p,y.length,s))}}}}function m(e,t,r,i){var a;this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=e,r=r?e.clipPos(r):n(0,0),this.pos={from:r,to:r},"object"==typeof i?a=i.caseFold:(a=i,i=null),"string"==typeof t?(null==a&&(a=!1),this.matches=function(r,n){return(r?p:f)(e,t,n,a)}):(t=o(t,"gm"),i&&!1===i.multiline?this.matches=function(r,n){return(r?c:s)(e,t,n)}:this.matches=function(r,n){return(r?h:l)(e,t,n)})}String.prototype.normalize?(t=function(e){return e.normalize("NFD").toLowerCase()},r=function(e){return e.normalize("NFD")}):(t=function(e){return e.toLowerCase()},r=function(e){return e}),m.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(t){var r=this.doc.clipPos(t?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(r=n(r.line,r.ch),t?(r.ch--,r.ch<0&&(r.line--,r.ch=(this.doc.getLine(r.line)||"").length)):(r.ch++,r.ch>(this.doc.getLine(r.line)||"").length&&(r.ch=0,r.line++)),0!=e.cmpPos(r,this.doc.clipPos(r))))return this.atOccurrence=!1;var i=this.matches(t,r);if(this.afterEmptyMatch=i&&0==e.cmpPos(i.from,i.to),i)return this.pos=i,this.atOccurrence=!0,this.pos.match||!0;var o=n(t?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:o,to:o},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(t,r){if(this.atOccurrence){var i=e.splitLines(t);this.doc.replaceRange(i,this.pos.from,this.pos.to,r),this.pos.to=n(this.pos.from.line+i.length-1,i[i.length-1].length+(1==i.length?this.pos.from.ch:0))}}},e.defineExtension("getSearchCursor",(function(e,t,r){return new m(this.doc,e,t,r)})),e.defineDocExtension("getSearchCursor",(function(e,t,r){return new m(this,e,t,r)})),e.defineExtension("selectMatches",(function(t,r){for(var n=[],i=this.getSearchCursor(t,this.getCursor("from"),r);i.findNext()&&!(e.cmpPos(i.to(),this.getCursor("to"))>0);)n.push({anchor:i.from(),head:i.to()});n.length&&this.setSelections(n,0)}))}(r(3668))},8306:function(e,t,r){!function(e){"use strict";var t=e.commands,r=e.Pos;function n(t,n,i){if(i<0&&0==n.ch)return t.clipPos(r(n.line-1));var o=t.getLine(n.line);if(i>0&&n.ch>=o.length)return t.clipPos(r(n.line+1,0));for(var a,s="start",l=n.ch,u=l,c=i<0?0:o.length,h=0;u!=c;u+=i,h++){var d=o.charAt(i<0?u-1:u),f="_"!=d&&e.isWordChar(d)?"w":"o";if("w"==f&&d.toUpperCase()==d&&(f="W"),"start"==s)"o"!=f?(s="in",a=f):l=u+i;else if("in"==s&&a!=f){if("w"==a&&"W"==f&&i<0&&u--,"W"==a&&"w"==f&&i>0){if(u==l+1){a="w";continue}u--}break}}return r(n.line,u)}function i(e,t){e.extendSelectionsBy((function(r){return e.display.shift||e.doc.extend||r.empty()?n(e.doc,r.head,t):t<0?r.from():r.to()}))}function o(t,n){if(t.isReadOnly())return e.Pass;t.operation((function(){for(var e=t.listSelections().length,i=[],o=-1,a=0;a<e;a++){var s=t.listSelections()[a].head;if(!(s.line<=o)){var l=r(s.line+(n?0:1),0);t.replaceRange("\n",l,null,"+insertLine"),t.indentLine(l.line,null,!0),i.push({head:l,anchor:l}),o=s.line+1}}t.setSelections(i)})),t.execCommand("indentAuto")}function a(t,n){for(var i=n.ch,o=i,a=t.getLine(n.line);i&&e.isWordChar(a.charAt(i-1));)--i;for(;o<a.length&&e.isWordChar(a.charAt(o));)++o;return{from:r(n.line,i),to:r(n.line,o),word:a.slice(i,o)}}function s(e,t){for(var r=e.listSelections(),n=[],i=0;i<r.length;i++){var o=r[i],a=e.findPosV(o.anchor,t,"line",o.anchor.goalColumn),s=e.findPosV(o.head,t,"line",o.head.goalColumn);a.goalColumn=null!=o.anchor.goalColumn?o.anchor.goalColumn:e.cursorCoords(o.anchor,"div").left,s.goalColumn=null!=o.head.goalColumn?o.head.goalColumn:e.cursorCoords(o.head,"div").left;var l={anchor:a,head:s};n.push(o),n.push(l)}e.setSelections(n)}function l(t,r,n){for(var i=0;i<t.length;i++)if(0==e.cmpPos(t[i].from(),r)&&0==e.cmpPos(t[i].to(),n))return!0;return!1}t.goSubwordLeft=function(e){i(e,-1)},t.goSubwordRight=function(e){i(e,1)},t.scrollLineUp=function(e){var t=e.getScrollInfo();if(!e.somethingSelected()){var r=e.lineAtHeight(t.top+t.clientHeight,"local");e.getCursor().line>=r&&e.execCommand("goLineUp")}e.scrollTo(null,t.top-e.defaultTextHeight())},t.scrollLineDown=function(e){var t=e.getScrollInfo();if(!e.somethingSelected()){var r=e.lineAtHeight(t.top,"local")+1;e.getCursor().line<=r&&e.execCommand("goLineDown")}e.scrollTo(null,t.top+e.defaultTextHeight())},t.splitSelectionByLine=function(e){for(var t=e.listSelections(),n=[],i=0;i<t.length;i++)for(var o=t[i].from(),a=t[i].to(),s=o.line;s<=a.line;++s)a.line>o.line&&s==a.line&&0==a.ch||n.push({anchor:s==o.line?o:r(s,0),head:s==a.line?a:r(s)});e.setSelections(n,0)},t.singleSelectionTop=function(e){var t=e.listSelections()[0];e.setSelection(t.anchor,t.head,{scroll:!1})},t.selectLine=function(e){for(var t=e.listSelections(),n=[],i=0;i<t.length;i++){var o=t[i];n.push({anchor:r(o.from().line,0),head:r(o.to().line+1,0)})}e.setSelections(n)},t.insertLineAfter=function(e){return o(e,!1)},t.insertLineBefore=function(e){return o(e,!0)},t.selectNextOccurrence=function(t){var n=t.getCursor("from"),i=t.getCursor("to"),o=t.state.sublimeFindFullWord==t.doc.sel;if(0==e.cmpPos(n,i)){var s=a(t,n);if(!s.word)return;t.setSelection(s.from,s.to),o=!0}else{var u=t.getRange(n,i),c=o?new RegExp("\\b"+u+"\\b"):u,h=t.getSearchCursor(c,i),d=h.findNext();if(d||(d=(h=t.getSearchCursor(c,r(t.firstLine(),0))).findNext()),!d||l(t.listSelections(),h.from(),h.to()))return;t.addSelection(h.from(),h.to())}o&&(t.state.sublimeFindFullWord=t.doc.sel)},t.skipAndSelectNextOccurrence=function(r){var n=r.getCursor("anchor"),i=r.getCursor("head");t.selectNextOccurrence(r),0!=e.cmpPos(n,i)&&r.doc.setSelections(r.doc.listSelections().filter((function(e){return e.anchor!=n||e.head!=i})))},t.addCursorToPrevLine=function(e){s(e,-1)},t.addCursorToNextLine=function(e){s(e,1)};var u="(){}[]";function c(t){for(var n=t.listSelections(),i=[],o=0;o<n.length;o++){var a=n[o],s=a.head,l=t.scanForBracket(s,-1);if(!l)return!1;for(;;){var c=t.scanForBracket(s,1);if(!c)return!1;if(c.ch==u.charAt(u.indexOf(l.ch)+1)){var h=r(l.pos.line,l.pos.ch+1);if(0!=e.cmpPos(h,a.from())||0!=e.cmpPos(c.pos,a.to())){i.push({anchor:h,head:c.pos});break}if(!(l=t.scanForBracket(l.pos,-1)))return!1}s=r(c.pos.line,c.pos.ch+1)}}return t.setSelections(i),!0}function h(e){return e?/\bpunctuation\b/.test(e)?e:void 0:null}function d(t,n,i){if(t.isReadOnly())return e.Pass;for(var o,a=t.listSelections(),s=[],l=0;l<a.length;l++){var u=a[l];if(!u.empty()){for(var c=u.from().line,h=u.to().line;l<a.length-1&&a[l+1].from().line==h;)h=a[++l].to().line;a[l].to().ch||h--,s.push(c,h)}}s.length?o=!0:s.push(t.firstLine(),t.lastLine()),t.operation((function(){for(var e=[],a=0;a<s.length;a+=2){var l=s[a],u=s[a+1],c=r(l,0),h=r(u),d=t.getRange(c,h,!1);n?d.sort((function(e,t){return e<t?-i:e==t?0:i})):d.sort((function(e,t){var r=e.toUpperCase(),n=t.toUpperCase();return r!=n&&(e=r,t=n),e<t?-i:e==t?0:i})),t.replaceRange(d,c,h),o&&e.push({anchor:c,head:r(u+1,0)})}o&&t.setSelections(e,0)}))}function f(t,r){t.operation((function(){for(var n=t.listSelections(),i=[],o=[],s=0;s<n.length;s++)(u=n[s]).empty()?(i.push(s),o.push("")):o.push(r(t.getRange(u.from(),u.to())));var l;for(t.replaceSelections(o,"around","case"),s=i.length-1;s>=0;s--){var u=n[i[s]];if(!(l&&e.cmpPos(u.head,l)>0)){var c=a(t,u.head);l=c.from,t.replaceRange(r(c.word),c.from,c.to)}}}))}function p(t){var r=t.getCursor("from"),n=t.getCursor("to");if(0==e.cmpPos(r,n)){var i=a(t,r);if(!i.word)return;r=i.from,n=i.to}return{from:r,to:n,query:t.getRange(r,n),word:i}}function m(e,t){var n=p(e);if(n){var i=n.query,o=e.getSearchCursor(i,t?n.to:n.from);(t?o.findNext():o.findPrevious())?e.setSelection(o.from(),o.to()):(o=e.getSearchCursor(i,t?r(e.firstLine(),0):e.clipPos(r(e.lastLine()))),(t?o.findNext():o.findPrevious())?e.setSelection(o.from(),o.to()):n.word&&e.setSelection(n.from,n.to))}}t.selectScope=function(e){c(e)||e.execCommand("selectAll")},t.selectBetweenBrackets=function(t){if(!c(t))return e.Pass},t.goToBracket=function(t){t.extendSelectionsBy((function(n){var i=t.scanForBracket(n.head,1,h(t.getTokenTypeAt(n.head)));if(i&&0!=e.cmpPos(i.pos,n.head))return i.pos;var o=t.scanForBracket(n.head,-1,h(t.getTokenTypeAt(r(n.head.line,n.head.ch+1))));return o&&r(o.pos.line,o.pos.ch+1)||n.head}))},t.swapLineUp=function(t){if(t.isReadOnly())return e.Pass;for(var n=t.listSelections(),i=[],o=t.firstLine()-1,a=[],s=0;s<n.length;s++){var l=n[s],u=l.from().line-1,c=l.to().line;a.push({anchor:r(l.anchor.line-1,l.anchor.ch),head:r(l.head.line-1,l.head.ch)}),0!=l.to().ch||l.empty()||--c,u>o?i.push(u,c):i.length&&(i[i.length-1]=c),o=c}t.operation((function(){for(var e=0;e<i.length;e+=2){var n=i[e],o=i[e+1],s=t.getLine(n);t.replaceRange("",r(n,0),r(n+1,0),"+swapLine"),o>t.lastLine()?t.replaceRange("\n"+s,r(t.lastLine()),null,"+swapLine"):t.replaceRange(s+"\n",r(o,0),null,"+swapLine")}t.setSelections(a),t.scrollIntoView()}))},t.swapLineDown=function(t){if(t.isReadOnly())return e.Pass;for(var n=t.listSelections(),i=[],o=t.lastLine()+1,a=n.length-1;a>=0;a--){var s=n[a],l=s.to().line+1,u=s.from().line;0!=s.to().ch||s.empty()||l--,l<o?i.push(l,u):i.length&&(i[i.length-1]=u),o=u}t.operation((function(){for(var e=i.length-2;e>=0;e-=2){var n=i[e],o=i[e+1],a=t.getLine(n);n==t.lastLine()?t.replaceRange("",r(n-1),r(n),"+swapLine"):t.replaceRange("",r(n,0),r(n+1,0),"+swapLine"),t.replaceRange(a+"\n",r(o,0),null,"+swapLine")}t.scrollIntoView()}))},t.toggleCommentIndented=function(e){e.toggleComment({indent:!0})},t.joinLines=function(e){for(var t=e.listSelections(),n=[],i=0;i<t.length;i++){for(var o=t[i],a=o.from(),s=a.line,l=o.to().line;i<t.length-1&&t[i+1].from().line==l;)l=t[++i].to().line;n.push({start:s,end:l,anchor:!o.empty()&&a})}e.operation((function(){for(var t=0,i=[],o=0;o<n.length;o++){for(var a,s=n[o],l=s.anchor&&r(s.anchor.line-t,s.anchor.ch),u=s.start;u<=s.end;u++){var c=u-t;u==s.end&&(a=r(c,e.getLine(c).length+1)),c<e.lastLine()&&(e.replaceRange(" ",r(c),r(c+1,/^\s*/.exec(e.getLine(c+1))[0].length)),++t)}i.push({anchor:l||a,head:a})}e.setSelections(i,0)}))},t.duplicateLine=function(e){e.operation((function(){for(var t=e.listSelections().length,n=0;n<t;n++){var i=e.listSelections()[n];i.empty()?e.replaceRange(e.getLine(i.head.line)+"\n",r(i.head.line,0)):e.replaceRange(e.getRange(i.from(),i.to()),i.from())}e.scrollIntoView()}))},t.sortLines=function(e){d(e,!0,1)},t.reverseSortLines=function(e){d(e,!0,-1)},t.sortLinesInsensitive=function(e){d(e,!1,1)},t.reverseSortLinesInsensitive=function(e){d(e,!1,-1)},t.nextBookmark=function(e){var t=e.state.sublimeBookmarks;if(t)for(;t.length;){var r=t.shift(),n=r.find();if(n)return t.push(r),e.setSelection(n.from,n.to)}},t.prevBookmark=function(e){var t=e.state.sublimeBookmarks;if(t)for(;t.length;){t.unshift(t.pop());var r=t[t.length-1].find();if(r)return e.setSelection(r.from,r.to);t.pop()}},t.toggleBookmark=function(e){for(var t=e.listSelections(),r=e.state.sublimeBookmarks||(e.state.sublimeBookmarks=[]),n=0;n<t.length;n++){for(var i=t[n].from(),o=t[n].to(),a=t[n].empty()?e.findMarksAt(i):e.findMarks(i,o),s=0;s<a.length;s++)if(a[s].sublimeBookmark){a[s].clear();for(var l=0;l<r.length;l++)r[l]==a[s]&&r.splice(l--,1);break}s==a.length&&r.push(e.markText(i,o,{sublimeBookmark:!0,clearWhenEmpty:!1}))}},t.clearBookmarks=function(e){var t=e.state.sublimeBookmarks;if(t)for(var r=0;r<t.length;r++)t[r].clear();t.length=0},t.selectBookmarks=function(e){var t=e.state.sublimeBookmarks,r=[];if(t)for(var n=0;n<t.length;n++){var i=t[n].find();i?r.push({anchor:i.from,head:i.to}):t.splice(n--,0)}r.length&&e.setSelections(r,0)},t.smartBackspace=function(t){if(t.somethingSelected())return e.Pass;t.operation((function(){for(var n=t.listSelections(),i=t.getOption("indentUnit"),o=n.length-1;o>=0;o--){var a=n[o].head,s=t.getRange({line:a.line,ch:0},a),l=e.countColumn(s,null,t.getOption("tabSize")),u=t.findPosH(a,-1,"char",!1);if(s&&!/\S/.test(s)&&l%i==0){var c=new r(a.line,e.findColumn(s,l-i,i));c.ch!=a.ch&&(u=c)}t.replaceRange("",u,a,"+delete")}}))},t.delLineRight=function(e){e.operation((function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange("",t[n].anchor,r(t[n].to().line),"+delete");e.scrollIntoView()}))},t.upcaseAtCursor=function(e){f(e,(function(e){return e.toUpperCase()}))},t.downcaseAtCursor=function(e){f(e,(function(e){return e.toLowerCase()}))},t.setSublimeMark=function(e){e.state.sublimeMark&&e.state.sublimeMark.clear(),e.state.sublimeMark=e.setBookmark(e.getCursor())},t.selectToSublimeMark=function(e){var t=e.state.sublimeMark&&e.state.sublimeMark.find();t&&e.setSelection(e.getCursor(),t)},t.deleteToSublimeMark=function(t){var r=t.state.sublimeMark&&t.state.sublimeMark.find();if(r){var n=t.getCursor(),i=r;if(e.cmpPos(n,i)>0){var o=i;i=n,n=o}t.state.sublimeKilled=t.getRange(n,i),t.replaceRange("",n,i)}},t.swapWithSublimeMark=function(e){var t=e.state.sublimeMark&&e.state.sublimeMark.find();t&&(e.state.sublimeMark.clear(),e.state.sublimeMark=e.setBookmark(e.getCursor()),e.setCursor(t))},t.sublimeYank=function(e){null!=e.state.sublimeKilled&&e.replaceSelection(e.state.sublimeKilled,null,"paste")},t.showInCenter=function(e){var t=e.cursorCoords(null,"local");e.scrollTo(null,(t.top+t.bottom)/2-e.getScrollInfo().clientHeight/2)},t.findUnder=function(e){m(e,!0)},t.findUnderPrevious=function(e){m(e,!1)},t.findAllUnder=function(e){var t=p(e);if(t){for(var r=e.getSearchCursor(t.query),n=[],i=-1;r.findNext();)n.push({anchor:r.from(),head:r.to()}),r.from().line<=t.from.line&&r.from().ch<=t.from.ch&&i++;e.setSelections(n,i)}};var y=e.keyMap;y.macSublime={"Cmd-Left":"goLineStartSmart","Shift-Tab":"indentLess","Shift-Ctrl-K":"deleteLine","Alt-Q":"wrapLines","Ctrl-Left":"goSubwordLeft","Ctrl-Right":"goSubwordRight","Ctrl-Alt-Up":"scrollLineUp","Ctrl-Alt-Down":"scrollLineDown","Cmd-L":"selectLine","Shift-Cmd-L":"splitSelectionByLine",Esc:"singleSelectionTop","Cmd-Enter":"insertLineAfter","Shift-Cmd-Enter":"insertLineBefore","Cmd-D":"selectNextOccurrence","Shift-Cmd-Space":"selectScope","Shift-Cmd-M":"selectBetweenBrackets","Cmd-M":"goToBracket","Cmd-Ctrl-Up":"swapLineUp","Cmd-Ctrl-Down":"swapLineDown","Cmd-/":"toggleCommentIndented","Cmd-J":"joinLines","Shift-Cmd-D":"duplicateLine",F5:"sortLines","Shift-F5":"reverseSortLines","Cmd-F5":"sortLinesInsensitive","Shift-Cmd-F5":"reverseSortLinesInsensitive",F2:"nextBookmark","Shift-F2":"prevBookmark","Cmd-F2":"toggleBookmark","Shift-Cmd-F2":"clearBookmarks","Alt-F2":"selectBookmarks",Backspace:"smartBackspace","Cmd-K Cmd-D":"skipAndSelectNextOccurrence","Cmd-K Cmd-K":"delLineRight","Cmd-K Cmd-U":"upcaseAtCursor","Cmd-K Cmd-L":"downcaseAtCursor","Cmd-K Cmd-Space":"setSublimeMark","Cmd-K Cmd-A":"selectToSublimeMark","Cmd-K Cmd-W":"deleteToSublimeMark","Cmd-K Cmd-X":"swapWithSublimeMark","Cmd-K Cmd-Y":"sublimeYank","Cmd-K Cmd-C":"showInCenter","Cmd-K Cmd-G":"clearBookmarks","Cmd-K Cmd-Backspace":"delLineLeft","Cmd-K Cmd-1":"foldAll","Cmd-K Cmd-0":"unfoldAll","Cmd-K Cmd-J":"unfoldAll","Ctrl-Shift-Up":"addCursorToPrevLine","Ctrl-Shift-Down":"addCursorToNextLine","Cmd-F3":"findUnder","Shift-Cmd-F3":"findUnderPrevious","Alt-F3":"findAllUnder","Shift-Cmd-[":"fold","Shift-Cmd-]":"unfold","Cmd-I":"findIncremental","Shift-Cmd-I":"findIncrementalReverse","Cmd-H":"replace",F3:"findNext","Shift-F3":"findPrev",fallthrough:"macDefault"},e.normalizeKeyMap(y.macSublime),y.pcSublime={"Shift-Tab":"indentLess","Shift-Ctrl-K":"deleteLine","Alt-Q":"wrapLines","Ctrl-T":"transposeChars","Alt-Left":"goSubwordLeft","Alt-Right":"goSubwordRight","Ctrl-Up":"scrollLineUp","Ctrl-Down":"scrollLineDown","Ctrl-L":"selectLine","Shift-Ctrl-L":"splitSelectionByLine",Esc:"singleSelectionTop","Ctrl-Enter":"insertLineAfter","Shift-Ctrl-Enter":"insertLineBefore","Ctrl-D":"selectNextOccurrence","Shift-Ctrl-Space":"selectScope","Shift-Ctrl-M":"selectBetweenBrackets","Ctrl-M":"goToBracket","Shift-Ctrl-Up":"swapLineUp","Shift-Ctrl-Down":"swapLineDown","Ctrl-/":"toggleCommentIndented","Ctrl-J":"joinLines","Shift-Ctrl-D":"duplicateLine",F9:"sortLines","Shift-F9":"reverseSortLines","Ctrl-F9":"sortLinesInsensitive","Shift-Ctrl-F9":"reverseSortLinesInsensitive",F2:"nextBookmark","Shift-F2":"prevBookmark","Ctrl-F2":"toggleBookmark","Shift-Ctrl-F2":"clearBookmarks","Alt-F2":"selectBookmarks",Backspace:"smartBackspace","Ctrl-K Ctrl-D":"skipAndSelectNextOccurrence","Ctrl-K Ctrl-K":"delLineRight","Ctrl-K Ctrl-U":"upcaseAtCursor","Ctrl-K Ctrl-L":"downcaseAtCursor","Ctrl-K Ctrl-Space":"setSublimeMark","Ctrl-K Ctrl-A":"selectToSublimeMark","Ctrl-K Ctrl-W":"deleteToSublimeMark","Ctrl-K Ctrl-X":"swapWithSublimeMark","Ctrl-K Ctrl-Y":"sublimeYank","Ctrl-K Ctrl-C":"showInCenter","Ctrl-K Ctrl-G":"clearBookmarks","Ctrl-K Ctrl-Backspace":"delLineLeft","Ctrl-K Ctrl-1":"foldAll","Ctrl-K Ctrl-0":"unfoldAll","Ctrl-K Ctrl-J":"unfoldAll","Ctrl-Alt-Up":"addCursorToPrevLine","Ctrl-Alt-Down":"addCursorToNextLine","Ctrl-F3":"findUnder","Shift-Ctrl-F3":"findUnderPrevious","Alt-F3":"findAllUnder","Shift-Ctrl-[":"fold","Shift-Ctrl-]":"unfold","Ctrl-I":"findIncremental","Shift-Ctrl-I":"findIncrementalReverse","Ctrl-H":"replace",F3:"findNext","Shift-F3":"findPrev",fallthrough:"pcDefault"},e.normalizeKeyMap(y.pcSublime);var g=y.default==y.macDefault;y.sublime=g?y.macSublime:y.pcSublime}(r(3668),r(6849),r(2756))},3668:function(e){e.exports=function(){"use strict";var e=navigator.userAgent,t=navigator.platform,r=/gecko\/\d/i.test(e),n=/MSIE \d/.test(e),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),o=/Edge\/(\d+)/.exec(e),a=n||i||o,s=a&&(n?document.documentMode||6:+(o||i)[1]),l=!o&&/WebKit\//.test(e),u=l&&/Qt\/\d+\.\d+/.test(e),c=!o&&/Chrome\/(\d+)/.exec(e),h=c&&+c[1],d=/Opera\//.test(e),f=/Apple Computer/.test(navigator.vendor),p=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),m=/PhantomJS/.test(e),y=f&&(/Mobile\/\w+/.test(e)||navigator.maxTouchPoints>2),g=/Android/.test(e),v=y||g||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),b=y||/Mac/.test(t),x=/\bCrOS\b/.test(e),w=/win/i.test(t),S=d&&e.match(/Version\/(\d*\.\d*)/);S&&(S=Number(S[1])),S&&S>=15&&(d=!1,l=!0);var k=b&&(u||d&&(null==S||S<12.11)),_=r||a&&s>=9;function j(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var M,C=function(e,t){var r=e.className,n=j(t).exec(r);if(n){var i=r.slice(n.index+n[0].length);e.className=r.slice(0,n.index)+(i?n[1]+i:"")}};function P(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function T(e,t){return P(e).appendChild(t)}function E(e,t,r,n){var i=document.createElement(e);if(r&&(i.className=r),n&&(i.style.cssText=n),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function O(e,t,r,n){var i=E(e,t,r,n);return i.setAttribute("role","presentation"),i}function A(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function L(e){var t;try{t=e.activeElement}catch(r){t=e.body||null}for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}function N(e,t){var r=e.className;j(t).test(r)||(e.className+=(r?" ":"")+t)}function R(e,t){for(var r=e.split(" "),n=0;n<r.length;n++)r[n]&&!j(r[n]).test(t)&&(t+=" "+r[n]);return t}M=document.createRange?function(e,t,r,n){var i=document.createRange();return i.setEnd(n||e,r),i.setStart(e,t),i}:function(e,t,r){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(i){return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n};var D=function(e){e.select()};function I(e){return e.display.wrapper.ownerDocument}function F(e){return I(e).defaultView}function B(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function U(e,t,r){for(var n in t||(t={}),e)!e.hasOwnProperty(n)||!1===r&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function z(e,t,r,n,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=n||0,a=i||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return a+(t-o);a+=s-o,a+=r-a%r,o=s+1}}y?D=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:a&&(D=function(e){try{e.select()}catch(t){}});var q=function(){this.id=null,this.f=null,this.time=0,this.handler=B(this.onTimeout,this)};function G(e,t){for(var r=0;r<e.length;++r)if(e[r]==t)return r;return-1}q.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},q.prototype.set=function(e,t){this.f=t;var r=+new Date+e;(!this.id||r<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=r)};var V=50,H={toString:function(){return"CodeMirror.Pass"}},W={scroll:!1},X={origin:"*mouse"},Y={origin:"+move"};function K(e,t,r){for(var n=0,i=0;;){var o=e.indexOf("\t",n);-1==o&&(o=e.length);var a=o-n;if(o==e.length||i+a>=t)return n+Math.min(a,t-i);if(i+=o-n,n=o+1,(i+=r-i%r)>=t)return n}}var Z=[""];function $(e){for(;Z.length<=e;)Z.push(J(Z)+" ");return Z[e]}function J(e){return e[e.length-1]}function Q(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=t(e[n],n);return r}function ee(e,t,r){for(var n=0,i=r(t);n<e.length&&r(e[n])<=i;)n++;e.splice(n,0,t)}function te(){}function re(e,t){var r;return Object.create?r=Object.create(e):(te.prototype=e,r=new te),t&&U(t,r),r}var ne=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ie(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||ne.test(e))}function oe(e,t){return t?!!(t.source.indexOf("\\w")>-1&&ie(e))||t.test(e):ie(e)}function ae(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var se=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function le(e){return e.charCodeAt(0)>=768&&se.test(e)}function ue(e,t,r){for(;(r<0?t>0:t<e.length)&&le(e.charAt(t));)t+=r;return t}function ce(e,t,r){for(var n=t>r?-1:1;;){if(t==r)return t;var i=(t+r)/2,o=n<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:r;e(o)?r=o:t=o+n}}function he(e,t,r,n){if(!e)return n(t,r,"ltr",0);for(var i=!1,o=0;o<e.length;++o){var a=e[o];(a.from<r&&a.to>t||t==r&&a.to==t)&&(n(Math.max(a.from,t),Math.min(a.to,r),1==a.level?"rtl":"ltr",o),i=!0)}i||n(t,r,"ltr")}var de=null;function fe(e,t,r){var n;de=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==r?n=i:de=i),o.from==t&&(o.from!=o.to&&"before"!=r?n=i:de=i)}return null!=n?n:de}var pe=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",t="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function r(r){return r<=247?e.charAt(r):1424<=r&&r<=1524?"R":1536<=r&&r<=1785?t.charAt(r-1536):1774<=r&&r<=2220?"r":8192<=r&&r<=8203?"w":8204==r?"b":"L"}var n=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,i=/[stwN]/,o=/[LRr]/,a=/[Lb1n]/,s=/[1n]/;function l(e,t,r){this.level=e,this.from=t,this.to=r}return function(e,t){var u="ltr"==t?"L":"R";if(0==e.length||"ltr"==t&&!n.test(e))return!1;for(var c=e.length,h=[],d=0;d<c;++d)h.push(r(e.charCodeAt(d)));for(var f=0,p=u;f<c;++f){var m=h[f];"m"==m?h[f]=p:p=m}for(var y=0,g=u;y<c;++y){var v=h[y];"1"==v&&"r"==g?h[y]="n":o.test(v)&&(g=v,"r"==v&&(h[y]="R"))}for(var b=1,x=h[0];b<c-1;++b){var w=h[b];"+"==w&&"1"==x&&"1"==h[b+1]?h[b]="1":","!=w||x!=h[b+1]||"1"!=x&&"n"!=x||(h[b]=x),x=w}for(var S=0;S<c;++S){var k=h[S];if(","==k)h[S]="N";else if("%"==k){var _=void 0;for(_=S+1;_<c&&"%"==h[_];++_);for(var j=S&&"!"==h[S-1]||_<c&&"1"==h[_]?"1":"N",M=S;M<_;++M)h[M]=j;S=_-1}}for(var C=0,P=u;C<c;++C){var T=h[C];"L"==P&&"1"==T?h[C]="L":o.test(T)&&(P=T)}for(var E=0;E<c;++E)if(i.test(h[E])){var O=void 0;for(O=E+1;O<c&&i.test(h[O]);++O);for(var A="L"==(E?h[E-1]:u),L=A==("L"==(O<c?h[O]:u))?A?"L":"R":u,N=E;N<O;++N)h[N]=L;E=O-1}for(var R,D=[],I=0;I<c;)if(a.test(h[I])){var F=I;for(++I;I<c&&a.test(h[I]);++I);D.push(new l(0,F,I))}else{var B=I,U=D.length,z="rtl"==t?1:0;for(++I;I<c&&"L"!=h[I];++I);for(var q=B;q<I;)if(s.test(h[q])){B<q&&(D.splice(U,0,new l(1,B,q)),U+=z);var G=q;for(++q;q<I&&s.test(h[q]);++q);D.splice(U,0,new l(2,G,q)),U+=z,B=q}else++q;B<I&&D.splice(U,0,new l(1,B,I))}return"ltr"==t&&(1==D[0].level&&(R=e.match(/^\s+/))&&(D[0].from=R[0].length,D.unshift(new l(0,0,R[0].length))),1==J(D).level&&(R=e.match(/\s+$/))&&(J(D).to-=R[0].length,D.push(new l(0,c-R[0].length,c)))),"rtl"==t?D.reverse():D}}();function me(e,t){var r=e.order;return null==r&&(r=e.order=pe(e.text,t)),r}var ye=[],ge=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var n=e._handlers||(e._handlers={});n[t]=(n[t]||ye).concat(r)}};function ve(e,t){return e._handlers&&e._handlers[t]||ye}function be(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{var n=e._handlers,i=n&&n[t];if(i){var o=G(i,r);o>-1&&(n[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function xe(e,t){var r=ve(e,t);if(r.length)for(var n=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,n)}function we(e,t,r){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),xe(e,r||t.type,e,t),Ce(t)||t.codemirrorIgnore}function Se(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)-1==G(r,t[n])&&r.push(t[n])}function ke(e,t){return ve(e,t).length>0}function _e(e){e.prototype.on=function(e,t){ge(this,e,t)},e.prototype.off=function(e,t){be(this,e,t)}}function je(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Me(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Ce(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Pe(e){je(e),Me(e)}function Te(e){return e.target||e.srcElement}function Ee(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),b&&e.ctrlKey&&1==t&&(t=3),t}var Oe,Ae,Le=function(){if(a&&s<9)return!1;var e=E("div");return"draggable"in e||"dragDrop"in e}();function Ne(e){if(null==Oe){var t=E("span","\u200b");T(e,E("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Oe=t.offsetWidth<=1&&t.offsetHeight>2&&!(a&&s<8))}var r=Oe?E("span","\u200b"):E("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}function Re(e){if(null!=Ae)return Ae;var t=T(e,document.createTextNode("A\u062eA")),r=M(t,0,1).getBoundingClientRect(),n=M(t,1,2).getBoundingClientRect();return P(e),!(!r||r.left==r.right)&&(Ae=n.right-r.right<3)}var De=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,r=[],n=e.length;t<=n;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(r.push(o.slice(0,a)),t+=a+1):(r.push(o),t=i+1)}return r}:function(e){return e.split(/\r\n?|\n/)},Ie=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(r){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Fe=function(){var e=E("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Be=null;function Ue(e){if(null!=Be)return Be;var t=T(e,E("span","x")),r=t.getBoundingClientRect(),n=M(t,0,1).getBoundingClientRect();return Be=Math.abs(r.left-n.left)>1}var ze={},qe={};function Ge(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),ze[e]=t}function Ve(e,t){qe[e]=t}function He(e){if("string"==typeof e&&qe.hasOwnProperty(e))e=qe[e];else if(e&&"string"==typeof e.name&&qe.hasOwnProperty(e.name)){var t=qe[e.name];"string"==typeof t&&(t={name:t}),(e=re(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return He("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return He("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function We(e,t){t=He(t);var r=ze[t.name];if(!r)return We(e,"text/plain");var n=r(e,t);if(Xe.hasOwnProperty(t.name)){var i=Xe[t.name];for(var o in i)i.hasOwnProperty(o)&&(n.hasOwnProperty(o)&&(n["_"+o]=n[o]),n[o]=i[o])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var a in t.modeProps)n[a]=t.modeProps[a];return n}var Xe={};function Ye(e,t){U(t,Xe.hasOwnProperty(e)?Xe[e]:Xe[e]={})}function Ke(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var r={};for(var n in t){var i=t[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r}function Ze(e,t){for(var r;e.innerMode&&(r=e.innerMode(t))&&r.mode!=e;)t=r.state,e=r.mode;return r||{mode:e,state:t}}function $e(e,t,r){return!e.startState||e.startState(t,r)}var Je=function(e,t,r){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=r};function Qe(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;)for(var n=0;;++n){var i=r.children[n],o=i.chunkSize();if(t<o){r=i;break}t-=o}return r.lines[t]}function et(e,t,r){var n=[],i=t.line;return e.iter(t.line,r.line+1,(function(e){var o=e.text;i==r.line&&(o=o.slice(0,r.ch)),i==t.line&&(o=o.slice(t.ch)),n.push(o),++i})),n}function tt(e,t,r){var n=[];return e.iter(t,r,(function(e){n.push(e.text)})),n}function rt(e,t){var r=t-e.height;if(r)for(var n=e;n;n=n.parent)n.height+=r}function nt(e){if(null==e.parent)return null;for(var t=e.parent,r=G(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var i=0;n.children[i]!=t;++i)r+=n.children[i].chunkSize();return r+t.first}function it(e,t){var r=e.first;e:do{for(var n=0;n<e.children.length;++n){var i=e.children[n],o=i.height;if(t<o){e=i;continue e}t-=o,r+=i.chunkSize()}return r}while(!e.lines);for(var a=0;a<e.lines.length;++a){var s=e.lines[a].height;if(t<s)break;t-=s}return r+a}function ot(e,t){return t>=e.first&&t<e.first+e.size}function at(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function st(e,t,r){if(void 0===r&&(r=null),!(this instanceof st))return new st(e,t,r);this.line=e,this.ch=t,this.sticky=r}function lt(e,t){return e.line-t.line||e.ch-t.ch}function ut(e,t){return e.sticky==t.sticky&&0==lt(e,t)}function ct(e){return st(e.line,e.ch)}function ht(e,t){return lt(e,t)<0?t:e}function dt(e,t){return lt(e,t)<0?e:t}function ft(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function pt(e,t){if(t.line<e.first)return st(e.first,0);var r=e.first+e.size-1;return t.line>r?st(r,Qe(e,r).text.length):mt(t,Qe(e,t.line).text.length)}function mt(e,t){var r=e.ch;return null==r||r>t?st(e.line,t):r<0?st(e.line,0):e}function yt(e,t){for(var r=[],n=0;n<t.length;n++)r[n]=pt(e,t[n]);return r}Je.prototype.eol=function(){return this.pos>=this.string.length},Je.prototype.sol=function(){return this.pos==this.lineStart},Je.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Je.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Je.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Je.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Je.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Je.prototype.skipToEnd=function(){this.pos=this.string.length},Je.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},Je.prototype.backUp=function(e){this.pos-=e},Je.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=z(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?z(this.string,this.lineStart,this.tabSize):0)},Je.prototype.indentation=function(){return z(this.string,null,this.tabSize)-(this.lineStart?z(this.string,this.lineStart,this.tabSize):0)},Je.prototype.match=function(e,t,r){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&!1!==t&&(this.pos+=n[0].length),n)}var i=function(e){return r?e.toLowerCase():e};if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},Je.prototype.current=function(){return this.string.slice(this.start,this.pos)},Je.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Je.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Je.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var gt=function(e,t){this.state=e,this.lookAhead=t},vt=function(e,t,r,n){this.state=t,this.doc=e,this.line=r,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};function bt(e,t,r,n){var i=[e.state.modeGen],o={};Pt(e,t.text,e.doc.mode,r,(function(e,t){return i.push(e,t)}),o,n);for(var a=r.state,s=function(n){r.baseTokens=i;var s=e.state.overlays[n],l=1,u=0;r.state=!0,Pt(e,t.text,s.mode,r,(function(e,t){for(var r=l;u<e;){var n=i[l];n>e&&i.splice(l,1,e,i[l+1],n),l+=2,u=Math.min(e,n)}if(t)if(s.opaque)i.splice(r,l-r,e,"overlay "+t),l=r+2;else for(;r<l;r+=2){var o=i[r+1];i[r+1]=(o?o+" ":"")+"overlay "+t}}),o),r.state=a,r.baseTokens=null,r.baseTokenPos=1},l=0;l<e.state.overlays.length;++l)s(l);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function xt(e,t,r){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=wt(e,nt(t)),i=t.text.length>e.options.maxHighlightLength&&Ke(e.doc.mode,n.state),o=bt(e,t,n);i&&(n.state=i),t.stateAfter=n.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function wt(e,t,r){var n=e.doc,i=e.display;if(!n.mode.startState)return new vt(n,!0,t);var o=Tt(e,t,r),a=o>n.first&&Qe(n,o-1).stateAfter,s=a?vt.fromSaved(n,a,o):new vt(n,$e(n.mode),o);return n.iter(o,t,(function(r){St(e,r.text,s);var n=s.line;r.stateAfter=n==t-1||n%5==0||n>=i.viewFrom&&n<i.viewTo?s.save():null,s.nextLine()})),r&&(n.modeFrontier=s.line),s}function St(e,t,r,n){var i=e.doc.mode,o=new Je(t,e.options.tabSize,r);for(o.start=o.pos=n||0,""==t&&kt(i,r.state);!o.eol();)_t(i,o,r.state),o.start=o.pos}function kt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var r=Ze(e,t);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function _t(e,t,r,n){for(var i=0;i<10;i++){n&&(n[0]=Ze(e,r).mode);var o=e.token(t,r);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}vt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},vt.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},vt.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},vt.fromSaved=function(e,t,r){return t instanceof gt?new vt(e,Ke(e.mode,t.state),r,t.lookAhead):new vt(e,Ke(e.mode,t),r)},vt.prototype.save=function(e){var t=!1!==e?Ke(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new gt(t,this.maxLookAhead):t};var jt=function(e,t,r){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=r};function Mt(e,t,r,n){var i,o,a=e.doc,s=a.mode,l=Qe(a,(t=pt(a,t)).line),u=wt(e,t.line,r),c=new Je(l.text,e.options.tabSize,u);for(n&&(o=[]);(n||c.pos<t.ch)&&!c.eol();)c.start=c.pos,i=_t(s,c,u.state),n&&o.push(new jt(c,i,Ke(a.mode,u.state)));return n?o:new jt(c,i,u.state)}function Ct(e,t){if(e)for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";null==t[n]?t[n]=r[2]:new RegExp("(?:^|\\s)"+r[2]+"(?:$|\\s)").test(t[n])||(t[n]+=" "+r[2])}return e}function Pt(e,t,r,n,i,o,a){var s=r.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,u=0,c=null,h=new Je(t,e.options.tabSize,n),d=e.options.addModeClass&&[null];for(""==t&&Ct(kt(r,n.state),o);!h.eol();){if(h.pos>e.options.maxHighlightLength?(s=!1,a&&St(e,t,n,h.pos),h.pos=t.length,l=null):l=Ct(_t(r,h,n.state,d),o),d){var f=d[0].name;f&&(l="m-"+(l?f+" "+l:f))}if(!s||c!=l){for(;u<h.start;)i(u=Math.min(h.start,u+5e3),c);c=l}h.start=h.pos}for(;u<h.pos;){var p=Math.min(h.pos,u+5e3);i(p,c),u=p}}function Tt(e,t,r){for(var n,i,o=e.doc,a=r?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>a;--s){if(s<=o.first)return o.first;var l=Qe(o,s-1),u=l.stateAfter;if(u&&(!r||s+(u instanceof gt?u.lookAhead:0)<=o.modeFrontier))return s;var c=z(l.text,null,e.options.tabSize);(null==i||n>c)&&(i=s-1,n=c)}return i}function Et(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var r=e.first,n=t-1;n>r;n--){var i=Qe(e,n).stateAfter;if(i&&(!(i instanceof gt)||n+i.lookAhead<t)){r=n+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,r)}}var Ot=!1,At=!1;function Lt(){Ot=!0}function Nt(){At=!0}function Rt(e,t,r){this.marker=e,this.from=t,this.to=r}function Dt(e,t){if(e)for(var r=0;r<e.length;++r){var n=e[r];if(n.marker==t)return n}}function It(e,t){for(var r,n=0;n<e.length;++n)e[n]!=t&&(r||(r=[])).push(e[n]);return r}function Ft(e,t,r){var n=r&&window.WeakSet&&(r.markedSpans||(r.markedSpans=new WeakSet));n&&e.markedSpans&&n.has(e.markedSpans)?e.markedSpans.push(t):(e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],n&&n.add(e.markedSpans)),t.marker.attachLine(e)}function Bt(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==a.type&&(!r||!o.marker.insertLeft)){var s=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(n||(n=[])).push(new Rt(a,o.from,s?null:o.to))}}return n}function Ut(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var o=e[i],a=o.marker;if(null==o.to||(a.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==a.type&&(!r||o.marker.insertLeft)){var s=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(n||(n=[])).push(new Rt(a,s?null:o.from-t,null==o.to?null:o.to-t))}}return n}function zt(e,t){if(t.full)return null;var r=ot(e,t.from.line)&&Qe(e,t.from.line).markedSpans,n=ot(e,t.to.line)&&Qe(e,t.to.line).markedSpans;if(!r&&!n)return null;var i=t.from.ch,o=t.to.ch,a=0==lt(t.from,t.to),s=Bt(r,i,a),l=Ut(n,o,a),u=1==t.text.length,c=J(t.text).length+(u?i:0);if(s)for(var h=0;h<s.length;++h){var d=s[h];if(null==d.to){var f=Dt(l,d.marker);f?u&&(d.to=null==f.to?null:f.to+c):d.to=i}}if(l)for(var p=0;p<l.length;++p){var m=l[p];null!=m.to&&(m.to+=c),null==m.from?Dt(s,m.marker)||(m.from=c,u&&(s||(s=[])).push(m)):(m.from+=c,u&&(s||(s=[])).push(m))}s&&(s=qt(s)),l&&l!=s&&(l=qt(l));var y=[s];if(!u){var g,v=t.text.length-2;if(v>0&&s)for(var b=0;b<s.length;++b)null==s[b].to&&(g||(g=[])).push(new Rt(s[b].marker,null,null));for(var x=0;x<v;++x)y.push(g);y.push(l)}return y}function qt(e){for(var t=0;t<e.length;++t){var r=e[t];null!=r.from&&r.from==r.to&&!1!==r.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Gt(e,t,r){var n=null;if(e.iter(t.line,r.line+1,(function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var r=e.markedSpans[t].marker;!r.readOnly||n&&-1!=G(n,r)||(n||(n=[])).push(r)}})),!n)return null;for(var i=[{from:t,to:r}],o=0;o<n.length;++o)for(var a=n[o],s=a.find(0),l=0;l<i.length;++l){var u=i[l];if(!(lt(u.to,s.from)<0||lt(u.from,s.to)>0)){var c=[l,1],h=lt(u.from,s.from),d=lt(u.to,s.to);(h<0||!a.inclusiveLeft&&!h)&&c.push({from:u.from,to:s.from}),(d>0||!a.inclusiveRight&&!d)&&c.push({from:s.to,to:u.to}),i.splice.apply(i,c),l+=c.length-3}}return i}function Vt(e){var t=e.markedSpans;if(t){for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function Ht(e,t){if(t){for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function Wt(e){return e.inclusiveLeft?-1:0}function Xt(e){return e.inclusiveRight?1:0}function Yt(e,t){var r=e.lines.length-t.lines.length;if(0!=r)return r;var n=e.find(),i=t.find(),o=lt(n.from,i.from)||Wt(e)-Wt(t);if(o)return-o;var a=lt(n.to,i.to)||Xt(e)-Xt(t);return a||t.id-e.id}function Kt(e,t){var r,n=At&&e.markedSpans;if(n)for(var i=void 0,o=0;o<n.length;++o)(i=n[o]).marker.collapsed&&null==(t?i.from:i.to)&&(!r||Yt(r,i.marker)<0)&&(r=i.marker);return r}function Zt(e){return Kt(e,!0)}function $t(e){return Kt(e,!1)}function Jt(e,t){var r,n=At&&e.markedSpans;if(n)for(var i=0;i<n.length;++i){var o=n[i];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!r||Yt(r,o.marker)<0)&&(r=o.marker)}return r}function Qt(e,t,r,n,i){var o=Qe(e,t),a=At&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var u=l.marker.find(0),c=lt(u.from,r)||Wt(l.marker)-Wt(i),h=lt(u.to,n)||Xt(l.marker)-Xt(i);if(!(c>=0&&h<=0||c<=0&&h>=0)&&(c<=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?lt(u.to,r)>=0:lt(u.to,r)>0)||c>=0&&(l.marker.inclusiveRight&&i.inclusiveLeft?lt(u.from,n)<=0:lt(u.from,n)<0)))return!0}}}function er(e){for(var t;t=Zt(e);)e=t.find(-1,!0).line;return e}function tr(e){for(var t;t=$t(e);)e=t.find(1,!0).line;return e}function rr(e){for(var t,r;t=$t(e);)e=t.find(1,!0).line,(r||(r=[])).push(e);return r}function nr(e,t){var r=Qe(e,t),n=er(r);return r==n?t:nt(n)}function ir(e,t){if(t>e.lastLine())return t;var r,n=Qe(e,t);if(!or(e,n))return t;for(;r=$t(n);)n=r.find(1,!0).line;return nt(n)+1}function or(e,t){var r=At&&t.markedSpans;if(r)for(var n=void 0,i=0;i<r.length;++i)if((n=r[i]).marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&ar(e,t,n))return!0}}function ar(e,t,r){if(null==r.to){var n=r.marker.find(1,!0);return ar(e,n.line,Dt(n.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if((i=t.markedSpans[o]).marker.collapsed&&!i.marker.widgetNode&&i.from==r.to&&(null==i.to||i.to!=r.from)&&(i.marker.inclusiveLeft||r.marker.inclusiveRight)&&ar(e,t,i))return!0}function sr(e){for(var t=0,r=(e=er(e)).parent,n=0;n<r.lines.length;++n){var i=r.lines[n];if(i==e)break;t+=i.height}for(var o=r.parent;o;o=(r=o).parent)for(var a=0;a<o.children.length;++a){var s=o.children[a];if(s==r)break;t+=s.height}return t}function lr(e){if(0==e.height)return 0;for(var t,r=e.text.length,n=e;t=Zt(n);){var i=t.find(0,!0);n=i.from.line,r+=i.from.ch-i.to.ch}for(n=e;t=$t(n);){var o=t.find(0,!0);r-=n.text.length-o.from.ch,r+=(n=o.to.line).text.length-o.to.ch}return r}function ur(e){var t=e.display,r=e.doc;t.maxLine=Qe(r,r.first),t.maxLineLength=lr(t.maxLine),t.maxLineChanged=!0,r.iter((function(e){var r=lr(e);r>t.maxLineLength&&(t.maxLineLength=r,t.maxLine=e)}))}var cr=function(e,t,r){this.text=e,Ht(this,t),this.height=r?r(this):1};function hr(e,t,r,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Vt(e),Ht(e,r);var i=n?n(e):1;i!=e.height&&rt(e,i)}function dr(e){e.parent=null,Vt(e)}cr.prototype.lineNo=function(){return nt(this)},_e(cr);var fr={},pr={};function mr(e,t){if(!e||/^\s*$/.test(e))return null;var r=t.addModeClass?pr:fr;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$&"))}function yr(e,t){var r=O("span",null,null,l?"padding-right: .1px":null),n={pre:O("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o=i?t.rest[i-1]:t.line,a=void 0;n.pos=0,n.addToken=vr,Re(e.display.measure)&&(a=me(o,e.doc.direction))&&(n.addToken=xr(n.addToken,a)),n.map=[],Sr(o,n,xt(e,o,t!=e.display.externalMeasured&&nt(o))),o.styleClasses&&(o.styleClasses.bgClass&&(n.bgClass=R(o.styleClasses.bgClass,n.bgClass||"")),o.styleClasses.textClass&&(n.textClass=R(o.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(Ne(e.display.measure))),0==i?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(l){var s=n.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return xe(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=R(n.pre.className,n.textClass||"")),n}function gr(e){var t=E("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function vr(e,t,r,n,i,o,l){if(t){var u,c=e.splitSpaces?br(t,e.trailingSpace):t,h=e.cm.state.specialChars,d=!1;if(h.test(t)){u=document.createDocumentFragment();for(var f=0;;){h.lastIndex=f;var p=h.exec(t),m=p?p.index-f:t.length-f;if(m){var y=document.createTextNode(c.slice(f,f+m));a&&s<9?u.appendChild(E("span",[y])):u.appendChild(y),e.map.push(e.pos,e.pos+m,y),e.col+=m,e.pos+=m}if(!p)break;f+=m+1;var g=void 0;if("\t"==p[0]){var v=e.cm.options.tabSize,b=v-e.col%v;(g=u.appendChild(E("span",$(b),"cm-tab"))).setAttribute("role","presentation"),g.setAttribute("cm-text","\t"),e.col+=b}else"\r"==p[0]||"\n"==p[0]?((g=u.appendChild(E("span","\r"==p[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",p[0]),e.col+=1):((g=e.cm.options.specialCharPlaceholder(p[0])).setAttribute("cm-text",p[0]),a&&s<9?u.appendChild(E("span",[g])):u.appendChild(g),e.col+=1);e.map.push(e.pos,e.pos+1,g),e.pos++}}else e.col+=t.length,u=document.createTextNode(c),e.map.push(e.pos,e.pos+t.length,u),a&&s<9&&(d=!0),e.pos+=t.length;if(e.trailingSpace=32==c.charCodeAt(t.length-1),r||n||i||d||o||l){var x=r||"";n&&(x+=n),i&&(x+=i);var w=E("span",[u],x,o);if(l)for(var S in l)l.hasOwnProperty(S)&&"style"!=S&&"class"!=S&&w.setAttribute(S,l[S]);return e.content.appendChild(w)}e.content.appendChild(u)}}function br(e,t){if(e.length>1&&!/  /.test(e))return e;for(var r=t,n="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!r||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o="\xa0"),n+=o,r=" "==o}return n}function xr(e,t){return function(r,n,i,o,a,s,l){i=i?i+" cm-force-border":"cm-force-border";for(var u=r.pos,c=u+n.length;;){for(var h=void 0,d=0;d<t.length&&!((h=t[d]).to>u&&h.from<=u);d++);if(h.to>=c)return e(r,n,i,o,a,s,l);e(r,n.slice(0,h.to-u),i,o,null,s,l),o=null,n=n.slice(h.to-u),u=h.to}}}function wr(e,t,r,n){var i=!n&&r.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!n&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",r.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function Sr(e,t,r){var n=e.markedSpans,i=e.text,o=0;if(n)for(var a,s,l,u,c,h,d,f=i.length,p=0,m=1,y="",g=0;;){if(g==p){l=u=c=s="",d=null,h=null,g=1/0;for(var v=[],b=void 0,x=0;x<n.length;++x){var w=n[x],S=w.marker;if("bookmark"==S.type&&w.from==p&&S.widgetNode)v.push(S);else if(w.from<=p&&(null==w.to||w.to>p||S.collapsed&&w.to==p&&w.from==p)){if(null!=w.to&&w.to!=p&&g>w.to&&(g=w.to,u=""),S.className&&(l+=" "+S.className),S.css&&(s=(s?s+";":"")+S.css),S.startStyle&&w.from==p&&(c+=" "+S.startStyle),S.endStyle&&w.to==g&&(b||(b=[])).push(S.endStyle,w.to),S.title&&((d||(d={})).title=S.title),S.attributes)for(var k in S.attributes)(d||(d={}))[k]=S.attributes[k];S.collapsed&&(!h||Yt(h.marker,S)<0)&&(h=w)}else w.from>p&&g>w.from&&(g=w.from)}if(b)for(var _=0;_<b.length;_+=2)b[_+1]==g&&(u+=" "+b[_]);if(!h||h.from==p)for(var j=0;j<v.length;++j)wr(t,0,v[j]);if(h&&(h.from||0)==p){if(wr(t,(null==h.to?f+1:h.to)-p,h.marker,null==h.from),null==h.to)return;h.to==p&&(h=!1)}}if(p>=f)break;for(var M=Math.min(f,g);;){if(y){var C=p+y.length;if(!h){var P=C>M?y.slice(0,M-p):y;t.addToken(t,P,a?a+l:l,c,p+P.length==g?u:"",s,d)}if(C>=M){y=y.slice(M-p),p=M;break}p=C,c=""}y=i.slice(o,o=r[m++]),a=mr(r[m++],t.cm.options)}}else for(var T=1;T<r.length;T+=2)t.addToken(t,i.slice(o,o=r[T]),mr(r[T+1],t.cm.options))}function kr(e,t,r){this.line=t,this.rest=rr(t),this.size=this.rest?nt(J(this.rest))-r+1:1,this.node=this.text=null,this.hidden=or(e,t)}function _r(e,t,r){for(var n,i=[],o=t;o<r;o=n){var a=new kr(e.doc,Qe(e.doc,o),o);n=o+a.size,i.push(a)}return i}var jr=null;function Mr(e){jr?jr.ops.push(e):e.ownsGroup=jr={ops:[e],delayedCallbacks:[]}}function Cr(e){var t=e.delayedCallbacks,r=0;do{for(;r<t.length;r++)t[r].call(null);for(var n=0;n<e.ops.length;n++){var i=e.ops[n];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(r<t.length)}function Pr(e,t){var r=e.ownsGroup;if(r)try{Cr(r)}finally{jr=null,t(r)}}var Tr=null;function Er(e,t){var r=ve(e,t);if(r.length){var n,i=Array.prototype.slice.call(arguments,2);jr?n=jr.delayedCallbacks:Tr?n=Tr:(n=Tr=[],setTimeout(Or,0));for(var o=function(e){n.push((function(){return r[e].apply(null,i)}))},a=0;a<r.length;++a)o(a)}}function Or(){var e=Tr;Tr=null;for(var t=0;t<e.length;++t)e[t]()}function Ar(e,t,r,n){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?Dr(e,t):"gutter"==o?Fr(e,t,r,n):"class"==o?Ir(e,t):"widget"==o&&Br(e,t,n)}t.changes=null}function Lr(e){return e.node==e.text&&(e.node=E("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),a&&s<8&&(e.node.style.zIndex=2)),e.node}function Nr(e,t){var r=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(r&&(r+=" CodeMirror-linebackground"),t.background)r?t.background.className=r:(t.background.parentNode.removeChild(t.background),t.background=null);else if(r){var n=Lr(t);t.background=n.insertBefore(E("div",null,r),n.firstChild),e.display.input.setUneditable(t.background)}}function Rr(e,t){var r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):yr(e,t)}function Dr(e,t){var r=t.text.className,n=Rr(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,Ir(e,t)):r&&(t.text.className=r)}function Ir(e,t){Nr(e,t),t.line.wrapClass?Lr(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var r=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=r||""}function Fr(e,t,r,n){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=Lr(t);t.gutterBackground=E("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){var a=Lr(t),s=t.gutter=E("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(s.setAttribute("aria-hidden","true"),e.display.input.setUneditable(s),a.insertBefore(s,t.text),t.line.gutterClass&&(s.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=s.appendChild(E("div",at(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var l=0;l<e.display.gutterSpecs.length;++l){var u=e.display.gutterSpecs[l].className,c=o.hasOwnProperty(u)&&o[u];c&&s.appendChild(E("div",[c],"CodeMirror-gutter-elt","left: "+n.gutterLeft[u]+"px; width: "+n.gutterWidth[u]+"px"))}}}function Br(e,t,r){t.alignable&&(t.alignable=null);for(var n=j("CodeMirror-linewidget"),i=t.node.firstChild,o=void 0;i;i=o)o=i.nextSibling,n.test(i.className)&&t.node.removeChild(i);zr(e,t,r)}function Ur(e,t,r,n){var i=Rr(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),Ir(e,t),Fr(e,t,r,n),zr(e,t,n),t.node}function zr(e,t,r){if(qr(e,t.line,t,r,!0),t.rest)for(var n=0;n<t.rest.length;n++)qr(e,t.rest[n],t,r,!1)}function qr(e,t,r,n,i){if(t.widgets)for(var o=Lr(r),a=0,s=t.widgets;a<s.length;++a){var l=s[a],u=E("div",[l.node],"CodeMirror-linewidget"+(l.className?" "+l.className:""));l.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),Gr(l,u,r,n),e.display.input.setUneditable(u),i&&l.above?o.insertBefore(u,r.gutter||r.text):o.appendChild(u),Er(l,"redraw")}}function Gr(e,t,r,n){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var i=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(i-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function Vr(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!A(document.body,e.node)){var r="position: relative;";e.coverGutter&&(r+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(r+="width: "+t.display.wrapper.clientWidth+"px;"),T(t.display.measure,E("div",[e.node],null,r))}return e.height=e.node.parentNode.offsetHeight}function Hr(e,t){for(var r=Te(t);r!=e.wrapper;r=r.parentNode)if(!r||1==r.nodeType&&"true"==r.getAttribute("cm-ignore-events")||r.parentNode==e.sizer&&r!=e.mover)return!0}function Wr(e){return e.lineSpace.offsetTop}function Xr(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Yr(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=T(e.measure,E("pre","x","CodeMirror-line-like")),r=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(e.cachedPaddingH=n),n}function Kr(e){return V-e.display.nativeBarWidth}function Zr(e){return e.display.scroller.clientWidth-Kr(e)-e.display.barWidth}function $r(e){return e.display.scroller.clientHeight-Kr(e)-e.display.barHeight}function Jr(e,t,r){var n=e.options.lineWrapping,i=n&&Zr(e);if(!t.measure.heights||n&&t.measure.width!=i){var o=t.measure.heights=[];if(n){t.measure.width=i;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],u=a[s+1];Math.abs(l.bottom-u.bottom)>2&&o.push((l.bottom+u.top)/2-r.top)}}o.push(r.bottom-r.top)}}function Qr(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};if(e.rest){for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var i=0;i<e.rest.length;i++)if(nt(e.rest[i])>r)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}}function en(e,t){var r=nt(t=er(t)),n=e.display.externalMeasured=new kr(e.doc,t,r);n.lineN=r;var i=n.built=yr(e,n);return n.text=i.pre,T(e.display.lineMeasure,i.pre),n}function tn(e,t,r,n){return on(e,nn(e,t),r,n)}function rn(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Fn(e,t)];var r=e.display.externalMeasured;return r&&t>=r.lineN&&t<r.lineN+r.size?r:void 0}function nn(e,t){var r=nt(t),n=rn(e,r);n&&!n.text?n=null:n&&n.changes&&(Ar(e,n,r,Ln(e)),e.curOp.forceUpdate=!0),n||(n=en(e,t));var i=Qr(n,t,r);return{line:t,view:n,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function on(e,t,r,n,i){t.before&&(r=-1);var o,a=r+(n||"");return t.cache.hasOwnProperty(a)?o=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Jr(e,t.view,t.rect),t.hasHeights=!0),(o=cn(e,t,r,n)).bogus||(t.cache[a]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}var an,sn={left:0,right:0,top:0,bottom:0};function ln(e,t,r){for(var n,i,o,a,s,l,u=0;u<e.length;u+=3)if(s=e[u],l=e[u+1],t<s?(i=0,o=1,a="left"):t<l?o=1+(i=t-s):(u==e.length-3||t==l&&e[u+3]>t)&&(i=(o=l-s)-1,t>=l&&(a="right")),null!=i){if(n=e[u+2],s==l&&r==(n.insertLeft?"left":"right")&&(a=r),"left"==r&&0==i)for(;u&&e[u-2]==e[u-3]&&e[u-1].insertLeft;)n=e[2+(u-=3)],a="left";if("right"==r&&i==l-s)for(;u<e.length-3&&e[u+3]==e[u+4]&&!e[u+5].insertLeft;)n=e[(u+=3)+2],a="right";break}return{node:n,start:i,end:o,collapse:a,coverStart:s,coverEnd:l}}function un(e,t){var r=sn;if("left"==t)for(var n=0;n<e.length&&(r=e[n]).left==r.right;n++);else for(var i=e.length-1;i>=0&&(r=e[i]).left==r.right;i--);return r}function cn(e,t,r,n){var i,o=ln(t.map,r,n),l=o.node,u=o.start,c=o.end,h=o.collapse;if(3==l.nodeType){for(var d=0;d<4;d++){for(;u&&le(t.line.text.charAt(o.coverStart+u));)--u;for(;o.coverStart+c<o.coverEnd&&le(t.line.text.charAt(o.coverStart+c));)++c;if((i=a&&s<9&&0==u&&c==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():un(M(l,u,c).getClientRects(),n)).left||i.right||0==u)break;c=u,u-=1,h="right"}a&&s<11&&(i=hn(e.display.measure,i))}else{var f;u>0&&(h=n="right"),i=e.options.lineWrapping&&(f=l.getClientRects()).length>1?f["right"==n?f.length-1:0]:l.getBoundingClientRect()}if(a&&s<9&&!u&&(!i||!i.left&&!i.right)){var p=l.parentNode.getClientRects()[0];i=p?{left:p.left,right:p.left+An(e.display),top:p.top,bottom:p.bottom}:sn}for(var m=i.top-t.rect.top,y=i.bottom-t.rect.top,g=(m+y)/2,v=t.view.measure.heights,b=0;b<v.length-1&&!(g<v[b]);b++);var x=b?v[b-1]:0,w=v[b],S={left:("right"==h?i.right:i.left)-t.rect.left,right:("left"==h?i.left:i.right)-t.rect.left,top:x,bottom:w};return i.left||i.right||(S.bogus=!0),e.options.singleCursorHeightPerLine||(S.rtop=m,S.rbottom=y),S}function hn(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Ue(e))return t;var r=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*r,right:t.right*r,top:t.top*n,bottom:t.bottom*n}}function dn(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function fn(e){e.display.externalMeasure=null,P(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)dn(e.display.view[t])}function pn(e){fn(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function mn(e){return c&&g?-(e.body.getBoundingClientRect().left-parseInt(getComputedStyle(e.body).marginLeft)):e.defaultView.pageXOffset||(e.documentElement||e.body).scrollLeft}function yn(e){return c&&g?-(e.body.getBoundingClientRect().top-parseInt(getComputedStyle(e.body).marginTop)):e.defaultView.pageYOffset||(e.documentElement||e.body).scrollTop}function gn(e){var t=er(e).widgets,r=0;if(t)for(var n=0;n<t.length;++n)t[n].above&&(r+=Vr(t[n]));return r}function vn(e,t,r,n,i){if(!i){var o=gn(t);r.top+=o,r.bottom+=o}if("line"==n)return r;n||(n="local");var a=sr(t);if("local"==n?a+=Wr(e.display):a-=e.display.viewOffset,"page"==n||"window"==n){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==n?0:yn(I(e)));var l=s.left+("window"==n?0:mn(I(e)));r.left+=l,r.right+=l}return r.top+=a,r.bottom+=a,r}function bn(e,t,r){if("div"==r)return t;var n=t.left,i=t.top;if("page"==r)n-=mn(I(e)),i-=yn(I(e));else if("local"==r||!r){var o=e.display.sizer.getBoundingClientRect();n+=o.left,i+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:n-a.left,top:i-a.top}}function xn(e,t,r,n,i){return n||(n=Qe(e.doc,t.line)),vn(e,n,tn(e,n,t.ch,i),r)}function wn(e,t,r,n,i,o){function a(t,a){var s=on(e,i,t,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,vn(e,n,s,r)}n=n||Qe(e.doc,t.line),i||(i=nn(e,n));var s=me(n,e.doc.direction),l=t.ch,u=t.sticky;if(l>=n.text.length?(l=n.text.length,u="before"):l<=0&&(l=0,u="after"),!s)return a("before"==u?l-1:l,"before"==u);function c(e,t,r){return a(r?e-1:e,1==s[t].level!=r)}var h=fe(s,l,u),d=de,f=c(l,h,"before"==u);return null!=d&&(f.other=c(l,d,"before"!=u)),f}function Sn(e,t){var r=0;t=pt(e.doc,t),e.options.lineWrapping||(r=An(e.display)*t.ch);var n=Qe(e.doc,t.line),i=sr(n)+Wr(e.display);return{left:r,right:r,top:i,bottom:i+n.height}}function kn(e,t,r,n,i){var o=st(e,t,r);return o.xRel=i,n&&(o.outside=n),o}function _n(e,t,r){var n=e.doc;if((r+=e.display.viewOffset)<0)return kn(n.first,0,null,-1,-1);var i=it(n,r),o=n.first+n.size-1;if(i>o)return kn(n.first+n.size-1,Qe(n,o).text.length,null,1,1);t<0&&(t=0);for(var a=Qe(n,i);;){var s=Pn(e,a,i,t,r),l=Jt(a,s.ch+(s.xRel>0||s.outside>0?1:0));if(!l)return s;var u=l.find(1);if(u.line==i)return u;a=Qe(n,i=u.line)}}function jn(e,t,r,n){n-=gn(t);var i=t.text.length,o=ce((function(t){return on(e,r,t-1).bottom<=n}),i,0);return{begin:o,end:i=ce((function(t){return on(e,r,t).top>n}),o,i)}}function Mn(e,t,r,n){return r||(r=nn(e,t)),jn(e,t,r,vn(e,t,on(e,r,n),"line").top)}function Cn(e,t,r,n){return!(e.bottom<=r)&&(e.top>r||(n?e.left:e.right)>t)}function Pn(e,t,r,n,i){i-=sr(t);var o=nn(e,t),a=gn(t),s=0,l=t.text.length,u=!0,c=me(t,e.doc.direction);if(c){var h=(e.options.lineWrapping?En:Tn)(e,t,r,o,c,n,i);s=(u=1!=h.level)?h.from:h.to-1,l=u?h.to:h.from-1}var d,f,p=null,m=null,y=ce((function(t){var r=on(e,o,t);return r.top+=a,r.bottom+=a,!!Cn(r,n,i,!1)&&(r.top<=i&&r.left<=n&&(p=t,m=r),!0)}),s,l),g=!1;if(m){var v=n-m.left<m.right-n,b=v==u;y=p+(b?0:1),f=b?"after":"before",d=v?m.left:m.right}else{u||y!=l&&y!=s||y++,f=0==y?"after":y==t.text.length?"before":on(e,o,y-(u?1:0)).bottom+a<=i==u?"after":"before";var x=wn(e,st(r,y,f),"line",t,o);d=x.left,g=i<x.top?-1:i>=x.bottom?1:0}return kn(r,y=ue(t.text,y,1),f,g,n-d)}function Tn(e,t,r,n,i,o,a){var s=ce((function(s){var l=i[s],u=1!=l.level;return Cn(wn(e,st(r,u?l.to:l.from,u?"before":"after"),"line",t,n),o,a,!0)}),0,i.length-1),l=i[s];if(s>0){var u=1!=l.level,c=wn(e,st(r,u?l.from:l.to,u?"after":"before"),"line",t,n);Cn(c,o,a,!0)&&c.top>a&&(l=i[s-1])}return l}function En(e,t,r,n,i,o,a){var s=jn(e,t,n,a),l=s.begin,u=s.end;/\s/.test(t.text.charAt(u-1))&&u--;for(var c=null,h=null,d=0;d<i.length;d++){var f=i[d];if(!(f.from>=u||f.to<=l)){var p=on(e,n,1!=f.level?Math.min(u,f.to)-1:Math.max(l,f.from)).right,m=p<o?o-p+1e9:p-o;(!c||h>m)&&(c=f,h=m)}}return c||(c=i[i.length-1]),c.from<l&&(c={from:l,to:c.to,level:c.level}),c.to>u&&(c={from:c.from,to:u,level:c.level}),c}function On(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==an){an=E("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)an.appendChild(document.createTextNode("x")),an.appendChild(E("br"));an.appendChild(document.createTextNode("x"))}T(e.measure,an);var r=an.offsetHeight/50;return r>3&&(e.cachedTextHeight=r),P(e.measure),r||1}function An(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=E("span","xxxxxxxxxx"),r=E("pre",[t],"CodeMirror-line-like");T(e.measure,r);var n=t.getBoundingClientRect(),i=(n.right-n.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function Ln(e){for(var t=e.display,r={},n={},i=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a){var s=e.display.gutterSpecs[a].className;r[s]=o.offsetLeft+o.clientLeft+i,n[s]=o.clientWidth}return{fixedPos:Nn(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function Nn(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Rn(e){var t=On(e.display),r=e.options.lineWrapping,n=r&&Math.max(5,e.display.scroller.clientWidth/An(e.display)-3);return function(i){if(or(e.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return r?o+(Math.ceil(i.text.length/n)||1)*t:o+t}}function Dn(e){var t=e.doc,r=Rn(e);t.iter((function(e){var t=r(e);t!=e.height&&rt(e,t)}))}function In(e,t,r,n){var i=e.display;if(!r&&"true"==Te(t).getAttribute("cm-not-content"))return null;var o,a,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,a=t.clientY-s.top}catch(h){return null}var l,u=_n(e,o,a);if(n&&u.xRel>0&&(l=Qe(e.doc,u.line).text).length==u.ch){var c=z(l,l.length,e.options.tabSize)-l.length;u=st(u.line,Math.max(0,Math.round((o-Yr(e.display).left)/An(e.display))-c))}return u}function Fn(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var r=e.display.view,n=0;n<r.length;n++)if((t-=r[n].size)<0)return n}function Bn(e,t,r,n){null==t&&(t=e.doc.first),null==r&&(r=e.doc.first+e.doc.size),n||(n=0);var i=e.display;if(n&&r<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)At&&nr(e.doc,t)<i.viewTo&&zn(e);else if(r<=i.viewFrom)At&&ir(e.doc,r+n)>i.viewFrom?zn(e):(i.viewFrom+=n,i.viewTo+=n);else if(t<=i.viewFrom&&r>=i.viewTo)zn(e);else if(t<=i.viewFrom){var o=qn(e,r,r+n,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=n):zn(e)}else if(r>=i.viewTo){var a=qn(e,t,t,-1);a?(i.view=i.view.slice(0,a.index),i.viewTo=a.lineN):zn(e)}else{var s=qn(e,t,t,-1),l=qn(e,r,r+n,1);s&&l?(i.view=i.view.slice(0,s.index).concat(_r(e,s.lineN,l.lineN)).concat(i.view.slice(l.index)),i.viewTo+=n):zn(e)}var u=i.externalMeasured;u&&(r<u.lineN?u.lineN+=n:t<u.lineN+u.size&&(i.externalMeasured=null))}function Un(e,t,r){e.curOp.viewChanged=!0;var n=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var o=n.view[Fn(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==G(a,r)&&a.push(r)}}}function zn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function qn(e,t,r,n){var i,o=Fn(e,t),a=e.display.view;if(!At||r==e.doc.first+e.doc.size)return{index:o,lineN:r};for(var s=e.display.viewFrom,l=0;l<o;l++)s+=a[l].size;if(s!=t){if(n>0){if(o==a.length-1)return null;i=s+a[o].size-t,o++}else i=s-t;t+=i,r+=i}for(;nr(e.doc,r)!=r;){if(o==(n<0?0:a.length-1))return null;r+=n*a[o-(n<0?1:0)].size,o+=n}return{index:o,lineN:r}}function Gn(e,t,r){var n=e.display;0==n.view.length||t>=n.viewTo||r<=n.viewFrom?(n.view=_r(e,t,r),n.viewFrom=t):(n.viewFrom>t?n.view=_r(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(Fn(e,t))),n.viewFrom=t,n.viewTo<r?n.view=n.view.concat(_r(e,n.viewTo,r)):n.viewTo>r&&(n.view=n.view.slice(0,Fn(e,r)))),n.viewTo=r}function Vn(e){for(var t=e.display.view,r=0,n=0;n<t.length;n++){var i=t[n];i.hidden||i.node&&!i.changes||++r}return r}function Hn(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Wn(e,t){void 0===t&&(t=!0);var r=e.doc,n={},i=n.cursors=document.createDocumentFragment(),o=n.selection=document.createDocumentFragment(),a=e.options.$customCursor;a&&(t=!0);for(var s=0;s<r.sel.ranges.length;s++)if(t||s!=r.sel.primIndex){var l=r.sel.ranges[s];if(!(l.from().line>=e.display.viewTo||l.to().line<e.display.viewFrom)){var u=l.empty();if(a){var c=a(e,l);c&&Xn(e,c,i)}else(u||e.options.showCursorWhenSelecting)&&Xn(e,l.head,i);u||Kn(e,l,o)}}return n}function Xn(e,t,r){var n=wn(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=r.appendChild(E("div","\xa0","CodeMirror-cursor"));if(i.style.left=n.left+"px",i.style.top=n.top+"px",i.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(e.getWrapperElement().className)){var o=xn(e,t,"div",null,null),a=o.right-o.left;i.style.width=(a>0?a:e.defaultCharWidth())+"px"}if(n.other){var s=r.appendChild(E("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));s.style.display="",s.style.left=n.other.left+"px",s.style.top=n.other.top+"px",s.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function Yn(e,t){return e.top-t.top||e.left-t.left}function Kn(e,t,r){var n=e.display,i=e.doc,o=document.createDocumentFragment(),a=Yr(e.display),s=a.left,l=Math.max(n.sizerWidth,Zr(e)-n.sizer.offsetLeft)-a.right,u="ltr"==i.direction;function c(e,t,r,n){t<0&&(t=0),t=Math.round(t),n=Math.round(n),o.appendChild(E("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==r?l-e:r)+"px;\n                             height: "+(n-t)+"px"))}function h(t,r,n){var o,a,h=Qe(i,t),d=h.text.length;function f(r,n){return xn(e,st(t,r),"div",h,n)}function p(t,r,n){var i=Mn(e,h,null,t),o="ltr"==r==("after"==n)?"left":"right";return f("after"==n?i.begin:i.end-(/\s/.test(h.text.charAt(i.end-1))?2:1),o)[o]}var m=me(h,i.direction);return he(m,r||0,null==n?d:n,(function(e,t,i,h){var y="ltr"==i,g=f(e,y?"left":"right"),v=f(t-1,y?"right":"left"),b=null==r&&0==e,x=null==n&&t==d,w=0==h,S=!m||h==m.length-1;if(v.top-g.top<=3){var k=(u?x:b)&&S,_=(u?b:x)&&w?s:(y?g:v).left,j=k?l:(y?v:g).right;c(_,g.top,j-_,g.bottom)}else{var M,C,P,T;y?(M=u&&b&&w?s:g.left,C=u?l:p(e,i,"before"),P=u?s:p(t,i,"after"),T=u&&x&&S?l:v.right):(M=u?p(e,i,"before"):s,C=!u&&b&&w?l:g.right,P=!u&&x&&S?s:v.left,T=u?p(t,i,"after"):l),c(M,g.top,C-M,g.bottom),g.bottom<v.top&&c(s,g.bottom,null,v.top),c(P,v.top,T-P,v.bottom)}(!o||Yn(g,o)<0)&&(o=g),Yn(v,o)<0&&(o=v),(!a||Yn(g,a)<0)&&(a=g),Yn(v,a)<0&&(a=v)})),{start:o,end:a}}var d=t.from(),f=t.to();if(d.line==f.line)h(d.line,d.ch,f.ch);else{var p=Qe(i,d.line),m=Qe(i,f.line),y=er(p)==er(m),g=h(d.line,d.ch,y?p.text.length+1:null).end,v=h(f.line,y?0:null,f.ch).start;y&&(g.top<v.top-2?(c(g.right,g.top,null,g.bottom),c(s,v.top,v.left,v.bottom)):c(g.right,g.top,v.left-g.right,g.bottom)),g.bottom<v.top&&c(s,g.bottom,null,v.top)}r.appendChild(o)}function Zn(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval((function(){e.hasFocus()||ei(e),t.cursorDiv.style.visibility=(r=!r)?"":"hidden"}),e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function $n(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||Qn(e))}function Jn(e){e.state.delayingBlurEvent=!0,setTimeout((function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&ei(e))}),100)}function Qn(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(xe(e,"focus",e,t),e.state.focused=!0,N(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),l&&setTimeout((function(){return e.display.input.reset(!0)}),20)),e.display.input.receivedFocus()),Zn(e))}function ei(e,t){e.state.delayingBlurEvent||(e.state.focused&&(xe(e,"blur",e,t),e.state.focused=!1,C(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout((function(){e.state.focused||(e.display.shift=!1)}),150))}function ti(e){for(var t=e.display,r=t.lineDiv.offsetTop,n=Math.max(0,t.scroller.getBoundingClientRect().top),i=t.lineDiv.getBoundingClientRect().top,o=0,l=0;l<t.view.length;l++){var u=t.view[l],c=e.options.lineWrapping,h=void 0,d=0;if(!u.hidden){if(i+=u.line.height,a&&s<8){var f=u.node.offsetTop+u.node.offsetHeight;h=f-r,r=f}else{var p=u.node.getBoundingClientRect();h=p.bottom-p.top,!c&&u.text.firstChild&&(d=u.text.firstChild.getBoundingClientRect().right-p.left-1)}var m=u.line.height-h;if((m>.005||m<-.005)&&(i<n&&(o-=m),rt(u.line,h),ri(u.line),u.rest))for(var y=0;y<u.rest.length;y++)ri(u.rest[y]);if(d>e.display.sizerWidth){var g=Math.ceil(d/An(e.display));g>e.display.maxLineLength&&(e.display.maxLineLength=g,e.display.maxLine=u.line,e.display.maxLineChanged=!0)}}}Math.abs(o)>2&&(t.scroller.scrollTop+=o)}function ri(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var r=e.widgets[t],n=r.node.parentNode;n&&(r.height=n.offsetHeight)}}function ni(e,t,r){var n=r&&null!=r.top?Math.max(0,r.top):e.scroller.scrollTop;n=Math.floor(n-Wr(e));var i=r&&null!=r.bottom?r.bottom:n+e.wrapper.clientHeight,o=it(t,n),a=it(t,i);if(r&&r.ensure){var s=r.ensure.from.line,l=r.ensure.to.line;s<o?(o=s,a=it(t,sr(Qe(t,s))+e.wrapper.clientHeight)):Math.min(l,t.lastLine())>=a&&(o=it(t,sr(Qe(t,l))-e.wrapper.clientHeight),a=l)}return{from:o,to:Math.max(a,o+1)}}function ii(e,t){if(!we(e,"scrollCursorIntoView")){var r=e.display,n=r.sizer.getBoundingClientRect(),i=null,o=r.wrapper.ownerDocument;if(t.top+n.top<0?i=!0:t.bottom+n.top>(o.defaultView.innerHeight||o.documentElement.clientHeight)&&(i=!1),null!=i&&!m){var a=E("div","\u200b",null,"position: absolute;\n                         top: "+(t.top-r.viewOffset-Wr(e.display))+"px;\n                         height: "+(t.bottom-t.top+Kr(e)+r.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(a),a.scrollIntoView(i),e.display.lineSpace.removeChild(a)}}}function oi(e,t,r,n){var i;null==n&&(n=0),e.options.lineWrapping||t!=r||(r="before"==t.sticky?st(t.line,t.ch+1,"before"):t,t=t.ch?st(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t);for(var o=0;o<5;o++){var a=!1,s=wn(e,t),l=r&&r!=t?wn(e,r):s,u=si(e,i={left:Math.min(s.left,l.left),top:Math.min(s.top,l.top)-n,right:Math.max(s.left,l.left),bottom:Math.max(s.bottom,l.bottom)+n}),c=e.doc.scrollTop,h=e.doc.scrollLeft;if(null!=u.scrollTop&&(pi(e,u.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(a=!0)),null!=u.scrollLeft&&(yi(e,u.scrollLeft),Math.abs(e.doc.scrollLeft-h)>1&&(a=!0)),!a)break}return i}function ai(e,t){var r=si(e,t);null!=r.scrollTop&&pi(e,r.scrollTop),null!=r.scrollLeft&&yi(e,r.scrollLeft)}function si(e,t){var r=e.display,n=On(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:r.scroller.scrollTop,o=$r(e),a={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+Xr(r),l=t.top<n,u=t.bottom>s-n;if(t.top<i)a.scrollTop=l?0:t.top;else if(t.bottom>i+o){var c=Math.min(t.top,(u?s:t.bottom)-o);c!=i&&(a.scrollTop=c)}var h=e.options.fixedGutter?0:r.gutters.offsetWidth,d=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:r.scroller.scrollLeft-h,f=Zr(e)-r.gutters.offsetWidth,p=t.right-t.left>f;return p&&(t.right=t.left+f),t.left<10?a.scrollLeft=0:t.left<d?a.scrollLeft=Math.max(0,t.left+h-(p?0:10)):t.right>f+d-3&&(a.scrollLeft=t.right+(p?0:10)-f),a}function li(e,t){null!=t&&(di(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function ui(e){di(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function ci(e,t,r){null==t&&null==r||di(e),null!=t&&(e.curOp.scrollLeft=t),null!=r&&(e.curOp.scrollTop=r)}function hi(e,t){di(e),e.curOp.scrollToPos=t}function di(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,fi(e,Sn(e,t.from),Sn(e,t.to),t.margin))}function fi(e,t,r,n){var i=si(e,{left:Math.min(t.left,r.left),top:Math.min(t.top,r.top)-n,right:Math.max(t.right,r.right),bottom:Math.max(t.bottom,r.bottom)+n});ci(e,i.scrollLeft,i.scrollTop)}function pi(e,t){Math.abs(e.doc.scrollTop-t)<2||(r||Hi(e,{top:t}),mi(e,t,!0),r&&Hi(e),Ii(e,100))}function mi(e,t,r){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||r)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function yi(e,t,r,n){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!n||(e.doc.scrollLeft=t,Ki(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function gi(e){var t=e.display,r=t.gutters.offsetWidth,n=Math.round(e.doc.height+Xr(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+Kr(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}var vi=function(e,t,r){this.cm=r;var n=this.vert=E("div",[E("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=E("div",[E("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n.tabIndex=i.tabIndex=-1,e(n),e(i),ge(n,"scroll",(function(){n.clientHeight&&t(n.scrollTop,"vertical")})),ge(i,"scroll",(function(){i.clientWidth&&t(i.scrollLeft,"horizontal")})),this.checkedZeroWidth=!1,a&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};vi.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var i=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(r?n:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?n:0,bottom:t?n:0}},vi.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},vi.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},vi.prototype.zeroWidthHack=function(){var e=b&&!p?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new q,this.disableVert=new q},vi.prototype.enableZeroWidthBar=function(e,t,r){function n(){var i=e.getBoundingClientRect();("vert"==r?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1))!=e?e.style.visibility="hidden":t.set(1e3,n)}e.style.visibility="",t.set(1e3,n)},vi.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var bi=function(){};function xi(e,t){t||(t=gi(e));var r=e.display.barWidth,n=e.display.barHeight;wi(e,t);for(var i=0;i<4&&r!=e.display.barWidth||n!=e.display.barHeight;i++)r!=e.display.barWidth&&e.options.lineWrapping&&ti(e),wi(e,gi(e)),r=e.display.barWidth,n=e.display.barHeight}function wi(e,t){var r=e.display,n=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",r.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}bi.prototype.update=function(){return{bottom:0,right:0}},bi.prototype.setScrollLeft=function(){},bi.prototype.setScrollTop=function(){},bi.prototype.clear=function(){};var Si={native:vi,null:bi};function ki(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&C(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Si[e.options.scrollbarStyle]((function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),ge(t,"mousedown",(function(){e.state.focused&&setTimeout((function(){return e.display.input.focus()}),0)})),t.setAttribute("cm-not-content","true")}),(function(t,r){"horizontal"==r?yi(e,t):pi(e,t)}),e),e.display.scrollbars.addClass&&N(e.display.wrapper,e.display.scrollbars.addClass)}var _i=0;function ji(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++_i,markArrays:null},Mr(e.curOp)}function Mi(e){var t=e.curOp;t&&Pr(t,(function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;Ci(e)}))}function Ci(e){for(var t=e.ops,r=0;r<t.length;r++)Pi(t[r]);for(var n=0;n<t.length;n++)Ti(t[n]);for(var i=0;i<t.length;i++)Ei(t[i]);for(var o=0;o<t.length;o++)Oi(t[o]);for(var a=0;a<t.length;a++)Ai(t[a])}function Pi(e){var t=e.cm,r=t.display;Ui(t),e.updateMaxLine&&ur(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Bi(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function Ti(e){e.updatedDisplay=e.mustUpdate&&Gi(e.cm,e.update)}function Ei(e){var t=e.cm,r=t.display;e.updatedDisplay&&ti(t),e.barMeasure=gi(t),r.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=tn(t,r.maxLine,r.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+Kr(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-Zr(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=r.input.prepareSelection())}function Oi(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&yi(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var r=e.focus&&e.focus==L(I(t));e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,r),(e.updatedDisplay||e.startHeight!=t.doc.height)&&xi(t,e.barMeasure),e.updatedDisplay&&Yi(t,e.barMeasure),e.selectionChanged&&Zn(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),r&&$n(e.cm)}function Ai(e){var t=e.cm,r=t.display,n=t.doc;e.updatedDisplay&&Vi(t,e.update),null==r.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(r.wheelStartX=r.wheelStartY=null),null!=e.scrollTop&&mi(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&yi(t,e.scrollLeft,!0,!0),e.scrollToPos&&ii(t,oi(t,pt(n,e.scrollToPos.from),pt(n,e.scrollToPos.to),e.scrollToPos.margin));var i=e.maybeHiddenMarkers,o=e.maybeUnhiddenMarkers;if(i)for(var a=0;a<i.length;++a)i[a].lines.length||xe(i[a],"hide");if(o)for(var s=0;s<o.length;++s)o[s].lines.length&&xe(o[s],"unhide");r.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&xe(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Li(e,t){if(e.curOp)return t();ji(e);try{return t()}finally{Mi(e)}}function Ni(e,t){return function(){if(e.curOp)return t.apply(e,arguments);ji(e);try{return t.apply(e,arguments)}finally{Mi(e)}}}function Ri(e){return function(){if(this.curOp)return e.apply(this,arguments);ji(this);try{return e.apply(this,arguments)}finally{Mi(this)}}}function Di(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);ji(t);try{return e.apply(this,arguments)}finally{Mi(t)}}}function Ii(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,B(Fi,e))}function Fi(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var r=+new Date+e.options.workTime,n=wt(e,t.highlightFrontier),i=[];t.iter(n.line,Math.min(t.first+t.size,e.display.viewTo+500),(function(o){if(n.line>=e.display.viewFrom){var a=o.styles,s=o.text.length>e.options.maxHighlightLength?Ke(t.mode,n.state):null,l=bt(e,o,n,!0);s&&(n.state=s),o.styles=l.styles;var u=o.styleClasses,c=l.classes;c?o.styleClasses=c:u&&(o.styleClasses=null);for(var h=!a||a.length!=o.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),d=0;!h&&d<a.length;++d)h=a[d]!=o.styles[d];h&&i.push(n.line),o.stateAfter=n.save(),n.nextLine()}else o.text.length<=e.options.maxHighlightLength&&St(e,o.text,n),o.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>r)return Ii(e,e.options.workDelay),!0})),t.highlightFrontier=n.line,t.modeFrontier=Math.max(t.modeFrontier,n.line),i.length&&Li(e,(function(){for(var t=0;t<i.length;t++)Un(e,i[t],"text")}))}}var Bi=function(e,t,r){var n=e.display;this.viewport=t,this.visible=ni(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Zr(e),this.force=r,this.dims=Ln(e),this.events=[]};function Ui(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Kr(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Kr(e)+"px",t.scrollbarsClipped=!0)}function zi(e){if(e.hasFocus())return null;var t=L(I(e));if(!t||!A(e.display.lineDiv,t))return null;var r={activeElt:t};if(window.getSelection){var n=F(e).getSelection();n.anchorNode&&n.extend&&A(e.display.lineDiv,n.anchorNode)&&(r.anchorNode=n.anchorNode,r.anchorOffset=n.anchorOffset,r.focusNode=n.focusNode,r.focusOffset=n.focusOffset)}return r}function qi(e){if(e&&e.activeElt&&e.activeElt!=L(e.activeElt.ownerDocument)&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&A(document.body,e.anchorNode)&&A(document.body,e.focusNode))){var t=e.activeElt.ownerDocument,r=t.defaultView.getSelection(),n=t.createRange();n.setEnd(e.anchorNode,e.anchorOffset),n.collapse(!1),r.removeAllRanges(),r.addRange(n),r.extend(e.focusNode,e.focusOffset)}}function Gi(e,t){var r=e.display,n=e.doc;if(t.editorIsHidden)return zn(e),!1;if(!t.force&&t.visible.from>=r.viewFrom&&t.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==Vn(e))return!1;Zi(e)&&(zn(e),t.dims=Ln(e));var i=n.first+n.size,o=Math.max(t.visible.from-e.options.viewportMargin,n.first),a=Math.min(i,t.visible.to+e.options.viewportMargin);r.viewFrom<o&&o-r.viewFrom<20&&(o=Math.max(n.first,r.viewFrom)),r.viewTo>a&&r.viewTo-a<20&&(a=Math.min(i,r.viewTo)),At&&(o=nr(e.doc,o),a=ir(e.doc,a));var s=o!=r.viewFrom||a!=r.viewTo||r.lastWrapHeight!=t.wrapperHeight||r.lastWrapWidth!=t.wrapperWidth;Gn(e,o,a),r.viewOffset=sr(Qe(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var l=Vn(e);if(!s&&0==l&&!t.force&&r.renderedView==r.view&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo))return!1;var u=zi(e);return l>4&&(r.lineDiv.style.display="none"),Wi(e,r.updateLineNumbers,t.dims),l>4&&(r.lineDiv.style.display=""),r.renderedView=r.view,qi(u),P(r.cursorDiv),P(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,s&&(r.lastWrapHeight=t.wrapperHeight,r.lastWrapWidth=t.wrapperWidth,Ii(e,400)),r.updateLineNumbers=null,!0}function Vi(e,t){for(var r=t.viewport,n=!0;;n=!1){if(n&&e.options.lineWrapping&&t.oldDisplayWidth!=Zr(e))n&&(t.visible=ni(e.display,e.doc,r));else if(r&&null!=r.top&&(r={top:Math.min(e.doc.height+Xr(e.display)-$r(e),r.top)}),t.visible=ni(e.display,e.doc,r),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!Gi(e,t))break;ti(e);var i=gi(e);Hn(e),xi(e,i),Yi(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Hi(e,t){var r=new Bi(e,t);if(Gi(e,r)){ti(e),Vi(e,r);var n=gi(e);Hn(e),xi(e,n),Yi(e,n),r.finish()}}function Wi(e,t,r){var n=e.display,i=e.options.lineNumbers,o=n.lineDiv,a=o.firstChild;function s(t){var r=t.nextSibling;return l&&b&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),r}for(var u=n.view,c=n.viewFrom,h=0;h<u.length;h++){var d=u[h];if(d.hidden);else if(d.node&&d.node.parentNode==o){for(;a!=d.node;)a=s(a);var f=i&&null!=t&&t<=c&&d.lineNumber;d.changes&&(G(d.changes,"gutter")>-1&&(f=!1),Ar(e,d,c,r)),f&&(P(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(at(e.options,c)))),a=d.node.nextSibling}else{var p=Ur(e,d,c,r);o.insertBefore(p,a)}c+=d.size}for(;a;)a=s(a)}function Xi(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px",Er(e,"gutterChanged",e)}function Yi(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Kr(e)+"px"}function Ki(e){var t=e.display,r=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=Nn(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=n+"px",a=0;a<r.length;a++)if(!r[a].hidden){e.options.fixedGutter&&(r[a].gutter&&(r[a].gutter.style.left=o),r[a].gutterBackground&&(r[a].gutterBackground.style.left=o));var s=r[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=n+i+"px")}}function Zi(e){if(!e.options.lineNumbers)return!1;var t=e.doc,r=at(e.options,t.first+t.size-1),n=e.display;if(r.length!=n.lineNumChars){var i=n.measure.appendChild(E("div",[E("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(o,n.lineGutter.offsetWidth-a)+1,n.lineNumWidth=n.lineNumInnerWidth+a,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",Xi(e.display),!0}return!1}function $i(e,t){for(var r=[],n=!1,i=0;i<e.length;i++){var o=e[i],a=null;if("string"!=typeof o&&(a=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!t)continue;n=!0}r.push({className:o,style:a})}return t&&!n&&r.push({className:"CodeMirror-linenumbers",style:null}),r}function Ji(e){var t=e.gutters,r=e.gutterSpecs;P(t),e.lineGutter=null;for(var n=0;n<r.length;++n){var i=r[n],o=i.className,a=i.style,s=t.appendChild(E("div",null,"CodeMirror-gutter "+o));a&&(s.style.cssText=a),"CodeMirror-linenumbers"==o&&(e.lineGutter=s,s.style.width=(e.lineNumWidth||1)+"px")}t.style.display=r.length?"":"none",Xi(e)}function Qi(e){Ji(e.display),Bn(e),Ki(e)}function eo(e,t,n,i){var o=this;this.input=n,o.scrollbarFiller=E("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=E("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=O("div",null,"CodeMirror-code"),o.selectionDiv=E("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=E("div",null,"CodeMirror-cursors"),o.measure=E("div",null,"CodeMirror-measure"),o.lineMeasure=E("div",null,"CodeMirror-measure"),o.lineSpace=O("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var u=O("div",[o.lineSpace],"CodeMirror-lines");o.mover=E("div",[u],null,"position: relative"),o.sizer=E("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=E("div",null,null,"position: absolute; height: "+V+"px; width: 1px;"),o.gutters=E("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=E("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=E("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),c&&h>=105&&(o.wrapper.style.clipPath="inset(0px)"),o.wrapper.setAttribute("translate","no"),a&&s<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),l||r&&v||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,o.gutterSpecs=$i(i.gutters,i.lineNumbers),Ji(o),n.init(o)}Bi.prototype.signal=function(e,t){ke(e,t)&&this.events.push(arguments)},Bi.prototype.finish=function(){for(var e=0;e<this.events.length;e++)xe.apply(null,this.events[e])};var to=0,ro=null;function no(e){var t=e.wheelDeltaX,r=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==r&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:null==r&&(r=e.wheelDelta),{x:t,y:r}}function io(e){var t=no(e);return t.x*=ro,t.y*=ro,t}function oo(e,t){c&&102==h&&(null==e.display.chromeScrollHack?e.display.sizer.style.pointerEvents="none":clearTimeout(e.display.chromeScrollHack),e.display.chromeScrollHack=setTimeout((function(){e.display.chromeScrollHack=null,e.display.sizer.style.pointerEvents=""}),100));var n=no(t),i=n.x,o=n.y,a=ro;0===t.deltaMode&&(i=t.deltaX,o=t.deltaY,a=1);var s=e.display,u=s.scroller,f=u.scrollWidth>u.clientWidth,p=u.scrollHeight>u.clientHeight;if(i&&f||o&&p){if(o&&b&&l)e:for(var m=t.target,y=s.view;m!=u;m=m.parentNode)for(var g=0;g<y.length;g++)if(y[g].node==m){e.display.currentWheelTarget=m;break e}if(i&&!r&&!d&&null!=a)return o&&p&&pi(e,Math.max(0,u.scrollTop+o*a)),yi(e,Math.max(0,u.scrollLeft+i*a)),(!o||o&&p)&&je(t),void(s.wheelStartX=null);if(o&&null!=a){var v=o*a,x=e.doc.scrollTop,w=x+s.wrapper.clientHeight;v<0?x=Math.max(0,x+v-50):w=Math.min(e.doc.height,w+v+50),Hi(e,{top:x,bottom:w})}to<20&&0!==t.deltaMode&&(null==s.wheelStartX?(s.wheelStartX=u.scrollLeft,s.wheelStartY=u.scrollTop,s.wheelDX=i,s.wheelDY=o,setTimeout((function(){if(null!=s.wheelStartX){var e=u.scrollLeft-s.wheelStartX,t=u.scrollTop-s.wheelStartY,r=t&&s.wheelDY&&t/s.wheelDY||e&&s.wheelDX&&e/s.wheelDX;s.wheelStartX=s.wheelStartY=null,r&&(ro=(ro*to+r)/(to+1),++to)}}),200)):(s.wheelDX+=i,s.wheelDY+=o))}}a?ro=-.53:r?ro=15:c?ro=-.7:f&&(ro=-1/3);var ao=function(e,t){this.ranges=e,this.primIndex=t};ao.prototype.primary=function(){return this.ranges[this.primIndex]},ao.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var r=this.ranges[t],n=e.ranges[t];if(!ut(r.anchor,n.anchor)||!ut(r.head,n.head))return!1}return!0},ao.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new so(ct(this.ranges[t].anchor),ct(this.ranges[t].head));return new ao(e,this.primIndex)},ao.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},ao.prototype.contains=function(e,t){t||(t=e);for(var r=0;r<this.ranges.length;r++){var n=this.ranges[r];if(lt(t,n.from())>=0&&lt(e,n.to())<=0)return r}return-1};var so=function(e,t){this.anchor=e,this.head=t};function lo(e,t,r){var n=e&&e.options.selectionsMayTouch,i=t[r];t.sort((function(e,t){return lt(e.from(),t.from())})),r=G(t,i);for(var o=1;o<t.length;o++){var a=t[o],s=t[o-1],l=lt(s.to(),a.from());if(n&&!a.empty()?l>0:l>=0){var u=dt(s.from(),a.from()),c=ht(s.to(),a.to()),h=s.empty()?a.from()==a.head:s.from()==s.head;o<=r&&--r,t.splice(--o,2,new so(h?c:u,h?u:c))}}return new ao(t,r)}function uo(e,t){return new ao([new so(e,t||e)],0)}function co(e){return e.text?st(e.from.line+e.text.length-1,J(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function ho(e,t){if(lt(e,t.from)<0)return e;if(lt(e,t.to)<=0)return co(t);var r=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=co(t).ch-t.to.ch),st(r,n)}function fo(e,t){for(var r=[],n=0;n<e.sel.ranges.length;n++){var i=e.sel.ranges[n];r.push(new so(ho(i.anchor,t),ho(i.head,t)))}return lo(e.cm,r,e.sel.primIndex)}function po(e,t,r){return e.line==t.line?st(r.line,e.ch-t.ch+r.ch):st(r.line+(e.line-t.line),e.ch)}function mo(e,t,r){for(var n=[],i=st(e.first,0),o=i,a=0;a<t.length;a++){var s=t[a],l=po(s.from,i,o),u=po(co(s),i,o);if(i=s.to,o=u,"around"==r){var c=e.sel.ranges[a],h=lt(c.head,c.anchor)<0;n[a]=new so(h?u:l,h?l:u)}else n[a]=new so(l,l)}return new ao(n,e.sel.primIndex)}function yo(e){e.doc.mode=We(e.options,e.doc.modeOption),go(e)}function go(e){e.doc.iter((function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)})),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Ii(e,100),e.state.modeGen++,e.curOp&&Bn(e)}function vo(e,t){return 0==t.from.ch&&0==t.to.ch&&""==J(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function bo(e,t,r,n){function i(e){return r?r[e]:null}function o(e,r,i){hr(e,r,i,n),Er(e,"change",e,t)}function a(e,t){for(var r=[],o=e;o<t;++o)r.push(new cr(u[o],i(o),n));return r}var s=t.from,l=t.to,u=t.text,c=Qe(e,s.line),h=Qe(e,l.line),d=J(u),f=i(u.length-1),p=l.line-s.line;if(t.full)e.insert(0,a(0,u.length)),e.remove(u.length,e.size-u.length);else if(vo(e,t)){var m=a(0,u.length-1);o(h,h.text,f),p&&e.remove(s.line,p),m.length&&e.insert(s.line,m)}else if(c==h)if(1==u.length)o(c,c.text.slice(0,s.ch)+d+c.text.slice(l.ch),f);else{var y=a(1,u.length-1);y.push(new cr(d+c.text.slice(l.ch),f,n)),o(c,c.text.slice(0,s.ch)+u[0],i(0)),e.insert(s.line+1,y)}else if(1==u.length)o(c,c.text.slice(0,s.ch)+u[0]+h.text.slice(l.ch),i(0)),e.remove(s.line+1,p);else{o(c,c.text.slice(0,s.ch)+u[0],i(0)),o(h,d+h.text.slice(l.ch),f);var g=a(1,u.length-1);p>1&&e.remove(s.line+1,p-1),e.insert(s.line+1,g)}Er(e,"change",e,t)}function xo(e,t,r){function n(e,i,o){if(e.linked)for(var a=0;a<e.linked.length;++a){var s=e.linked[a];if(s.doc!=i){var l=o&&s.sharedHist;r&&!l||(t(s.doc,l),n(s.doc,e,l))}}}n(e,null,!0)}function wo(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Dn(e),yo(e),So(e),e.options.direction=t.direction,e.options.lineWrapping||ur(e),e.options.mode=t.modeOption,Bn(e)}function So(e){("rtl"==e.doc.direction?N:C)(e.display.lineDiv,"CodeMirror-rtl")}function ko(e){Li(e,(function(){So(e),Bn(e)}))}function _o(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function jo(e,t){var r={from:ct(t.from),to:co(t),text:et(e,t.from,t.to)};return Ao(e,r,t.from.line,t.to.line+1),xo(e,(function(e){return Ao(e,r,t.from.line,t.to.line+1)}),!0),r}function Mo(e){for(;e.length&&J(e).ranges;)e.pop()}function Co(e,t){return t?(Mo(e.done),J(e.done)):e.done.length&&!J(e.done).ranges?J(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),J(e.done)):void 0}function Po(e,t,r,n){var i=e.history;i.undone.length=0;var o,a,s=+new Date;if((i.lastOp==n||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&i.lastModTime>s-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(o=Co(i,i.lastOp==n)))a=J(o.changes),0==lt(t.from,t.to)&&0==lt(t.from,a.to)?a.to=co(t):o.changes.push(jo(e,t));else{var l=J(i.done);for(l&&l.ranges||Oo(e.sel,i.done),o={changes:[jo(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(r),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=n,i.lastOrigin=i.lastSelOrigin=t.origin,a||xe(e,"historyAdded")}function To(e,t,r,n){var i=t.charAt(0);return"*"==i||"+"==i&&r.ranges.length==n.ranges.length&&r.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function Eo(e,t,r,n){var i=e.history,o=n&&n.origin;r==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||To(e,o,J(i.done),t))?i.done[i.done.length-1]=t:Oo(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=r,n&&!1!==n.clearRedo&&Mo(i.undone)}function Oo(e,t){var r=J(t);r&&r.ranges&&r.equals(e)||t.push(e)}function Ao(e,t,r,n){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,r),Math.min(e.first+e.size,n),(function(r){r.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=r.markedSpans),++o}))}function Lo(e){if(!e)return null;for(var t,r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t||(t=e.slice(0,r)):t&&t.push(e[r]);return t?t.length?t:null:e}function No(e,t){var r=t["spans_"+e.id];if(!r)return null;for(var n=[],i=0;i<t.text.length;++i)n.push(Lo(r[i]));return n}function Ro(e,t){var r=No(e,t),n=zt(e,t);if(!r)return n;if(!n)return r;for(var i=0;i<r.length;++i){var o=r[i],a=n[i];if(o&&a)e:for(var s=0;s<a.length;++s){for(var l=a[s],u=0;u<o.length;++u)if(o[u].marker==l.marker)continue e;o.push(l)}else a&&(r[i]=a)}return r}function Do(e,t,r){for(var n=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)n.push(r?ao.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];n.push({changes:s});for(var l=0;l<a.length;++l){var u=a[l],c=void 0;if(s.push({from:u.from,to:u.to,text:u.text}),t)for(var h in u)(c=h.match(/^spans_(\d+)$/))&&G(t,Number(c[1]))>-1&&(J(s)[h]=u[h],delete u[h])}}}return n}function Io(e,t,r,n){if(n){var i=e.anchor;if(r){var o=lt(t,i)<0;o!=lt(r,i)<0?(i=t,t=r):o!=lt(t,r)<0&&(t=r)}return new so(i,t)}return new so(r||t,t)}function Fo(e,t,r,n,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),Vo(e,new ao([Io(e.sel.primary(),t,r,i)],0),n)}function Bo(e,t,r){for(var n=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)n[o]=Io(e.sel.ranges[o],t[o],null,i);Vo(e,lo(e.cm,n,e.sel.primIndex),r)}function Uo(e,t,r,n){var i=e.sel.ranges.slice(0);i[t]=r,Vo(e,lo(e.cm,i,e.sel.primIndex),n)}function zo(e,t,r,n){Vo(e,uo(t,r),n)}function qo(e,t,r){var n={ranges:t.ranges,update:function(t){this.ranges=[];for(var r=0;r<t.length;r++)this.ranges[r]=new so(pt(e,t[r].anchor),pt(e,t[r].head))},origin:r&&r.origin};return xe(e,"beforeSelectionChange",e,n),e.cm&&xe(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?lo(e.cm,n.ranges,n.ranges.length-1):t}function Go(e,t,r){var n=e.history.done,i=J(n);i&&i.ranges?(n[n.length-1]=t,Ho(e,t,r)):Vo(e,t,r)}function Vo(e,t,r){Ho(e,t,r),Eo(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}function Ho(e,t,r){(ke(e,"beforeSelectionChange")||e.cm&&ke(e.cm,"beforeSelectionChange"))&&(t=qo(e,t,r));var n=r&&r.bias||(lt(t.primary().head,e.sel.primary().head)<0?-1:1);Wo(e,Yo(e,t,n,!0)),r&&!1===r.scroll||!e.cm||"nocursor"==e.cm.getOption("readOnly")||ui(e.cm)}function Wo(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,Se(e.cm)),Er(e,"cursorActivity",e))}function Xo(e){Wo(e,Yo(e,e.sel,null,!1))}function Yo(e,t,r,n){for(var i,o=0;o<t.ranges.length;o++){var a=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=Zo(e,a.anchor,s&&s.anchor,r,n),u=a.head==a.anchor?l:Zo(e,a.head,s&&s.head,r,n);(i||l!=a.anchor||u!=a.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new so(l,u))}return i?lo(e.cm,i,t.primIndex):t}function Ko(e,t,r,n,i){var o=Qe(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],l=s.marker,u="selectLeft"in l?!l.selectLeft:l.inclusiveLeft,c="selectRight"in l?!l.selectRight:l.inclusiveRight;if((null==s.from||(u?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(c?s.to>=t.ch:s.to>t.ch))){if(i&&(xe(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!l.atomic)continue;if(r){var h=l.find(n<0?1:-1),d=void 0;if((n<0?c:u)&&(h=$o(e,h,-n,h&&h.line==t.line?o:null)),h&&h.line==t.line&&(d=lt(h,r))&&(n<0?d<0:d>0))return Ko(e,h,t,n,i)}var f=l.find(n<0?-1:1);return(n<0?u:c)&&(f=$o(e,f,n,f.line==t.line?o:null)),f?Ko(e,f,t,n,i):null}}return t}function Zo(e,t,r,n,i){var o=n||1,a=Ko(e,t,r,o,i)||!i&&Ko(e,t,r,o,!0)||Ko(e,t,r,-o,i)||!i&&Ko(e,t,r,-o,!0);return a||(e.cantEdit=!0,st(e.first,0))}function $o(e,t,r,n){return r<0&&0==t.ch?t.line>e.first?pt(e,st(t.line-1)):null:r>0&&t.ch==(n||Qe(e,t.line)).text.length?t.line<e.first+e.size-1?st(t.line+1,0):null:new st(t.line,t.ch+r)}function Jo(e){e.setSelection(st(e.firstLine(),0),st(e.lastLine()),W)}function Qo(e,t,r){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return n.canceled=!0}};return r&&(n.update=function(t,r,i,o){t&&(n.from=pt(e,t)),r&&(n.to=pt(e,r)),i&&(n.text=i),void 0!==o&&(n.origin=o)}),xe(e,"beforeChange",e,n),e.cm&&xe(e.cm,"beforeChange",e.cm,n),n.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:n.from,to:n.to,text:n.text,origin:n.origin}}function ea(e,t,r){if(e.cm){if(!e.cm.curOp)return Ni(e.cm,ea)(e,t,r);if(e.cm.state.suppressEdits)return}if(!(ke(e,"beforeChange")||e.cm&&ke(e.cm,"beforeChange"))||(t=Qo(e,t,!0))){var n=Ot&&!r&&Gt(e,t.from,t.to);if(n)for(var i=n.length-1;i>=0;--i)ta(e,{from:n[i].from,to:n[i].to,text:i?[""]:t.text,origin:t.origin});else ta(e,t)}}function ta(e,t){if(1!=t.text.length||""!=t.text[0]||0!=lt(t.from,t.to)){var r=fo(e,t);Po(e,t,r,e.cm?e.cm.curOp.id:NaN),ia(e,t,r,zt(e,t));var n=[];xo(e,(function(e,r){r||-1!=G(n,e.history)||(ua(e.history,t),n.push(e.history)),ia(e,t,null,zt(e,t))}))}}function ra(e,t,r){var n=e.cm&&e.cm.state.suppressEdits;if(!n||r){for(var i,o=e.history,a=e.sel,s="undo"==t?o.done:o.undone,l="undo"==t?o.undone:o.done,u=0;u<s.length&&(i=s[u],r?!i.ranges||i.equals(e.sel):i.ranges);u++);if(u!=s.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(!(i=s.pop()).ranges){if(n)return void s.push(i);break}if(Oo(i,l),r&&!i.equals(e.sel))return void Vo(e,i,{clearRedo:!1});a=i}var c=[];Oo(a,l),l.push({changes:c,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var h=ke(e,"beforeChange")||e.cm&&ke(e.cm,"beforeChange"),d=function(r){var n=i.changes[r];if(n.origin=t,h&&!Qo(e,n,!1))return s.length=0,{};c.push(jo(e,n));var o=r?fo(e,n):J(s);ia(e,n,o,Ro(e,n)),!r&&e.cm&&e.cm.scrollIntoView({from:n.from,to:co(n)});var a=[];xo(e,(function(e,t){t||-1!=G(a,e.history)||(ua(e.history,n),a.push(e.history)),ia(e,n,null,Ro(e,n))}))},f=i.changes.length-1;f>=0;--f){var p=d(f);if(p)return p.v}}}}function na(e,t){if(0!=t&&(e.first+=t,e.sel=new ao(Q(e.sel.ranges,(function(e){return new so(st(e.anchor.line+t,e.anchor.ch),st(e.head.line+t,e.head.ch))})),e.sel.primIndex),e.cm)){Bn(e.cm,e.first,e.first-t,t);for(var r=e.cm.display,n=r.viewFrom;n<r.viewTo;n++)Un(e.cm,n,"gutter")}}function ia(e,t,r,n){if(e.cm&&!e.cm.curOp)return Ni(e.cm,ia)(e,t,r,n);if(t.to.line<e.first)na(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);na(e,i),t={from:st(e.first,0),to:st(t.to.line+i,t.to.ch),text:[J(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:st(o,Qe(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=et(e,t.from,t.to),r||(r=fo(e,t)),e.cm?oa(e.cm,t,n):bo(e,t,n),Ho(e,r,W),e.cantEdit&&Zo(e,st(e.firstLine(),0))&&(e.cantEdit=!1)}}function oa(e,t,r){var n=e.doc,i=e.display,o=t.from,a=t.to,s=!1,l=o.line;e.options.lineWrapping||(l=nt(er(Qe(n,o.line))),n.iter(l,a.line+1,(function(e){if(e==i.maxLine)return s=!0,!0}))),n.sel.contains(t.from,t.to)>-1&&Se(e),bo(n,t,r,Rn(e)),e.options.lineWrapping||(n.iter(l,o.line+t.text.length,(function(e){var t=lr(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,s=!1)})),s&&(e.curOp.updateMaxLine=!0)),Et(n,o.line),Ii(e,400);var u=t.text.length-(a.line-o.line)-1;t.full?Bn(e):o.line!=a.line||1!=t.text.length||vo(e.doc,t)?Bn(e,o.line,a.line+1,u):Un(e,o.line,"text");var c=ke(e,"changes"),h=ke(e,"change");if(h||c){var d={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};h&&Er(e,"change",e,d),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(d)}e.display.selForContextMenu=null}function aa(e,t,r,n,i){var o;n||(n=r),lt(n,r)<0&&(r=(o=[n,r])[0],n=o[1]),"string"==typeof t&&(t=e.splitLines(t)),ea(e,{from:r,to:n,text:t,origin:i})}function sa(e,t,r,n){r<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function la(e,t,r,n){for(var i=0;i<e.length;++i){var o=e[i],a=!0;if(o.ranges){o.copied||((o=e[i]=o.deepCopy()).copied=!0);for(var s=0;s<o.ranges.length;s++)sa(o.ranges[s].anchor,t,r,n),sa(o.ranges[s].head,t,r,n)}else{for(var l=0;l<o.changes.length;++l){var u=o.changes[l];if(r<u.from.line)u.from=st(u.from.line+n,u.from.ch),u.to=st(u.to.line+n,u.to.ch);else if(t<=u.to.line){a=!1;break}}a||(e.splice(0,i+1),i=0)}}}function ua(e,t){var r=t.from.line,n=t.to.line,i=t.text.length-(n-r)-1;la(e.done,r,n,i),la(e.undone,r,n,i)}function ca(e,t,r,n){var i=t,o=t;return"number"==typeof t?o=Qe(e,ft(e,t)):i=nt(t),null==i?null:(n(o,i)&&e.cm&&Un(e.cm,i,r),o)}function ha(e){this.lines=e,this.parent=null;for(var t=0,r=0;r<e.length;++r)e[r].parent=this,t+=e[r].height;this.height=t}function da(e){this.children=e;for(var t=0,r=0,n=0;n<e.length;++n){var i=e[n];t+=i.chunkSize(),r+=i.height,i.parent=this}this.size=t,this.height=r,this.parent=null}so.prototype.from=function(){return dt(this.anchor,this.head)},so.prototype.to=function(){return ht(this.anchor,this.head)},so.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},ha.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r=e,n=e+t;r<n;++r){var i=this.lines[r];this.height-=i.height,dr(i),Er(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,r){for(var n=e+t;e<n;++e)if(r(this.lines[e]))return!0}},da.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var r=0;r<this.children.length;++r){var n=this.children[r],i=n.chunkSize();if(e<i){var o=Math.min(t,i-e),a=n.height;if(n.removeInner(e,o),this.height-=a-n.height,i==o&&(this.children.splice(r--,1),n.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof ha))){var s=[];this.collapse(s),this.children=[new ha(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,r){this.size+=t.length,this.height+=r;for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,r),i.lines&&i.lines.length>50){for(var a=i.lines.length%25+25,s=a;s<i.lines.length;){var l=new ha(i.lines.slice(s,s+=25));i.height-=l.height,this.children.splice(++n,0,l),l.parent=this}i.lines=i.lines.slice(0,a),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new da(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var r=G(e.parent.children,e);e.parent.children.splice(r+1,0,t)}else{var n=new da(e.children);n.parent=e,e.children=[n,t],e=n}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(e<o){var a=Math.min(t,o-e);if(i.iterN(e,a,r))return!0;if(0==(t-=a))break;e=0}else e-=o}}};var fa=function(e,t,r){if(r)for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.doc=e,this.node=t};function pa(e,t,r){sr(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&li(e,r)}function ma(e,t,r,n){var i=new fa(e,r,n),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),ca(e,t,"widget",(function(t){var r=t.widgets||(t.widgets=[]);if(null==i.insertAt?r.push(i):r.splice(Math.min(r.length,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!or(e,t)){var n=sr(t)<e.scrollTop;rt(t,t.height+Vr(i)),n&&li(o,i.height),o.curOp.forceUpdate=!0}return!0})),o&&Er(o,"lineWidgetAdded",o,i,"number"==typeof t?t:nt(t)),i}fa.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,r=this.line,n=nt(r);if(null!=n&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(r.widgets=null);var o=Vr(this);rt(r,Math.max(0,r.height-o)),e&&(Li(e,(function(){pa(e,r,-o),Un(e,n,"widget")})),Er(e,"lineWidgetCleared",e,this,n))}},fa.prototype.changed=function(){var e=this,t=this.height,r=this.doc.cm,n=this.line;this.height=null;var i=Vr(this)-t;i&&(or(this.doc,n)||rt(n,n.height+i),r&&Li(r,(function(){r.curOp.forceUpdate=!0,pa(r,n,i),Er(r,"lineWidgetChanged",r,e,nt(n))})))},_e(fa);var ya=0,ga=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++ya};function va(e,t,r,n,i){if(n&&n.shared)return xa(e,t,r,n,i);if(e.cm&&!e.cm.curOp)return Ni(e.cm,va)(e,t,r,n,i);var o=new ga(e,i),a=lt(t,r);if(n&&U(n,o,!1),a>0||0==a&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=O("span",[o.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Qt(e,t.line,t,r,o)||t.line!=r.line&&Qt(e,r.line,t,r,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");Nt()}o.addToHistory&&Po(e,{from:t,to:r,origin:"markText"},e.sel,NaN);var s,l=t.line,u=e.cm;if(e.iter(l,r.line+1,(function(n){u&&o.collapsed&&!u.options.lineWrapping&&er(n)==u.display.maxLine&&(s=!0),o.collapsed&&l!=t.line&&rt(n,0),Ft(n,new Rt(o,l==t.line?t.ch:null,l==r.line?r.ch:null),e.cm&&e.cm.curOp),++l})),o.collapsed&&e.iter(t.line,r.line+1,(function(t){or(e,t)&&rt(t,0)})),o.clearOnEnter&&ge(o,"beforeCursorEnter",(function(){return o.clear()})),o.readOnly&&(Lt(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++ya,o.atomic=!0),u){if(s&&(u.curOp.updateMaxLine=!0),o.collapsed)Bn(u,t.line,r.line+1);else if(o.className||o.startStyle||o.endStyle||o.css||o.attributes||o.title)for(var c=t.line;c<=r.line;c++)Un(u,c,"text");o.atomic&&Xo(u.doc),Er(u,"markerAdded",u,o)}return o}ga.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&ji(e),ke(this,"clear")){var r=this.find();r&&Er(this,"clear",r.from,r.to)}for(var n=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],s=Dt(a.markedSpans,this);e&&!this.collapsed?Un(e,nt(a),"text"):e&&(null!=s.to&&(i=nt(a)),null!=s.from&&(n=nt(a))),a.markedSpans=It(a.markedSpans,s),null==s.from&&this.collapsed&&!or(this.doc,a)&&e&&rt(a,On(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var u=er(this.lines[l]),c=lr(u);c>e.display.maxLineLength&&(e.display.maxLine=u,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=n&&e&&this.collapsed&&Bn(e,n,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Xo(e.doc)),e&&Er(e,"markerCleared",e,this,n,i),t&&Mi(e),this.parent&&this.parent.clear()}},ga.prototype.find=function(e,t){var r,n;null==e&&"bookmark"==this.type&&(e=1);for(var i=0;i<this.lines.length;++i){var o=this.lines[i],a=Dt(o.markedSpans,this);if(null!=a.from&&(r=st(t?o:nt(o),a.from),-1==e))return r;if(null!=a.to&&(n=st(t?o:nt(o),a.to),1==e))return n}return r&&{from:r,to:n}},ga.prototype.changed=function(){var e=this,t=this.find(-1,!0),r=this,n=this.doc.cm;t&&n&&Li(n,(function(){var i=t.line,o=nt(t.line),a=rn(n,o);if(a&&(dn(a),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!or(r.doc,i)&&null!=r.height){var s=r.height;r.height=null;var l=Vr(r)-s;l&&rt(i,i.height+l)}Er(n,"markerChanged",n,e)}))},ga.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=G(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},ga.prototype.detachLine=function(e){if(this.lines.splice(G(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},_e(ga);var ba=function(e,t){this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=this};function xa(e,t,r,n,i){(n=U(n)).shared=!1;var o=[va(e,t,r,n,i)],a=o[0],s=n.widgetNode;return xo(e,(function(e){s&&(n.widgetNode=s.cloneNode(!0)),o.push(va(e,pt(e,t),pt(e,r),n,i));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;a=J(o)})),new ba(o,a)}function wa(e){return e.findMarks(st(e.first,0),e.clipPos(st(e.lastLine())),(function(e){return e.parent}))}function Sa(e,t){for(var r=0;r<t.length;r++){var n=t[r],i=n.find(),o=e.clipPos(i.from),a=e.clipPos(i.to);if(lt(o,a)){var s=va(e,o,a,n.primary,n.primary.type);n.markers.push(s),s.parent=n}}}function ka(e){for(var t=function(t){var r=e[t],n=[r.primary.doc];xo(r.primary.doc,(function(e){return n.push(e)}));for(var i=0;i<r.markers.length;i++){var o=r.markers[i];-1==G(n,o.doc)&&(o.parent=null,r.markers.splice(i--,1))}},r=0;r<e.length;r++)t(r)}ba.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Er(this,"clear")}},ba.prototype.find=function(e,t){return this.primary.find(e,t)},_e(ba);var _a=0,ja=function e(t,r,n,i,o){if(!(this instanceof e))return new e(t,r,n,i,o);null==n&&(n=0),da.call(this,[new ha([new cr("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var a=st(n,0);this.sel=uo(a),this.history=new _o(null),this.id=++_a,this.modeOption=r,this.lineSep=i,this.direction="rtl"==o?"rtl":"ltr",this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),bo(this,{from:a,to:a,text:t}),Vo(this,uo(a),W)};ja.prototype=re(da.prototype,{constructor:ja,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,n=0;n<t.length;++n)r+=t[n].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=tt(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Di((function(e){var t=st(this.first,0),r=this.first+this.size-1;ea(this,{from:t,to:st(r,Qe(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&ci(this.cm,0,0),Vo(this,uo(t),W)})),replaceRange:function(e,t,r,n){aa(this,e,t=pt(this,t),r=r?pt(this,r):t,n)},getRange:function(e,t,r){var n=et(this,pt(this,e),pt(this,t));return!1===r?n:""===r?n.join(""):n.join(r||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(ot(this,e))return Qe(this,e)},getLineNumber:function(e){return nt(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Qe(this,e)),er(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return pt(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Di((function(e,t,r){zo(this,pt(this,"number"==typeof e?st(e,t||0):e),null,r)})),setSelection:Di((function(e,t,r){zo(this,pt(this,e),pt(this,t||e),r)})),extendSelection:Di((function(e,t,r){Fo(this,pt(this,e),t&&pt(this,t),r)})),extendSelections:Di((function(e,t){Bo(this,yt(this,e),t)})),extendSelectionsBy:Di((function(e,t){Bo(this,yt(this,Q(this.sel.ranges,e)),t)})),setSelections:Di((function(e,t,r){if(e.length){for(var n=[],i=0;i<e.length;i++)n[i]=new so(pt(this,e[i].anchor),pt(this,e[i].head||e[i].anchor));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Vo(this,lo(this.cm,n,t),r)}})),addSelection:Di((function(e,t,r){var n=this.sel.ranges.slice(0);n.push(new so(pt(this,e),pt(this,t||e))),Vo(this,lo(this.cm,n,n.length-1),r)})),getSelection:function(e){for(var t,r=this.sel.ranges,n=0;n<r.length;n++){var i=et(this,r[n].from(),r[n].to());t=t?t.concat(i):i}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],r=this.sel.ranges,n=0;n<r.length;n++){var i=et(this,r[n].from(),r[n].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[n]=i}return t},replaceSelection:function(e,t,r){for(var n=[],i=0;i<this.sel.ranges.length;i++)n[i]=e;this.replaceSelections(n,t,r||"+input")},replaceSelections:Di((function(e,t,r){for(var n=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];n[o]={from:a.from(),to:a.to(),text:this.splitLines(e[o]),origin:r}}for(var s=t&&"end"!=t&&mo(this,n,t),l=n.length-1;l>=0;l--)ea(this,n[l]);s?Go(this,s):this.cm&&ui(this.cm)})),undo:Di((function(){ra(this,"undo")})),redo:Di((function(){ra(this,"redo")})),undoSelection:Di((function(){ra(this,"undo",!0)})),redoSelection:Di((function(){ra(this,"redo",!0)})),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,r=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){var e=this;this.history=new _o(this.history),xo(this,(function(t){return t.history=e.history}),!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Do(this.history.done),undone:Do(this.history.undone)}},setHistory:function(e){var t=this.history=new _o(this.history);t.done=Do(e.done.slice(0),null,!0),t.undone=Do(e.undone.slice(0),null,!0)},setGutterMarker:Di((function(e,t,r){return ca(this,e,"gutter",(function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return n[t]=r,!r&&ae(n)&&(e.gutterMarkers=null),!0}))})),clearGutter:Di((function(e){var t=this;this.iter((function(r){r.gutterMarkers&&r.gutterMarkers[e]&&ca(t,r,"gutter",(function(){return r.gutterMarkers[e]=null,ae(r.gutterMarkers)&&(r.gutterMarkers=null),!0}))}))})),lineInfo:function(e){var t;if("number"==typeof e){if(!ot(this,e))return null;if(t=e,!(e=Qe(this,e)))return null}else if(null==(t=nt(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Di((function(e,t,r){return ca(this,e,"gutter"==t?"gutter":"class",(function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(e[n]){if(j(r).test(e[n]))return!1;e[n]+=" "+r}else e[n]=r;return!0}))})),removeLineClass:Di((function(e,t,r){return ca(this,e,"gutter"==t?"gutter":"class",(function(e){var n="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",i=e[n];if(!i)return!1;if(null==r)e[n]=null;else{var o=i.match(j(r));if(!o)return!1;var a=o.index+o[0].length;e[n]=i.slice(0,o.index)+(o.index&&a!=i.length?" ":"")+i.slice(a)||null}return!0}))})),addLineWidget:Di((function(e,t,r){return ma(this,e,t,r)})),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return va(this,pt(this,e),pt(this,t),r,r&&r.type||"range")},setBookmark:function(e,t){var r={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return va(this,e=pt(this,e),e,r,"bookmark")},findMarksAt:function(e){var t=[],r=Qe(this,(e=pt(this,e)).line).markedSpans;if(r)for(var n=0;n<r.length;++n){var i=r[n];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,r){e=pt(this,e),t=pt(this,t);var n=[],i=e.line;return this.iter(e.line,t.line+1,(function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var l=a[s];null!=l.to&&i==e.line&&e.ch>=l.to||null==l.from&&i!=e.line||null!=l.from&&i==t.line&&l.from>=t.ch||r&&!r(l.marker)||n.push(l.marker.parent||l.marker)}++i})),n},getAllMarks:function(){var e=[];return this.iter((function(t){var r=t.markedSpans;if(r)for(var n=0;n<r.length;++n)null!=r[n].from&&e.push(r[n].marker)})),e},posFromIndex:function(e){var t,r=this.first,n=this.lineSeparator().length;return this.iter((function(i){var o=i.text.length+n;if(o>e)return t=e,!0;e-=o,++r})),pt(this,st(r,t))},indexFromPos:function(e){var t=(e=pt(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var r=this.lineSeparator().length;return this.iter(this.first,e.line,(function(e){t+=e.text.length+r})),t},copy:function(e){var t=new ja(tt(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,r=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<r&&(r=e.to);var n=new ja(tt(this,t,r),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Sa(n,wa(this)),n},unlinkDoc:function(e){if(e instanceof Bs&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),ka(wa(this));break}if(e.history==this.history){var r=[e.id];xo(e,(function(e){return r.push(e.id)}),!0),e.history=new _o(null),e.history.done=Do(this.history.done,r),e.history.undone=Do(this.history.undone,r)}},iterLinkedDocs:function(e){xo(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):De(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Di((function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter((function(e){return e.order=null})),this.cm&&ko(this.cm))}))}),ja.prototype.eachLine=ja.prototype.iter;var Ma=0;function Ca(e){var t=this;if(Ea(t),!we(t,e)&&!Hr(t.display,e)){je(e),a&&(Ma=+new Date);var r=In(t,e,!0),n=e.dataTransfer.files;if(r&&!t.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var i=n.length,o=Array(i),s=0,l=function(){++s==i&&Ni(t,(function(){var e={from:r=pt(t.doc,r),to:r,text:t.doc.splitLines(o.filter((function(e){return null!=e})).join(t.doc.lineSeparator())),origin:"paste"};ea(t.doc,e),Go(t.doc,uo(pt(t.doc,r),pt(t.doc,co(e))))}))()},u=function(e,r){if(t.options.allowDropFileTypes&&-1==G(t.options.allowDropFileTypes,e.type))l();else{var n=new FileReader;n.onerror=function(){return l()},n.onload=function(){var e=n.result;/[\x00-\x08\x0e-\x1f]{2}/.test(e)||(o[r]=e),l()},n.readAsText(e)}},c=0;c<n.length;c++)u(n[c],c);else{if(t.state.draggingText&&t.doc.sel.contains(r)>-1)return t.state.draggingText(e),void setTimeout((function(){return t.display.input.focus()}),20);try{var h=e.dataTransfer.getData("Text");if(h){var d;if(t.state.draggingText&&!t.state.draggingText.copy&&(d=t.listSelections()),Ho(t.doc,uo(r,r)),d)for(var f=0;f<d.length;++f)aa(t.doc,"",d[f].anchor,d[f].head,"drag");t.replaceSelection(h,"around","paste"),t.display.input.focus()}}catch(p){}}}}function Pa(e,t){if(a&&(!e.state.draggingText||+new Date-Ma<100))Pe(t);else if(!we(e,t)&&!Hr(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!f)){var r=E("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",d&&(r.width=r.height=1,e.display.wrapper.appendChild(r),r._top=r.offsetTop),t.dataTransfer.setDragImage(r,0,0),d&&r.parentNode.removeChild(r)}}function Ta(e,t){var r=In(e,t);if(r){var n=document.createDocumentFragment();Xn(e,r,n),e.display.dragCursor||(e.display.dragCursor=E("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),T(e.display.dragCursor,n)}}function Ea(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Oa(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),r=[],n=0;n<t.length;n++){var i=t[n].CodeMirror;i&&r.push(i)}r.length&&r[0].operation((function(){for(var t=0;t<r.length;t++)e(r[t])}))}}var Aa=!1;function La(){Aa||(Na(),Aa=!0)}function Na(){var e;ge(window,"resize",(function(){null==e&&(e=setTimeout((function(){e=null,Oa(Ra)}),100))})),ge(window,"blur",(function(){return Oa(ei)}))}function Ra(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Da={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Ia=0;Ia<10;Ia++)Da[Ia+48]=Da[Ia+96]=String(Ia);for(var Fa=65;Fa<=90;Fa++)Da[Fa]=String.fromCharCode(Fa);for(var Ba=1;Ba<=12;Ba++)Da[Ba+111]=Da[Ba+63235]="F"+Ba;var Ua={};function za(e){var t,r,n,i,o=e.split(/-(?!$)/);e=o[o.length-1];for(var a=0;a<o.length-1;a++){var s=o[a];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))r=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);n=!0}}return t&&(e="Alt-"+e),r&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),n&&(e="Shift-"+e),e}function qa(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if("..."==n){delete e[r];continue}for(var i=Q(r.split(" "),za),o=0;o<i.length;o++){var a=void 0,s=void 0;o==i.length-1?(s=i.join(" "),a=n):(s=i.slice(0,o+1).join(" "),a="...");var l=t[s];if(l){if(l!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[r]}for(var u in t)e[u]=t[u];return e}function Ga(e,t,r,n){var i=(t=Xa(t)).call?t.call(e,n):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&r(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return Ga(e,t.fallthrough,r,n);for(var o=0;o<t.fallthrough.length;o++){var a=Ga(e,t.fallthrough[o],r,n);if(a)return a}}}function Va(e){var t="string"==typeof e?e:Da[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function Ha(e,t,r){var n=e;return t.altKey&&"Alt"!=n&&(e="Alt-"+e),(k?t.metaKey:t.ctrlKey)&&"Ctrl"!=n&&(e="Ctrl-"+e),(k?t.ctrlKey:t.metaKey)&&"Mod"!=n&&(e="Cmd-"+e),!r&&t.shiftKey&&"Shift"!=n&&(e="Shift-"+e),e}function Wa(e,t){if(d&&34==e.keyCode&&e.char)return!1;var r=Da[e.keyCode];return null!=r&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(r=e.code),Ha(r,e,t))}function Xa(e){return"string"==typeof e?Ua[e]:e}function Ya(e,t){for(var r=e.doc.sel.ranges,n=[],i=0;i<r.length;i++){for(var o=t(r[i]);n.length&&lt(o.from,J(n).to)<=0;){var a=n.pop();if(lt(a.from,o.from)<0){o.from=a.from;break}}n.push(o)}Li(e,(function(){for(var t=n.length-1;t>=0;t--)aa(e.doc,"",n[t].from,n[t].to,"+delete");ui(e)}))}function Ka(e,t,r){var n=ue(e.text,t+r,r);return n<0||n>e.text.length?null:n}function Za(e,t,r){var n=Ka(e,t.ch,r);return null==n?null:new st(t.line,n,r<0?"after":"before")}function $a(e,t,r,n,i){if(e){"rtl"==t.doc.direction&&(i=-i);var o=me(r,t.doc.direction);if(o){var a,s=i<0?J(o):o[0],l=i<0==(1==s.level)?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var u=nn(t,r);a=i<0?r.text.length-1:0;var c=on(t,u,a).top;a=ce((function(e){return on(t,u,e).top==c}),i<0==(1==s.level)?s.from:s.to-1,a),"before"==l&&(a=Ka(r,a,1))}else a=i<0?s.to:s.from;return new st(n,a,l)}}return new st(n,i<0?r.text.length:0,i<0?"before":"after")}function Ja(e,t,r,n){var i=me(t,e.doc.direction);if(!i)return Za(t,r,n);r.ch>=t.text.length?(r.ch=t.text.length,r.sticky="before"):r.ch<=0&&(r.ch=0,r.sticky="after");var o=fe(i,r.ch,r.sticky),a=i[o];if("ltr"==e.doc.direction&&a.level%2==0&&(n>0?a.to>r.ch:a.from<r.ch))return Za(t,r,n);var s,l=function(e,r){return Ka(t,e instanceof st?e.ch:e,r)},u=function(r){return e.options.lineWrapping?(s=s||nn(e,t),Mn(e,t,s,r)):{begin:0,end:t.text.length}},c=u("before"==r.sticky?l(r,-1):r.ch);if("rtl"==e.doc.direction||1==a.level){var h=1==a.level==n<0,d=l(r,h?1:-1);if(null!=d&&(h?d<=a.to&&d<=c.end:d>=a.from&&d>=c.begin)){var f=h?"before":"after";return new st(r.line,d,f)}}var p=function(e,t,n){for(var o=function(e,t){return t?new st(r.line,l(e,1),"before"):new st(r.line,e,"after")};e>=0&&e<i.length;e+=t){var a=i[e],s=t>0==(1!=a.level),u=s?n.begin:l(n.end,-1);if(a.from<=u&&u<a.to)return o(u,s);if(u=s?a.from:l(a.to,-1),n.begin<=u&&u<n.end)return o(u,s)}},m=p(o+n,n,c);if(m)return m;var y=n>0?c.end:l(c.begin,-1);return null==y||n>0&&y==t.text.length||!(m=p(n>0?0:i.length-1,n,u(y)))?null:m}Ua.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ua.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ua.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ua.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ua.default=b?Ua.macDefault:Ua.pcDefault;var Qa={selectAll:Jo,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),W)},killLine:function(e){return Ya(e,(function(t){if(t.empty()){var r=Qe(e.doc,t.head.line).text.length;return t.head.ch==r&&t.head.line<e.lastLine()?{from:t.head,to:st(t.head.line+1,0)}:{from:t.head,to:st(t.head.line,r)}}return{from:t.from(),to:t.to()}}))},deleteLine:function(e){return Ya(e,(function(t){return{from:st(t.from().line,0),to:pt(e.doc,st(t.to().line+1,0))}}))},delLineLeft:function(e){return Ya(e,(function(e){return{from:st(e.from().line,0),to:e.from()}}))},delWrappedLineLeft:function(e){return Ya(e,(function(t){var r=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:r},"div"),to:t.from()}}))},delWrappedLineRight:function(e){return Ya(e,(function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div");return{from:t.from(),to:n}}))},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(st(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(st(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy((function(t){return es(e,t.head.line)}),{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy((function(t){return rs(e,t.head)}),{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy((function(t){return ts(e,t.head.line)}),{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy((function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div")}),Y)},goLineLeft:function(e){return e.extendSelectionsBy((function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:r},"div")}),Y)},goLineLeftSmart:function(e){return e.extendSelectionsBy((function(t){var r=e.cursorCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return n.ch<e.getLine(n.line).search(/\S/)?rs(e,t.head):n}),Y)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],r=e.listSelections(),n=e.options.tabSize,i=0;i<r.length;i++){var o=r[i].from(),a=z(e.getLine(o.line),o.ch,n);t.push($(n-a%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Li(e,(function(){for(var t=e.listSelections(),r=[],n=0;n<t.length;n++)if(t[n].empty()){var i=t[n].head,o=Qe(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new st(i.line,i.ch-1)),i.ch>0)i=new st(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),st(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var a=Qe(e.doc,i.line-1).text;a&&(i=new st(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+a.charAt(a.length-1),st(i.line-1,a.length-1),i,"+transpose"))}r.push(new so(i,i))}e.setSelections(r)}))},newlineAndIndent:function(e){return Li(e,(function(){for(var t=e.listSelections(),r=t.length-1;r>=0;r--)e.replaceRange(e.doc.lineSeparator(),t[r].anchor,t[r].head,"+input");t=e.listSelections();for(var n=0;n<t.length;n++)e.indentLine(t[n].from().line,null,!0);ui(e)}))},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function es(e,t){var r=Qe(e.doc,t),n=er(r);return n!=r&&(t=nt(n)),$a(!0,e,n,t,1)}function ts(e,t){var r=Qe(e.doc,t),n=tr(r);return n!=r&&(t=nt(n)),$a(!0,e,r,t,-1)}function rs(e,t){var r=es(e,t.line),n=Qe(e.doc,r.line),i=me(n,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(r.ch,n.text.search(/\S/)),a=t.line==r.line&&t.ch<=o&&t.ch;return st(r.line,a?0:o,r.sticky)}return r}function ns(e,t,r){if("string"==typeof t&&!(t=Qa[t]))return!1;e.display.input.ensurePolled();var n=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),i=t(e)!=H}finally{e.display.shift=n,e.state.suppressEdits=!1}return i}function is(e,t,r){for(var n=0;n<e.state.keyMaps.length;n++){var i=Ga(t,e.state.keyMaps[n],r,e);if(i)return i}return e.options.extraKeys&&Ga(t,e.options.extraKeys,r,e)||Ga(t,e.options.keyMap,r,e)}var os=new q;function as(e,t,r,n){var i=e.state.keySeq;if(i){if(Va(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:os.set(50,(function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())})),ss(e,i+" "+t,r,n))return!0}return ss(e,t,r,n)}function ss(e,t,r,n){var i=is(e,t,n);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&Er(e,"keyHandled",e,t,r),"handled"!=i&&"multi"!=i||(je(r),Zn(e)),!!i}function ls(e,t){var r=Wa(t,!0);return!!r&&(t.shiftKey&&!e.state.keySeq?as(e,"Shift-"+r,t,(function(t){return ns(e,t,!0)}))||as(e,r,t,(function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return ns(e,t)})):as(e,r,t,(function(t){return ns(e,t)})))}function us(e,t,r){return as(e,"'"+r+"'",t,(function(t){return ns(e,t,!0)}))}var cs=null;function hs(e){var t=this;if((!e.target||e.target==t.display.input.getField())&&(t.curOp.focus=L(I(t)),!we(t,e))){a&&s<11&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var i=ls(t,e);d&&(cs=i?n:null,i||88!=n||Fe||!(b?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),r&&!b&&!i&&46==n&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||ds(t)}}function ds(e){var t=e.display.lineDiv;function r(e){18!=e.keyCode&&e.altKey||(C(t,"CodeMirror-crosshair"),be(document,"keyup",r),be(document,"mouseover",r))}N(t,"CodeMirror-crosshair"),ge(document,"keyup",r),ge(document,"mouseover",r)}function fs(e){16==e.keyCode&&(this.doc.sel.shift=!1),we(this,e)}function ps(e){var t=this;if((!e.target||e.target==t.display.input.getField())&&!(Hr(t.display,e)||we(t,e)||e.ctrlKey&&!e.altKey||b&&e.metaKey)){var r=e.keyCode,n=e.charCode;if(d&&r==cs)return cs=null,void je(e);if(!d||e.which&&!(e.which<10)||!ls(t,e)){var i=String.fromCharCode(null==n?r:n);"\b"!=i&&(us(t,e,i)||t.display.input.onKeyPress(e))}}}var ms,ys,gs=400,vs=function(e,t,r){this.time=e,this.pos=t,this.button=r};function bs(e,t){var r=+new Date;return ys&&ys.compare(r,e,t)?(ms=ys=null,"triple"):ms&&ms.compare(r,e,t)?(ys=new vs(r,e,t),ms=null,"double"):(ms=new vs(r,e,t),ys=null,"single")}function xs(e){var t=this,r=t.display;if(!(we(t,e)||r.activeTouch&&r.input.supportsTouch()))if(r.input.ensurePolled(),r.shift=e.shiftKey,Hr(r,e))l||(r.scroller.draggable=!1,setTimeout((function(){return r.scroller.draggable=!0}),100));else if(!Ts(t,e)){var n=In(t,e),i=Ee(e),o=n?bs(n,i):"single";F(t).focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),n&&ws(t,i,n,o,e)||(1==i?n?ks(t,n,o,e):Te(e)==r.scroller&&je(e):2==i?(n&&Fo(t.doc,n),setTimeout((function(){return r.input.focus()}),20)):3==i&&(_?t.display.input.onContextMenu(e):Jn(t)))}}function ws(e,t,r,n,i){var o="Click";return"double"==n?o="Double"+o:"triple"==n&&(o="Triple"+o),as(e,Ha(o=(1==t?"Left":2==t?"Middle":"Right")+o,i),i,(function(t){if("string"==typeof t&&(t=Qa[t]),!t)return!1;var n=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n=t(e,r)!=H}finally{e.state.suppressEdits=!1}return n}))}function Ss(e,t,r){var n=e.getOption("configureMouse"),i=n?n(e,t,r):{};if(null==i.unit){var o=x?r.shiftKey&&r.metaKey:r.altKey;i.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||r.shiftKey),null==i.addNew&&(i.addNew=b?r.metaKey:r.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(b?r.altKey:r.ctrlKey)),i}function ks(e,t,r,n){a?setTimeout(B($n,e),0):e.curOp.focus=L(I(e));var i,o=Ss(e,r,n),s=e.doc.sel;e.options.dragDrop&&Le&&!e.isReadOnly()&&"single"==r&&(i=s.contains(t))>-1&&(lt((i=s.ranges[i]).from(),t)<0||t.xRel>0)&&(lt(i.to(),t)>0||t.xRel<0)?_s(e,n,t,o):Ms(e,n,t,o)}function _s(e,t,r,n){var i=e.display,o=!1,u=Ni(e,(function(t){l&&(i.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:Jn(e)),be(i.wrapper.ownerDocument,"mouseup",u),be(i.wrapper.ownerDocument,"mousemove",c),be(i.scroller,"dragstart",h),be(i.scroller,"drop",u),o||(je(t),n.addNew||Fo(e.doc,r,null,null,n.extend),l&&!f||a&&9==s?setTimeout((function(){i.wrapper.ownerDocument.body.focus({preventScroll:!0}),i.input.focus()}),20):i.input.focus())})),c=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},h=function(){return o=!0};l&&(i.scroller.draggable=!0),e.state.draggingText=u,u.copy=!n.moveOnDrag,ge(i.wrapper.ownerDocument,"mouseup",u),ge(i.wrapper.ownerDocument,"mousemove",c),ge(i.scroller,"dragstart",h),ge(i.scroller,"drop",u),e.state.delayingBlurEvent=!0,setTimeout((function(){return i.input.focus()}),20),i.scroller.dragDrop&&i.scroller.dragDrop()}function js(e,t,r){if("char"==r)return new so(t,t);if("word"==r)return e.findWordAt(t);if("line"==r)return new so(st(t.line,0),pt(e.doc,st(t.line+1,0)));var n=r(e,t);return new so(n.from,n.to)}function Ms(e,t,r,n){a&&Jn(e);var i=e.display,o=e.doc;je(t);var s,l,u=o.sel,c=u.ranges;if(n.addNew&&!n.extend?(l=o.sel.contains(r),s=l>-1?c[l]:new so(r,r)):(s=o.sel.primary(),l=o.sel.primIndex),"rectangle"==n.unit)n.addNew||(s=new so(r,r)),r=In(e,t,!0,!0),l=-1;else{var h=js(e,r,n.unit);s=n.extend?Io(s,h.anchor,h.head,n.extend):h}n.addNew?-1==l?(l=c.length,Vo(o,lo(e,c.concat([s]),l),{scroll:!1,origin:"*mouse"})):c.length>1&&c[l].empty()&&"char"==n.unit&&!n.extend?(Vo(o,lo(e,c.slice(0,l).concat(c.slice(l+1)),0),{scroll:!1,origin:"*mouse"}),u=o.sel):Uo(o,l,s,X):(l=0,Vo(o,new ao([s],0),X),u=o.sel);var d=r;function f(t){if(0!=lt(d,t))if(d=t,"rectangle"==n.unit){for(var i=[],a=e.options.tabSize,c=z(Qe(o,r.line).text,r.ch,a),h=z(Qe(o,t.line).text,t.ch,a),f=Math.min(c,h),p=Math.max(c,h),m=Math.min(r.line,t.line),y=Math.min(e.lastLine(),Math.max(r.line,t.line));m<=y;m++){var g=Qe(o,m).text,v=K(g,f,a);f==p?i.push(new so(st(m,v),st(m,v))):g.length>v&&i.push(new so(st(m,v),st(m,K(g,p,a))))}i.length||i.push(new so(r,r)),Vo(o,lo(e,u.ranges.slice(0,l).concat(i),l),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b,x=s,w=js(e,t,n.unit),S=x.anchor;lt(w.anchor,S)>0?(b=w.head,S=dt(x.from(),w.anchor)):(b=w.anchor,S=ht(x.to(),w.head));var k=u.ranges.slice(0);k[l]=Cs(e,new so(pt(o,S),b)),Vo(o,lo(e,k,l),X)}}var p=i.wrapper.getBoundingClientRect(),m=0;function y(t){var r=++m,a=In(e,t,!0,"rectangle"==n.unit);if(a)if(0!=lt(a,d)){e.curOp.focus=L(I(e)),f(a);var s=ni(i,o);(a.line>=s.to||a.line<s.from)&&setTimeout(Ni(e,(function(){m==r&&y(t)})),150)}else{var l=t.clientY<p.top?-20:t.clientY>p.bottom?20:0;l&&setTimeout(Ni(e,(function(){m==r&&(i.scroller.scrollTop+=l,y(t))})),50)}}function g(t){e.state.selectingText=!1,m=1/0,t&&(je(t),i.input.focus()),be(i.wrapper.ownerDocument,"mousemove",v),be(i.wrapper.ownerDocument,"mouseup",b),o.history.lastSelOrigin=null}var v=Ni(e,(function(e){0!==e.buttons&&Ee(e)?y(e):g(e)})),b=Ni(e,g);e.state.selectingText=b,ge(i.wrapper.ownerDocument,"mousemove",v),ge(i.wrapper.ownerDocument,"mouseup",b)}function Cs(e,t){var r=t.anchor,n=t.head,i=Qe(e.doc,r.line);if(0==lt(r,n)&&r.sticky==n.sticky)return t;var o=me(i);if(!o)return t;var a=fe(o,r.ch,r.sticky),s=o[a];if(s.from!=r.ch&&s.to!=r.ch)return t;var l,u=a+(s.from==r.ch==(1!=s.level)?0:1);if(0==u||u==o.length)return t;if(n.line!=r.line)l=(n.line-r.line)*("ltr"==e.doc.direction?1:-1)>0;else{var c=fe(o,n.ch,n.sticky),h=c-a||(n.ch-r.ch)*(1==s.level?-1:1);l=c==u-1||c==u?h<0:h>0}var d=o[u+(l?-1:0)],f=l==(1==d.level),p=f?d.from:d.to,m=f?"after":"before";return r.ch==p&&r.sticky==m?t:new so(new st(r.line,p,m),n)}function Ps(e,t,r,n){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(c){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&je(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!ke(e,r))return Ce(t);o-=s.top-a.viewOffset;for(var l=0;l<e.display.gutterSpecs.length;++l){var u=a.gutters.childNodes[l];if(u&&u.getBoundingClientRect().right>=i)return xe(e,r,e,it(e.doc,o),e.display.gutterSpecs[l].className,t),Ce(t)}}function Ts(e,t){return Ps(e,t,"gutterClick",!0)}function Es(e,t){Hr(e.display,t)||Os(e,t)||we(e,t,"contextmenu")||_||e.display.input.onContextMenu(t)}function Os(e,t){return!!ke(e,"gutterContextMenu")&&Ps(e,t,"gutterContextMenu",!1)}function As(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),pn(e)}vs.prototype.compare=function(e,t,r){return this.time+gs>e&&0==lt(t,this.pos)&&r==this.button};var Ls={toString:function(){return"CodeMirror.Init"}},Ns={},Rs={};function Ds(e){var t=e.optionHandlers;function r(r,n,i,o){e.defaults[r]=n,i&&(t[r]=o?function(e,t,r){r!=Ls&&i(e,t,r)}:i)}e.defineOption=r,e.Init=Ls,r("value","",(function(e,t){return e.setValue(t)}),!0),r("mode",null,(function(e,t){e.doc.modeOption=t,yo(e)}),!0),r("indentUnit",2,yo,!0),r("indentWithTabs",!1),r("smartIndent",!0),r("tabSize",4,(function(e){go(e),pn(e),Bn(e)}),!0),r("lineSeparator",null,(function(e,t){if(e.doc.lineSep=t,t){var r=[],n=e.doc.first;e.doc.iter((function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(-1==o)break;i=o+t.length,r.push(st(n,o))}n++}));for(var i=r.length-1;i>=0;i--)aa(e.doc,t,r[i],st(r[i].line,r[i].ch+t.length))}})),r("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,(function(e,t,r){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),r!=Ls&&e.refresh()})),r("specialCharPlaceholder",gr,(function(e){return e.refresh()}),!0),r("electricChars",!0),r("inputStyle",v?"contenteditable":"textarea",(function(){throw new Error("inputStyle can not (yet) be changed in a running editor")}),!0),r("spellcheck",!1,(function(e,t){return e.getInputField().spellcheck=t}),!0),r("autocorrect",!1,(function(e,t){return e.getInputField().autocorrect=t}),!0),r("autocapitalize",!1,(function(e,t){return e.getInputField().autocapitalize=t}),!0),r("rtlMoveVisually",!w),r("wholeLineUpdateBefore",!0),r("theme","default",(function(e){As(e),Qi(e)}),!0),r("keyMap","default",(function(e,t,r){var n=Xa(t),i=r!=Ls&&Xa(r);i&&i.detach&&i.detach(e,n),n.attach&&n.attach(e,i||null)})),r("extraKeys",null),r("configureMouse",null),r("lineWrapping",!1,Fs,!0),r("gutters",[],(function(e,t){e.display.gutterSpecs=$i(t,e.options.lineNumbers),Qi(e)}),!0),r("fixedGutter",!0,(function(e,t){e.display.gutters.style.left=t?Nn(e.display)+"px":"0",e.refresh()}),!0),r("coverGutterNextToScrollbar",!1,(function(e){return xi(e)}),!0),r("scrollbarStyle","native",(function(e){ki(e),xi(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)}),!0),r("lineNumbers",!1,(function(e,t){e.display.gutterSpecs=$i(e.options.gutters,t),Qi(e)}),!0),r("firstLineNumber",1,Qi,!0),r("lineNumberFormatter",(function(e){return e}),Qi,!0),r("showCursorWhenSelecting",!1,Hn,!0),r("resetSelectionOnContextMenu",!0),r("lineWiseCopyCut",!0),r("pasteLinesPerSelection",!0),r("selectionsMayTouch",!1),r("readOnly",!1,(function(e,t){"nocursor"==t&&(ei(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)})),r("screenReaderLabel",null,(function(e,t){t=""===t?null:t,e.display.input.screenReaderLabelChanged(t)})),r("disableInput",!1,(function(e,t){t||e.display.input.reset()}),!0),r("dragDrop",!0,Is),r("allowDropFileTypes",null),r("cursorBlinkRate",530),r("cursorScrollMargin",0),r("cursorHeight",1,Hn,!0),r("singleCursorHeightPerLine",!0,Hn,!0),r("workTime",100),r("workDelay",100),r("flattenSpans",!0,go,!0),r("addModeClass",!1,go,!0),r("pollInterval",100),r("undoDepth",200,(function(e,t){return e.doc.history.undoDepth=t})),r("historyEventDelay",1250),r("viewportMargin",10,(function(e){return e.refresh()}),!0),r("maxHighlightLength",1e4,go,!0),r("moveInputWithCursor",!0,(function(e,t){t||e.display.input.resetPosition()})),r("tabindex",null,(function(e,t){return e.display.input.getField().tabIndex=t||""})),r("autofocus",null),r("direction","ltr",(function(e,t){return e.doc.setDirection(t)}),!0),r("phrases",null)}function Is(e,t,r){if(!t!=!(r&&r!=Ls)){var n=e.display.dragFunctions,i=t?ge:be;i(e.display.scroller,"dragstart",n.start),i(e.display.scroller,"dragenter",n.enter),i(e.display.scroller,"dragover",n.over),i(e.display.scroller,"dragleave",n.leave),i(e.display.scroller,"drop",n.drop)}}function Fs(e){e.options.lineWrapping?(N(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(C(e.display.wrapper,"CodeMirror-wrap"),ur(e)),Dn(e),Bn(e),pn(e),setTimeout((function(){return xi(e)}),100)}function Bs(e,t){var r=this;if(!(this instanceof Bs))return new Bs(e,t);this.options=t=t?U(t):{},U(Ns,t,!1);var n=t.value;"string"==typeof n?n=new ja(n,t.mode,null,t.lineSeparator,t.direction):t.mode&&(n.modeOption=t.mode),this.doc=n;var i=new Bs.inputStyles[t.inputStyle](this),o=this.display=new eo(e,n,i,t);for(var u in o.wrapper.CodeMirror=this,As(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),ki(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new q,keySeq:null,specialChars:null},t.autofocus&&!v&&o.input.focus(),a&&s<11&&setTimeout((function(){return r.display.input.reset(!0)}),20),Us(this),La(),ji(this),this.curOp.forceUpdate=!0,wo(this,n),t.autofocus&&!v||this.hasFocus()?setTimeout((function(){r.hasFocus()&&!r.state.focused&&Qn(r)}),20):ei(this),Rs)Rs.hasOwnProperty(u)&&Rs[u](this,t[u],Ls);Zi(this),t.finishInit&&t.finishInit(this);for(var c=0;c<zs.length;++c)zs[c](this);Mi(this),l&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function Us(e){var t=e.display;ge(t.scroller,"mousedown",Ni(e,xs)),ge(t.scroller,"dblclick",a&&s<11?Ni(e,(function(t){if(!we(e,t)){var r=In(e,t);if(r&&!Ts(e,t)&&!Hr(e.display,t)){je(t);var n=e.findWordAt(r);Fo(e.doc,n.anchor,n.head)}}})):function(t){return we(e,t)||je(t)}),ge(t.scroller,"contextmenu",(function(t){return Es(e,t)})),ge(t.input.getField(),"contextmenu",(function(r){t.scroller.contains(r.target)||Es(e,r)}));var r,n={end:0};function i(){t.activeTouch&&(r=setTimeout((function(){return t.activeTouch=null}),1e3),(n=t.activeTouch).end=+new Date)}function o(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function l(e,t){if(null==t.left)return!0;var r=t.left-e.left,n=t.top-e.top;return r*r+n*n>400}ge(t.scroller,"touchstart",(function(i){if(!we(e,i)&&!o(i)&&!Ts(e,i)){t.input.ensurePolled(),clearTimeout(r);var a=+new Date;t.activeTouch={start:a,moved:!1,prev:a-n.end<=300?n:null},1==i.touches.length&&(t.activeTouch.left=i.touches[0].pageX,t.activeTouch.top=i.touches[0].pageY)}})),ge(t.scroller,"touchmove",(function(){t.activeTouch&&(t.activeTouch.moved=!0)})),ge(t.scroller,"touchend",(function(r){var n=t.activeTouch;if(n&&!Hr(t,r)&&null!=n.left&&!n.moved&&new Date-n.start<300){var o,a=e.coordsChar(t.activeTouch,"page");o=!n.prev||l(n,n.prev)?new so(a,a):!n.prev.prev||l(n,n.prev.prev)?e.findWordAt(a):new so(st(a.line,0),pt(e.doc,st(a.line+1,0))),e.setSelection(o.anchor,o.head),e.focus(),je(r)}i()})),ge(t.scroller,"touchcancel",i),ge(t.scroller,"scroll",(function(){t.scroller.clientHeight&&(pi(e,t.scroller.scrollTop),yi(e,t.scroller.scrollLeft,!0),xe(e,"scroll",e))})),ge(t.scroller,"mousewheel",(function(t){return oo(e,t)})),ge(t.scroller,"DOMMouseScroll",(function(t){return oo(e,t)})),ge(t.wrapper,"scroll",(function(){return t.wrapper.scrollTop=t.wrapper.scrollLeft=0})),t.dragFunctions={enter:function(t){we(e,t)||Pe(t)},over:function(t){we(e,t)||(Ta(e,t),Pe(t))},start:function(t){return Pa(e,t)},drop:Ni(e,Ca),leave:function(t){we(e,t)||Ea(e)}};var u=t.input.getField();ge(u,"keyup",(function(t){return fs.call(e,t)})),ge(u,"keydown",Ni(e,hs)),ge(u,"keypress",Ni(e,ps)),ge(u,"focus",(function(t){return Qn(e,t)})),ge(u,"blur",(function(t){return ei(e,t)}))}Bs.defaults=Ns,Bs.optionHandlers=Rs;var zs=[];function qs(e,t,r,n){var i,o=e.doc;null==r&&(r="add"),"smart"==r&&(o.mode.indent?i=wt(e,t).state:r="prev");var a=e.options.tabSize,s=Qe(o,t),l=z(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var u,c=s.text.match(/^\s*/)[0];if(n||/\S/.test(s.text)){if("smart"==r&&((u=o.mode.indent(i,s.text.slice(c.length),s.text))==H||u>150)){if(!n)return;r="prev"}}else u=0,r="not";"prev"==r?u=t>o.first?z(Qe(o,t-1).text,null,a):0:"add"==r?u=l+e.options.indentUnit:"subtract"==r?u=l-e.options.indentUnit:"number"==typeof r&&(u=l+r),u=Math.max(0,u);var h="",d=0;if(e.options.indentWithTabs)for(var f=Math.floor(u/a);f;--f)d+=a,h+="\t";if(d<u&&(h+=$(u-d)),h!=c)return aa(o,h,st(t,0),st(t,c.length),"+input"),s.stateAfter=null,!0;for(var p=0;p<o.sel.ranges.length;p++){var m=o.sel.ranges[p];if(m.head.line==t&&m.head.ch<c.length){var y=st(t,c.length);Uo(o,p,new so(y,y));break}}}Bs.defineInitHook=function(e){return zs.push(e)};var Gs=null;function Vs(e){Gs=e}function Hs(e,t,r,n,i){var o=e.doc;e.display.shift=!1,n||(n=o.sel);var a=+new Date-200,s="paste"==i||e.state.pasteIncoming>a,l=De(t),u=null;if(s&&n.ranges.length>1)if(Gs&&Gs.text.join("\n")==t){if(n.ranges.length%Gs.text.length==0){u=[];for(var c=0;c<Gs.text.length;c++)u.push(o.splitLines(Gs.text[c]))}}else l.length==n.ranges.length&&e.options.pasteLinesPerSelection&&(u=Q(l,(function(e){return[e]})));for(var h=e.curOp.updateInput,d=n.ranges.length-1;d>=0;d--){var f=n.ranges[d],p=f.from(),m=f.to();f.empty()&&(r&&r>0?p=st(p.line,p.ch-r):e.state.overwrite&&!s?m=st(m.line,Math.min(Qe(o,m.line).text.length,m.ch+J(l).length)):s&&Gs&&Gs.lineWise&&Gs.text.join("\n")==l.join("\n")&&(p=m=st(p.line,0)));var y={from:p,to:m,text:u?u[d%u.length]:l,origin:i||(s?"paste":e.state.cutIncoming>a?"cut":"+input")};ea(e.doc,y),Er(e,"inputRead",e,y)}t&&!s&&Xs(e,t),ui(e),e.curOp.updateInput<2&&(e.curOp.updateInput=h),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Ws(e,t){var r=e.clipboardData&&e.clipboardData.getData("Text");if(r)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||!t.hasFocus()||Li(t,(function(){return Hs(t,r,0,null,"paste")})),!0}function Xs(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var r=e.doc.sel,n=r.ranges.length-1;n>=0;n--){var i=r.ranges[n];if(!(i.head.ch>100||n&&r.ranges[n-1].head.line==i.head.line)){var o=e.getModeAt(i.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){a=qs(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(Qe(e.doc,i.head.line).text.slice(0,i.head.ch))&&(a=qs(e,i.head.line,"smart"));a&&Er(e,"electricInput",e,i.head.line)}}}function Ys(e){for(var t=[],r=[],n=0;n<e.doc.sel.ranges.length;n++){var i=e.doc.sel.ranges[n].head.line,o={anchor:st(i,0),head:st(i+1,0)};r.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:r}}function Ks(e,t,r,n){e.setAttribute("autocorrect",r?"on":"off"),e.setAttribute("autocapitalize",n?"on":"off"),e.setAttribute("spellcheck",!!t)}function Zs(){var e=E("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),t=E("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?e.style.width="1000px":e.setAttribute("wrap","off"),y&&(e.style.border="1px solid black"),t}function $s(e){var t=e.optionHandlers,r=e.helpers={};e.prototype={constructor:e,focus:function(){F(this).focus(),this.display.input.focus()},setOption:function(e,r){var n=this.options,i=n[e];n[e]==r&&"mode"!=e||(n[e]=r,t.hasOwnProperty(e)&&Ni(this,t[e])(this,r,i),xe(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](Xa(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,r=0;r<t.length;++r)if(t[r]==e||t[r].name==e)return t.splice(r,1),!0},addOverlay:Ri((function(t,r){var n=t.token?t:e.getMode(this.options,t);if(n.startState)throw new Error("Overlays may not be stateful.");ee(this.state.overlays,{mode:n,modeSpec:t,opaque:r&&r.opaque,priority:r&&r.priority||0},(function(e){return e.priority})),this.state.modeGen++,Bn(this)})),removeOverlay:Ri((function(e){for(var t=this.state.overlays,r=0;r<t.length;++r){var n=t[r].modeSpec;if(n==e||"string"==typeof e&&n.name==e)return t.splice(r,1),this.state.modeGen++,void Bn(this)}})),indentLine:Ri((function(e,t,r){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),ot(this.doc,e)&&qs(this,e,t,r)})),indentSelection:Ri((function(e){for(var t=this.doc.sel.ranges,r=-1,n=0;n<t.length;n++){var i=t[n];if(i.empty())i.head.line>r&&(qs(this,i.head.line,e,!0),r=i.head.line,n==this.doc.sel.primIndex&&ui(this));else{var o=i.from(),a=i.to(),s=Math.max(r,o.line);r=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var l=s;l<r;++l)qs(this,l,e);var u=this.doc.sel.ranges;0==o.ch&&t.length==u.length&&u[n].from().ch>0&&Uo(this.doc,n,new so(o,u[n].to()),W)}}})),getTokenAt:function(e,t){return Mt(this,e,t)},getLineTokens:function(e,t){return Mt(this,st(e),t,!0)},getTokenTypeAt:function(e){e=pt(this.doc,e);var t,r=xt(this,Qe(this.doc,e.line)),n=0,i=(r.length-1)/2,o=e.ch;if(0==o)t=r[2];else for(;;){var a=n+i>>1;if((a?r[2*a-1]:0)>=o)i=a;else{if(!(r[2*a+1]<o)){t=r[2*a+2];break}n=a+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var r=this.doc.mode;return r.innerMode?e.innerMode(r,this.getTokenAt(t).state).mode:r},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!r.hasOwnProperty(t))return n;var i=r[t],o=this.getModeAt(e);if("string"==typeof o[t])i[o[t]]&&n.push(i[o[t]]);else if(o[t])for(var a=0;a<o[t].length;a++){var s=i[o[t][a]];s&&n.push(s)}else o.helperType&&i[o.helperType]?n.push(i[o.helperType]):i[o.name]&&n.push(i[o.name]);for(var l=0;l<i._global.length;l++){var u=i._global[l];u.pred(o,this)&&-1==G(n,u.val)&&n.push(u.val)}return n},getStateAfter:function(e,t){var r=this.doc;return wt(this,(e=ft(r,null==e?r.first+r.size-1:e))+1,t).state},cursorCoords:function(e,t){var r=this.doc.sel.primary();return wn(this,null==e?r.head:"object"==typeof e?pt(this.doc,e):e?r.from():r.to(),t||"page")},charCoords:function(e,t){return xn(this,pt(this.doc,e),t||"page")},coordsChar:function(e,t){return _n(this,(e=bn(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=bn(this,{top:e,left:0},t||"page").top,it(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,r){var n,i=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,i=!0),n=Qe(this.doc,e)}else n=e;return vn(this,n,{top:0,left:0},t||"page",r||i).top+(i?this.doc.height-sr(n):0)},defaultTextHeight:function(){return On(this.display)},defaultCharWidth:function(){return An(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,r,n,i){var o=this.display,a=(e=wn(this,pt(this.doc,e))).bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==n)a=e.top;else if("above"==n||"near"==n){var l=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(a=e.bottom),s+t.offsetWidth>u&&(s=u-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==i?(s=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),r&&ai(this,{left:s,top:a,right:s+t.offsetWidth,bottom:a+t.offsetHeight})},triggerOnKeyDown:Ri(hs),triggerOnKeyPress:Ri(ps),triggerOnKeyUp:fs,triggerOnMouseDown:Ri(xs),execCommand:function(e){if(Qa.hasOwnProperty(e))return Qa[e].call(null,this)},triggerElectric:Ri((function(e){Xs(this,e)})),findPosH:function(e,t,r,n){var i=1;t<0&&(i=-1,t=-t);for(var o=pt(this.doc,e),a=0;a<t&&!(o=Js(this.doc,o,i,r,n)).hitSide;++a);return o},moveH:Ri((function(e,t){var r=this;this.extendSelectionsBy((function(n){return r.display.shift||r.doc.extend||n.empty()?Js(r.doc,n.head,e,t,r.options.rtlMoveVisually):e<0?n.from():n.to()}),Y)})),deleteH:Ri((function(e,t){var r=this.doc.sel,n=this.doc;r.somethingSelected()?n.replaceSelection("",null,"+delete"):Ya(this,(function(r){var i=Js(n,r.head,e,t,!1);return e<0?{from:i,to:r.head}:{from:r.head,to:i}}))})),findPosV:function(e,t,r,n){var i=1,o=n;t<0&&(i=-1,t=-t);for(var a=pt(this.doc,e),s=0;s<t;++s){var l=wn(this,a,"div");if(null==o?o=l.left:l.left=o,(a=Qs(this,l,i,r)).hitSide)break}return a},moveV:Ri((function(e,t){var r=this,n=this.doc,i=[],o=!this.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy((function(a){if(o)return e<0?a.from():a.to();var s=wn(r,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),i.push(s.left);var l=Qs(r,s,e,t);return"page"==t&&a==n.sel.primary()&&li(r,xn(r,l,"div").top-s.top),l}),Y),i.length)for(var a=0;a<n.sel.ranges.length;a++)n.sel.ranges[a].goalColumn=i[a]})),findWordAt:function(e){var t=Qe(this.doc,e.line).text,r=e.ch,n=e.ch;if(t){var i=this.getHelper(e,"wordChars");"before"!=e.sticky&&n!=t.length||!r?++n:--r;for(var o=t.charAt(r),a=oe(o,i)?function(e){return oe(e,i)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!oe(e)};r>0&&a(t.charAt(r-1));)--r;for(;n<t.length&&a(t.charAt(n));)++n}return new so(st(e.line,r),st(e.line,n))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?N(this.display.cursorDiv,"CodeMirror-overwrite"):C(this.display.cursorDiv,"CodeMirror-overwrite"),xe(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==L(I(this))},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Ri((function(e,t){ci(this,e,t)})),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Kr(this)-this.display.barHeight,width:e.scrollWidth-Kr(this)-this.display.barWidth,clientHeight:$r(this),clientWidth:Zr(this)}},scrollIntoView:Ri((function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:st(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?hi(this,e):fi(this,e.from,e.to,e.margin)})),setSize:Ri((function(e,t){var r=this,n=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=n(e)),null!=t&&(this.display.wrapper.style.height=n(t)),this.options.lineWrapping&&fn(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,(function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Un(r,i,"widget");break}++i})),this.curOp.forceUpdate=!0,xe(this,"refresh",this)})),operation:function(e){return Li(this,e)},startOperation:function(){return ji(this)},endOperation:function(){return Mi(this)},refresh:Ri((function(){var e=this.display.cachedTextHeight;Bn(this),this.curOp.forceUpdate=!0,pn(this),ci(this,this.doc.scrollLeft,this.doc.scrollTop),Xi(this.display),(null==e||Math.abs(e-On(this.display))>.5||this.options.lineWrapping)&&Dn(this),xe(this,"refresh",this)})),swapDoc:Ri((function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),wo(this,e),pn(this),this.display.input.reset(),ci(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,Er(this,"swapDoc",this,t),t})),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},_e(e),e.registerHelper=function(t,n,i){r.hasOwnProperty(t)||(r[t]=e[t]={_global:[]}),r[t][n]=i},e.registerGlobalHelper=function(t,n,i,o){e.registerHelper(t,n,o),r[t]._global.push({pred:i,val:o})}}function Js(e,t,r,n,i){var o=t,a=r,s=Qe(e,t.line),l=i&&"rtl"==e.direction?-r:r;function u(){var r=t.line+l;return!(r<e.first||r>=e.first+e.size)&&(t=new st(r,t.ch,t.sticky),s=Qe(e,r))}function c(o){var a;if("codepoint"==n){var c=s.text.charCodeAt(t.ch+(r>0?0:-1));if(isNaN(c))a=null;else{var h=r>0?c>=55296&&c<56320:c>=56320&&c<57343;a=new st(t.line,Math.max(0,Math.min(s.text.length,t.ch+r*(h?2:1))),-r)}}else a=i?Ja(e.cm,s,t,r):Za(s,t,r);if(null==a){if(o||!u())return!1;t=$a(i,e.cm,s,t.line,l)}else t=a;return!0}if("char"==n||"codepoint"==n)c();else if("column"==n)c(!0);else if("word"==n||"group"==n)for(var h=null,d="group"==n,f=e.cm&&e.cm.getHelper(t,"wordChars"),p=!0;!(r<0)||c(!p);p=!1){var m=s.text.charAt(t.ch)||"\n",y=oe(m,f)?"w":d&&"\n"==m?"n":!d||/\s/.test(m)?null:"p";if(!d||p||y||(y="s"),h&&h!=y){r<0&&(r=1,c(),t.sticky="after");break}if(y&&(h=y),r>0&&!c(!p))break}var g=Zo(e,t,o,a,!0);return ut(o,g)&&(g.hitSide=!0),g}function Qs(e,t,r,n){var i,o,a=e.doc,s=t.left;if("page"==n){var l=Math.min(e.display.wrapper.clientHeight,F(e).innerHeight||a(e).documentElement.clientHeight),u=Math.max(l-.5*On(e.display),3);i=(r>0?t.bottom:t.top)+r*u}else"line"==n&&(i=r>0?t.bottom+3:t.top-3);for(;(o=_n(e,s,i)).outside;){if(r<0?i<=0:i>=a.height){o.hitSide=!0;break}i+=5*r}return o}var el=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new q,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function tl(e,t){var r=rn(e,t.line);if(!r||r.hidden)return null;var n=Qe(e.doc,t.line),i=Qr(r,n,t.line),o=me(n,e.doc.direction),a="left";o&&(a=fe(o,t.ch)%2?"right":"left");var s=ln(i.map,t.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function rl(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function nl(e,t){return t&&(e.bad=!0),e}function il(e,t,r,n,i){var o="",a=!1,s=e.doc.lineSeparator(),l=!1;function u(e){return function(t){return t.id==e}}function c(){a&&(o+=s,l&&(o+=s),a=l=!1)}function h(e){e&&(c(),o+=e)}function d(t){if(1==t.nodeType){var r=t.getAttribute("cm-text");if(r)return void h(r);var o,f=t.getAttribute("cm-marker");if(f){var p=e.findMarks(st(n,0),st(i+1,0),u(+f));return void(p.length&&(o=p[0].find(0))&&h(et(e.doc,o.from,o.to).join(s)))}if("false"==t.getAttribute("contenteditable"))return;var m=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;m&&c();for(var y=0;y<t.childNodes.length;y++)d(t.childNodes[y]);/^(pre|p)$/i.test(t.nodeName)&&(l=!0),m&&(a=!0)}else 3==t.nodeType&&h(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;d(t),t!=r;)t=t.nextSibling,l=!1;return o}function ol(e,t,r){var n;if(t==e.display.lineDiv){if(!(n=e.display.lineDiv.childNodes[r]))return nl(e.clipPos(st(e.display.viewTo-1)),!0);t=null,r=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==n)return al(o,t,r)}}function al(e,t,r){var n=e.text.firstChild,i=!1;if(!t||!A(n,t))return nl(st(nt(e.line),0),!0);if(t==n&&(i=!0,t=n.childNodes[r],r=0,!t)){var o=e.rest?J(e.rest):e.line;return nl(st(nt(o),o.text.length),i)}var a=3==t.nodeType?t:null,s=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,r&&(r=a.nodeValue.length));s.parentNode!=n;)s=s.parentNode;var l=e.measure,u=l.maps;function c(t,r,n){for(var i=-1;i<(u?u.length:0);i++)for(var o=i<0?l.map:u[i],a=0;a<o.length;a+=3){var s=o[a+2];if(s==t||s==r){var c=nt(i<0?e.line:e.rest[i]),h=o[a]+n;return(n<0||s!=t)&&(h=o[a+(n?1:0)]),st(c,h)}}}var h=c(a,s,r);if(h)return nl(h,i);for(var d=s.nextSibling,f=a?a.nodeValue.length-r:0;d;d=d.nextSibling){if(h=c(d,d.firstChild,0))return nl(st(h.line,h.ch-f),i);f+=d.textContent.length}for(var p=s.previousSibling,m=r;p;p=p.previousSibling){if(h=c(p,p.firstChild,-1))return nl(st(h.line,h.ch+m),i);m+=p.textContent.length}}el.prototype.init=function(e){var t=this,r=this,n=r.cm,i=r.div=e.lineDiv;function o(e){for(var t=e.target;t;t=t.parentNode){if(t==i)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(t.className))break}return!1}function a(e){if(o(e)&&!we(n,e)){if(n.somethingSelected())Vs({lineWise:!1,text:n.getSelections()}),"cut"==e.type&&n.replaceSelection("",null,"cut");else{if(!n.options.lineWiseCopyCut)return;var t=Ys(n);Vs({lineWise:!0,text:t.text}),"cut"==e.type&&n.operation((function(){n.setSelections(t.ranges,0,W),n.replaceSelection("",null,"cut")}))}if(e.clipboardData){e.clipboardData.clearData();var a=Gs.text.join("\n");if(e.clipboardData.setData("Text",a),e.clipboardData.getData("Text")==a)return void e.preventDefault()}var s=Zs(),l=s.firstChild;Ks(l),n.display.lineSpace.insertBefore(s,n.display.lineSpace.firstChild),l.value=Gs.text.join("\n");var u=L(i.ownerDocument);D(l),setTimeout((function(){n.display.lineSpace.removeChild(s),u.focus(),u==i&&r.showPrimarySelection()}),50)}}i.contentEditable=!0,Ks(i,n.options.spellcheck,n.options.autocorrect,n.options.autocapitalize),ge(i,"paste",(function(e){!o(e)||we(n,e)||Ws(e,n)||s<=11&&setTimeout(Ni(n,(function(){return t.updateFromDOM()})),20)})),ge(i,"compositionstart",(function(e){t.composing={data:e.data,done:!1}})),ge(i,"compositionupdate",(function(e){t.composing||(t.composing={data:e.data,done:!1})})),ge(i,"compositionend",(function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)})),ge(i,"touchstart",(function(){return r.forceCompositionEnd()})),ge(i,"input",(function(){t.composing||t.readFromDOMSoon()})),ge(i,"copy",a),ge(i,"cut",a)},el.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},el.prototype.prepareSelection=function(){var e=Wn(this.cm,!1);return e.focus=L(this.div.ownerDocument)==this.div,e},el.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},el.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},el.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,n=t.doc.sel.primary(),i=n.from(),o=n.to();if(t.display.viewTo==t.display.viewFrom||i.line>=t.display.viewTo||o.line<t.display.viewFrom)e.removeAllRanges();else{var a=ol(t,e.anchorNode,e.anchorOffset),s=ol(t,e.focusNode,e.focusOffset);if(!a||a.bad||!s||s.bad||0!=lt(dt(a,s),i)||0!=lt(ht(a,s),o)){var l=t.display.view,u=i.line>=t.display.viewFrom&&tl(t,i)||{node:l[0].measure.map[2],offset:0},c=o.line<t.display.viewTo&&tl(t,o);if(!c){var h=l[l.length-1].measure,d=h.maps?h.maps[h.maps.length-1]:h.map;c={node:d[d.length-1],offset:d[d.length-2]-d[d.length-3]}}if(u&&c){var f,p=e.rangeCount&&e.getRangeAt(0);try{f=M(u.node,u.offset,c.offset,c.node)}catch(m){}f&&(!r&&t.state.focused?(e.collapse(u.node,u.offset),f.collapsed||(e.removeAllRanges(),e.addRange(f))):(e.removeAllRanges(),e.addRange(f)),p&&null==e.anchorNode?e.addRange(p):r&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},el.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout((function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation((function(){return e.cm.curOp.selectionChanged=!0}))}),20)},el.prototype.showMultipleSelections=function(e){T(this.cm.display.cursorDiv,e.cursors),T(this.cm.display.selectionDiv,e.selection)},el.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},el.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return A(this.div,t)},el.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&L(this.div.ownerDocument)==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},el.prototype.blur=function(){this.div.blur()},el.prototype.getField=function(){return this.div},el.prototype.supportsTouch=function(){return!0},el.prototype.receivedFocus=function(){var e=this,t=this;function r(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,r))}this.selectionInEditor()?setTimeout((function(){return e.pollSelection()}),20):Li(this.cm,(function(){return t.cm.curOp.selectionChanged=!0})),this.polling.set(this.cm.options.pollInterval,r)},el.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},el.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(g&&c&&this.cm.display.gutterSpecs.length&&rl(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var r=ol(t,e.anchorNode,e.anchorOffset),n=ol(t,e.focusNode,e.focusOffset);r&&n&&Li(t,(function(){Vo(t.doc,uo(r,n),W),(r.bad||n.bad)&&(t.curOp.selectionChanged=!0)}))}}},el.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,r,n=this.cm,i=n.display,o=n.doc.sel.primary(),a=o.from(),s=o.to();if(0==a.ch&&a.line>n.firstLine()&&(a=st(a.line-1,Qe(n.doc,a.line-1).length)),s.ch==Qe(n.doc,s.line).text.length&&s.line<n.lastLine()&&(s=st(s.line+1,0)),a.line<i.viewFrom||s.line>i.viewTo-1)return!1;a.line==i.viewFrom||0==(e=Fn(n,a.line))?(t=nt(i.view[0].line),r=i.view[0].node):(t=nt(i.view[e].line),r=i.view[e-1].node.nextSibling);var l,u,c=Fn(n,s.line);if(c==i.view.length-1?(l=i.viewTo-1,u=i.lineDiv.lastChild):(l=nt(i.view[c+1].line)-1,u=i.view[c+1].node.previousSibling),!r)return!1;for(var h=n.doc.splitLines(il(n,r,u,t,l)),d=et(n.doc,st(t,0),st(l,Qe(n.doc,l).text.length));h.length>1&&d.length>1;)if(J(h)==J(d))h.pop(),d.pop(),l--;else{if(h[0]!=d[0])break;h.shift(),d.shift(),t++}for(var f=0,p=0,m=h[0],y=d[0],g=Math.min(m.length,y.length);f<g&&m.charCodeAt(f)==y.charCodeAt(f);)++f;for(var v=J(h),b=J(d),x=Math.min(v.length-(1==h.length?f:0),b.length-(1==d.length?f:0));p<x&&v.charCodeAt(v.length-p-1)==b.charCodeAt(b.length-p-1);)++p;if(1==h.length&&1==d.length&&t==a.line)for(;f&&f>a.ch&&v.charCodeAt(v.length-p-1)==b.charCodeAt(b.length-p-1);)f--,p++;h[h.length-1]=v.slice(0,v.length-p).replace(/^\u200b+/,""),h[0]=h[0].slice(f).replace(/\u200b+$/,"");var w=st(t,f),S=st(l,d.length?J(d).length-p:0);return h.length>1||h[0]||lt(w,S)?(aa(n.doc,h,w,S,"+input"),!0):void 0},el.prototype.ensurePolled=function(){this.forceCompositionEnd()},el.prototype.reset=function(){this.forceCompositionEnd()},el.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},el.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout((function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()}),80))},el.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||Li(this.cm,(function(){return Bn(e.cm)}))},el.prototype.setUneditable=function(e){e.contentEditable="false"},el.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Ni(this.cm,Hs)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},el.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},el.prototype.onContextMenu=function(){},el.prototype.resetPosition=function(){},el.prototype.needsContentAttribute=!0;var sl=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new q,this.hasSelection=!1,this.composing=null,this.resetting=!1};function ll(e,t){if((t=t?U(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var r=L(e.ownerDocument);t.autofocus=r==e||null!=e.getAttribute("autofocus")&&r==document.body}function n(){e.value=s.getValue()}var i;if(e.form&&(ge(e.form,"submit",n),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var a=o.submit=function(){n(),o.submit=i,o.submit(),o.submit=a}}catch(l){}}t.finishInit=function(r){r.save=n,r.getTextArea=function(){return e},r.toTextArea=function(){r.toTextArea=isNaN,n(),e.parentNode.removeChild(r.getWrapperElement()),e.style.display="",e.form&&(be(e.form,"submit",n),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=i))}},e.style.display="none";var s=Bs((function(t){return e.parentNode.insertBefore(t,e.nextSibling)}),t);return s}function ul(e){e.off=be,e.on=ge,e.wheelEventPixels=io,e.Doc=ja,e.splitLines=De,e.countColumn=z,e.findColumn=K,e.isWordChar=ie,e.Pass=H,e.signal=xe,e.Line=cr,e.changeEnd=co,e.scrollbarModel=Si,e.Pos=st,e.cmpPos=lt,e.modes=ze,e.mimeModes=qe,e.resolveMode=He,e.getMode=We,e.modeExtensions=Xe,e.extendMode=Ye,e.copyState=Ke,e.startState=$e,e.innerMode=Ze,e.commands=Qa,e.keyMap=Ua,e.keyName=Wa,e.isModifierKey=Va,e.lookupKey=Ga,e.normalizeKeyMap=qa,e.StringStream=Je,e.SharedTextMarker=ba,e.TextMarker=ga,e.LineWidget=fa,e.e_preventDefault=je,e.e_stopPropagation=Me,e.e_stop=Pe,e.addClass=N,e.contains=A,e.rmClass=C,e.keyNames=Da}sl.prototype.init=function(e){var t=this,r=this,n=this.cm;this.createField(e);var i=this.textarea;function o(e){if(!we(n,e)){if(n.somethingSelected())Vs({lineWise:!1,text:n.getSelections()});else{if(!n.options.lineWiseCopyCut)return;var t=Ys(n);Vs({lineWise:!0,text:t.text}),"cut"==e.type?n.setSelections(t.ranges,null,W):(r.prevInput="",i.value=t.text.join("\n"),D(i))}"cut"==e.type&&(n.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),y&&(i.style.width="0px"),ge(i,"input",(function(){a&&s>=9&&t.hasSelection&&(t.hasSelection=null),r.poll()})),ge(i,"paste",(function(e){we(n,e)||Ws(e,n)||(n.state.pasteIncoming=+new Date,r.fastPoll())})),ge(i,"cut",o),ge(i,"copy",o),ge(e.scroller,"paste",(function(t){if(!Hr(e,t)&&!we(n,t)){if(!i.dispatchEvent)return n.state.pasteIncoming=+new Date,void r.focus();var o=new Event("paste");o.clipboardData=t.clipboardData,i.dispatchEvent(o)}})),ge(e.lineSpace,"selectstart",(function(t){Hr(e,t)||je(t)})),ge(i,"compositionstart",(function(){var e=n.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:e,range:n.markText(e,n.getCursor("to"),{className:"CodeMirror-composing"})}})),ge(i,"compositionend",(function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)}))},sl.prototype.createField=function(e){this.wrapper=Zs(),this.textarea=this.wrapper.firstChild;var t=this.cm.options;Ks(this.textarea,t.spellcheck,t.autocorrect,t.autocapitalize)},sl.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},sl.prototype.prepareSelection=function(){var e=this.cm,t=e.display,r=e.doc,n=Wn(e);if(e.options.moveInputWithCursor){var i=wn(e,r.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+a.top-o.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+a.left-o.left))}return n},sl.prototype.showSelection=function(e){var t=this.cm.display;T(t.cursorDiv,e.cursors),T(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},sl.prototype.reset=function(e){if(!(this.contextMenuPending||this.composing&&e)){var t=this.cm;if(this.resetting=!0,t.somethingSelected()){this.prevInput="";var r=t.getSelection();this.textarea.value=r,t.state.focused&&D(this.textarea),a&&s>=9&&(this.hasSelection=r)}else e||(this.prevInput=this.textarea.value="",a&&s>=9&&(this.hasSelection=null));this.resetting=!1}},sl.prototype.getField=function(){return this.textarea},sl.prototype.supportsTouch=function(){return!1},sl.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!v||L(this.textarea.ownerDocument)!=this.textarea))try{this.textarea.focus()}catch(e){}},sl.prototype.blur=function(){this.textarea.blur()},sl.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},sl.prototype.receivedFocus=function(){this.slowPoll()},sl.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,(function(){e.poll(),e.cm.state.focused&&e.slowPoll()}))},sl.prototype.fastPoll=function(){var e=!1,t=this;function r(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,r))}t.pollingFast=!0,t.polling.set(20,r)},sl.prototype.poll=function(){var e=this,t=this.cm,r=this.textarea,n=this.prevInput;if(this.contextMenuPending||this.resetting||!t.state.focused||Ie(r)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=r.value;if(i==n&&!t.somethingSelected())return!1;if(a&&s>=9&&this.hasSelection===i||b&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||n||(n="\u200b"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var l=0,u=Math.min(n.length,i.length);l<u&&n.charCodeAt(l)==i.charCodeAt(l);)++l;return Li(t,(function(){Hs(t,i.slice(l),n.length-l,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?r.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))})),!0},sl.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},sl.prototype.onKeyPress=function(){a&&s>=9&&(this.hasSelection=null),this.fastPoll()},sl.prototype.onContextMenu=function(e){var t=this,r=t.cm,n=r.display,i=t.textarea;t.contextMenuPending&&t.contextMenuPending();var o=In(r,e),u=n.scroller.scrollTop;if(o&&!d){r.options.resetSelectionOnContextMenu&&-1==r.doc.sel.contains(o)&&Ni(r,Vo)(r.doc,uo(o),W);var c,h=i.style.cssText,f=t.wrapper.style.cssText,p=t.wrapper.offsetParent.getBoundingClientRect();t.wrapper.style.cssText="position: static",i.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-p.top-5)+"px; left: "+(e.clientX-p.left-5)+"px;\n      z-index: 1000; background: "+(a?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(c=i.ownerDocument.defaultView.scrollY),n.input.focus(),l&&i.ownerDocument.defaultView.scrollTo(null,c),n.input.reset(),r.somethingSelected()||(i.value=t.prevInput=" "),t.contextMenuPending=y,n.selForContextMenu=r.doc.sel,clearTimeout(n.detectingSelectAll),a&&s>=9&&m(),_?(Pe(e),ge(window,"mouseup",(function e(){be(window,"mouseup",e),setTimeout(y,20)}))):setTimeout(y,50)}function m(){if(null!=i.selectionStart){var e=r.somethingSelected(),o="\u200b"+(e?i.value:"");i.value="\u21da",i.value=o,t.prevInput=e?"":"\u200b",i.selectionStart=1,i.selectionEnd=o.length,n.selForContextMenu=r.doc.sel}}function y(){if(t.contextMenuPending==y&&(t.contextMenuPending=!1,t.wrapper.style.cssText=f,i.style.cssText=h,a&&s<9&&n.scrollbars.setScrollTop(n.scroller.scrollTop=u),null!=i.selectionStart)){(!a||a&&s<9)&&m();var e=0,o=function o(){n.selForContextMenu==r.doc.sel&&0==i.selectionStart&&i.selectionEnd>0&&"\u200b"==t.prevInput?Ni(r,Jo)(r):e++<10?n.detectingSelectAll=setTimeout(o,500):(n.selForContextMenu=null,n.input.reset())};n.detectingSelectAll=setTimeout(o,200)}}},sl.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e,this.textarea.readOnly=!!e},sl.prototype.setUneditable=function(){},sl.prototype.needsContentAttribute=!1,Ds(Bs),$s(Bs);var cl="iter insert remove copy getEditor constructor".split(" ");for(var hl in ja.prototype)ja.prototype.hasOwnProperty(hl)&&G(cl,hl)<0&&(Bs.prototype[hl]=function(e){return function(){return e.apply(this.doc,arguments)}}(ja.prototype[hl]));return _e(ja),Bs.inputStyles={textarea:sl,contenteditable:el},Bs.defineMode=function(e){Bs.defaults.mode||"null"==e||(Bs.defaults.mode=e),Ge.apply(this,arguments)},Bs.defineMIME=Ve,Bs.defineMode("null",(function(){return{token:function(e){return e.skipToEnd()}}})),Bs.defineMIME("text/plain","null"),Bs.defineExtension=function(e,t){Bs.prototype[e]=t},Bs.defineDocExtension=function(e,t){ja.prototype[e]=t},Bs.fromTextArea=ll,ul(Bs),Bs.version="5.65.11",Bs}()},5683:function(e,t,r){!function(e){"use strict";e.defineMode("javascript",(function(t,r){var n,i,o=t.indentUnit,a=r.statementIndent,s=r.jsonld,l=r.json||s,u=!1!==r.trackScope,c=r.typescript,h=r.wordCharacters||/[\w$\xa1-\uffff]/,d=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),r=e("keyword b"),n=e("keyword c"),i=e("keyword d"),o=e("operator"),a={type:"atom",style:"atom"};return{if:e("if"),while:t,with:t,else:r,do:r,try:r,finally:r,return:i,break:i,continue:i,new:e("new"),delete:n,void:n,throw:n,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:o,typeof:o,instanceof:o,true:a,false:a,null:a,undefined:a,NaN:a,Infinity:a,this:e("this"),class:e("class"),super:e("atom"),yield:n,export:e("export"),import:e("import"),extends:n,await:n}}(),f=/[+\-*&%=<>!?|~^@]/,p=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function m(e){for(var t,r=!1,n=!1;null!=(t=e.next());){if(!r){if("/"==t&&!n)return;"["==t?n=!0:n&&"]"==t&&(n=!1)}r=!r&&"\\"==t}}function y(e,t,r){return n=e,i=r,t}function g(e,t){var r=e.next();if('"'==r||"'"==r)return t.tokenize=v(r),t.tokenize(e,t);if("."==r&&e.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return y("number","number");if("."==r&&e.match(".."))return y("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(r))return y(r);if("="==r&&e.eat(">"))return y("=>","operator");if("0"==r&&e.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return y("number","number");if(/\d/.test(r))return e.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),y("number","number");if("/"==r)return e.eat("*")?(t.tokenize=b,b(e,t)):e.eat("/")?(e.skipToEnd(),y("comment","comment")):it(e,t,1)?(m(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),y("regexp","string-2")):(e.eat("="),y("operator","operator",e.current()));if("`"==r)return t.tokenize=x,x(e,t);if("#"==r&&"!"==e.peek())return e.skipToEnd(),y("meta","meta");if("#"==r&&e.eatWhile(h))return y("variable","property");if("<"==r&&e.match("!--")||"-"==r&&e.match("->")&&!/\S/.test(e.string.slice(0,e.start)))return e.skipToEnd(),y("comment","comment");if(f.test(r))return">"==r&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=r&&"="!=r||e.eat("="):/[<>*+\-|&?]/.test(r)&&(e.eat(r),">"==r&&e.eat(r))),"?"==r&&e.eat(".")?y("."):y("operator","operator",e.current());if(h.test(r)){e.eatWhile(h);var n=e.current();if("."!=t.lastType){if(d.propertyIsEnumerable(n)){var i=d[n];return y(i.type,i.style,n)}if("async"==n&&e.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return y("async","keyword",n)}return y("variable","variable",n)}}function v(e){return function(t,r){var n,i=!1;if(s&&"@"==t.peek()&&t.match(p))return r.tokenize=g,y("jsonld-keyword","meta");for(;null!=(n=t.next())&&(n!=e||i);)i=!i&&"\\"==n;return i||(r.tokenize=g),y("string","string")}}function b(e,t){for(var r,n=!1;r=e.next();){if("/"==r&&n){t.tokenize=g;break}n="*"==r}return y("comment","comment")}function x(e,t){for(var r,n=!1;null!=(r=e.next());){if(!n&&("`"==r||"$"==r&&e.eat("{"))){t.tokenize=g;break}n=!n&&"\\"==r}return y("quasi","string-2",e.current())}var w="([{}])";function S(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var r=e.string.indexOf("=>",e.start);if(!(r<0)){if(c){var n=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,r));n&&(r=n.index)}for(var i=0,o=!1,a=r-1;a>=0;--a){var s=e.string.charAt(a),l=w.indexOf(s);if(l>=0&&l<3){if(!i){++a;break}if(0==--i){"("==s&&(o=!0);break}}else if(l>=3&&l<6)++i;else if(h.test(s))o=!0;else if(/["'\/`]/.test(s))for(;;--a){if(0==a)return;if(e.string.charAt(a-1)==s&&"\\"!=e.string.charAt(a-2)){a--;break}}else if(o&&!i){++a;break}}o&&!i&&(t.fatArrowAt=a)}}var k={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function _(e,t,r,n,i,o){this.indented=e,this.column=t,this.type=r,this.prev=i,this.info=o,null!=n&&(this.align=n)}function j(e,t){if(!u)return!1;for(var r=e.localVars;r;r=r.next)if(r.name==t)return!0;for(var n=e.context;n;n=n.prev)for(r=n.vars;r;r=r.next)if(r.name==t)return!0}function M(e,t,r,n,i){var o=e.cc;for(C.state=e,C.stream=i,C.marked=null,C.cc=o,C.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;)if((o.length?o.pop():l?H:G)(r,n)){for(;o.length&&o[o.length-1].lex;)o.pop()();return C.marked?C.marked:"variable"==r&&j(e,n)?"variable-2":t}}var C={state:null,column:null,marked:null,cc:null};function P(){for(var e=arguments.length-1;e>=0;e--)C.cc.push(arguments[e])}function T(){return P.apply(null,arguments),!0}function E(e,t){for(var r=t;r;r=r.next)if(r.name==e)return!0;return!1}function O(e){var t=C.state;if(C.marked="def",u){if(t.context)if("var"==t.lexical.info&&t.context&&t.context.block){var n=A(e,t.context);if(null!=n)return void(t.context=n)}else if(!E(e,t.localVars))return void(t.localVars=new R(e,t.localVars));r.globalVars&&!E(e,t.globalVars)&&(t.globalVars=new R(e,t.globalVars))}}function A(e,t){if(t){if(t.block){var r=A(e,t.prev);return r?r==t.prev?t:new N(r,t.vars,!0):null}return E(e,t.vars)?t:new N(t.prev,new R(e,t.vars),!1)}return null}function L(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function N(e,t,r){this.prev=e,this.vars=t,this.block=r}function R(e,t){this.name=e,this.next=t}var D=new R("this",new R("arguments",null));function I(){C.state.context=new N(C.state.context,C.state.localVars,!1),C.state.localVars=D}function F(){C.state.context=new N(C.state.context,C.state.localVars,!0),C.state.localVars=null}function B(){C.state.localVars=C.state.context.vars,C.state.context=C.state.context.prev}function U(e,t){var r=function(){var r=C.state,n=r.indented;if("stat"==r.lexical.type)n=r.lexical.indented;else for(var i=r.lexical;i&&")"==i.type&&i.align;i=i.prev)n=i.indented;r.lexical=new _(n,C.stream.column(),e,null,r.lexical,t)};return r.lex=!0,r}function z(){var e=C.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function q(e){function t(r){return r==e?T():";"==e||"}"==r||")"==r||"]"==r?P():T(t)}return t}function G(e,t){return"var"==e?T(U("vardef",t),Pe,q(";"),z):"keyword a"==e?T(U("form"),X,G,z):"keyword b"==e?T(U("form"),G,z):"keyword d"==e?C.stream.match(/^\s*$/,!1)?T():T(U("stat"),K,q(";"),z):"debugger"==e?T(q(";")):"{"==e?T(U("}"),F,de,z,B):";"==e?T():"if"==e?("else"==C.state.lexical.info&&C.state.cc[C.state.cc.length-1]==z&&C.state.cc.pop()(),T(U("form"),X,G,z,Ne)):"function"==e?T(Fe):"for"==e?T(U("form"),F,Re,G,B,z):"class"==e||c&&"interface"==t?(C.marked="keyword",T(U("form","class"==e?e:t),Ge,z)):"variable"==e?c&&"declare"==t?(C.marked="keyword",T(G)):c&&("module"==t||"enum"==t||"type"==t)&&C.stream.match(/^\s*\w/,!1)?(C.marked="keyword","enum"==t?T(tt):"type"==t?T(Ue,q("operator"),ge,q(";")):T(U("form"),Te,q("{"),U("}"),de,z,z)):c&&"namespace"==t?(C.marked="keyword",T(U("form"),H,G,z)):c&&"abstract"==t?(C.marked="keyword",T(G)):T(U("stat"),oe):"switch"==e?T(U("form"),X,q("{"),U("}","switch"),F,de,z,z,B):"case"==e?T(H,q(":")):"default"==e?T(q(":")):"catch"==e?T(U("form"),I,V,G,z,B):"export"==e?T(U("stat"),Xe,z):"import"==e?T(U("stat"),Ke,z):"async"==e?T(G):"@"==t?T(H,G):P(U("stat"),H,q(";"),z)}function V(e){if("("==e)return T(ze,q(")"))}function H(e,t){return Y(e,t,!1)}function W(e,t){return Y(e,t,!0)}function X(e){return"("!=e?P():T(U(")"),K,q(")"),z)}function Y(e,t,r){if(C.state.fatArrowAt==C.stream.start){var n=r?te:ee;if("("==e)return T(I,U(")"),ce(ze,")"),z,q("=>"),n,B);if("variable"==e)return P(I,Te,q("=>"),n,B)}var i=r?$:Z;return k.hasOwnProperty(e)?T(i):"function"==e?T(Fe,i):"class"==e||c&&"interface"==t?(C.marked="keyword",T(U("form"),qe,z)):"keyword c"==e||"async"==e?T(r?W:H):"("==e?T(U(")"),K,q(")"),z,i):"operator"==e||"spread"==e?T(r?W:H):"["==e?T(U("]"),et,z,i):"{"==e?he(se,"}",null,i):"quasi"==e?P(J,i):"new"==e?T(re(r)):T()}function K(e){return e.match(/[;\}\)\],]/)?P():P(H)}function Z(e,t){return","==e?T(K):$(e,t,!1)}function $(e,t,r){var n=0==r?Z:$,i=0==r?H:W;return"=>"==e?T(I,r?te:ee,B):"operator"==e?/\+\+|--/.test(t)||c&&"!"==t?T(n):c&&"<"==t&&C.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?T(U(">"),ce(ge,">"),z,n):"?"==t?T(H,q(":"),i):T(i):"quasi"==e?P(J,n):";"!=e?"("==e?he(W,")","call",n):"."==e?T(ae,n):"["==e?T(U("]"),K,q("]"),z,n):c&&"as"==t?(C.marked="keyword",T(ge,n)):"regexp"==e?(C.state.lastType=C.marked="operator",C.stream.backUp(C.stream.pos-C.stream.start-1),T(i)):void 0:void 0}function J(e,t){return"quasi"!=e?P():"${"!=t.slice(t.length-2)?T(J):T(K,Q)}function Q(e){if("}"==e)return C.marked="string-2",C.state.tokenize=x,T(J)}function ee(e){return S(C.stream,C.state),P("{"==e?G:H)}function te(e){return S(C.stream,C.state),P("{"==e?G:W)}function re(e){return function(t){return"."==t?T(e?ie:ne):"variable"==t&&c?T(je,e?$:Z):P(e?W:H)}}function ne(e,t){if("target"==t)return C.marked="keyword",T(Z)}function ie(e,t){if("target"==t)return C.marked="keyword",T($)}function oe(e){return":"==e?T(z,G):P(Z,q(";"),z)}function ae(e){if("variable"==e)return C.marked="property",T()}function se(e,t){return"async"==e?(C.marked="property",T(se)):"variable"==e||"keyword"==C.style?(C.marked="property","get"==t||"set"==t?T(le):(c&&C.state.fatArrowAt==C.stream.start&&(r=C.stream.match(/^\s*:\s*/,!1))&&(C.state.fatArrowAt=C.stream.pos+r[0].length),T(ue))):"number"==e||"string"==e?(C.marked=s?"property":C.style+" property",T(ue)):"jsonld-keyword"==e?T(ue):c&&L(t)?(C.marked="keyword",T(se)):"["==e?T(H,fe,q("]"),ue):"spread"==e?T(W,ue):"*"==t?(C.marked="keyword",T(se)):":"==e?P(ue):void 0;var r}function le(e){return"variable"!=e?P(ue):(C.marked="property",T(Fe))}function ue(e){return":"==e?T(W):"("==e?P(Fe):void 0}function ce(e,t,r){function n(i,o){if(r?r.indexOf(i)>-1:","==i){var a=C.state.lexical;return"call"==a.info&&(a.pos=(a.pos||0)+1),T((function(r,n){return r==t||n==t?P():P(e)}),n)}return i==t||o==t?T():r&&r.indexOf(";")>-1?P(e):T(q(t))}return function(r,i){return r==t||i==t?T():P(e,n)}}function he(e,t,r){for(var n=3;n<arguments.length;n++)C.cc.push(arguments[n]);return T(U(t,r),ce(e,t),z)}function de(e){return"}"==e?T():P(G,de)}function fe(e,t){if(c){if(":"==e)return T(ge);if("?"==t)return T(fe)}}function pe(e,t){if(c&&(":"==e||"in"==t))return T(ge)}function me(e){if(c&&":"==e)return C.stream.match(/^\s*\w+\s+is\b/,!1)?T(H,ye,ge):T(ge)}function ye(e,t){if("is"==t)return C.marked="keyword",T()}function ge(e,t){return"keyof"==t||"typeof"==t||"infer"==t||"readonly"==t?(C.marked="keyword",T("typeof"==t?W:ge)):"variable"==e||"void"==t?(C.marked="type",T(_e)):"|"==t||"&"==t?T(ge):"string"==e||"number"==e||"atom"==e?T(_e):"["==e?T(U("]"),ce(ge,"]",","),z,_e):"{"==e?T(U("}"),be,z,_e):"("==e?T(ce(ke,")"),ve,_e):"<"==e?T(ce(ge,">"),ge):"quasi"==e?P(we,_e):void 0}function ve(e){if("=>"==e)return T(ge)}function be(e){return e.match(/[\}\)\]]/)?T():","==e||";"==e?T(be):P(xe,be)}function xe(e,t){return"variable"==e||"keyword"==C.style?(C.marked="property",T(xe)):"?"==t||"number"==e||"string"==e?T(xe):":"==e?T(ge):"["==e?T(q("variable"),pe,q("]"),xe):"("==e?P(Be,xe):e.match(/[;\}\)\],]/)?void 0:T()}function we(e,t){return"quasi"!=e?P():"${"!=t.slice(t.length-2)?T(we):T(ge,Se)}function Se(e){if("}"==e)return C.marked="string-2",C.state.tokenize=x,T(we)}function ke(e,t){return"variable"==e&&C.stream.match(/^\s*[?:]/,!1)||"?"==t?T(ke):":"==e?T(ge):"spread"==e?T(ke):P(ge)}function _e(e,t){return"<"==t?T(U(">"),ce(ge,">"),z,_e):"|"==t||"."==e||"&"==t?T(ge):"["==e?T(ge,q("]"),_e):"extends"==t||"implements"==t?(C.marked="keyword",T(ge)):"?"==t?T(ge,q(":"),ge):void 0}function je(e,t){if("<"==t)return T(U(">"),ce(ge,">"),z,_e)}function Me(){return P(ge,Ce)}function Ce(e,t){if("="==t)return T(ge)}function Pe(e,t){return"enum"==t?(C.marked="keyword",T(tt)):P(Te,fe,Ae,Le)}function Te(e,t){return c&&L(t)?(C.marked="keyword",T(Te)):"variable"==e?(O(t),T()):"spread"==e?T(Te):"["==e?he(Oe,"]"):"{"==e?he(Ee,"}"):void 0}function Ee(e,t){return"variable"!=e||C.stream.match(/^\s*:/,!1)?("variable"==e&&(C.marked="property"),"spread"==e?T(Te):"}"==e?P():"["==e?T(H,q("]"),q(":"),Ee):T(q(":"),Te,Ae)):(O(t),T(Ae))}function Oe(){return P(Te,Ae)}function Ae(e,t){if("="==t)return T(W)}function Le(e){if(","==e)return T(Pe)}function Ne(e,t){if("keyword b"==e&&"else"==t)return T(U("form","else"),G,z)}function Re(e,t){return"await"==t?T(Re):"("==e?T(U(")"),De,z):void 0}function De(e){return"var"==e?T(Pe,Ie):"variable"==e?T(Ie):P(Ie)}function Ie(e,t){return")"==e?T():";"==e?T(Ie):"in"==t||"of"==t?(C.marked="keyword",T(H,Ie)):P(H,Ie)}function Fe(e,t){return"*"==t?(C.marked="keyword",T(Fe)):"variable"==e?(O(t),T(Fe)):"("==e?T(I,U(")"),ce(ze,")"),z,me,G,B):c&&"<"==t?T(U(">"),ce(Me,">"),z,Fe):void 0}function Be(e,t){return"*"==t?(C.marked="keyword",T(Be)):"variable"==e?(O(t),T(Be)):"("==e?T(I,U(")"),ce(ze,")"),z,me,B):c&&"<"==t?T(U(">"),ce(Me,">"),z,Be):void 0}function Ue(e,t){return"keyword"==e||"variable"==e?(C.marked="type",T(Ue)):"<"==t?T(U(">"),ce(Me,">"),z):void 0}function ze(e,t){return"@"==t&&T(H,ze),"spread"==e?T(ze):c&&L(t)?(C.marked="keyword",T(ze)):c&&"this"==e?T(fe,Ae):P(Te,fe,Ae)}function qe(e,t){return"variable"==e?Ge(e,t):Ve(e,t)}function Ge(e,t){if("variable"==e)return O(t),T(Ve)}function Ve(e,t){return"<"==t?T(U(">"),ce(Me,">"),z,Ve):"extends"==t||"implements"==t||c&&","==e?("implements"==t&&(C.marked="keyword"),T(c?ge:H,Ve)):"{"==e?T(U("}"),He,z):void 0}function He(e,t){return"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||c&&L(t))&&C.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1)?(C.marked="keyword",T(He)):"variable"==e||"keyword"==C.style?(C.marked="property",T(We,He)):"number"==e||"string"==e?T(We,He):"["==e?T(H,fe,q("]"),We,He):"*"==t?(C.marked="keyword",T(He)):c&&"("==e?P(Be,He):";"==e||","==e?T(He):"}"==e?T():"@"==t?T(H,He):void 0}function We(e,t){if("!"==t)return T(We);if("?"==t)return T(We);if(":"==e)return T(ge,Ae);if("="==t)return T(W);var r=C.state.lexical.prev;return P(r&&"interface"==r.info?Be:Fe)}function Xe(e,t){return"*"==t?(C.marked="keyword",T(Qe,q(";"))):"default"==t?(C.marked="keyword",T(H,q(";"))):"{"==e?T(ce(Ye,"}"),Qe,q(";")):P(G)}function Ye(e,t){return"as"==t?(C.marked="keyword",T(q("variable"))):"variable"==e?P(W,Ye):void 0}function Ke(e){return"string"==e?T():"("==e?P(H):"."==e?P(Z):P(Ze,$e,Qe)}function Ze(e,t){return"{"==e?he(Ze,"}"):("variable"==e&&O(t),"*"==t&&(C.marked="keyword"),T(Je))}function $e(e){if(","==e)return T(Ze,$e)}function Je(e,t){if("as"==t)return C.marked="keyword",T(Ze)}function Qe(e,t){if("from"==t)return C.marked="keyword",T(H)}function et(e){return"]"==e?T():P(ce(W,"]"))}function tt(){return P(U("form"),Te,q("{"),U("}"),ce(rt,"}"),z,z)}function rt(){return P(Te,Ae)}function nt(e,t){return"operator"==e.lastType||","==e.lastType||f.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}function it(e,t,r){return t.tokenize==g&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(r||0)))}return I.lex=F.lex=!0,B.lex=!0,z.lex=!0,{startState:function(e){var t={tokenize:g,lastType:"sof",cc:[],lexical:new _((e||0)-o,0,"block",!1),localVars:r.localVars,context:r.localVars&&new N(null,null,!1),indented:e||0};return r.globalVars&&"object"==typeof r.globalVars&&(t.globalVars=r.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),S(e,t)),t.tokenize!=b&&e.eatSpace())return null;var r=t.tokenize(e,t);return"comment"==n?r:(t.lastType="operator"!=n||"++"!=i&&"--"!=i?n:"incdec",M(t,r,n,i,e))},indent:function(t,n){if(t.tokenize==b||t.tokenize==x)return e.Pass;if(t.tokenize!=g)return 0;var i,s=n&&n.charAt(0),l=t.lexical;if(!/^\s*else\b/.test(n))for(var u=t.cc.length-1;u>=0;--u){var c=t.cc[u];if(c==z)l=l.prev;else if(c!=Ne&&c!=B)break}for(;("stat"==l.type||"form"==l.type)&&("}"==s||(i=t.cc[t.cc.length-1])&&(i==Z||i==$)&&!/^[,\.=+\-*:?[\(]/.test(n));)l=l.prev;a&&")"==l.type&&"stat"==l.prev.type&&(l=l.prev);var h=l.type,d=s==h;return"vardef"==h?l.indented+("operator"==t.lastType||","==t.lastType?l.info.length+1:0):"form"==h&&"{"==s?l.indented:"form"==h?l.indented+o:"stat"==h?l.indented+(nt(t,n)?a||o:0):"switch"!=l.info||d||0==r.doubleIndentSwitch?l.align?l.column+(d?0:1):l.indented+(d?0:o):l.indented+(/^(?:case|default)\b/.test(n)?o:2*o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:l?null:"/*",blockCommentEnd:l?null:"*/",blockCommentContinue:l?null:" * ",lineComment:l?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:l?"json":"javascript",jsonldMode:s,jsonMode:l,expressionAllowed:it,skipExpression:function(t){M(t,"atom","atom","true",new e.StringStream("",2,null))}}})),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/manifest+json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}(r(3668))},1579:function(e,t,r){"use strict";var n=r(4624),i=r(4037),o=r(3535),a=r(2506),s=r(4786),l=r(581),u=r(3454),c=r(5450),h=r(1571),d=r(9188),f=r(2833),p=r(1146),m=r(6195),y=r(4892),g=r(7724),v=r(905),b=r(8264),x=i("ArrayBuffer.prototype.byteLength",!0)||function(e){return e.byteLength},w=i("SharedArrayBuffer.prototype.byteLength",!0),S=i("Date.prototype.getTime"),k=Object.getPrototypeOf,_=i("Object.prototype.toString"),j=a("%Set%",!0),M=i("Map.prototype.has",!0),C=i("Map.prototype.get",!0),P=i("Map.prototype.size",!0),T=i("Set.prototype.add",!0),E=i("Set.prototype.delete",!0),O=i("Set.prototype.has",!0),A=i("Set.prototype.size",!0);function L(e,t,r,n){for(var i,o=s(e);(i=o.next())&&!i.done;)if(F(t,i.value,r,n))return E(e,i.value),!0;return!1}function N(e){return"undefined"===typeof e?null:"object"!==typeof e?"symbol"!==typeof e&&("string"!==typeof e&&"number"!==typeof e||+e===+e):void 0}function R(e,t,r,i,o,a){var s=N(r);if(null!=s)return s;var l=C(t,s),u=n({},o,{strict:!1});return!("undefined"===typeof l&&!M(t,s)||!F(i,l,u,a))&&(!M(e,s)&&F(i,l,u,a))}function D(e,t,r){var n=N(r);return null!=n?n:O(t,n)&&!O(e,n)}function I(e,t,r,n,i,o){for(var a,l,u=s(e);(a=u.next())&&!a.done;)if(F(r,l=a.value,i,o)&&F(n,C(t,l),i,o))return E(e,l),!0;return!1}function F(e,t,r,i){var a=r||{};if(a.strict?u(e,t):e===t)return!0;if(g(e)!==g(t))return!1;if(!e||!t||"object"!==typeof e&&"object"!==typeof t)return a.strict?u(e,t):e==t;var l,E=i.has(e),N=i.has(t);if(E&&N){if(i.get(e)===i.get(t))return!0}else l={};return E||i.set(e,l),N||i.set(t,l),function(e,t,r,i){var a,l;if(typeof e!==typeof t)return!1;if(null==e||null==t)return!1;if(_(e)!==_(t))return!1;if(c(e)!==c(t))return!1;var u=h(e),g=h(t);if(u!==g)return!1;var E=e instanceof Error,N=t instanceof Error;if(E!==N)return!1;if((E||N)&&(e.name!==t.name||e.message!==t.message))return!1;var U=p(e),z=p(t);if(U!==z)return!1;if((U||z)&&(e.source!==t.source||o(e)!==o(t)))return!1;var q=f(e),G=f(t);if(q!==G)return!1;if((q||G)&&S(e)!==S(t))return!1;if(r.strict&&k&&k(e)!==k(t))return!1;var V=b(e),H=b(t);if((V||H)&&V!==H)return!1;var W=B(e),X=B(t);if(W!==X)return!1;if(W||X){if(e.length!==t.length)return!1;for(a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}var Y=d(e),K=d(t);if(Y!==K)return!1;if(Y||K)return x(e)===x(t)&&("function"===typeof Uint8Array&&F(new Uint8Array(e),new Uint8Array(t),r,i));var Z=m(e),$=m(t);if(Z!==$)return!1;if(Z||$)return w(e)===w(t)&&("function"===typeof Uint8Array&&F(new Uint8Array(e),new Uint8Array(t),r,i));if(typeof e!==typeof t)return!1;var J=y(e),Q=y(t);if(J.length!==Q.length)return!1;for(J.sort(),Q.sort(),a=J.length-1;a>=0;a--)if(J[a]!=Q[a])return!1;for(a=J.length-1;a>=0;a--)if(!F(e[l=J[a]],t[l],r,i))return!1;var ee=v(e),te=v(t);if(ee!==te)return!1;if("Set"===ee||"Set"===te)return function(e,t,r,n){if(A(e)!==A(t))return!1;var i,o,a,l=s(e),u=s(t);for(;(i=l.next())&&!i.done;)if(i.value&&"object"===typeof i.value)a||(a=new j),T(a,i.value);else if(!O(t,i.value)){if(r.strict)return!1;if(!D(e,t,i.value))return!1;a||(a=new j),T(a,i.value)}if(a){for(;(o=u.next())&&!o.done;)if(o.value&&"object"===typeof o.value){if(!L(a,o.value,r.strict,n))return!1}else if(!r.strict&&!O(e,o.value)&&!L(a,o.value,r.strict,n))return!1;return 0===A(a)}return!0}(e,t,r,i);if("Map"===ee)return function(e,t,r,i){if(P(e)!==P(t))return!1;var o,a,l,u,c,h,d=s(e),f=s(t);for(;(o=d.next())&&!o.done;)if(u=o.value[0],c=o.value[1],u&&"object"===typeof u)l||(l=new j),T(l,u);else if("undefined"===typeof(h=C(t,u))&&!M(t,u)||!F(c,h,r,i)){if(r.strict)return!1;if(!R(e,t,u,c,r,i))return!1;l||(l=new j),T(l,u)}if(l){for(;(a=f.next())&&!a.done;)if(u=a.value[0],h=a.value[1],u&&"object"===typeof u){if(!I(l,e,u,h,r,i))return!1}else if(!r.strict&&(!e.has(u)||!F(C(e,u),h,r,i))&&!I(l,e,u,h,n({},r,{strict:!1}),i))return!1;return 0===A(l)}return!0}(e,t,r,i);return!0}(e,t,a,i)}function B(e){return!(!e||"object"!==typeof e||"number"!==typeof e.length)&&("function"===typeof e.copy&&"function"===typeof e.slice&&(!(e.length>0&&"number"!==typeof e[0])&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))))}e.exports=function(e,t,r){return F(e,t,r,l())}},9396:function(e,t,r){"use strict";var n=r(4892),i="function"===typeof Symbol&&"symbol"===typeof Symbol("foo"),o=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,l=r(4510)(),u=s&&l,c=function(e,t,r,n){if(t in e)if(!0===n){if(e[t]===r)return}else if("function"!==typeof(i=n)||"[object Function]"!==o.call(i)||!n())return;var i;u?s(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0}):e[t]=r},h=function(e,t){var r=arguments.length>2?arguments[2]:{},o=n(t);i&&(o=a.call(o,Object.getOwnPropertySymbols(t)));for(var s=0;s<o.length;s+=1)c(e,o[s],t[o[s]],r[o[s]])};h.supportsDescriptors=!!u,e.exports=h},4802:function(e,t,r){var n,i,o;i=[],void 0===(o="function"===typeof(n=function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function n(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){l(n.response,t,r)},n.onerror=function(){console.error("could not download file")},n.send()}function i(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof r.g&&r.g.global===r.g?r.g:void 0,s=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(e,t,r){var s=a.URL||a.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?o(l):i(l.href)?n(e,t,r):o(l,l.target="_blank")):(l.href=s.createObjectURL(e),setTimeout((function(){s.revokeObjectURL(l.href)}),4e4),setTimeout((function(){o(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,r,a){if(r=r||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,a),r);else if(i(e))n(e,r,a);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout((function(){o(s)}))}}:function(e,t,r,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return n(e,t,r);var o="application/octet-stream"===e.type,l=/constructor/i.test(a.HTMLElement)||a.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||o&&l||s)&&"undefined"!=typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=u?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},c.readAsDataURL(e)}else{var h=a.URL||a.webkitURL,d=h.createObjectURL(e);i?i.location=d:location.href=d,i=null,setTimeout((function(){h.revokeObjectURL(d)}),4e4)}});a.saveAs=l.saveAs=l,e.exports=l})?n.apply(t,i):n)||(e.exports=o)},5369:function(e,t,r){"use strict";var n=r(460),i=Object.prototype.toString,o=Object.prototype.hasOwnProperty,a=function(e,t,r){for(var n=0,i=e.length;n<i;n++)o.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))},s=function(e,t,r){for(var n=0,i=e.length;n<i;n++)null==r?t(e.charAt(n),n,e):t.call(r,e.charAt(n),n,e)},l=function(e,t,r){for(var n in e)o.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))};e.exports=function(e,t,r){if(!n(t))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=r),"[object Array]"===i.call(e)?a(e,t,o):"string"===typeof e?s(e,t,o):l(e,t,o)}},222:function(e){"use strict";var t="Function.prototype.bind called on incompatible ",r=Array.prototype.slice,n=Object.prototype.toString,i="[object Function]";e.exports=function(e){var o=this;if("function"!==typeof o||n.call(o)!==i)throw new TypeError(t+o);for(var a,s=r.call(arguments,1),l=Math.max(0,o.length-s.length),u=[],c=0;c<l;c++)u.push("$"+c);if(a=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof a){var t=o.apply(this,s.concat(r.call(arguments)));return Object(t)===t?t:this}return o.apply(e,s.concat(r.call(arguments)))})),o.prototype){var h=function(){};h.prototype=o.prototype,a.prototype=new h,h.prototype=null}return a}},3350:function(e,t,r){"use strict";var n=r(222);e.exports=Function.prototype.bind||n},4583:function(e){"use strict";var t=function(){return"string"===typeof function(){}.name},r=Object.getOwnPropertyDescriptor;if(r)try{r([],"length")}catch(i){r=null}t.functionsHaveConfigurableNames=function(){if(!t()||!r)return!1;var e=r((function(){}),"name");return!!e&&!!e.configurable};var n=Function.prototype.bind;t.boundFunctionsHaveNames=function(){return t()&&"function"===typeof n&&""!==function(){}.bind().name},e.exports=t},2506:function(e,t,r){"use strict";var n,i=SyntaxError,o=Function,a=TypeError,s=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(t){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(E){l=null}var u=function(){throw new a},c=l?function(){try{return u}catch(e){try{return l(arguments,"callee").get}catch(t){return u}}}():u,h=r(697)(),d=Object.getPrototypeOf||function(e){return e.__proto__},f={},p="undefined"===typeof Uint8Array?n:d(Uint8Array),m={"%AggregateError%":"undefined"===typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":h?d([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":"undefined"===typeof Atomics?n:Atomics,"%BigInt%":"undefined"===typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"===typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"===typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"===typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":f,"%Int8Array%":"undefined"===typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h?d(d([][Symbol.iterator]())):n,"%JSON%":"object"===typeof JSON?JSON:n,"%Map%":"undefined"===typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&h?d((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?n:Promise,"%Proxy%":"undefined"===typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"===typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&h?d((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h?d(""[Symbol.iterator]()):n,"%Symbol%":h?Symbol:n,"%SyntaxError%":i,"%ThrowTypeError%":c,"%TypedArray%":p,"%TypeError%":a,"%Uint8Array%":"undefined"===typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"===typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?n:WeakSet};try{null.error}catch(E){var y=d(d(E));m["%Error.prototype%"]=y}var g=function e(t){var r;if("%AsyncFunction%"===t)r=s("async function () {}");else if("%GeneratorFunction%"===t)r=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=s("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(r=d(i.prototype))}return m[t]=r,r},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=r(3350),x=r(8316),w=b.call(Function.call,Array.prototype.concat),S=b.call(Function.apply,Array.prototype.splice),k=b.call(Function.call,String.prototype.replace),_=b.call(Function.call,String.prototype.slice),j=b.call(Function.call,RegExp.prototype.exec),M=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,C=/\\(\\)?/g,P=function(e){var t=_(e,0,1),r=_(e,-1);if("%"===t&&"%"!==r)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var n=[];return k(e,M,(function(e,t,r,i){n[n.length]=r?k(i,C,"$1"):t||e})),n},T=function(e,t){var r,n=e;if(x(v,n)&&(n="%"+(r=v[n])[0]+"%"),x(m,n)){var o=m[n];if(o===f&&(o=g(n)),"undefined"===typeof o&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!==typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof t)throw new a('"allowMissing" argument must be a boolean');if(null===j(/^%?[^%]*%?$/,e))throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=P(e),n=r.length>0?r[0]:"",o=T("%"+n+"%",t),s=o.name,u=o.value,c=!1,h=o.alias;h&&(n=h[0],S(r,w([0,1],h)));for(var d=1,f=!0;d<r.length;d+=1){var p=r[d],y=_(p,0,1),g=_(p,-1);if(('"'===y||"'"===y||"`"===y||'"'===g||"'"===g||"`"===g)&&y!==g)throw new i("property names with quotes must have matching quotes");if("constructor"!==p&&f||(c=!0),x(m,s="%"+(n+="."+p)+"%"))u=m[s];else if(null!=u){if(!(p in u)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&d+1>=r.length){var v=l(u,p);u=(f=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:u[p]}else f=x(u,p),u=u[p];f&&!c&&(m[s]=u)}}return u}},3166:function(e,t,r){"use strict";r.d(t,{E9:function(){return i},FJ:function(){return a},KX:function(){return s},NB:function(){return p},S0:function(){return l},al:function(){return f},bn:function(){return d},bx:function(){return c},g2:function(){return u},s_:function(){return h},z6:function(){return o}}),e=r.hmd(e),function(){var t;function n(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function i(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:n(e)}}function o(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}var a,s="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)a=Object.setPrototypeOf;else{var l;e:{var u={};try{u.__proto__={a:!0},l=u.a;break e}catch(rg){}l=!1}a=l?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var c=a;function h(e,t){if(e.prototype=s(t.prototype),e.prototype.constructor=e,c)c(e,t);else for(var r in t)if("prototype"!=r)if(Object.defineProperties){var n=Object.getOwnPropertyDescriptor(t,r);n&&Object.defineProperty(e,r,n)}else e[r]=t[r];e.GA=t.prototype}var d="undefined"!=typeof r.g&&null!=r.g?r.g:self,f="function"==typeof Object.assign?Object.assign:function(e,t){for(var r=1;r<arguments.length;r++){var n=arguments[r];if(n)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},p="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,r){e!=Array.prototype&&e!=Object.prototype&&(e[t]=r.value)};function m(e,t){if(t){var r=d;e=e.split(".");for(var n=0;n<e.length-1;n++){var i=e[n];i in r||(r[i]={}),r=r[i]}(t=t(n=r[e=e[e.length-1]]))!=n&&null!=t&&p(r,e,{writable:!0,value:t})}}m("Object.assign",(function(e){return e||f})),m("Array.prototype.fill",(function(e){return e||function(e,t,r){var n=this.length||0;for(0>t&&(t=Math.max(0,n+t)),(null==r||r>n)&&(r=n),0>(r=Number(r))&&(r=Math.max(0,n+r)),t=Number(t||0);t<r;t++)this[t]=e;return this}}));var y="object"===typeof globalThis&&globalThis||"object"===typeof r.g&&r.g.global===r.g&&r.g||"object"===typeof self&&self.self===self&&self||{};function g(){}function v(e,t){var r=-1;return function(){var n=this,i=arguments;-1!==r&&y.clearTimeout(r),r=b((function(){r=-1,e.apply(n,i)}),t)}}function b(e,t){return y.setTimeout(e,t)}function x(e){return y.document.createElement(e)}function w(e){throw Error(e)}function S(e,t){e="The object is frozen, so its properties cannot be set: "+e.toString(),void 0!==t&&(e+="  to value: "+t),w(e)}function k(e,t,r,n){r=null===r?"*":"string"===typeof r?r:"function"===typeof r&&"string"===typeof r.className?r.className:"",void 0!==n&&(r+="."+n),w(r+" is not in the range "+t+": "+e)}function _(e){y.console&&y.console.log(e)}function j(e){return"object"===typeof e&&null!==e}function M(e){return Array.isArray(e)||y.NodeList&&e instanceof y.NodeList||y.HTMLCollection&&e instanceof y.HTMLCollection}function C(e){return Array.prototype.slice.call(e)}function P(e,t,r){Array.isArray(e)?t>=e.length?e.push(r):e.splice(t,0,r):w("Cannot insert an object into an HTMLCollection or NodeList: "+r+" at "+t)}function T(e,t){Array.isArray(e)?t>=e.length?e.pop():e.splice(t,1):w("Cannot remove an object from an HTMLCollection or NodeList at "+t)}function E(){var e=B.pop();return void 0===e?[]:e}function O(e){e.length=0,B.push(e)}function A(e){if("function"===typeof e){if(e.className)return e.className;if(e.name)return e.name;var t=e.toString();if(""!==(t=t.substring(9,t.indexOf("(")).trim()))return e._className=t}else if(j(e)&&e.constructor)return A(e.constructor);return typeof e}function L(e){var t=e;return j(e)&&(e.text?t=e.text:e.name?t=e.name:void 0!==e.key?t=e.key:void 0!==e.id?t=e.id:e.constructor===Object&&(e.Text?t=e.Text:e.Name?t=e.Name:void 0!==e.Key?t=e.Key:void 0!==e.Id?t=e.Id:void 0!==e.ID&&(t=e.ID))),void 0===t?"undefined":null===t?"null":t.toString()}function N(e,t){if(e.hasOwnProperty(t))return!0;for(e=Object.getPrototypeOf(e);e&&e!==Function;){if(e.hasOwnProperty(t))return!0;var r=e.sA;if(r&&r[t])return!0;e=Object.getPrototypeOf(e)}return!1}function R(e,t,r){Object.defineProperty(br.prototype,e,{get:t,set:r})}function D(e){for(var t=[],r=0;256>r;r++)t["0123456789abcdef".charAt(r>>4)+"0123456789abcdef".charAt(15&r)]=String.fromCharCode(r);e.length%2&&(e="0"+e),r=[];for(var n=0,i=0;i<e.length;i+=2)r[n++]=t[e.substr(i,2)];for(e=""===(e=r.join(""))?"0":e,t=[],r=0;256>r;r++)t[r]=r;for(r=n=0;256>r;r++)n=(n+t[r]+119)%256,i=t[r],t[r]=t[n],t[n]=i;n=r=0;for(var o="",a=0;a<e.length;a++)n=(n+t[r=(r+1)%256])%256,i=t[r],t[r]=t[n],t[n]=i,o+=String.fromCharCode(e.charCodeAt(a)^t[(t[r]+t[n])%256]);return o}void 0===y.requestAnimationFrame&&(void 0===y.setImmediate?y.requestAnimationFrame=function(e){y.setTimeout(e,0)}:y.requestAnimationFrame=y.setImmediate);var I=void 0!==y.navigator&&0<y.navigator.userAgent.indexOf("Trident/7"),F=void 0!==y.navigator&&void 0!==y.navigator.platform&&null!==y.navigator.platform.match(/(iPhone|iPod|iPad|Mac)/i),B=[];function U(e,t,r){Q(this),this.j=e,this.wa=t,this.m=r}function z(e,t){return void 0===t||null===t||""===t?null:e[t]}function q(){this.Yv=[]}function G(){}Object.freeze([]),g.className="Util",g.Dx="32ab5ff3b26f42dc0ed90f21472913b5",g.adym="gojs.net",g.vfo="28e645fdb0",g.className="Util",U.prototype.toString=function(){return"EnumValue."+this.wa},d.Object.defineProperties(U.prototype,{classType:{get:function(){return this.j}},name:{get:function(){return this.wa}},value:{get:function(){return this.m}}}),U.className="EnumValue",q.prototype.toString=function(){return this.Yv.join("")},q.prototype.add=function(e){""!==e&&this.Yv.push(e)},q.className="StringBuilder",G.className="PropertyCollection";var V={uA:!1,zA:!1,wA:!1,yA:!1,DA:!1,BA:!1,hx:!1,vA:null,trace:function(e){y.console&&y.console.log(e)},xA:function(e,t,r,n){e.strokeStyle="red",e.fillStyle="red",e.font="8px sans-serif",e.beginPath(),e.moveTo(-10,0),e.lineTo(10,0),e.moveTo(0,-10),e.lineTo(0,10),e.stroke(),e.setTransform(1,0,0,1,0,0),e.scale(r,r),e.transform(t.m11,t.m12,t.m21,t.m22,t.dx,t.dy),e.lineWidth=2,e.beginPath(),e.moveTo(n.left,n.top+20),e.lineTo(n.left,n.top),e.lineTo(n.left+20,n.top),e.moveTo(n.right,n.bottom-20),e.lineTo(n.right,n.bottom),e.lineTo(n.right-20,n.bottom),e.stroke(),e.fillText("DB: "+Math.round(n.x)+", "+Math.round(n.y)+", "+Math.round(n.width)+", "+Math.round(n.height),n.left,n.top-5)},tA:function(e){var t,r={};for(t in e){if(r.x=t,"licenseKey"!==r.x){var n=e[r.x];if(void 0!==n.prototype){r.Vl=Object.getOwnPropertyNames(n.prototype);for(var i={Rj:0};i.Rj<r.Vl.length;(i={Rj:i.Rj}).Rj++){var o=Object.getOwnPropertyDescriptor(n.prototype,r.Vl[i.Rj]);void 0!==o.get&&void 0===o.set&&Object.defineProperty(n.prototype,r.Vl[i.Rj],{set:function(e,t){return function(){throw Error("Property "+e.Vl[t.Rj]+" of "+e.x+" is read-only.")}}(r,i)})}}}r={Vl:r.Vl,x:r.x}}}};function H(){}H.prototype.reset=function(){},H.prototype.next=function(){return!1},H.prototype.ud=function(){return!1},H.prototype.first=function(){return null},H.prototype.any=function(){return!1},H.prototype.all=function(){return!0},H.prototype.each=function(){return this},H.prototype.map=function(){return this},H.prototype.filter=function(){return this},H.prototype.$d=function(){},H.prototype.toString=function(){return"EmptyIterator"},d.Object.defineProperties(H.prototype,{iterator:{get:function(){return this}},count:{get:function(){return 0}}}),H.prototype.first=H.prototype.first,H.prototype.hasNext=H.prototype.ud,H.prototype.next=H.prototype.next,H.prototype.reset=H.prototype.reset;var W;function X(e){this.key=-1,this.value=e}function Y(e){this.Bb=e,this.lf=null,e.Sa=null,this.qa=e.Ja,this.Ya=-1}function K(e){this.Bb=e,e.Dg=null,this.qa=e.Ja,this.Ya=e.s.length}function Z(e){Q(this),this._isFrozen=!1,this.s=[],this.Ja=0,this.Dg=this.Sa=null,"string"===typeof e&&w("Error: Since 2.0 List/Map/Set constructors no longer take an argument that enforces type."),void 0!==e&&this.addAll(e)}function $(e){this.ag=e,e.Sa=null,this.qa=e.Ja,this.sa=null}function J(e){Q(this),this._isFrozen=!1,this.Ob={},this.Nb=0,this.Sa=null,this.Ja=0,this.ff=this.ea=null,"string"===typeof e&&w("Error: Since 2.0 List/Map/Set constructors no longer take an argument that enforces type."),void 0!==e&&this.addAll(e)}function Q(e){e.__gohashid=se++}function ee(e){var t=e.__gohashid;return void 0===t&&(t=se++,e.__gohashid=t),t}function te(e){return e.__gohashid}H.className="EmptyIterator",W=new H,X.prototype.reset=function(){this.key=-1},X.prototype.next=function(){return-1===this.key&&(this.key=0,!0)},X.prototype.ud=function(){return this.next()},X.prototype.first=function(){return this.key=0,this.value},X.prototype.any=function(e){return this.key=-1,e(this.value)},X.prototype.all=function(e){return this.key=-1,e(this.value)},X.prototype.each=function(e){return this.key=-1,e(this.value),this},X.prototype.map=function(e){return new X(e(this.value))},X.prototype.filter=function(e){return e(this.value)?new X(this.value):W},X.prototype.$d=function(){this.value=null},X.prototype.toString=function(){return"SingletonIterator("+this.value+")"},d.Object.defineProperties(X.prototype,{iterator:{get:function(){return this}},count:{get:function(){return 1}}}),X.prototype.first=X.prototype.first,X.prototype.hasNext=X.prototype.ud,X.prototype.next=X.prototype.next,X.prototype.reset=X.prototype.reset,X.className="SingletonIterator",Y.prototype.reset=function(){var e=this.Bb;e.Sa=null,this.qa=e.Ja,this.Ya=-1},Y.prototype.next=function(){var e=this.Bb;if(e.Ja!==this.qa&&0>this.key)return!1;var t=(e=e.s).length,r=++this.Ya,n=this.lf;if(null!==n)for(;r<t;){var i=e[r];if(n(i))return this.key=this.Ya=r,this.value=i,!0;r++}else{if(r<t)return this.key=r,this.value=e[r],!0;this.$d()}return!1},Y.prototype.ud=function(){return this.next()},Y.prototype.first=function(){var e=this.Bb;this.qa=e.Ja,this.Ya=0;var t=(e=e.s).length,r=this.lf;if(null!==r){for(var n=0;n<t;){var i=e[n];if(r(i))return this.key=this.Ya=n,this.value=i;n++}return null}return 0<t?(e=e[0],this.key=0,this.value=e):null},Y.prototype.any=function(e){var t=this.Bb;t.Sa=null,this.Ya=-1;for(var r=(t=t.s).length,n=this.lf,i=0;i<r;i++){var o=t[i];if((null===n||n(o))&&e(o))return!0}return!1},Y.prototype.all=function(e){var t=this.Bb;t.Sa=null,this.Ya=-1;for(var r=(t=t.s).length,n=this.lf,i=0;i<r;i++){var o=t[i];if((null===n||n(o))&&!e(o))return!1}return!0},Y.prototype.each=function(e){var t=this.Bb;t.Sa=null,this.Ya=-1;for(var r=(t=t.s).length,n=this.lf,i=0;i<r;i++){var o=t[i];(null===n||n(o))&&e(o)}return this},Y.prototype.map=function(e){var t=this.Bb;t.Sa=null,this.Ya=-1;for(var r=[],n=(t=t.s).length,i=this.lf,o=0;o<n;o++){var a=t[o];(null===i||i(a))&&r.push(e(a))}return(e=new Z).s=r,e.xb(),e.iterator},Y.prototype.filter=function(e){var t=this.Bb;t.Sa=null,this.Ya=-1;for(var r=[],n=(t=t.s).length,i=this.lf,o=0;o<n;o++){var a=t[o];(null===i||i(a))&&e(a)&&r.push(a)}return(e=new Z).s=r,e.xb(),e.iterator},Y.prototype.$d=function(){this.key=-1,this.value=null,this.qa=-1,this.lf=null,this.Bb.Sa=this},Y.prototype.toString=function(){return"ListIterator@"+this.Ya+"/"+this.Bb.count},d.Object.defineProperties(Y.prototype,{iterator:{get:function(){return this}},predicate:{get:function(){return this.lf},set:function(e){this.lf=e}},count:{get:function(){var e=this.lf;if(null!==e){for(var t=0,r=this.Bb.s,n=r.length,i=0;i<n;i++)e(r[i])&&t++;return t}return this.Bb.s.length}}}),Y.prototype.first=Y.prototype.first,Y.prototype.hasNext=Y.prototype.ud,Y.prototype.next=Y.prototype.next,Y.prototype.reset=Y.prototype.reset,Y.className="ListIterator",K.prototype.reset=function(){var e=this.Bb;e.Dg=null,this.qa=e.Ja,this.Ya=e.s.length},K.prototype.next=function(){var e=this.Bb;if(e.Ja!==this.qa&&0>this.key)return!1;var t=--this.Ya;return 0<=t?(this.key=t,this.value=e.s[t],!0):(this.$d(),!1)},K.prototype.ud=function(){return this.next()},K.prototype.first=function(){var e=this.Bb;this.qa=e.Ja;var t=e.s;return this.Ya=e=t.length-1,0<=e?(t=t[e],this.key=e,this.value=t):null},K.prototype.any=function(e){var t=this.Bb;t.Dg=null;var r=(t=t.s).length;for(this.Ya=r,--r;0<=r;r--)if(e(t[r]))return!0;return!1},K.prototype.all=function(e){var t=this.Bb;t.Dg=null;var r=(t=t.s).length;for(this.Ya=r,--r;0<=r;r--)if(!e(t[r]))return!1;return!0},K.prototype.each=function(e){var t=this.Bb;t.Dg=null;var r=(t=t.s).length;for(this.Ya=r,--r;0<=r;r--)e(t[r]);return this},K.prototype.map=function(e){var t=this.Bb;t.Dg=null;var r=[],n=(t=t.s).length;for(this.Ya=n,--n;0<=n;n--)r.push(e(t[n]));return(e=new Z).s=r,e.xb(),e.iterator},K.prototype.filter=function(e){var t=this.Bb;t.Dg=null;var r=[],n=(t=t.s).length;for(this.Ya=n,--n;0<=n;n--){var i=t[n];e(i)&&r.push(i)}return(e=new Z).s=r,e.xb(),e.iterator},K.prototype.$d=function(){this.key=-1,this.value=null,this.qa=-1,this.Bb.Dg=this},K.prototype.toString=function(){return"ListIteratorBackwards("+this.Ya+"/"+this.Bb.count+")"},d.Object.defineProperties(K.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.Bb.s.length}}}),K.prototype.first=K.prototype.first,K.prototype.hasNext=K.prototype.ud,K.prototype.next=K.prototype.next,K.prototype.reset=K.prototype.reset,K.className="ListIteratorBackwards",(t=Z.prototype).xb=function(){var e=this.Ja;999999999<++e&&(e=0),this.Ja=e},t.freeze=function(){return this._isFrozen=!0,this},t.ka=function(){return this._isFrozen=!1,this},t.toString=function(){return"List()#"+te(this)},t.add=function(e){return null===e||(this._isFrozen&&S(this,e),this.s.push(e),this.xb()),this},t.push=function(e){this.add(e)},t.addAll=function(e){if(null===e)return this;this._isFrozen&&S(this);var t=this.s;if(M(e))for(var r=e.length,n=0;n<r;n++)t.push(e[n]);else for(e=e.iterator;e.next();)t.push(e.value);return this.xb(),this},t.clear=function(){this._isFrozen&&S(this),this.s.length=0,this.xb()},t.contains=function(e){return null!==e&&-1!==this.s.indexOf(e)},t.has=function(e){return this.contains(e)},t.indexOf=function(e){return null===e?-1:this.s.indexOf(e)},t.L=function(e){var t=this.s;return(0>e||e>=t.length)&&k(e,"0 <= i < length",Z,"elt:i"),t[e]},t.get=function(e){return this.L(e)},t.Xc=function(e,t){var r=this.s;(0>e||e>=r.length)&&k(e,"0 <= i < length",Z,"setElt:i"),this._isFrozen&&S(this,e),r[e]=t},t.set=function(e,t){this.Xc(e,t)},t.first=function(){var e=this.s;return 0===e.length?null:e[0]},t.fc=function(){var e=this.s,t=e.length;return 0<t?e[t-1]:null},t.pop=function(){this._isFrozen&&S(this);var e=this.s;return 0<e.length?e.pop():null},Z.prototype.any=function(e){for(var t=this.s,r=t.length,n=0;n<r;n++)if(e(t[n]))return!0;return!1},Z.prototype.all=function(e){for(var t=this.s,r=t.length,n=0;n<r;n++)if(!e(t[n]))return!1;return!0},Z.prototype.each=function(e){for(var t=this.s,r=t.length,n=0;n<r;n++)e(t[n]);return this},Z.prototype.map=function(e){for(var t=new Z,r=[],n=this.s,i=n.length,o=0;o<i;o++)r.push(e(n[o]));return t.s=r,t.xb(),t},Z.prototype.filter=function(e){for(var t=new Z,r=[],n=this.s,i=n.length,o=0;o<i;o++){var a=n[o];e(a)&&r.push(a)}return t.s=r,t.xb(),t},(t=Z.prototype).Eb=function(e,t){0>e&&k(e,">= 0",Z,"insertAt:i"),this._isFrozen&&S(this,e);var r=this.s;e>=r.length?r.push(t):r.splice(e,0,t),this.xb()},t.remove=function(e){if(null===e)return!1;this._isFrozen&&S(this,e);var t=this.s;return-1!==(e=t.indexOf(e))&&(e===t.length-1?t.pop():t.splice(e,1),this.xb(),!0)},t.delete=function(e){return this.remove(e)},t.nb=function(e){var t=this.s;(0>e||e>=t.length)&&k(e,"0 <= i < length",Z,"removeAt:i"),this._isFrozen&&S(this,e),e===t.length-1?t.pop():t.splice(e,1),this.xb()},t.removeRange=function(e,t){var r=this.s,n=r.length;if(0>e)e=0;else if(e>=n)return this;if(0>t)return this;if(t>=n&&(t=n-1),e>t)return this;this._isFrozen&&S(this);for(var i=e,o=t+1;o<n;)r[i++]=r[o++];return r.length=n-(t-e+1),this.xb(),this},Z.prototype.copy=function(){var e=new Z,t=this.s;return 0<t.length&&(e.s=Array.prototype.slice.call(t)),e},(t=Z.prototype).Fa=function(){for(var e=this.s,t=this.count,r=Array(t),n=0;n<t;n++)r[n]=e[n];return r},t.Bv=function(){for(var e=new J,t=this.s,r=this.count,n=0;n<r;n++)e.add(t[n]);return e},t.sort=function(e){return this._isFrozen&&S(this),this.s.sort(e),this.xb(),this},t.wi=function(e,t,r){var n=this.s,i=n.length;void 0===t&&(t=0),void 0===r&&(r=i),this._isFrozen&&S(this);var o=r-t;if(1>=o)return this;if((0>t||t>=i-1)&&k(t,"0 <= from < length",Z,"sortRange:from"),2===o)return 0<e(r=n[t],i=n[t+1])&&(n[t]=i,n[t+1]=r,this.xb()),this;if(0===t)if(r>=i)n.sort(e);else for((t=n.slice(0,r)).sort(e),e=0;e<r;e++)n[e]=t[e];else if(r>=i)for((r=n.slice(t)).sort(e),e=t;e<i;e++)n[e]=r[e-t];else for((i=n.slice(t,r)).sort(e),e=t;e<r;e++)n[e]=i[e-t];return this.xb(),this},t.reverse=function(){return this._isFrozen&&S(this),this.s.reverse(),this.xb(),this},d.Object.defineProperties(Z.prototype,{_dataArray:{get:function(){return this.s}},count:{get:function(){return this.s.length}},size:{get:function(){return this.s.length}},length:{get:function(){return this.s.length}},iterator:{get:function(){if(0>=this.s.length)return W;var e=this.Sa;return null!==e?(e.reset(),e):new Y(this)}},iteratorBackwards:{get:function(){if(0>=this.s.length)return W;var e=this.Dg;return null!==e?(e.reset(),e):new K(this)}}}),Z.prototype.reverse=Z.prototype.reverse,Z.prototype.sortRange=Z.prototype.wi,Z.prototype.sort=Z.prototype.sort,Z.prototype.toSet=Z.prototype.Bv,Z.prototype.toArray=Z.prototype.Fa,Z.prototype.removeRange=Z.prototype.removeRange,Z.prototype.removeAt=Z.prototype.nb,Z.prototype.delete=Z.prototype.delete,Z.prototype.remove=Z.prototype.remove,Z.prototype.insertAt=Z.prototype.Eb,Z.prototype.pop=Z.prototype.pop,Z.prototype.last=Z.prototype.fc,Z.prototype.first=Z.prototype.first,Z.prototype.set=Z.prototype.set,Z.prototype.setElt=Z.prototype.Xc,Z.prototype.get=Z.prototype.get,Z.prototype.elt=Z.prototype.L,Z.prototype.indexOf=Z.prototype.indexOf,Z.prototype.has=Z.prototype.has,Z.prototype.contains=Z.prototype.contains,Z.prototype.clear=Z.prototype.clear,Z.prototype.addAll=Z.prototype.addAll,Z.prototype.push=Z.prototype.push,Z.prototype.add=Z.prototype.add,Z.prototype.thaw=Z.prototype.ka,Z.prototype.freeze=Z.prototype.freeze,Z.className="List",$.prototype.reset=function(){var e=this.ag;e.Sa=null,this.qa=e.Ja,this.sa=null},$.prototype.next=function(){var e=this.ag;if(e.Ja!==this.qa&&null===this.key)return!1;var t=this.sa;return null!==(t=null===t?e.ea:t.ua)?(this.sa=t,this.value=t.value,this.key=t.key,!0):(this.$d(),!1)},$.prototype.ud=function(){return this.next()},$.prototype.first=function(){var e=this.ag;if(this.qa=e.Ja,null!==(e=e.ea)){this.sa=e;var t=e.value;return this.key=e.key,this.value=t}return null},$.prototype.any=function(e){var t=this.ag;for(this.sa=t.Sa=null,t=t.ea;null!==t;){if(e(t.value))return!0;t=t.ua}return!1},$.prototype.all=function(e){var t=this.ag;for(this.sa=t.Sa=null,t=t.ea;null!==t;){if(!e(t.value))return!1;t=t.ua}return!0},$.prototype.each=function(e){var t=this.ag;for(this.sa=t.Sa=null,t=t.ea;null!==t;)e(t.value),t=t.ua;return this},$.prototype.map=function(e){var t=this.ag;t.Sa=null;var r=new Z;for(t=t.ea;null!==t;)r.add(e(t.value)),t=t.ua;return r.iterator},$.prototype.filter=function(e){var t=this.ag;t.Sa=null;var r=new Z;for(t=t.ea;null!==t;){var n=t.value;e(n)&&r.add(n),t=t.ua}return r.iterator},$.prototype.$d=function(){this.value=this.key=null,this.qa=-1,this.ag.Sa=this},$.prototype.toString=function(){return null!==this.sa?"SetIterator@"+this.sa.value:"SetIterator"},d.Object.defineProperties($.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.ag.Nb}}}),$.prototype.first=$.prototype.first,$.prototype.hasNext=$.prototype.ud,$.prototype.next=$.prototype.next,$.prototype.reset=$.prototype.reset,$.className="SetIterator",(t=J.prototype).xb=function(){var e=this.Ja;999999999<++e&&(e=0),this.Ja=e},t.freeze=function(){return this._isFrozen=!0,this},t.ka=function(){return this._isFrozen=!1,this},t.toString=function(){return"Set()#"+te(this)},t.add=function(e){if(null===e)return this;this._isFrozen&&S(this,e);var t=e;return j(e)&&(t=ee(e)),void 0===this.Ob[t]&&(this.Nb++,e=new he(e,e),this.Ob[t]=e,null===(t=this.ff)?this.ea=e:(e.gl=t,t.ua=e),this.ff=e,this.xb()),this},t.addAll=function(e){if(null===e)return this;if(this._isFrozen&&S(this),M(e))for(var t=e.length,r=0;r<t;r++)this.add(e[r]);else for(e=e.iterator;e.next();)this.add(e.value);return this},t.contains=function(e){if(null===e)return!1;var t=e;return(!j(e)||void 0!==(t=te(e)))&&void 0!==this.Ob[t]},t.has=function(e){return this.contains(e)},t.Ky=function(e){if(null===e)return!0;for(e=e.iterator;e.next();)if(!this.contains(e.value))return!1;return!0},t.Ly=function(e){if(null===e)return!0;for(e=e.iterator;e.next();)if(this.contains(e.value))return!0;return!1},t.first=function(){var e=this.ea;return null===e?null:e.value},J.prototype.any=function(e){for(var t=this.ea;null!==t;){if(e(t.value))return!0;t=t.ua}return!1},J.prototype.all=function(e){for(var t=this.ea;null!==t;){if(!e(t.value))return!1;t=t.ua}return!0},J.prototype.each=function(e){for(var t=this.ea;null!==t;)e(t.value),t=t.ua;return this},J.prototype.map=function(e){for(var t=new J,r=this.ea;null!==r;)t.add(e(r.value)),r=r.ua;return t},J.prototype.filter=function(e){for(var t=new J,r=this.ea;null!==r;){var n=r.value;e(n)&&t.add(n),r=r.ua}return t},(t=J.prototype).remove=function(e){if(null===e)return!1;this._isFrozen&&S(this,e);var t=e;if(j(e)&&void 0===(t=te(e)))return!1;if(void 0===(e=this.Ob[t]))return!1;var r=e.ua,n=e.gl;return null!==r&&(r.gl=n),null!==n&&(n.ua=r),this.ea===e&&(this.ea=r),this.ff===e&&(this.ff=n),delete this.Ob[t],this.Nb--,this.xb(),!0},t.delete=function(e){return this.remove(e)},t.ap=function(e){if(null===e)return this;if(this._isFrozen&&S(this),M(e))for(var t=e.length,r=0;r<t;r++)this.remove(e[r]);else for(e=e.iterator;e.next();)this.remove(e.value);return this},t.fA=function(e){if(null===e||0===this.count)return this;this._isFrozen&&S(this);var t=new J;t.addAll(e),e=[];for(var r=this.iterator;r.next();){var n=r.value;t.contains(n)||e.push(n)}return this.ap(e),this},t.clear=function(){this._isFrozen&&S(this),this.Ob={},this.Nb=0,null!==this.Sa&&this.Sa.reset(),this.ff=this.ea=null,this.xb()},J.prototype.copy=function(){var e,t=new J,r=this.Ob;for(e in r)t.add(r[e].value);return t},J.prototype.Fa=function(){var e,t=Array(this.Nb),r=this.Ob,n=0;for(e in r)t[n]=r[e].value,n++;return t},J.prototype.Av=function(){var e,t=new Z,r=this.Ob;for(e in r)t.add(r[e].value);return t},d.Object.defineProperties(J.prototype,{count:{get:function(){return this.Nb}},size:{get:function(){return this.Nb}},iterator:{get:function(){if(0>=this.Nb)return W;var e=this.Sa;return null!==e?(e.reset(),e):new $(this)}}}),J.prototype.toList=J.prototype.Av,J.prototype.toArray=J.prototype.Fa,J.prototype.clear=J.prototype.clear,J.prototype.retainAll=J.prototype.fA,J.prototype.removeAll=J.prototype.ap,J.prototype.delete=J.prototype.delete,J.prototype.remove=J.prototype.remove,J.prototype.first=J.prototype.first,J.prototype.containsAny=J.prototype.Ly,J.prototype.containsAll=J.prototype.Ky,J.prototype.has=J.prototype.has,J.prototype.contains=J.prototype.contains,J.prototype.addAll=J.prototype.addAll,J.prototype.add=J.prototype.add,J.prototype.thaw=J.prototype.ka,J.prototype.freeze=J.prototype.freeze;var re,ne,ie,oe,ae,se=1;function le(e){this.ma=e,this.qa=e.Ja,this.sa=null}function ue(e){J.call(this),Q(this),this._isFrozen=!0,this.ma=e}function ce(e){this.ma=e,e.ef=null,this.qa=e.Ja,this.sa=null}function he(e,t){this.key=e,this.value=t,this.gl=this.ua=null}function de(e){this.ma=e,e.Sa=null,this.qa=e.Ja,this.sa=null}function fe(e){Q(this),this._isFrozen=!1,this.Ob={},this.Nb=0,this.ef=this.Sa=null,this.Ja=0,this.ff=this.ea=null,"string"===typeof e&&w("Error: Since 2.0 List/Map/Set constructors no longer take an argument that enforces type."),void 0!==e&&this.addAll(e)}function pe(e,t){void 0===e?this.y=this.x=0:"number"===typeof e&&"number"===typeof t?(this.x=e,this.y=t):w("Invalid arguments to Point constructor: "+e+", "+t),this._isFrozen=!1}function me(e){if("string"===typeof e){e=e.split(" ");for(var t=0,r=0;""===e[t];)t++;var n=e[t++];n&&(r=parseFloat(n));for(var i=0;""===e[t];)t++;return(n=e[t++])&&(i=parseFloat(n)),new pe(r,i)}return new pe}function ye(e){return e.x.toString()+" "+e.y.toString()}function ge(e,t){if(0===e)return 0<t?90:0>t?270:0;if(0===t)return 0<e?0:180;if(isNaN(e)||isNaN(t))return 0;var r=180*Math.atan(Math.abs(t/e))/Math.PI;return 0>e?r=0>t?r+180:180-r:0>t&&(r=360-r),r}function ve(e,t){return t.Ld(e),e}function be(e,t,r,n,i,o){var a=i-r,s=o-n,l=a*a+s*s,u=-(r-=e)*a-(n-=t)*s;return 0>=u||u>=l?(a=i-e,s=o-t,Math.min(r*r+n*n,a*a+s*s)):(e=a*n-s*r)*e/l}function xe(e,t,r,n){return(e=r-e)*e+(t=n-t)*t}function we(e,t,r,n){return t=n-t,0===(e=r-e)?0<t?90:0>t?270:0:0===t?0<e?0:180:isNaN(e)||isNaN(t)?0:(n=180*Math.atan(Math.abs(t/e))/Math.PI,0>e?n=0>t?n+180:180-n:0>t&&(n=360-n),n)}J.className="Set",J.uniqueHash=Q,J.hashIdUnique=ee,J.hashId=te,le.prototype.reset=function(){this.qa=this.ma.Ja,this.sa=null},le.prototype.next=function(){var e=this.ma;if(e.Ja!==this.qa&&null===this.key)return!1;var t=this.sa;return null!==(t=null===t?e.ea:t.ua)?(this.sa=t,this.value=this.key=e=t.key,!0):(this.$d(),!1)},le.prototype.ud=function(){return this.next()},le.prototype.first=function(){var e=this.ma;return this.qa=e.Ja,null!==(e=e.ea)?(this.sa=e,this.value=this.key=e=e.key):null},le.prototype.any=function(e){var t=this.ma;for(this.sa=null,t=t.ea;null!==t;){if(e(t.key))return!0;t=t.ua}return!1},le.prototype.all=function(e){var t=this.ma;for(this.sa=null,t=t.ea;null!==t;){if(!e(t.key))return!1;t=t.ua}return!0},le.prototype.each=function(e){var t=this.ma;for(this.sa=null,t=t.ea;null!==t;)e(t.key),t=t.ua;return this},le.prototype.map=function(e){var t=this.ma;this.sa=null;var r=new Z;for(t=t.ea;null!==t;)r.add(e(t.key)),t=t.ua;return r.iterator},le.prototype.filter=function(e){var t=this.ma;this.sa=null;var r=new Z;for(t=t.ea;null!==t;){var n=t.key;e(n)&&r.add(n),t=t.ua}return r.iterator},le.prototype.$d=function(){this.value=this.key=null,this.qa=-1},le.prototype.toString=function(){return null!==this.sa?"MapKeySetIterator@"+this.sa.value:"MapKeySetIterator"},d.Object.defineProperties(le.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.ma.Nb}}}),le.prototype.first=le.prototype.first,le.prototype.hasNext=le.prototype.ud,le.prototype.next=le.prototype.next,le.prototype.reset=le.prototype.reset,le.className="MapKeySetIterator",h(ue,J),(t=ue.prototype).freeze=function(){return this},t.ka=function(){return this},t.toString=function(){return"MapKeySet("+this.ma.toString()+")"},t.add=function(){w("This Set is read-only: "+this.toString())},t.contains=function(e){return this.ma.contains(e)},t.has=function(e){return this.contains(e)},t.remove=function(){w("This Set is read-only: "+this.toString())},t.delete=function(e){return this.remove(e)},t.clear=function(){w("This Set is read-only: "+this.toString())},t.first=function(){var e=this.ma.ea;return null!==e?e.key:null},ue.prototype.any=function(e){for(var t=this.ma.ea;null!==t;){if(e(t.key))return!0;t=t.ua}return!1},ue.prototype.all=function(e){for(var t=this.ma.ea;null!==t;){if(!e(t.key))return!1;t=t.ua}return!0},ue.prototype.each=function(e){for(var t=this.ma.ea;null!==t;)e(t.key),t=t.ua;return this},ue.prototype.map=function(e){for(var t=new J,r=this.ma.ea;null!==r;)t.add(e(r.key)),r=r.ua;return t},ue.prototype.filter=function(e){for(var t=new J,r=this.ma.ea;null!==r;){var n=r.key;e(n)&&t.add(n),r=r.ua}return t},ue.prototype.copy=function(){return new ue(this.ma)},ue.prototype.Bv=function(){var e,t=new J,r=this.ma.Ob;for(e in r)t.add(r[e].key);return t},ue.prototype.Fa=function(){var e,t=this.ma.Ob,r=Array(this.ma.Nb),n=0;for(e in t)r[n]=t[e].key,n++;return r},ue.prototype.Av=function(){var e,t=new Z,r=this.ma.Ob;for(e in r)t.add(r[e].key);return t},d.Object.defineProperties(ue.prototype,{count:{get:function(){return this.ma.Nb}},size:{get:function(){return this.ma.Nb}},iterator:{get:function(){return 0>=this.ma.Nb?W:new le(this.ma)}}}),ue.prototype.toList=ue.prototype.Av,ue.prototype.toArray=ue.prototype.Fa,ue.prototype.toSet=ue.prototype.Bv,ue.prototype.first=ue.prototype.first,ue.prototype.clear=ue.prototype.clear,ue.prototype.delete=ue.prototype.delete,ue.prototype.remove=ue.prototype.remove,ue.prototype.has=ue.prototype.has,ue.prototype.contains=ue.prototype.contains,ue.prototype.add=ue.prototype.add,ue.prototype.thaw=ue.prototype.ka,ue.prototype.freeze=ue.prototype.freeze,ue.className="MapKeySet",ce.prototype.reset=function(){var e=this.ma;e.ef=null,this.qa=e.Ja,this.sa=null},ce.prototype.next=function(){var e=this.ma;if(e.Ja!==this.qa&&null===this.key)return!1;var t=this.sa;return null!==(t=null===t?e.ea:t.ua)?(this.sa=t,this.value=t.value,this.key=t.key,!0):(this.$d(),!1)},ce.prototype.ud=function(){return this.next()},ce.prototype.first=function(){var e=this.ma;if(this.qa=e.Ja,null!==(e=e.ea)){this.sa=e;var t=e.value;return this.key=e.key,this.value=t}return null},ce.prototype.any=function(e){var t=this.ma;for(this.sa=t.ef=null,t=t.ea;null!==t;){if(e(t.value))return!0;t=t.ua}return!1},ce.prototype.all=function(e){var t=this.ma;for(this.sa=t.ef=null,t=t.ea;null!==t;){if(!e(t.value))return!1;t=t.ua}return!0},ce.prototype.each=function(e){var t=this.ma;for(this.sa=t.ef=null,t=t.ea;null!==t;)e(t.value),t=t.ua;return this},ce.prototype.map=function(e){var t=this.ma;this.sa=t.ef=null;var r=new Z;for(t=t.ea;null!==t;)r.add(e(t.value)),t=t.ua;return r.iterator},ce.prototype.filter=function(e){var t=this.ma;this.sa=t.ef=null;var r=new Z;for(t=t.ea;null!==t;){var n=t.value;e(n)&&r.add(n),t=t.ua}return r.iterator},ce.prototype.$d=function(){this.value=this.key=null,this.qa=-1,this.ma.ef=this},ce.prototype.toString=function(){return null!==this.sa?"MapValueSetIterator@"+this.sa.value:"MapValueSetIterator"},d.Object.defineProperties(ce.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.ma.Nb}}}),ce.prototype.first=ce.prototype.first,ce.prototype.hasNext=ce.prototype.ud,ce.prototype.next=ce.prototype.next,ce.prototype.reset=ce.prototype.reset,ce.className="MapValueSetIterator",he.prototype.toString=function(){return"{"+this.key+":"+this.value+"}"},he.className="KeyValuePair",de.prototype.reset=function(){var e=this.ma;e.Sa=null,this.qa=e.Ja,this.sa=null},de.prototype.next=function(){var e=this.ma;if(e.Ja!==this.qa&&null===this.key)return!1;var t=this.sa;return null!==(t=null===t?e.ea:t.ua)?(this.sa=t,this.key=t.key,this.value=t.value,!0):(this.$d(),!1)},de.prototype.ud=function(){return this.next()},de.prototype.first=function(){var e=this.ma;return this.qa=e.Ja,null!==(e=e.ea)?(this.sa=e,this.key=e.key,this.value=e.value,e):null},de.prototype.any=function(e){var t=this.ma;for(this.sa=t.Sa=null,t=t.ea;null!==t;){if(e(t))return!0;t=t.ua}return!1},de.prototype.all=function(e){var t=this.ma;for(this.sa=t.Sa=null,t=t.ea;null!==t;){if(!e(t))return!1;t=t.ua}return!0},de.prototype.each=function(e){var t=this.ma;for(this.sa=t.Sa=null,t=t.ea;null!==t;)e(t),t=t.ua;return this},de.prototype.map=function(e){var t=this.ma;this.sa=t.Sa=null;var r=new Z;for(t=t.ea;null!==t;)r.add(e(t)),t=t.ua;return r.iterator},de.prototype.filter=function(e){var t=this.ma;this.sa=t.Sa=null;var r=new Z;for(t=t.ea;null!==t;)e(t)&&r.add(t),t=t.ua;return r.iterator},de.prototype.$d=function(){this.value=this.key=null,this.qa=-1,this.ma.Sa=this},de.prototype.toString=function(){return null!==this.sa?"MapIterator@"+this.sa:"MapIterator"},d.Object.defineProperties(de.prototype,{iterator:{get:function(){return this}},count:{get:function(){return this.ma.Nb}}}),de.prototype.first=de.prototype.first,de.prototype.hasNext=de.prototype.ud,de.prototype.next=de.prototype.next,de.prototype.reset=de.prototype.reset,de.className="MapIterator",(t=fe.prototype).xb=function(){var e=this.Ja;999999999<++e&&(e=0),this.Ja=e},t.freeze=function(){return this._isFrozen=!0,this},t.ka=function(){return this._isFrozen=!1,this},t.toString=function(){return"Map()#"+te(this)},t.add=function(e,t){this._isFrozen&&S(this,e);var r=e;j(e)&&(r=ee(e));var n=this.Ob[r];return void 0===n?(this.Nb++,e=new he(e,t),this.Ob[r]=e,null===(r=this.ff)?this.ea=e:(e.gl=r,r.ua=e),this.ff=e,this.xb()):n.value=t,this},t.set=function(e,t){return this.add(e,t)},t.addAll=function(e){if(null===e)return this;if(M(e))for(var t=e.length,r=0;r<t;r++){var n=e[r];this.add(n.key,n.value)}else if(e instanceof fe)for(e=e.iterator;e.next();)this.add(e.key,e.value);else for(e=e.iterator;e.next();)t=e.value,this.add(t.key,t.value);return this},t.first=function(){return this.ea},fe.prototype.any=function(e){for(var t=this.ea;null!==t;){if(e(t))return!0;t=t.ua}return!1},fe.prototype.all=function(e){for(var t=this.ea;null!==t;){if(!e(t))return!1;t=t.ua}return!0},fe.prototype.each=function(e){for(var t=this.ea;null!==t;)e(t),t=t.ua;return this},fe.prototype.map=function(e){for(var t=new fe,r=this.ea;null!==r;)t.add(r.key,e(r)),r=r.ua;return t},fe.prototype.filter=function(e){for(var t=new fe,r=this.ea;null!==r;)e(r)&&t.add(r.key,r.value),r=r.ua;return t},(t=fe.prototype).contains=function(e){var t=e;return(!j(e)||void 0!==(t=te(e)))&&void 0!==this.Ob[t]},t.has=function(e){return this.contains(e)},t.I=function(e){var t=e;return j(e)&&void 0===(t=te(e))||void 0===(e=this.Ob[t])?null:e.value},t.get=function(e){return this.I(e)},t.remove=function(e){if(null===e)return!1;this._isFrozen&&S(this,e);var t=e;if(j(e)&&void 0===(t=te(e)))return!1;if(void 0===(e=this.Ob[t]))return!1;var r=e.ua,n=e.gl;return null!==r&&(r.gl=n),null!==n&&(n.ua=r),this.ea===e&&(this.ea=r),this.ff===e&&(this.ff=n),delete this.Ob[t],this.Nb--,this.xb(),!0},t.delete=function(e){return this.remove(e)},t.clear=function(){this._isFrozen&&S(this),this.Ob={},this.Nb=0,null!==this.Sa&&this.Sa.reset(),null!==this.ef&&this.ef.reset(),this.ff=this.ea=null,this.xb()},fe.prototype.copy=function(){var e,t=new fe,r=this.Ob;for(e in r){var n=r[e];t.add(n.key,n.value)}return t},fe.prototype.Fa=function(){var e,t=this.Ob,r=Array(this.Nb),n=0;for(e in t){var i=t[e];r[n]=new he(i.key,i.value),n++}return r},fe.prototype.If=function(){return new ue(this)},d.Object.defineProperties(fe.prototype,{count:{get:function(){return this.Nb}},size:{get:function(){return this.Nb}},iterator:{get:function(){if(0>=this.count)return W;var e=this.Sa;return null!==e?(e.reset(),e):new de(this)}},iteratorKeys:{get:function(){return 0>=this.count?W:new le(this)}},iteratorValues:{get:function(){if(0>=this.count)return W;var e=this.ef;return null!==e?(e.reset(),e):new ce(this)}}}),fe.prototype.toKeySet=fe.prototype.If,fe.prototype.toArray=fe.prototype.Fa,fe.prototype.clear=fe.prototype.clear,fe.prototype.delete=fe.prototype.delete,fe.prototype.remove=fe.prototype.remove,fe.prototype.get=fe.prototype.get,fe.prototype.getValue=fe.prototype.I,fe.prototype.has=fe.prototype.has,fe.prototype.contains=fe.prototype.contains,fe.prototype.first=fe.prototype.first,fe.prototype.addAll=fe.prototype.addAll,fe.prototype.set=fe.prototype.set,fe.prototype.add=fe.prototype.add,fe.prototype.thaw=fe.prototype.ka,fe.prototype.freeze=fe.prototype.freeze,fe.className="Map",pe.prototype.assign=function(e){return this.x=e.x,this.y=e.y,this},pe.prototype.h=function(e,t){return this.x=e,this.y=t,this},pe.prototype.og=function(e,t){return this.x=e,this.y=t,this},pe.prototype.set=function(e){return this.x=e.x,this.y=e.y,this},pe.prototype.copy=function(){var e=new pe;return e.x=this.x,e.y=this.y,e},(t=pe.prototype).ha=function(){return this._isFrozen=!0,Object.freeze(this),this},t.J=function(){return this._isFrozen||Object.isFrozen(this)?this:this.copy().freeze()},t.freeze=function(){return this._isFrozen=!0,this},t.ka=function(){return Object.isFrozen(this)&&w("cannot thaw constant: "+this),this._isFrozen=!1,this},t.toString=function(){return"Point("+this.x+","+this.y+")"},t.C=function(e){return e instanceof pe&&(this.x===e.x&&this.y===e.y)},t.ei=function(e,t){return this.x===e&&this.y===t},t.ab=function(e){return Gt.B(this.x,e.x)&&Gt.B(this.y,e.y)},t.add=function(e){return this.x+=e.x,this.y+=e.y,this},t.ne=function(e){return this.x-=e.x,this.y-=e.y,this},t.offset=function(e,t){return this.x+=e,this.y+=t,this},pe.prototype.rotate=function(e){if(0===e)return this;var t=this.x,r=this.y;if(0===t&&0===r)return this;if(360<=e?e-=360:0>e&&(e+=360),90===e){e=0;var n=1}else 180===e?(e=-1,n=0):270===e?(e=0,n=-1):(n=e*Math.PI/180,e=Math.cos(n),n=Math.sin(n));return this.x=e*t-n*r,this.y=n*t+e*r,this},(t=pe.prototype).scale=function(e,t){return this.x*=e,this.y*=t,this},t.yf=function(e){var t=e.x-this.x;return t*t+(e=e.y-this.y)*e},t.td=function(e,t){return(e-=this.x)*e+(t-=this.y)*t},t.normalize=function(){var e=this.x,t=this.y,r=Math.sqrt(e*e+t*t);return 0<r&&(this.x=e/r,this.y=t/r),this},t.$a=function(e){return ge(e.x-this.x,e.y-this.y)},t.direction=function(e,t){return ge(e-this.x,t-this.y)},t.Jy=function(e,t){return Gt.Bl(e.x,e.y,t.x,t.y,this.x,this.y)},t.Wz=function(e,t,r,n){return Gt.lh(e,t,r,n,this.x,this.y,this),this},t.Xz=function(e,t){return Gt.lh(e.x,e.y,t.x,t.y,this.x,this.y,this),this},t.kA=function(e,t,r,n){return Gt.Jo(this.x,this.y,e,t,r,n,this),this},t.lA=function(e,t){return Gt.Jo(this.x,this.y,e.x,e.y,t.width,t.height,this),this},t.ui=function(e,t){return this.x=e.x+t.x*e.width+t.offsetX,this.y=e.y+t.y*e.height+t.offsetY,this},t.vi=function(e,t,r,n,i){return this.x=e+i.x*r+i.offsetX,this.y=t+i.y*n+i.offsetY,this},t.transform=function(e){return e.Ga(this),this},t.w=function(){return isFinite(this.x)&&isFinite(this.y)},pe.alloc=function(){var e=Te.pop();return void 0===e?new pe:e},pe.allocAt=function(e,t){var r=Te.pop();return void 0===r?new pe(e,t):(r.x=e,r.y=t,r)},pe.free=function(e){Te.push(e)},pe.prototype.isReal=pe.prototype.w,pe.prototype.setSpot=pe.prototype.vi,pe.prototype.setRectSpot=pe.prototype.ui,pe.prototype.snapToGridPoint=pe.prototype.lA,pe.prototype.snapToGrid=pe.prototype.kA,pe.prototype.projectOntoLineSegmentPoint=pe.prototype.Xz,pe.prototype.projectOntoLineSegment=pe.prototype.Wz,pe.intersectingLineSegments=function(e,t,r,n,i,o,a,s){return Gt.Ml(e,t,r,n,i,o,a,s)},pe.prototype.compareWithLineSegmentPoint=pe.prototype.Jy,pe.compareWithLineSegment=function(e,t,r,n,i,o){return Gt.Bl(e,t,r,n,i,o)},pe.prototype.direction=pe.prototype.direction,pe.prototype.directionPoint=pe.prototype.$a,pe.prototype.normalize=pe.prototype.normalize,pe.prototype.distanceSquared=pe.prototype.td,pe.prototype.distanceSquaredPoint=pe.prototype.yf,pe.prototype.scale=pe.prototype.scale,pe.prototype.rotate=pe.prototype.rotate,pe.prototype.offset=pe.prototype.offset,pe.prototype.subtract=pe.prototype.ne,pe.prototype.add=pe.prototype.add,pe.prototype.equalsApprox=pe.prototype.ab,pe.prototype.equalTo=pe.prototype.ei,pe.prototype.equals=pe.prototype.C,pe.prototype.set=pe.prototype.set,pe.prototype.setTo=pe.prototype.og;var Se,ke,_e,je,Me,Ce,Pe,Te=[];function Ee(e,t){void 0===e?this.height=this.width=0:"number"===typeof e&&(0<=e||isNaN(e))&&"number"===typeof t&&(0<=t||isNaN(t))?(this.width=e,this.height=t):w("Invalid arguments to Size constructor: "+e+", "+t),this._isFrozen=!1}function Oe(e){if("string"===typeof e){e=e.split(" ");for(var t=0,r=0;""===e[t];)t++;var n=e[t++];n&&(r=parseFloat(n));for(var i=0;""===e[t];)t++;return(n=e[t++])&&(i=parseFloat(n)),new Ee(r,i)}return new Ee}function Ae(e){return e.width.toString()+" "+e.height.toString()}pe.className="Point",pe.parse=me,pe.stringify=ye,pe.distanceLineSegmentSquared=be,pe.distanceSquared=xe,pe.direction=we,pe.Origin=re=new pe(0,0).ha(),pe.InfiniteTopLeft=ne=new pe(-1/0,-1/0).ha(),pe.InfiniteBottomRight=ie=new pe(1/0,1/0).ha(),pe.SixPoint=oe=new pe(6,6).ha(),pe.NoPoint=ae=new pe(NaN,NaN).ha(),pe.parse=me,pe.stringify=ye,pe.distanceLineSegmentSquared=be,pe.distanceSquared=xe,pe.direction=we,Ee.prototype.assign=function(e){return this.width=e.width,this.height=e.height,this},Ee.prototype.h=function(e,t){return this.width=e,this.height=t,this},Ee.prototype.og=function(e,t){return this.width=e,this.height=t,this},Ee.prototype.set=function(e){return this.width=e.width,this.height=e.height,this},Ee.prototype.copy=function(){var e=new Ee;return e.width=this.width,e.height=this.height,e},(t=Ee.prototype).ha=function(){return this._isFrozen=!0,Object.freeze(this),this},t.J=function(){return this._isFrozen||Object.isFrozen(this)?this:this.copy().freeze()},t.freeze=function(){return this._isFrozen=!0,this},t.ka=function(){return Object.isFrozen(this)&&w("cannot thaw constant: "+this),this._isFrozen=!1,this},t.toString=function(){return"Size("+this.width+","+this.height+")"},t.C=function(e){return e instanceof Ee&&(this.width===e.width&&this.height===e.height)},t.ei=function(e,t){return this.width===e&&this.height===t},t.ab=function(e){return Gt.B(this.width,e.width)&&Gt.B(this.height,e.height)},t.yc=function(e,t){return e=this.width+e,this.width=0<=e?e:0,t=this.height+t,this.height=0<=t?t:0,this},t.w=function(){return isFinite(this.width)&&isFinite(this.height)},Ee.alloc=function(){var e=Le.pop();return void 0===e?new Ee:e},Ee.free=function(e){Le.push(e)},Ee.prototype.isReal=Ee.prototype.w,Ee.prototype.inflate=Ee.prototype.yc,Ee.prototype.equalsApprox=Ee.prototype.ab,Ee.prototype.equalTo=Ee.prototype.ei,Ee.prototype.equals=Ee.prototype.C,Ee.prototype.set=Ee.prototype.set,Ee.prototype.setTo=Ee.prototype.og;var Le=[];function Ne(e,t,r,n){void 0===e?this.height=this.width=this.y=this.x=0:"number"===typeof e&&"number"===typeof t&&"number"===typeof r&&(0<=r||isNaN(r))&&"number"===typeof n&&(0<=n||isNaN(n))?(this.x=e,this.y=t,this.width=r,this.height=n):e instanceof pe?(r=e.x,e=e.y,t instanceof pe?(n=t.x,t=t.y,this.x=Math.min(r,n),this.y=Math.min(e,t),this.width=Math.abs(r-n),this.height=Math.abs(e-t)):t instanceof Ee?(this.x=r,this.y=e,this.width=t.width,this.height=t.height):w("Incorrect second argument supplied to Rect constructor "+t)):w("Invalid arguments to Rect constructor: "+e+", "+t+", "+r+", "+n),this._isFrozen=!1}function Re(e,t,r){e.width=t,e.height=r}function De(e){if("string"===typeof e){e=e.split(" ");for(var t=0,r=0;""===e[t];)t++;var n=e[t++];n&&(r=parseFloat(n));for(var i=0;""===e[t];)t++;(n=e[t++])&&(i=parseFloat(n));for(var o=0;""===e[t];)t++;(n=e[t++])&&(o=parseFloat(n));for(var a=0;""===e[t];)t++;return(n=e[t++])&&(a=parseFloat(n)),new Ne(r,i,o,a)}return new Ne}function Ie(e){return e.x.toString()+" "+e.y.toString()+" "+e.width.toString()+" "+e.height.toString()}function Fe(e,t){return Gt.$(e.x,t.x)&&Gt.$(e.y,t.y)&&Gt.$(e.width,t.width)&&Gt.$(e.height,t.height)}function Be(e,t,r,n,i){var o=e.width;return r+i<=-o?(e.x+=o/2,e.width=0):(e.x-=i,e.width+=r+i),t+n<=-(r=e.height)?(e.y+=r/2,e.height=0):(e.y-=t,e.height+=t+n),e}function Ue(e,t,r,n,i){var o=Math.max(e.x,t),a=Math.max(e.y,r);return t=Math.min(e.x+e.width,t+n),r=Math.min(e.y+e.height,r+i),e.x=o,e.y=a,e.width=Math.max(0,t-o),e.height=Math.max(0,r-a),e}function ze(e,t){var r=e.width,n=e.x,i=t.x-10;return!(n>t.width+10+10+i||i>r+n)&&(r=e.height,e=e.y,n=t.y-10,!(e>t.height+10+10+n||n>r+e))}function qe(e,t,r,n,i){var o=Math.min(e.x,t),a=Math.min(e.y,r);return t=Math.max(e.x+e.width,t+n),r=Math.max(e.y+e.height,r+i),e.x=o,e.y=a,e.width=t-o,e.height=r-a,e}function Ge(e,t,r,n,i,o,a,s){return void 0===a&&(a=0),void 0===s&&(s=0),e<=i&&i+a<=e+r&&t<=o&&o+s<=t+n}function Ve(e,t,r,n,i,o,a,s){return!(e>a+i||i>r+e)&&!(t>s+o||o>n+t)}Ee.className="Size",Ee.parse=Oe,Ee.stringify=Ae,Ee.ZeroSize=Se=new Ee(0,0).ha(),Ee.OneSize=ke=new Ee(1,1).ha(),Ee.SixSize=_e=new Ee(6,6).ha(),Ee.EightSize=je=new Ee(8,8).ha(),Ee.TenSize=Me=new Ee(10,10).ha(),Ee.InfiniteSize=Ce=new Ee(1/0,1/0).ha(),Ee.NoSize=Pe=new Ee(NaN,NaN).ha(),Ee.parse=Oe,Ee.stringify=Ae,(t=Ne.prototype).assign=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},t.h=function(e,t,r,n){return this.x=e,this.y=t,this.width=r,this.height=n,this},t.og=function(e,t,r,n){return this.x=e,this.y=t,this.width=r,this.height=n,this},t.set=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},t.Yc=function(e){return this.x=e.x,this.y=e.y,this},t.jA=function(e){return this.width=e.width,this.height=e.height,this},Ne.prototype.copy=function(){var e=new Ne;return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},(t=Ne.prototype).ha=function(){return this._isFrozen=!0,Object.freeze(this),this},t.J=function(){return this._isFrozen||Object.isFrozen(this)?this:this.copy().freeze()},t.freeze=function(){return this._isFrozen=!0,this},t.ka=function(){return Object.isFrozen(this)&&w("cannot thaw constant: "+this),this._isFrozen=!1,this},t.toString=function(){return"Rect("+this.x+","+this.y+","+this.width+","+this.height+")"},t.C=function(e){return e instanceof Ne&&(this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height)},t.ei=function(e,t,r,n){return this.x===e&&this.y===t&&this.width===r&&this.height===n},t.ab=function(e){return Gt.B(this.x,e.x)&&Gt.B(this.y,e.y)&&Gt.B(this.width,e.width)&&Gt.B(this.height,e.height)},t.ca=function(e){return this.x<=e.x&&this.x+this.width>=e.x&&this.y<=e.y&&this.y+this.height>=e.y},t.Me=function(e){return this.x<=e.x&&e.x+e.width<=this.x+this.width&&this.y<=e.y&&e.y+e.height<=this.y+this.height},t.contains=function(e,t,r,n){return void 0===r&&(r=0),void 0===n&&(n=0),this.x<=e&&e+r<=this.x+this.width&&this.y<=t&&t+n<=this.y+this.height},t.offset=function(e,t){return this.x+=e,this.y+=t,this},t.yc=function(e,t){return Be(this,t,e,t,e)},t.yo=function(e){return Be(this,e.top,e.right,e.bottom,e.left)},t.yv=function(e){return Be(this,-e.top,-e.right,-e.bottom,-e.left)},t.zz=function(e,t,r,n){return Be(this,e,t,r,n)},t.xx=function(e){return Ue(this,e.x,e.y,e.width,e.height)},t.Qu=function(e,t,r,n){return Ue(this,e,t,r,n)},t.Tc=function(e){return this.Ru(e.x,e.y,e.width,e.height)},t.Ru=function(e,t,r,n){var i=this.width,o=this.x;return!(1/0!==i&&1/0!==r&&(i+=o,r+=e,isNaN(r)||isNaN(i)||o>r||e>i))&&(e=this.height,r=this.y,!(1/0!==e&&1/0!==n&&(e+=r,n+=t,isNaN(n)||isNaN(e)||r>n||t>e)))},t.Ue=function(e){return qe(this,e.x,e.y,0,0)},t.Zc=function(e){return qe(this,e.x,e.y,e.width,e.height)},t.Dv=function(e,t,r,n){return void 0===r&&(r=0),void 0===n&&(n=0),qe(this,e,t,r,n)},t.vi=function(e,t,r){return this.x=e-r.offsetX-r.x*this.width,this.y=t-r.offsetY-r.y*this.height,this},t.w=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.Ez=function(){return 0===this.width&&0===this.height},Ne.alloc=function(){var e=Xe.pop();return void 0===e?new Ne:e},Ne.allocAt=function(e,t,r,n){var i=Xe.pop();return void 0===i?new Ne(e,t,r,n):i.h(e,t,r,n)},Ne.free=function(e){Xe.push(e)},d.Object.defineProperties(Ne.prototype,{left:{get:function(){return this.x},set:function(e){this.x=e}},top:{get:function(){return this.y},set:function(e){this.y=e}},right:{get:function(){return this.x+this.width},set:function(e){this.x+=e-(this.x+this.width)}},bottom:{get:function(){return this.y+this.height},set:function(e){this.y+=e-(this.y+this.height)}},position:{get:function(){return new pe(this.x,this.y)},set:function(e){this.x=e.x,this.y=e.y}},size:{get:function(){return new Ee(this.width,this.height)},set:function(e){this.width=e.width,this.height=e.height}},center:{get:function(){return new pe(this.x+this.width/2,this.y+this.height/2)},set:function(e){this.x=e.x-this.width/2,this.y=e.y-this.height/2}},centerX:{get:function(){return this.x+this.width/2},set:function(e){this.x=e-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(e){this.y=e-this.height/2}}}),Ne.prototype.isEmpty=Ne.prototype.Ez,Ne.prototype.isReal=Ne.prototype.w,Ne.intersectsLineSegment=function(e,t,r,n,i,o,a,s){return Gt.yx(e,t,r,n,i,o,a,s)},Ne.prototype.setSpot=Ne.prototype.vi,Ne.prototype.union=Ne.prototype.Dv,Ne.prototype.unionRect=Ne.prototype.Zc,Ne.prototype.unionPoint=Ne.prototype.Ue,Ne.prototype.intersects=Ne.prototype.Ru,Ne.prototype.intersectsRect=Ne.prototype.Tc,Ne.prototype.intersect=Ne.prototype.Qu,Ne.prototype.intersectRect=Ne.prototype.xx,Ne.prototype.grow=Ne.prototype.zz,Ne.prototype.subtractMargin=Ne.prototype.yv,Ne.prototype.addMargin=Ne.prototype.yo,Ne.prototype.inflate=Ne.prototype.yc,Ne.prototype.offset=Ne.prototype.offset,Ne.prototype.contains=Ne.prototype.contains,Ne.prototype.containsRect=Ne.prototype.Me,Ne.prototype.containsPoint=Ne.prototype.ca,Ne.prototype.equalsApprox=Ne.prototype.ab,Ne.prototype.equalTo=Ne.prototype.ei,Ne.prototype.equals=Ne.prototype.C,Ne.prototype.setSize=Ne.prototype.jA,Ne.prototype.setPoint=Ne.prototype.Yc,Ne.prototype.set=Ne.prototype.set,Ne.prototype.setTo=Ne.prototype.og;var He=null,We=null,Xe=[];function Ye(e,t,r,n){void 0===e?this.left=this.bottom=this.right=this.top=0:void 0===t?this.left=this.bottom=this.right=this.top=e:void 0===r?(this.top=e,this.right=t,this.bottom=e,this.left=t):void 0!==n?(this.top=e,this.right=t,this.bottom=r,this.left=n):w("Invalid arguments to Margin constructor: "+e+", "+t+", "+r+", "+n),this._isFrozen=!1}function Ke(e){if("string"===typeof e){e=e.split(" ");for(var t=0,r=NaN;""===e[t];)t++;var n=e[t++];if(n&&(r=parseFloat(n)),isNaN(r))return new Ye;for(var i=NaN;""===e[t];)t++;if((n=e[t++])&&(i=parseFloat(n)),isNaN(i))return new Ye(r);for(var o=NaN;""===e[t];)t++;if((n=e[t++])&&(o=parseFloat(n)),isNaN(o))return new Ye(r,i);for(var a=NaN;""===e[t];)t++;return(n=e[t++])&&(a=parseFloat(n)),isNaN(a)?new Ye(r,i):new Ye(r,i,o,a)}return new Ye}function Ze(e){return e.top.toString()+" "+e.right.toString()+" "+e.bottom.toString()+" "+e.left.toString()}Ne.className="Rect",Ne.parse=De,Ne.stringify=Ie,Ne.contains=Ge,Ne.intersects=Ve,Ne.ZeroRect=He=new Ne(0,0,0,0).ha(),Ne.NoRect=We=new Ne(NaN,NaN,NaN,NaN).ha(),Ne.parse=De,Ne.stringify=Ie,Ne.contains=Ge,Ne.intersects=Ve,Ye.prototype.assign=function(e){return this.top=e.top,this.right=e.right,this.bottom=e.bottom,this.left=e.left,this},Ye.prototype.og=function(e,t,r,n){return this.top=e,this.right=t,this.bottom=r,this.left=n,this},Ye.prototype.set=function(e){return this.top=e.top,this.right=e.right,this.bottom=e.bottom,this.left=e.left,this},Ye.prototype.copy=function(){var e=new Ye;return e.top=this.top,e.right=this.right,e.bottom=this.bottom,e.left=this.left,e},(t=Ye.prototype).ha=function(){return this._isFrozen=!0,Object.freeze(this),this},t.J=function(){return this._isFrozen||Object.isFrozen(this)?this:this.copy().freeze()},t.freeze=function(){return this._isFrozen=!0,this},t.ka=function(){return Object.isFrozen(this)&&w("cannot thaw constant: "+this),this._isFrozen=!1,this},t.toString=function(){return"Margin("+this.top+","+this.right+","+this.bottom+","+this.left+")"},t.C=function(e){return e instanceof Ye&&(this.top===e.top&&this.right===e.right&&this.bottom===e.bottom&&this.left===e.left)},t.ei=function(e,t,r,n){return this.top===e&&this.right===t&&this.bottom===r&&this.left===n},t.ab=function(e){return Gt.B(this.top,e.top)&&Gt.B(this.right,e.right)&&Gt.B(this.bottom,e.bottom)&&Gt.B(this.left,e.left)},t.w=function(){return isFinite(this.top)&&isFinite(this.right)&&isFinite(this.bottom)&&isFinite(this.left)},Ye.alloc=function(){var e=Rt.pop();return void 0===e?new Ye:e},Ye.free=function(e){Rt.push(e)},Ye.prototype.isReal=Ye.prototype.w,Ye.prototype.equalsApprox=Ye.prototype.ab,Ye.prototype.equalTo=Ye.prototype.ei,Ye.prototype.equals=Ye.prototype.C,Ye.prototype.set=Ye.prototype.set,Ye.prototype.setTo=Ye.prototype.og;var $e,Je,Qe,et,tt,rt,nt,it,ot,at,st,lt,ut,ct,ht,dt,ft,pt,mt,yt,gt,vt,bt,xt,wt,St,kt,_t,jt,Mt,Ct,Pt,Tt,Et,Ot,At,Lt=null,Nt=null,Rt=[];function Dt(e,t,r,n){void 0===e?this.offsetY=this.offsetX=this.y=this.x=0:(void 0===t&&(t=0),void 0===r&&(r=0),void 0===n&&(n=0),this.x=e,this.y=t,this.offsetX=r,this.offsetY=n),this._isFrozen=!1}function It(e,t){return e.x=NaN,e.y=NaN,e.offsetX=t,e}function Ft(e){if("string"===typeof e){if("None"===(e=e.trim()))return $e;if("TopLeft"===e)return Je;if("Top"===e||"TopCenter"===e||"MiddleTop"===e)return Qe;if("TopRight"===e)return et;if("Left"===e||"LeftCenter"===e||"MiddleLeft"===e)return tt;if("Center"===e)return rt;if("Right"===e||"RightCenter"===e||"MiddleRight"===e)return nt;if("BottomLeft"===e)return it;if("Bottom"===e||"BottomCenter"===e||"MiddleBottom"===e)return ot;if("BottomRight"===e)return at;if("TopSide"===e)return st;if("LeftSide"===e)return lt;if("RightSide"===e)return ut;if("BottomSide"===e)return ct;if("TopBottomSides"===e)return ht;if("LeftRightSides"===e)return dt;if("TopLeftSides"===e)return ft;if("TopRightSides"===e)return pt;if("BottomLeftSides"===e)return mt;if("BottomRightSides"===e)return yt;if("NotTopSide"===e)return gt;if("NotLeftSide"===e)return vt;if("NotRightSide"===e)return bt;if("NotBottomSide"===e)return xt;if("AllSides"===e)return wt;if("Default"===e)return St;e=e.split(" ");for(var t=0,r=0;""===e[t];)t++;var n=e[t++];void 0!==n&&0<n.length&&(r=parseFloat(n));for(var i=0;""===e[t];)t++;void 0!==(n=e[t++])&&0<n.length&&(i=parseFloat(n));for(var o=0;""===e[t];)t++;void 0!==(n=e[t++])&&0<n.length&&(o=parseFloat(n));for(var a=0;""===e[t];)t++;return void 0!==(n=e[t++])&&0<n.length&&(a=parseFloat(n)),new Dt(r,i,o,a)}return new Dt}function Bt(e){return e.tb()?e.x.toString()+" "+e.y.toString()+" "+e.offsetX.toString()+" "+e.offsetY.toString():e.toString()}Ye.className="Margin",Ye.parse=Ke,Ye.stringify=Ze,Ye.ZeroMargin=Lt=new Ye(0,0,0,0).ha(),Ye.TwoMargin=Nt=new Ye(2,2,2,2).ha(),Ye.parse=Ke,Ye.stringify=Ze,Dt.prototype.assign=function(e){return this.x=e.x,this.y=e.y,this.offsetX=e.offsetX,this.offsetY=e.offsetY,this},Dt.prototype.og=function(e,t,r,n){return this.x=e,this.y=t,this.offsetX=r,this.offsetY=n,this},Dt.prototype.set=function(e){return this.x=e.x,this.y=e.y,this.offsetX=e.offsetX,this.offsetY=e.offsetY,this},Dt.prototype.copy=function(){var e=new Dt;return e.x=this.x,e.y=this.y,e.offsetX=this.offsetX,e.offsetY=this.offsetY,e},(t=Dt.prototype).ha=function(){return this._isFrozen=!0,Object.freeze(this),this},t.J=function(){return this._isFrozen||Object.isFrozen(this)?this:this.copy().freeze()},t.freeze=function(){return this._isFrozen=!0,this},t.ka=function(){return Object.isFrozen(this)&&w("cannot thaw constant: "+this),this._isFrozen=!1,this},t.toString=function(){return this.tb()?0===this.offsetX&&0===this.offsetY?"Spot("+this.x+","+this.y+")":"Spot("+this.x+","+this.y+","+this.offsetX+","+this.offsetY+")":this.C($e)?"None":this.C(Je)?"TopLeft":this.C(Qe)?"Top":this.C(et)?"TopRight":this.C(tt)?"Left":this.C(rt)?"Center":this.C(nt)?"Right":this.C(it)?"BottomLeft":this.C(ot)?"Bottom":this.C(at)?"BottomRight":this.C(st)?"TopSide":this.C(lt)?"LeftSide":this.C(ut)?"RightSide":this.C(ct)?"BottomSide":this.C(ht)?"TopBottomSides":this.C(dt)?"LeftRightSides":this.C(ft)?"TopLeftSides":this.C(pt)?"TopRightSides":this.C(mt)?"BottomLeftSides":this.C(yt)?"BottomRightSides":this.C(gt)?"NotTopSide":this.C(vt)?"NotLeftSide":this.C(bt)?"NotRightSide":this.C(xt)?"NotBottomSide":this.C(wt)?"AllSides":this.C(St)?"Default":"None"},t.C=function(e){return e instanceof Dt&&((this.x===e.x||isNaN(this.x)&&isNaN(e.x))&&(this.y===e.y||isNaN(this.y)&&isNaN(e.y))&&this.offsetX===e.offsetX&&this.offsetY===e.offsetY)},t.cv=function(){return new Dt(.5-(this.x-.5),.5-(this.y-.5),-this.offsetX,-this.offsetY)},t.Ef=function(e){if(!this.Vc())return!1;if(!e.Vc())if(e.C(kt))e=lt;else if(e.C(_t))e=ut;else if(e.C(jt))e=st;else{if(!e.C(Mt))return!1;e=ct}return e=e.offsetY,(this.offsetY&e)===e},t.tb=function(){return!isNaN(this.x)&&!isNaN(this.y)},t.Jc=function(){return isNaN(this.x)||isNaN(this.y)},t.Vc=function(){return isNaN(this.x)&&isNaN(this.y)&&1===this.offsetX&&0!==this.offsetY},t.rs=function(){return isNaN(this.x)&&isNaN(this.y)&&0===this.offsetX&&0===this.offsetY},t.Tb=function(){return isNaN(this.x)&&isNaN(this.y)&&-1===this.offsetX&&0===this.offsetY},Dt.alloc=function(){var e=Ut.pop();return void 0===e?new Dt:e},Dt.free=function(e){Ut.push(e)},Dt.prototype.isDefault=Dt.prototype.Tb,Dt.prototype.isNone=Dt.prototype.rs,Dt.prototype.isSide=Dt.prototype.Vc,Dt.prototype.isNoSpot=Dt.prototype.Jc,Dt.prototype.isSpot=Dt.prototype.tb,Dt.prototype.includesSide=Dt.prototype.Ef,Dt.prototype.opposite=Dt.prototype.cv,Dt.prototype.equals=Dt.prototype.C,Dt.prototype.set=Dt.prototype.set,Dt.prototype.setTo=Dt.prototype.og;var Ut=[];function zt(){this.m11=1,this.m21=this.m12=0,this.m22=1,this.dy=this.dx=0}Dt.className="Spot",Dt.parse=Ft,Dt.stringify=Bt,Dt.None=$e=It(new Dt(0,0,0,0),0).ha(),Dt.Default=St=It(new Dt(0,0,-1,0),-1).ha(),Dt.TopLeft=Je=new Dt(0,0,0,0).ha(),Dt.TopCenter=Qe=new Dt(.5,0,0,0).ha(),Dt.TopRight=et=new Dt(1,0,0,0).ha(),Dt.LeftCenter=tt=new Dt(0,.5,0,0).ha(),Dt.Center=rt=new Dt(.5,.5,0,0).ha(),Dt.RightCenter=nt=new Dt(1,.5,0,0).ha(),Dt.BottomLeft=it=new Dt(0,1,0,0).ha(),Dt.BottomCenter=ot=new Dt(.5,1,0,0).ha(),Dt.BottomRight=at=new Dt(1,1,0,0).ha(),Dt.MiddleTop=Ct=Qe,Dt.MiddleLeft=Pt=tt,Dt.MiddleRight=Tt=nt,Dt.MiddleBottom=Et=ot,Dt.Top=jt=Qe,Dt.Left=kt=tt,Dt.Right=_t=nt,Dt.Bottom=Mt=ot,Dt.TopSide=st=It(new Dt(0,0,1,1),1).ha(),Dt.LeftSide=lt=It(new Dt(0,0,1,2),1).ha(),Dt.RightSide=ut=It(new Dt(0,0,1,4),1).ha(),Dt.BottomSide=ct=It(new Dt(0,0,1,8),1).ha(),Dt.TopBottomSides=ht=It(new Dt(0,0,1,9),1).ha(),Dt.LeftRightSides=dt=It(new Dt(0,0,1,6),1).ha(),Dt.TopLeftSides=ft=It(new Dt(0,0,1,3),1).ha(),Dt.TopRightSides=pt=It(new Dt(0,0,1,5),1).ha(),Dt.BottomLeftSides=mt=It(new Dt(0,0,1,10),1).ha(),Dt.BottomRightSides=yt=It(new Dt(0,0,1,12),1).ha(),Dt.NotTopSide=gt=It(new Dt(0,0,1,14),1).ha(),Dt.NotLeftSide=vt=It(new Dt(0,0,1,13),1).ha(),Dt.NotRightSide=bt=It(new Dt(0,0,1,11),1).ha(),Dt.NotBottomSide=xt=It(new Dt(0,0,1,7),1).ha(),Dt.AllSides=wt=It(new Dt(0,0,1,15),1).ha(),Ot=new Dt(.156,.156).ha(),At=new Dt(.844,.844).ha(),Dt.parse=Ft,Dt.stringify=Bt,zt.prototype.set=function(e){return this.m11=e.m11,this.m12=e.m12,this.m21=e.m21,this.m22=e.m22,this.dx=e.dx,this.dy=e.dy,this},zt.prototype.setTransform=function(e,t,r,n,i,o){return this.m11=e,this.m12=t,this.m21=r,this.m22=n,this.dx=i,this.dy=o,this},zt.prototype.copy=function(){var e=new zt;return e.m11=this.m11,e.m12=this.m12,e.m21=this.m21,e.m22=this.m22,e.dx=this.dx,e.dy=this.dy,e},zt.prototype.toString=function(){return"Transform("+this.m11+","+this.m12+","+this.m21+","+this.m22+","+this.dx+","+this.dy+")"},zt.prototype.C=function(e){return this.m11===e.m11&&this.m12===e.m12&&this.m21===e.m21&&this.m22===e.m22&&this.dx===e.dx&&this.dy===e.dy},zt.prototype.ps=function(){return 0===this.dx&&0===this.dy&&1===this.m11&&0===this.m12&&0===this.m21&&1===this.m22},zt.prototype.reset=function(){return this.m11=1,this.m21=this.m12=0,this.m22=1,this.dy=this.dx=0,this},zt.prototype.multiply=function(e){var t=this.m11*e.m11+this.m21*e.m12,r=this.m12*e.m11+this.m22*e.m12,n=this.m11*e.m21+this.m21*e.m22,i=this.m12*e.m21+this.m22*e.m22;return this.dx=this.m11*e.dx+this.m21*e.dy+this.dx,this.dy=this.m12*e.dx+this.m22*e.dy+this.dy,this.m11=t,this.m12=r,this.m21=n,this.m22=i,this},zt.prototype.Yu=function(e){var t=1/(e.m11*e.m22-e.m12*e.m21),r=e.m22*t,n=-e.m12*t,i=-e.m21*t,o=e.m11*t,a=t*(e.m21*e.dy-e.m22*e.dx);return e=t*(e.m12*e.dx-e.m11*e.dy),t=this.m11*r+this.m21*n,r=this.m12*r+this.m22*n,n=this.m11*i+this.m21*o,i=this.m12*i+this.m22*o,this.dx=this.m11*a+this.m21*e+this.dx,this.dy=this.m12*a+this.m22*e+this.dy,this.m11=t,this.m12=r,this.m21=n,this.m22=i,this},zt.prototype.Ol=function(){var e=1/(this.m11*this.m22-this.m12*this.m21),t=-this.m12*e,r=-this.m21*e,n=this.m11*e,i=e*(this.m21*this.dy-this.m22*this.dx),o=e*(this.m12*this.dx-this.m11*this.dy);return this.m11=this.m22*e,this.m12=t,this.m21=r,this.m22=n,this.dx=i,this.dy=o,this},zt.prototype.rotate=function(e,t,r){if(360<=e?e-=360:0>e&&(e+=360),0===e)return this;if(this.translate(t,r),90===e){e=0;var n=1}else 180===e?(e=-1,n=0):270===e?(e=0,n=-1):(n=e*Math.PI/180,e=Math.cos(n),n=Math.sin(n));var i=this.m12*e+this.m22*n,o=this.m11*-n+this.m21*e,a=this.m12*-n+this.m22*e;return this.m11=this.m11*e+this.m21*n,this.m12=i,this.m21=o,this.m22=a,this.translate(-t,-r),this},(t=zt.prototype).translate=function(e,t){return this.dx+=this.m11*e+this.m21*t,this.dy+=this.m12*e+this.m22*t,this},t.scale=function(e,t){return void 0===t&&(t=e),this.m11*=e,this.m12*=e,this.m21*=t,this.m22*=t,this},t.Ga=function(e){var t=e.x,r=e.y;return e.h(t*this.m11+r*this.m21+this.dx,t*this.m12+r*this.m22+this.dy)},t.Ld=function(e){var t=1/(this.m11*this.m22-this.m12*this.m21),r=e.x,n=e.y;return e.h(r*this.m22*t+n*-this.m21*t+t*(this.m21*this.dy-this.m22*this.dx),r*-this.m12*t+n*this.m11*t+t*(this.m12*this.dx-this.m11*this.dy))},t.Uw=function(e){var t=1/(this.m11*this.m22-this.m12*this.m21),r=1.25*e.x,n=1.2*e.y;return e.h(r*this.m22*t+n*-this.m21*t+t*(this.m21*this.dy-this.m22*this.dx),r*-this.m12*t+n*this.m11*t+t*(this.m12*this.dx-this.m11*this.dy))},t.jp=function(e){var t=e.x,r=e.y,n=t+e.width,i=r+e.height,o=this.m11,a=this.m12,s=this.m21,l=this.m22,u=this.dx,c=this.dy,h=t*o+r*s+u,d=t*a+r*l+c,f=n*o+r*s+u,p=n*a+r*l+c;return r=t*o+i*s+u,t=t*a+i*l+c,o=n*o+i*s+u,n=n*a+i*l+c,i=Math.min(h,f),h=Math.max(h,f),f=Math.min(d,p),d=Math.max(d,p),i=Math.min(i,r),h=Math.max(h,r),f=Math.min(f,t),d=Math.max(d,t),i=Math.min(i,o),h=Math.max(h,o),f=Math.min(f,n),d=Math.max(d,n),e.h(i,f,h-i,d-f),e},zt.alloc=function(){var e=qt.pop();return void 0===e?new zt:e},zt.free=function(e){qt.push(e)},zt.prototype.transformRect=zt.prototype.jp,zt.prototype.transformPoint=zt.prototype.Ga,zt.prototype.scale=zt.prototype.scale,zt.prototype.translate=zt.prototype.translate,zt.prototype.rotate=zt.prototype.rotate,zt.prototype.invert=zt.prototype.Ol,zt.prototype.multiplyInverted=zt.prototype.Yu,zt.prototype.multiply=zt.prototype.multiply,zt.prototype.reset=zt.prototype.reset,zt.prototype.isIdentity=zt.prototype.ps,zt.prototype.equals=zt.prototype.C,zt.prototype.setTransform=zt.prototype.setTransform,zt.prototype.set=zt.prototype.set;var qt=[];zt.className="Transform",zt.xF="54a702f3e53909c447824c6706603faf4c";var Gt={qA:"7da71ca0ad381e90",sg:(Math.sqrt(2)-1)/3*4,Nv:null,sqrt:function(e){if(0>=e)return 0;var t=Gt.Nv;if(null===t){t=[];for(var r=0;2e3>=r;r++)t[r]=Math.sqrt(r);Gt.Nv=t}return 1>e?2e3>=(r=1/e)?1/t[0|r]:Math.sqrt(e):2e3>=e?t[0|e]:Math.sqrt(e)},B:function(e,t){return.5>(e-=t)&&-.5<e},$:function(e,t){return 5e-8>(e-=t)&&-5e-8<e},Ub:function(e,t,r,n,i,o,a){if(0>=i&&(i=1e-6),e<r)var s=e,l=r;else s=r,l=e;if(t<n)var u=t,c=n;else u=n,c=t;if(e===r)return u<=a&&a<=c&&e-i<=o&&o<=e+i;if(t===n)return s<=o&&o<=l&&t-i<=a&&a<=t+i;if(l+=i,(s-=i)<=o&&o<=l&&(c+=i,(u-=i)<=a&&a<=c))if(l-s>c-u){if(!(e-r>i||r-e>i))return!0;if((o=(n-t)/(r-e)*(o-e)+t)-i<=a&&a<=o+i)return!0}else{if(!(t-n>i||n-t>i))return!0;if((a=(r-e)/(n-t)*(a-t)+e)-i<=o&&o<=a+i)return!0}return!1},Ur:function(e,t,r,n,i,o,a,s,l,u,c,h){if(Gt.Ub(e,t,a,s,h,r,n)&&Gt.Ub(e,t,a,s,h,i,o))return Gt.Ub(e,t,a,s,h,u,c);var d=(e+r)/2,f=(t+n)/2,p=(r+i)/2,m=(n+o)/2,y=((n=(d+p)/2)+(p=(p+(i=(i+a)/2))/2))/2,g=((r=(f+m)/2)+(m=(m+(o=(o+s)/2))/2))/2;return Gt.Ur(e,t,d,f,n,r,y,g,l,u,c,h)||Gt.Ur(y,g,p,m,i,o,a,s,l,u,c,h)},Vw:function(e,t,r,n,i,o,a,s,l){var u=(r+i)/2,c=(n+o)/2;return l.h((((e+r)/2+u)/2+(u+(i+a)/2)/2)/2,(((t+n)/2+c)/2+(c+(o+s)/2)/2)/2),l},Fy:function(e,t,r,n,i,o,a,s){var l=(r+i)/2,u=(n+o)/2;return we(((e+r)/2+l)/2,((t+n)/2+u)/2,(l+(i+a)/2)/2,(u+(o+s)/2)/2)},zl:function(e,t,r,n,i,o,a,s,l,u){if(Gt.Ub(e,t,a,s,l,r,n)&&Gt.Ub(e,t,a,s,l,i,o))qe(u,e,t,0,0),qe(u,a,s,0,0);else{var c=(e+r)/2,h=(t+n)/2,d=(r+i)/2,f=(n+o)/2,p=((n=(c+d)/2)+(d=(d+(i=(i+a)/2))/2))/2,m=((r=(h+f)/2)+(f=(f+(o=(o+s)/2))/2))/2;Gt.zl(e,t,c,h,n,r,p,m,l,u),Gt.zl(p,m,d,f,i,o,a,s,l,u)}return u},Le:function(e,t,r,n,i,o,a,s,l,u){if(Gt.Ub(e,t,a,s,l,r,n)&&Gt.Ub(e,t,a,s,l,i,o))0===u.length&&(u.push(e),u.push(t)),u.push(a),u.push(s);else{var c=(e+r)/2,h=(t+n)/2,d=(r+i)/2,f=(n+o)/2,p=((n=(c+d)/2)+(d=(d+(i=(i+a)/2))/2))/2,m=((r=(h+f)/2)+(f=(f+(o=(o+s)/2))/2))/2;Gt.Le(e,t,c,h,n,r,p,m,l,u),Gt.Le(p,m,d,f,i,o,a,s,l,u)}return u},fv:function(e,t,r,n,i,o,a,s,l,u){if(Gt.Ub(e,t,i,o,u,r,n))return Gt.Ub(e,t,i,o,u,s,l);var c=(e+r)/2,h=(t+n)/2,d=(c+(r=(r+i)/2))/2,f=(h+(n=(n+o)/2))/2;return Gt.fv(e,t,c,h,d,f,a,s,l,u)||Gt.fv(d,f,r,n,i,o,a,s,l,u)},EA:function(e,t,r,n,i,o,a){return a.h(((e+r)/2+(r+i)/2)/2,((t+n)/2+(n+o)/2)/2),a},ev:function(e,t,r,n,i,o,a,s){if(Gt.Ub(e,t,i,o,a,r,n))qe(s,e,t,0,0),qe(s,i,o,0,0);else{var l=(e+r)/2,u=(t+n)/2,c=(l+(r=(r+i)/2))/2,h=(u+(n=(n+o)/2))/2;Gt.ev(e,t,l,u,c,h,a,s),Gt.ev(c,h,r,n,i,o,a,s)}return s},Yo:function(e,t,r,n,i,o,a,s){if(Gt.Ub(e,t,i,o,a,r,n))0===s.length&&(s.push(e),s.push(t)),s.push(i),s.push(o);else{var l=(e+r)/2,u=(t+n)/2,c=(l+(r=(r+i)/2))/2,h=(u+(n=(n+o)/2))/2;Gt.Yo(e,t,l,u,c,h,a,s),Gt.Yo(c,h,r,n,i,o,a,s)}return s},Ao:function(e,t,r,n,i,o,a,s,l,u,c,h,d,f){if(Gt.Ub(e,t,a,s,d,r,n)&&Gt.Ub(e,t,a,s,d,i,o))return!!Gt.Ml(e,t,a,s,l,u,c,h)&&(0!==(d=(e-a)*(u-h)-(t-s)*(l-c))&&(f.h(((e*s-t*a)*(l-c)-(e-a)*(l*h-u*c))/d,((e*s-t*a)*(u-h)-(t-s)*(l*h-u*c))/d),!0));var p=(e+r)/2,m=(t+n)/2,y=(r+i)/2,g=(n+o)/2,v=((n=(p+y)/2)+(y=(y+(i=(i+a)/2))/2))/2,b=((r=(m+g)/2)+(g=(g+(o=(o+s)/2))/2))/2,x=1/0,w=!1,S=0,k=0;return Gt.Ao(e,t,p,m,n,r,v,b,l,u,c,h,d,f)&&((e=(f.x-l)*(f.x-l)+(f.y-u)*(f.y-u))<x&&(x=e,w=!0,S=f.x,k=f.y)),Gt.Ao(v,b,y,g,i,o,a,s,l,u,c,h,d,f)&&(f.x-l)*(f.x-l)+(f.y-u)*(f.y-u)<x&&(w=!0,S=f.x,k=f.y),w&&(f.x=S,f.y=k),w},Bo:function(e,t,r,n,i,o,a,s,l,u,c,h,d){var f=0;if(Gt.Ub(e,t,a,s,d,r,n)&&Gt.Ub(e,t,a,s,d,i,o)){if(0===(d=(e-a)*(u-h)-(t-s)*(l-c)))return f;var p=((e*s-t*a)*(l-c)-(e-a)*(l*h-u*c))/d,m=((e*s-t*a)*(u-h)-(t-s)*(l*h-u*c))/d;if(p>=c)return f;if((l>c?l-c:c-l)<(u>h?u-h:h-u)){if(t<s?(l=t,e=s):(l=s,e=t),m<l||m>e)return f}else if(e<a?(l=e,e=a):l=a,p<l||p>e)return f;0<d?f++:0>d&&f--}else{m=(t+n)/2;var y=(r+i)/2,g=(n+o)/2,v=((n=((p=(e+r)/2)+y)/2)+(y=(y+(i=(i+a)/2))/2))/2,b=((r=(m+g)/2)+(g=(g+(o=(o+s)/2))/2))/2;f+=Gt.Bo(e,t,p,m,n,r,v,b,l,u,c,h,d),f+=Gt.Bo(v,b,y,g,i,o,a,s,l,u,c,h,d)}return f},lh:function(e,t,r,n,i,o,a){return Gt.$(e,r)?(t<n?(r=t,t=n):r=n,o<r?(a.h(e,r),!1):o>t?(a.h(e,t),!1):(a.h(e,o),!0)):Gt.$(t,n)?(e<r?(n=e,e=r):n=r,i<n?(a.h(n,t),!1):i>e?(a.h(e,t),!1):(a.h(i,t),!0)):-5e-6>(i=((e-i)*(e-r)+(t-o)*(t-n))/((r-e)*(r-e)+(n-t)*(n-t)))?(a.h(e,t),!1):1.000005<i?(a.h(r,n),!1):(a.h(e+i*(r-e),t+i*(n-t)),!0)},Re:function(e,t,r,n,i,o,a,s,l){return Gt.B(e,r)&&Gt.B(t,n)?(l.h(e,t),!1):Gt.$(i,a)?Gt.$(e,r)?(Gt.lh(e,t,r,n,i,o,l),!1):Gt.lh(e,t,r,n,i,(n-t)/(r-e)*(i-e)+t,l):(s=(s-o)/(a-i),Gt.$(e,r)?(r=s*(e-i)+o,t<n?(i=t,t=n):i=n,r<i?(l.h(e,i),!1):r>t?(l.h(e,t),!1):(l.h(e,r),!0)):(a=(n-t)/(r-e),Gt.$(s,a)?(Gt.lh(e,t,r,n,i,o,l),!1):(i=(a*e-s*i+o-t)/(a-s),Gt.$(a,0)?(e<r?(n=e,e=r):n=r,i<n?(l.h(n,t),!1):i>e?(l.h(e,t),!1):(l.h(i,t),!0)):Gt.lh(e,t,r,n,i,a*(i-e)+t,l))))},CA:function(e,t,r,n,i){return Gt.Re(r.x,r.y,n.x,n.y,e.x,e.y,t.x,t.y,i)},AA:function(e,t,r,n,i,o,a,s,l,u){function c(r,n){var i=(r-e)*(r-e)+(n-t)*(n-t);i<h&&(h=i,l.h(r,n))}var h=1/0;c(l.x,l.y);var d=0,f=0,p=0,m=0;if(i<a?(d=i,f=a):(d=a,f=i),o<s?(p=i,m=a):(p=a,m=i),d=(f-d)/2+u,u=(m-p)/2+u,i=(i+a)/2,o=(o+s)/2,0===d||0===u)return l;if(.5>(r>e?r-e:e-r)){if(0>(d=1-(r-i)*(r-i)/(d*d)))return l;n=-u*(d=Math.sqrt(d))+o,c(r,u*d+o),c(r,n)}else{if(0>(d=(s=2*(r=(n-t)/(r-e))*(t-r*e)/(u*u)-2*r*o/(u*u)-2*i/(d*d))*s-4*(n=1/(d*d)+r*r/(u*u))*(2*r*e*o/(u*u)-2*t*o/(u*u)+o*o/(u*u)+i*i/(d*d)-1+(t-r*e)*(t-r*e)/(u*u))))return l;c(u=(-s+(d=Math.sqrt(d)))/(2*n),r*u-r*e+t),c(d=(-s-d)/(2*n),r*d-r*e+t)}return l},Cf:function(e,t,r,n,i,o,a,s,l){var u=1e21,c=e,h=t;if(Gt.Re(e,t,e,n,i,o,a,s,l)){var d=(l.x-i)*(l.x-i)+(l.y-o)*(l.y-o);d<u&&(u=d,c=l.x,h=l.y)}return Gt.Re(r,t,r,n,i,o,a,s,l)&&((d=(l.x-i)*(l.x-i)+(l.y-o)*(l.y-o))<u&&(u=d,c=l.x,h=l.y)),Gt.Re(e,t,r,t,i,o,a,s,l)&&((t=(l.x-i)*(l.x-i)+(l.y-o)*(l.y-o))<u&&(u=t,c=l.x,h=l.y)),Gt.Re(e,n,r,n,i,o,a,s,l)&&((e=(l.x-i)*(l.x-i)+(l.y-o)*(l.y-o))<u&&(u=e,c=l.x,h=l.y)),l.h(c,h),1e21>u},ns:function(e,t,r){return Gt.yx(e.x,e.y,e.width,e.height,t.x,t.y,r.x,r.y)},yx:function(e,t,r,n,i,o,a,s){var l=e+r,u=t+n;return i===a?(o<s?(a=o,o=s):a=s,e<=i&&i<=l&&a<=u&&o>=t):o===s?(i<a?(s=i,i=a):s=a,t<=o&&o<=u&&s<=l&&i>=e):!!(Ge(e,t,r,n,i,o)||Ge(e,t,r,n,a,s)||Gt.Ml(e,t,l,t,i,o,a,s)||Gt.Ml(l,t,l,u,i,o,a,s)||Gt.Ml(l,u,e,u,i,o,a,s)||Gt.Ml(e,u,e,t,i,o,a,s))},Ml:function(e,t,r,n,i,o,a,s){return e===r&&t===n&&i===a&&o===s?e===i&&t===o:0>=Gt.Bl(e,t,r,n,i,o)*Gt.Bl(e,t,r,n,a,s)&&0>=Gt.Bl(i,o,a,s,e,t)*Gt.Bl(i,o,a,s,r,n)},Bl:function(e,t,r,n,i,o){return r-=e,0===(o=(e=i-e)*(n-=t)-(t=o-t)*r)&&(0<(o=e*r+t*n)&&(0>(o=(e-r)*r+(t-n)*n)&&(o=0))),o},Wo:function(e){return 0>e&&(e+=360),360<=e&&(e-=360),e},bx:function(e,t,r,n,i,o){var a=Math.PI;o||(n*=a/180,i*=a/180);var s=n>i?-1:1;o=[];var l=a/2,u=n;if(1e-5>(n=Math.min(2*a,Math.abs(i-n))))return l=u+s*Math.min(n,l),s=e+r*Math.cos(u),u=t+r*Math.sin(u),e+=r*Math.cos(l),t+=r*Math.sin(l),r=(s+e)/2,l=(u+t)/2,o.push([s,u,r,l,r,l,e,t]),o;for(;1e-5<n;)i=u+s*Math.min(n,l),o.push(Gt.Ny(r,u,i,e,t)),n-=Math.abs(i-u),u=i;return o},Ny:function(e,t,r,n,i){var o=(r-t)/2,a=e*Math.cos(o),s=e*Math.sin(o),l=-s,u=a*a+l*l,c=u+a*a+l*s;return s=a-(u=4/3*(Math.sqrt(2*u*c)-c)/(a*s-l*a))*l,l=-(a=l+u*a),u=o+t,o=Math.cos(u),u=Math.sin(u),[n+e*Math.cos(t),i+e*Math.sin(t),n+s*o-a*u,i+s*u+a*o,n+s*o-l*u,i+s*u+l*o,n+e*Math.cos(r),i+e*Math.sin(r)]},Jo:function(e,t,r,n,i,o,a){var s=r=Math.floor((e-r)/i)*i+r;return r+i-e<i/2&&(s=r+i),e=n=Math.floor((t-n)/o)*o+n,n+o-t<o/2&&(e=n+o),a.h(s,e),a},ox:function(e,t){var r,n=Math.max(e,t);e=Math.min(e,t);do{t=n%e,n=r=e,e=t}while(0<t);return r},Sy:function(e,t,r,n){var i=0>r,o=0>n;if(e<t)var a=1,s=0;else a=0,s=1;var l=0===a?e:t,u=0===a?r:n;return(0===a?i:o)&&(u=-u),r=0===(a=s)?r:n,(0===a?i:o)&&(r=-r),Gt.Ty(l,0===a?e:t,u,r,0,0)},Ty:function(e,t,r,n,i,o){if(0<n)if(0<r){i=e*e,e*=r;var a=t*n,s=-(o=t*t)+a,l=-o+Math.sqrt(e*e+a*a);t=s;for(var u=0;9999999999>u&&((t=.5*(s+l))!==s&&t!==l);++u){var c=e/(t+i),h=a/(t+o);if(0<(c=c*c+h*h-1))s=t;else{if(!(0>c))break;l=t}}r=i*r/(t+i)-r,n=o*n/(t+o)-n,r=Math.sqrt(r*r+n*n)}else r=Math.abs(n-t);else(o=e*r)<(n=e*e-t*t)?(n=o/n,o=t*Math.sqrt(Math.abs(1-n*n)),r=e*n-r,r=Math.sqrt(r*r+o*o)):r=Math.abs(r-e);return r},Ve:new G,rm:new G,Jf:new G,Kf:0,sm:100};function Vt(e){Q(this),this.o=2,void 0===e&&(e=Vt.m),this.na=e,this.Bc=this.Ac=this.gd=this.fd=0,e===Vt.m?this.ae=new Z:(null===Vt.V&&(Vt.V=(new Z).freeze()),this.ae=Vt.V),this.Up=this.ae.Ja,this.Cp=(new Ne).freeze(),this.vm=this.nk=null,this.wm=NaN,this.bg=Je,this.cg=at,this.Mk=this.Nk=NaN,this.Rf=ca}function Ht(e,t){return e.type===Vt.j&&t.type===Vt.m&&!!(1===t.figures.count&&(t=t.figures.L(0),1===t.segments.count&&Gt.B(e.startX,t.startX)&&Gt.B(e.startY,t.startY)&&(t=t.segments.L(0),t.type===nr&&Gt.B(e.endX,t.endX)&&Gt.B(e.endY,t.endY))))}function Wt(e,t,r){switch(e.type){case Vt.j:case Vt.u:case Vt.F:r?t.h(e.fd,e.gd,0,0):qe(t,e.fd,e.gd,0,0),qe(t,e.Ac,e.Bc,0,0);break;case Vt.m:var n=e.figures;e=n.s,n=n.length;for(var i=0;i<n;i++){var o=e[i];r&&0===i?t.h(o.startX,o.startY,0,0):qe(t,o.startX,o.startY,0,0);for(var a=o.segments.s,s=a.length,l=o.startX,u=o.startY,c=0;c<s;c++){var h=a[c];switch(h.type){case nr:case rr:qe(t,l=h.endX,u=h.endY,0,0);break;case ir:Gt.zl(l,u,h.point1X,h.point1Y,h.point2X,h.point2Y,h.endX,h.endY,.5,t),l=h.endX,u=h.endY;break;case or:Gt.ev(l,u,h.point1X,h.point1Y,h.endX,h.endY,.5,t),l=h.endX,u=h.endY;break;case ar:case sr:var d=h.type===ar?er(h,o):tr(h,o,l,u),f=d.length;if(0===f){qe(t,l=h.type===ar?h.centerX:h.endX,u=h.type===ar?h.centerY:h.endY,0,0);break}h=null;for(var p=0;p<f;p++)h=d[p],Gt.zl(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],.5,t);null!==h&&(l=h[6],u=h[7]);break;default:w("Unknown Segment type: "+h.type)}}}break;default:w("Unknown Geometry type: "+e.type)}}function Xt(e,t,r,n,i){var o=t.x;t=t.y;for(var a,s,l,u,c=e.bounds.x-20,h=0,d=e.figures.s,f=d.length,p=0;p<f;p++){var m=d[p],y=!m.isEvenOdd;if(m.isFilled){if(n&&m.ca(o,t,r))return!0;for(var g=m.segments,v=a=m.startX,b=s=m.startY,x=g.s,S=0;S<=g.length;S++){var k=void 0;if(S!==g.length){var _=(k=x[S]).type;e=k.endX,u=k.endY}else _=nr,e=v,u=b;switch(_){case rr:if(v=Yt(o,t,c,t,a,s,v,b),isNaN(v))return!0;h+=v,v=e,b=u;break;case nr:if(a=Yt(o,t,c,t,a,s,e,u),isNaN(a))return!0;h+=a;break;case ir:h+=l=Gt.Bo(a,s,k.point1X,k.point1Y,k.point2X,k.point2Y,e,u,c,t,o,t,.5);break;case or:h+=l=Gt.Bo(a,s,(a+2*k.point1X)/3,(s+2*k.point1Y)/3,(2*k.point1X+e)/3,(2*k.point1Y+u)/3,e,u,c,t,o,t,.5);break;case ar:case sr:var j=(_=k.type===ar?er(k,m):tr(k,m,a,s)).length;if(0===j){if(a=Yt(o,t,c,t,a,s,k.type===ar?k.centerX:k.endX,k.type===ar?k.centerY:k.endY),isNaN(a))return!0;h+=a;break}k=null;for(var M=0;M<j;M++){if(k=_[M],0===M){if(l=Yt(o,t,c,t,a,s,k[0],k[1]),isNaN(l))return!0;h+=l}h+=l=Gt.Bo(k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7],c,t,o,t,.5)}null!==k&&(e=k[6],u=k[7]);break;default:w("Unknown Segment type: "+k.type)}a=e,s=u}if(y){if(0!==h)return!0}else if(0!==h%2)return!0;h=0}else if(m.ca(o,t,i?r:r+2))return!0}return!1}function Yt(e,t,r,n,i,o,a,s){if(Gt.Ub(i,o,a,s,.05,e,t))return NaN;var l=(e-r)*(o-s);if(0===l)return 0;var u=((e*n-t*r)*(i-a)-(e-r)*(i*s-o*a))/l;if(t=(e*n-t*r)*(o-s)/l,u>=e)return 0;if((i>a?i-a:a-i)<(o>s?o-s:s-o)){if(o<s){if(t<o||t>s)return 0}else if(t<s||t>o)return 0}else if(i<a){if(u<i||u>a)return 0}else if(u<a||u>i)return 0;return 0<l?1:-1}function Kt(e,t,r,n){for(var i=(e=e.figures.s).length,o=0;o<i;o++)if(e[o].ca(t,r,n))return!0;return!1}function Zt(e){if(null===e.nk){var t=e.nk=[],r=e.vm=[],n=[],i=[];if(e.type===Vt.j)n.push(e.startX),n.push(e.startY),n.push(e.endX),n.push(e.endY),t.push(n),i.push(Math.sqrt((e.startX-e.endX)*(e.startX-e.endX)+(e.startY-e.endY)*(e.startY-e.endY))),r.push(i);else if(e.type===Vt.u)n.push(e.startX),n.push(e.startY),n.push(e.endX),n.push(e.startY),n.push(e.endX),n.push(e.endY),n.push(e.startX),n.push(e.endY),n.push(e.startX),n.push(e.startY),t.push(n),i.push(Math.abs(e.startX-e.endX)),i.push(Math.abs(e.startY-e.endY)),i.push(Math.abs(e.startX-e.endX)),i.push(Math.abs(e.startY-e.endY)),r.push(i);else if(e.type===Vt.F){var o=new Jt;o.startX=e.endX,o.startY=(e.startY+e.endY)/2;var a=new Qt(ar);if(a.startAngle=0,a.sweepAngle=360,a.centerX=(e.startX+e.endX)/2,a.centerY=(e.startY+e.endY)/2,a.radiusX=Math.abs(e.startX-e.endX)/2,a.radiusY=Math.abs(e.startY-e.endY)/2,o.add(a),0===(i=(e=er(a,o)).length))n.push(a.centerX),n.push(a.centerY);else{a=o.startX,o=o.startY;for(var s=0;s<i;s++){var l=e[s];Gt.Le(a,o,l[2],l[3],l[4],l[5],l[6],l[7],.5,n),a=l[6],o=l[7]}}t.push(n),r.push($t(n))}else for(e=e.figures.iterator;e.next();){i=e.value,(n=[]).push(i.startX),n.push(i.startY),s=a=i.startX,l=o=i.startY;for(var u=i.segments.s,c=u.length,h=0;h<c;h++){var d=u[h];switch(d.type){case rr:4<=n.length&&(t.push(n),r.push($t(n))),(n=[]).push(d.endX),n.push(d.endY),s=a=d.endX,l=o=d.endY;break;case nr:n.push(d.endX),n.push(d.endY),a=d.endX,o=d.endY;break;case ir:Gt.Le(a,o,d.point1X,d.point1Y,d.point2X,d.point2Y,d.endX,d.endY,.5,n),a=d.endX,o=d.endY;break;case or:Gt.Yo(a,o,d.point1X,d.point1Y,d.endX,d.endY,.5,n),a=d.endX,o=d.endY;break;case ar:var f=er(d,i),p=f.length;if(0===p){n.push(d.centerX),n.push(d.centerY),a=d.centerX,o=d.centerY;break}for(var m=0;m<p;m++){var y=f[m];Gt.Le(a,o,y[2],y[3],y[4],y[5],y[6],y[7],.5,n),a=y[6],o=y[7]}break;case sr:if(p=(f=tr(d,i,a,o)).length,m=d.endX,y=d.endY,0===p){n.push(m),n.push(y),a=m,o=y;break}for(m=0;m<p;m++)y=f[m],Gt.Le(a,o,y[2],y[3],y[4],y[5],y[6],y[7],.5,n),a=y[6],o=y[7];break;default:w("Segment not of valid type: "+d.type)}d.isClosed&&(n.push(s),n.push(l))}4<=n.length&&(t.push(n),r.push($t(n)))}}}function $t(e){for(var t=[],r=0,n=0,i=e.length,o=0;o<i;o+=2){var a=e[o],s=e[o+1];0!==o&&t.push(Math.sqrt(xe(r,n,a,s))),r=a,n=s}return t}function Jt(e,t,r,n,i){Q(this),void 0===r&&(r=!0),void 0===n&&(n=!0),void 0===i&&(i=!1),this.o=2|(r?4:0)|(n?8:0)|(i?16:0),this.fd=void 0!==e?e:0,this.gd=void 0!==t?t:0,this.ll=new Z,this.jr=this.ll.Ja,this.Zv=null}function Qt(e,t,r,n,i,o,a,s){Q(this),void 0===e&&(e=nr),this.na=e,this.o=2,this.Ac=void 0!==t?t:0,this.Bc=void 0!==r?r:0,void 0===n&&(n=0),void 0===i&&(i=0),void 0===o&&(o=0),void 0===a&&(a=0),e===sr?(0>(e=o%360)&&(e+=360),this.Je=e,this.Rh=0,this.Sh=Math.max(n,0),this.Kg=Math.max(i,0),"boolean"===typeof a?a&&(this.isLargeArc=!0):"number"===typeof a&&a&&(this.isLargeArc=!0),s&&(this.isClockwiseArc=!0)):(this.Je=n,this.Rh=i,e===ar&&(o=Math.max(o,0)),this.Sh=o,"number"===typeof a?(e===ar&&(a=Math.max(a,0)),this.Kg=a):this.Kg=0),this.Xd=null}function er(e,t){if(null!==e.Xd&&!1===t._isInvalidBounds)return e.Xd;var r=e.radiusX,n=e.radiusY;if(void 0===n&&(n=r),0===r||0===n)return e.Xd=[],e.Xd;t=e.Je;var i=e.Rh,o=Gt.bx(0,0,r<n?r:n,e.startAngle,e.startAngle+e.sweepAngle,!1);if(r!==n){var a=zt.alloc();a.reset(),r<n?a.scale(1,n/r):a.scale(r/n,1),Vt.Ha(o,a),zt.free(a)}for(r=o.length,n=0;n<r;n++)(a=o[n])[0]+=t,a[1]+=i,a[2]+=t,a[3]+=i,a[4]+=t,a[5]+=i,a[6]+=t,a[7]+=i;return e.Xd=o,e.Xd}function tr(e,t,r,n){function i(e,t,r,n){return(e*n<t*r?-1:1)*Math.acos((e*r+t*n)/(Math.sqrt(e*e+t*t)*Math.sqrt(r*r+n*n)))}if(null!==e.Xd&&!1===t._isInvalidBounds)return e.Xd;if(0===e.radiusX||0===e.radiusY)return e.Xd=[],e.Xd;t=e.Sh;var o=e.Kg;0===t&&(t=1e-4),0===o&&(o=1e-4);var a=Math.PI/180*e.Je,s=e.isLargeArc,l=e.isClockwiseArc,u=e.Ac,c=e.Bc,h=Math.cos(a),d=Math.sin(a),f=h*(r-u)/2+d*(n-c)/2,p=f*f/(t*t)+(a=-d*(r-u)/2+h*(n-c)/2)*a/(o*o);return 1<p&&(t*=Math.sqrt(p),o*=Math.sqrt(p)),p=(s===l?-1:1)*Math.sqrt((t*t*o*o-t*t*a*a-o*o*f*f)/(t*t*a*a+o*o*f*f)),isNaN(p)&&(p=0),s=p*t*a/o,p=p*-o*f/t,isNaN(s)&&(s=0),isNaN(p)&&(p=0),r=(r+u)/2+h*s-d*p,n=(n+c)/2+d*s+h*p,c=i(1,0,(f-s)/t,(a-p)/o),a=i(h=(f-s)/t,u=(a-p)/o,f=(-f-s)/t,s=(-a-p)/o),-1>=(f=(h*f+u*s)/(Math.sqrt(h*h+u*u)*Math.sqrt(f*f+s*s)))?a=Math.PI:1<=f&&(a=0),!l&&0<a&&(a-=2*Math.PI),l&&0>a&&(a+=2*Math.PI),l=t>o?1:t/o,f=t>o?o/t:1,t=Gt.bx(0,0,t>o?t:o,c,c+a,!0),(o=zt.alloc()).reset(),o.translate(r,n),o.rotate(e.Je,0,0),o.scale(l,f),Vt.Ha(t,o),zt.free(o),e.Xd=t,e.Xd}Gt.za=Gt.qA,Vt.prototype.copy=function(){var e=new Vt;if(e.o=-2&this.o,e.na=this.na,e.fd=this.fd,e.gd=this.gd,e.Ac=this.Ac,e.Bc=this.Bc,this.na===Vt.m){for(var t=this.ae.s,r=e.ae,n=0;n<t.length;n++)r.add(t[n].copy());e.ae=r}else e.ae=this.ae;return e.Up=this.Up,e.Cp.assign(this.Cp),e.nk=this.nk,e.vm=this.vm,e.wm=this.wm,e.bg=this.bg.J(),e.cg=this.cg.J(),e.Nk=this.Nk,e.Mk=this.Mk,e.Rf=this.Rf,e},Vt.prototype.ha=function(){return this.freeze(),Object.freeze(this),this},Vt.prototype.freeze=function(){if(this._isFrozen=!0,this.type!==Vt.m)return this;var e=this.figures;e.freeze();for(var t=(e=e.s).length,r=0;r<t;r++)e[r].freeze();return this},Vt.prototype.ka=function(){if(Object.isFrozen(this)&&w("cannot thaw constant: "+this),this._isFrozen=!1,this.type!==Vt.m)return this;var e=this.figures;e.ka();for(var t=(e=e.s).length,r=0;r<t;r++)e[r].ka();return this},Vt.prototype.ab=function(e){if(!(e instanceof Vt))return!1;if(this.type!==e.type)return this.type===Vt.j&&e.type===Vt.m?Ht(this,e):e.type===Vt.j&&this.type===Vt.m&&Ht(e,this);if(this.type===Vt.m){var t=this.figures.s;e=e.figures.s;var r=t.length;if(r!==e.length)return!1;for(var n=0;n<r;n++)if(!t[n].ab(e[n]))return!1;return!0}return Gt.B(this.startX,e.startX)&&Gt.B(this.startY,e.startY)&&Gt.B(this.endX,e.endX)&&Gt.B(this.endY,e.endY)},Vt.ga=function(e){return e.toString()},Vt.prototype.rb=function(e){e.classType===Vt&&(this.type=e)},Vt.prototype.toString=function(e){switch(void 0===e&&(e=-1),this.type){case Vt.j:return 0>e?"M"+this.startX.toString()+" "+this.startY.toString()+"L"+this.endX.toString()+" "+this.endY.toString():"M"+this.startX.toFixed(e)+" "+this.startY.toFixed(e)+"L"+this.endX.toFixed(e)+" "+this.endY.toFixed(e);case Vt.u:var t=new Ne(this.startX,this.startY,0,0);return t.Dv(this.endX,this.endY,0,0),0>e?"M"+t.x.toString()+" "+t.y.toString()+"H"+t.right.toString()+"V"+t.bottom.toString()+"H"+t.left.toString()+"z":"M"+t.x.toFixed(e)+" "+t.y.toFixed(e)+"H"+t.right.toFixed(e)+"V"+t.bottom.toFixed(e)+"H"+t.left.toFixed(e)+"z";case Vt.F:if((t=new Ne(this.startX,this.startY,0,0)).Dv(this.endX,this.endY,0,0),0>e)return"M"+(e=t.left.toString()+" "+(t.y+t.height/2).toString())+"A"+(t.width/2).toString()+" "+(t.height/2).toString()+" 0 0 1 "+t.right.toString()+" "+(t.y+t.height/2).toString()+"A"+(t.width/2).toString()+" "+(t.height/2).toString()+" 0 0 1 "+e;var r=t.left.toFixed(e)+" "+(t.y+t.height/2).toFixed(e);return"M"+r+"A"+(t.width/2).toFixed(e)+" "+(t.height/2).toFixed(e)+" 0 0 1 "+t.right.toFixed(e)+" "+(t.y+t.height/2).toFixed(e)+"A"+(t.width/2).toFixed(e)+" "+(t.height/2).toFixed(e)+" 0 0 1 "+r;case Vt.m:t="";for(var n=(r=this.figures.s).length,i=0;i<n;i++){var o=r[i];0<i&&(t+=" x "),o.isFilled&&(t+="F "),t+=o.toString(e)}return t;default:return this.type.toString()}},Vt.ob=function(e){for(var t=(e=e.split(/[Xx]/)).length,r="",n=0;n<t;n++){var i=e[n];r=null!==i.match(/[Ff]/)?0===n?r+i:r+"X"+(" "===i[0]?"":" ")+i:r+(0===n?"":"X ")+"F"+(" "===i[0]?"":" ")+i}return r},Vt.parse=function(e,t){function r(){return m>=x-1||null!==u[m+1].match(w)}function n(){return m++,u[m]}function i(e){var t=parseFloat(n()),r=parseFloat(n());y===y.toLowerCase()&&(t=b.x+t,r=b.y+r),e.h(t,r)}function o(){return i(b),b}function a(){return i(v),v}function s(){var e=g.toLowerCase();return"c"!==e&&"s"!==e&&"q"!==e&&"t"!==e?b:new pe(2*b.x-v.x,2*b.y-v.y)}void 0===t&&(t=!1);var l=/([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])/gm,u=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/,/gm," ")).replace(l,"$1 $2")).replace(l,"$1 $2")).replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])([^s])/gm,"$1 $2")).replace(/([^s])([UuBbMmZzLlHhVvCcSsQqTtAaFfXx])/gm,"$1 $2")).replace(/([0-9])([+\-])/gm,"$1 $2")).replace(/[\s\r\t\n]+/gm," ")).replace(/^\s+|\s+$/g,"")).split(" ");for(e=0;e<u.length;e++){var c=u[e];if(null!==c.match(/(\.[0-9]*)(\.)/gm)){l=E();for(var h="",d=!1,f=0;f<c.length;f++){var p=c[f];"."!==p||d?"."===p?(l.push(h),h="."):h+=p:(d=!0,h+=p)}for(l.push(h),u.splice(e,1),c=0;c<l.length;c++)u.splice(e+c,0,l[c]);e+=l.length-1,O(l)}}var m=-1,y="",g="";l=new pe(0,0);var v=new pe(0,0),b=new pe(0,0),x=u.length;e=pc(null),d=h=c=!1,f=!0,p=null;for(var w=/[UuBbMmZzLlHhVvCcSsQqTtAaFfXx]/;!(m>=x-1);)if(g=y,""!==(y=n()))switch(y.toUpperCase()){case"X":f=!0,h=c=!1;break;case"M":for(p=o(),null===e.ic||!0===f?(uc(e,p.x,p.y,c,!h,d),f=!1):e.moveTo(p.x,p.y),l.assign(b);!r();)p=o(),e.lineTo(p.x,p.y);break;case"L":for(;!r();)p=o(),e.lineTo(p.x,p.y);break;case"H":for(;!r();)b=new pe((y===y.toLowerCase()?b.x:0)+parseFloat(n()),b.y),e.lineTo(b.x,b.y);break;case"V":for(;!r();)b=new pe(b.x,(y===y.toLowerCase()?b.y:0)+parseFloat(n())),e.lineTo(b.x,b.y);break;case"C":for(;!r();){i(p=new pe);var S=a(),k=o();hc(e,p.x,p.y,S.x,S.y,k.x,k.y)}break;case"S":for(;!r();)p=s(),S=a(),k=o(),hc(e,p.x,p.y,S.x,S.y,k.x,k.y);break;case"Q":for(;!r();)p=a(),S=o(),dc(e,p.x,p.y,S.x,S.y);break;case"T":for(;!r();)v=p=s(),S=o(),dc(e,p.x,p.y,S.x,S.y);break;case"B":for(;!r();){p=parseFloat(n()),S=parseFloat(n()),k=parseFloat(n());var _=parseFloat(n()),j=parseFloat(n()),M=j,C=!1;r()||(M=parseFloat(n()),r()||(C=0!==parseFloat(n()))),y===y.toLowerCase()&&(k+=b.x,_+=b.y),e.arcTo(p,S,k,_,j,M,C)}break;case"A":for(;!r();)p=Math.abs(parseFloat(n())),S=Math.abs(parseFloat(n())),k=parseFloat(n()),j=_=!1,C=M=0,1===(M=n()).length?(_=!!parseFloat(M),j=!!parseFloat(n()),M=parseFloat(n())):2===M.length?(_=!!parseFloat(M[0]),j=!!parseFloat(M[1]),M=parseFloat(n())):(_=!!parseFloat(M[0]),j=!!parseFloat(M[1]),M=parseFloat(M.slice(2))),C=parseFloat(n()),y===y.toLowerCase()&&(M=b.x+M,C=b.y+C),b.h(M,C),fc(e,p,S,k,_,j,M,C);break;case"Z":cc(e),b.assign(l);break;case"F":for(p="",S=1;u[m+S];)if("0"===u[m+S])d=!0,S++;else if(null!==u[m+S].match(/[Uu]/))S++;else{if(null!==u[m+S].match(w)){p=u[m+S];break}S++}p.match(/[Mm]/)?c=!0:0<e.ic.segments.length&&(e.ic.isFilled=!0);break;case"U":for(p="",S=1;u[m+S];)if(null!==u[m+S].match(/[Ff]/))S++;else{if(null!==u[m+S].match(w)){p=u[m+S];break}S++}p.match(/[Mm]/)?h=!0:e.ic.isShadowed=!1}if(l=e.gs,mc=e,t)for(t=l.figures.iterator;t.next();)t.value.isFilled=!0;return l},Vt.Ha=function(e,t){for(var r=e.length,n=pe.alloc(),i=0;i<r;i++){var o=e[i];n.x=o[0],n.y=o[1],t.Ga(n),o[0]=n.x,o[1]=n.y,n.x=o[2],n.y=o[3],t.Ga(n),o[2]=n.x,o[3]=n.y,n.x=o[4],n.y=o[5],t.Ga(n),o[4]=n.x,o[5]=n.y,n.x=o[6],n.y=o[7],t.Ga(n),o[6]=n.x,o[7]=n.y}pe.free(n)},Vt.prototype.Vu=function(){if(this._isInvalidBounds)return!0;if(this.type===Vt.m){if(this.Up!==this.figures.Ja)return!0;for(var e=this.figures.s,t=e.length,r=0;r<t;r++)if(e[r].Vu())return!0}return!1},Vt.prototype.computeBounds=function(){if(this._isInvalidBounds=!1,this.vm=this.nk=null,this.wm=NaN,this.type===Vt.m){this.Up=this.figures.Ja;for(var e=this.figures.s,t=e.length,r=0;r<t;r++){var n=e[r];n._isInvalidBounds=!1;var i=n.segments;n.jr=i.Ja,i=(n=i.s).length;for(var o=0;o<i;o++){var a=n[o];a._isInvalidBounds=!1,a.Xd=null}}}(e=this.Cp).ka(),isNaN(this.Nk)||isNaN(this.Mk)?e.h(0,0,0,0):e.h(0,0,this.Nk,this.Mk),Wt(this,e,!1),qe(e,0,0,0,0),e.freeze()},Vt.prototype.ax=function(){var e=new Ne;return Wt(this,e,!0),e},Vt.prototype.normalize=function(){this._isFrozen&&S(this);var e=this.ax();return this.offset(-e.x,-e.y),new pe(-e.x,-e.y)},Vt.prototype.offset=function(e,t){return this._isFrozen&&S(this),this.transform(1,0,0,1,e,t),this},Vt.prototype.scale=function(e,t){return this._isFrozen&&S(this),this.transform(e,0,0,t,0,0),this},Vt.prototype.rotate=function(e,t,r){this._isFrozen&&S(this),void 0===t&&(t=0),void 0===r&&(r=0);var n=zt.alloc();return n.reset(),n.rotate(e,t,r),this.transform(n.m11,n.m12,n.m21,n.m22,n.dx,n.dy),zt.free(n),this},(t=Vt.prototype).transform=function(e,t,r,n,i,o){switch(this.type){case Vt.j:case Vt.u:case Vt.F:var a=this.fd,s=this.gd;this.fd=a*e+s*r+i,this.gd=a*t+s*n+o,a=this.Ac,s=this.Bc,this.Ac=a*e+s*r+i,this.Bc=a*t+s*n+o;break;case Vt.m:for(var l=this.figures.s,u=l.length,c=0;c<u;c++){var h=l[c];a=h.startX,s=h.startY,h.startX=a*e+s*r+i,h.startY=a*t+s*n+o;for(var d=(h=h.segments.s).length,f=0;f<d;f++){var p=h[f];switch(p.type){case nr:case rr:a=p.endX,s=p.endY,p.endX=a*e+s*r+i,p.endY=a*t+s*n+o;break;case ir:a=p.point1X,s=p.point1Y,p.point1X=a*e+s*r+i,p.point1Y=a*t+s*n+o,a=p.point2X,s=p.point2Y,p.point2X=a*e+s*r+i,p.point2Y=a*t+s*n+o,a=p.endX,s=p.endY,p.endX=a*e+s*r+i,p.endY=a*t+s*n+o;break;case or:a=p.point1X,s=p.point1Y,p.point1X=a*e+s*r+i,p.point1Y=a*t+s*n+o,a=p.endX,s=p.endY,p.endX=a*e+s*r+i,p.endY=a*t+s*n+o;break;case ar:a=p.centerX,s=p.centerY,p.centerX=a*e+s*r+i,p.centerY=a*t+s*n+o,0!==t&&(0>(a=180*Math.atan2(t,e)/Math.PI)&&(a+=360),p.startAngle+=a),0>e&&(p.startAngle=180-p.startAngle,p.sweepAngle=-p.sweepAngle),0>n&&(p.startAngle=-p.startAngle,p.sweepAngle=-p.sweepAngle),p.radiusX*=Math.sqrt(e*e+r*r),void 0!==p.radiusY&&(p.radiusY*=Math.sqrt(t*t+n*n));break;case sr:if(a=p.endX,s=p.endY,p.endX=a*e+s*r+i,p.endY=a*t+s*n+o,0===p.radiusX||0===p.radiusY)break;0!==t&&(0>(a=180*Math.atan2(t,e)/Math.PI)&&(a+=360),p.xAxisRotation+=a),0>e&&(p.xAxisRotation=180-p.xAxisRotation,p.isClockwiseArc=!p.isClockwiseArc),0>n&&(p.xAxisRotation=-p.xAxisRotation,p.isClockwiseArc=!p.isClockwiseArc),p.radiusX*=Math.sqrt(e*e+r*r),p.radiusY*=Math.sqrt(t*t+n*n);break;default:w("Unknown Segment type: "+p.type)}}}}return this._isInvalidBounds=!0,this},t.ca=function(e,t){void 0===t&&(t=0);var r=this.fd,n=this.gd,i=this.Ac,o=this.Bc;switch(this.type){case Vt.j:return Gt.Ub(r,n,i,o,t,e.x,e.y);case Vt.u:var a=Ne.allocAt(Math.min(r,i)-t,Math.min(n,o)-t,Math.abs(i-r)+2*t,Math.abs(o-n)+2*t);return e=a.ca(e),Ne.free(a),e;case Vt.F:a=Math.min(r,i)-t;var s=Math.min(n,o)-t;return r=(Math.abs(i-r)+2*t)/2,t=(Math.abs(o-n)+2*t)/2,0>=r||0>=t?!1:1>=(a=e.x-(a+r))*a/(r*r)+(s=e.y-(s+t))*s/(t*t);case Vt.m:return Xt(this,e,t,!0,!1);default:return!1}},t.Lu=function(e,t){if(0>e?e=0:1<e&&(e=1),void 0===t&&(t=new pe),this.type===Vt.j)return t.h(this.startX+e*(this.endX-this.startX),this.startY+e*(this.endY-this.startY)),t;for(var r=this.flattenedSegments,n=this.flattenedLengths,i=r.length,o=this.flattenedTotalLength*e,a=0,s=0;s<i;s++){var l=n[s],u=l.length;for(e=0;e<u;e++){var c=l[e];if(a+c>=o)return n=o-a,n=0===c?0:n/c,s=(r=r[s])[2*e],i=r[2*e+1],t.h(s+(r[2*e+2]-s)*n,i+(r[2*e+3]-i)*n),t;a+=c}}return t},t.px=function(e){if(0>e?e=0:1<e&&(e=1),this.type===Vt.j)return 180*Math.atan2(this.endY-this.startY,this.endX-this.startX)/Math.PI;for(var t=this.flattenedSegments,r=this.flattenedLengths,n=t.length,i=this.flattenedTotalLength*e,o=0,a=0;a<n;a++){var s=r[a],l=s.length;for(e=0;e<l;e++){var u=s[e];if(o+u>=i)return t=(i=t[a])[2*e],r=i[2*e+1],n=i[2*e+2],e=i[2*e+3],1>Math.abs(n-t)&&1>Math.abs(e-r)?0:1>Math.abs(n-t)?0<=e-r?90:270:1>Math.abs(e-r)?0<=n-t?0:180:180*Math.atan2(e-r,n-t)/Math.PI;o+=u}}return NaN},t.Mu=function(e,t){if(0>e?e=0:1<e&&(e=1),void 0===t&&(t=[]),t.length=3,this.type===Vt.j)return t[0]=this.startX+e*(this.endX-this.startX),t[1]=this.startY+e*(this.endY-this.startY),t[2]=180*Math.atan2(this.endY-this.startY,this.endX-this.startX)/Math.PI,t;for(var r=this.flattenedSegments,n=this.flattenedLengths,i=r.length,o=this.flattenedTotalLength*e,a=0,s=0;s<i;s++){var l=n[s],u=l.length;for(e=0;e<u;e++){var c=l[e];if(a+c>=o)return n=o-a,n=0===c?0:n/c,r=(c=r[s])[2*e],s=c[2*e+1],i=c[2*e+2],e=c[2*e+3],t[0]=r+(i-r)*n,t[1]=s+(e-s)*n,t[2]=1>Math.abs(i-r)&&1>Math.abs(e-s)?0:1>Math.abs(i-r)?0<=e-s?90:270:1>Math.abs(e-s)?0<=i-r?0:180:180*Math.atan2(e-s,i-r)/Math.PI,t;a+=c}}return t},t.qx=function(e){if(this.type===Vt.j){var t=this.startX,r=this.startY,n=this.endX,i=this.endY;if(t!==n||r!==i){var o=e.x;if(e=e.y,t===n){if(r<i){var a=r;n=i}else a=i,n=r;return e<=a?a===r?0:1:e>=n?n===r?0:1:Math.abs(e-r)/(n-a)}if(r===i)return t<n?a=t:(a=n,n=t),o<=a?a===t?0:1:o>=n?n===t?0:1:Math.abs(o-t)/(n-a);a=(n-t)*(n-t)+(i-r)*(i-r);var s=pe.alloc();return Gt.lh(t,r,n,i,o,e,s),e=s.x,o=s.y,pe.free(s),Math.sqrt(((e-t)*(e-t)+(o-r)*(o-r))/a)}}else{if(this.type!==Vt.u){t=this.flattenedSegments,r=this.flattenedLengths,o=this.flattenedTotalLength,n=pe.alloc(),i=1/0,s=a=0,g=t.length;for(var l=v=0,u=0;u<g;u++)for(var c=t[u],h=r[u],d=c.length,f=0;f<d;f+=2){var p=c[f],m=c[f+1];if(0!==f){Gt.lh(v,l,p,m,e.x,e.y,n);var y=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y);y<i&&(i=y,a=s,a+=Math.sqrt((n.x-v)*(n.x-v)+(n.y-l)*(n.y-l))),s+=h[(f-2)/2]}v=p,l=m}return pe.free(n),0>(e=a/o)?0:1<e?1:e}a=this.startX,s=this.startY;var g=this.endX;if(i=this.endY,a!==g||s!==i){o=2*(t=g-a)+2*(r=i-s),n=e.x,e=e.y,n=Math.min(Math.max(n,a),g),e=Math.min(Math.max(e,s),i),a=Math.abs(n-a),g=Math.abs(n-g),s=Math.abs(e-s),i=Math.abs(e-i);var v=Math.min(a,g,s,i);if(v===s)return n/o;if(v===g)return(t+e)/o;if(v===i)return(2*t+r-n)/o;if(v===a)return(2*t+2*r-e)/o}}return 0},t.add=function(e){return this.ae.add(e),this},t.mm=function(e,t,r,n,i,o,a,s){return this._isFrozen&&S(this),this.bg=new Dt(e,t,i,o).freeze(),this.cg=new Dt(r,n,a,s).freeze(),this},d.Object.defineProperties(Vt.prototype,{_isFrozen:{get:function(){return 0!==(1&this.o)},set:function(e){this.o=e?1|this.o:-2&this.o}},_isInvalidBounds:{get:function(){return 0!==(2&this.o)},set:function(e){this.o=e?2|this.o:-3&this.o}},flattenedSegments:{get:function(){return Zt(this),this.nk}},flattenedLengths:{get:function(){return Zt(this),this.vm}},flattenedTotalLength:{get:function(){var e=this.wm;if(isNaN(e)){if(this.type===Vt.j){e=Math.abs(this.endX-this.startX);var t=Math.abs(this.endY-this.startY);e=Math.sqrt(e*e+t*t)}else if(this.type===Vt.u)e=2*Math.abs(this.endX-this.startX)+2*Math.abs(this.endY-this.startY);else for(var r=(t=this.flattenedLengths).length,n=e=0;n<r;n++)for(var i=t[n],o=i.length,a=0;a<o;a++)e+=i[a];this.wm=e}return e}},type:{get:function(){return this.na},set:function(e){this.na!==e&&(this._isFrozen&&S(this,e),this.na=e,e===Vt.m?this.ae=new Z:(null===Vt.V&&(Vt.V=(new Z).freeze()),this.ae=Vt.V),this._isInvalidBounds=!0)}},startX:{get:function(){return this.fd},set:function(e){this.fd!==e&&(this._isFrozen&&S(this,e),this.fd=e,this._isInvalidBounds=!0)}},startY:{get:function(){return this.gd},set:function(e){this.gd!==e&&(this._isFrozen&&S(this,e),this.gd=e,this._isInvalidBounds=!0)}},endX:{get:function(){return this.Ac},set:function(e){this.Ac!==e&&(this._isFrozen&&S(this,e),this.Ac=e,this._isInvalidBounds=!0)}},endY:{get:function(){return this.Bc},set:function(e){this.Bc!==e&&(this._isFrozen&&S(this,e),this.Bc=e,this._isInvalidBounds=!0)}},figures:{get:function(){return this.ae},set:function(e){this.ae!==e&&(this._isFrozen&&S(this,e),this.ae=e,this._isInvalidBounds=!0)}},spot1:{get:function(){return this.bg},set:function(e){this._isFrozen&&S(this,e),this.bg=e.J()}},spot2:{get:function(){return this.cg},set:function(e){this._isFrozen&&S(this,e),this.cg=e.J()}},defaultStretch:{get:function(){return this.Rf},set:function(e){this._isFrozen&&S(this,e),this.Rf=e}},bounds:{get:function(){return this.Vu()&&this.computeBounds(),this.Cp}}}),Vt.prototype.setSpots=Vt.prototype.mm,Vt.prototype.add=Vt.prototype.add,Vt.prototype.getFractionForPoint=Vt.prototype.qx,Vt.prototype.getPointAndAngleAlongPath=Vt.prototype.Mu,Vt.prototype.getAngleAlongPath=Vt.prototype.px,Vt.prototype.getPointAlongPath=Vt.prototype.Lu,Vt.prototype.containsPoint=Vt.prototype.ca,Vt.prototype.transform=Vt.prototype.transform,Vt.prototype.rotate=Vt.prototype.rotate,Vt.prototype.scale=Vt.prototype.scale,Vt.prototype.offset=Vt.prototype.offset,Vt.prototype.normalize=Vt.prototype.normalize,Vt.prototype.computeBoundsWithoutOrigin=Vt.prototype.ax,Vt.prototype.equalsApprox=Vt.prototype.ab,Vt.className="Geometry",Vt.j=new U(Vt,"Line",0),Vt.u=new U(Vt,"Rectangle",1),Vt.F=new U(Vt,"Ellipse",2),Vt.m=new U(Vt,"Path",3),Vt.V=null,Vt.hb="UuBbMmZzLlHhVvCcSsQqTtAaFfXx",Vt.className="Geometry",Vt.stringify=Vt.ga,Vt.fillPath=Vt.ob,Vt.parse=Vt.parse,Vt.Line=Vt.j,Vt.Rectangle=Vt.u,Vt.Ellipse=Vt.F,Vt.Path=Vt.m,Jt.prototype.copy=function(){var e=new Jt;e.o=-2&this.o,e.fd=this.fd,e.gd=this.gd;for(var t=this.ll.s,r=t.length,n=e.ll,i=0;i<r;i++){var o=t[i].copy();n.add(o)}return e.jr=this.jr,e.Zv=this.Zv,e},(t=Jt.prototype).ab=function(e){if(!(e instanceof Jt&&Gt.B(this.startX,e.startX)&&Gt.B(this.startY,e.startY)))return!1;var t=this.segments.s;e=e.segments.s;var r=t.length;if(r!==e.length)return!1;for(var n=0;n<r;n++)if(!t[n].ab(e[n]))return!1;return!0},t.toString=function(e){void 0===e&&(e=-1);for(var t=0>e?"M"+this.startX.toString()+" "+this.startY.toString():"M"+this.startX.toFixed(e)+" "+this.startY.toFixed(e),r=this.segments.s,n=r.length,i=0;i<n;i++)t+=" "+r[i].toString(e);return t},t.freeze=function(){this._isFrozen=!0;var e=this.segments;e.freeze();var t=e.s;e=e.length;for(var r=0;r<e;r++)t[r].freeze();return this},t.ka=function(){this._isFrozen=!1;var e=this.segments;e.ka();for(var t=(e=e.s).length,r=0;r<t;r++)e[r].ka();return this},t.Vu=function(){if(this._isInvalidBounds)return!0;var e=this.segments;if(this.jr!==e.Ja)return!0;for(var t=(e=e.s).length,r=0;r<t;r++)if(e[r]._isInvalidBounds)return!0;return!1},t.add=function(e){return this.ll.add(e),this},t.ca=function(e,t,r){for(var n=this.startX,i=this.startY,o=n,a=i,s=this.segments.s,l=s.length,u=0;u<l;u++){var c=s[u];switch(c.type){case rr:o=c.endX,a=c.endY,n=c.endX,i=c.endY;break;case nr:if(Gt.Ub(n,i,c.endX,c.endY,r,e,t))return!0;n=c.endX,i=c.endY;break;case ir:if(Gt.Ur(n,i,c.point1X,c.point1Y,c.point2X,c.point2Y,c.endX,c.endY,.5,e,t,r))return!0;n=c.endX,i=c.endY;break;case or:if(Gt.fv(n,i,c.point1X,c.point1Y,c.endX,c.endY,.5,e,t,r))return!0;n=c.endX,i=c.endY;break;case ar:case sr:var h=c.type===ar?er(c,this):tr(c,this,n,i),d=h.length,f=c.type===ar?c.centerX:c.endX,p=c.type===ar?c.centerY:c.endY;if(0===d){if(Gt.Ub(n,i,f,p,r,e,t))return!0;n=f,i=p;break}for(f=null,p=0;p<d;p++)if(f=h[p],0===p&&Gt.Ub(n,i,f[0],f[1],r,e,t)||Gt.Ur(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],.5,e,t,r))return!0;null!==f&&(n=f[6],i=f[7]);break;default:w("Unknown Segment type: "+c.type)}if(c.isClosed&&(n!==o||i!==a)&&Gt.Ub(n,i,o,a,r,e,t))return!0}return!1},d.Object.defineProperties(Jt.prototype,{_isFrozen:{get:function(){return 0!==(1&this.o)},set:function(e){this.o=e?1|this.o:-2&this.o}},_isInvalidBounds:{get:function(){return 0!==(2&this.o)},set:function(e){this.o=e?2|this.o:-3&this.o}},isFilled:{get:function(){return 0!==(4&this.o)},set:function(e){this._isFrozen&&S(this,e),this.o=e?4|this.o:-5&this.o}},isShadowed:{get:function(){return 0!==(8&this.o)},set:function(e){this._isFrozen&&S(this,e),this.o=e?8|this.o:-9&this.o}},isEvenOdd:{get:function(){return 0!==(16&this.o)},set:function(e){this._isFrozen&&S(this,e),this.o=e?16|this.o:-17&this.o}},startX:{get:function(){return this.fd},set:function(e){this._isFrozen&&S(this,e),this.fd=e,this._isInvalidBounds=!0}},startY:{get:function(){return this.gd},set:function(e){this._isFrozen&&S(this,e),this.gd=e,this._isInvalidBounds=!0}},segments:{get:function(){return this.ll},set:function(e){this._isFrozen&&S(this,e),this.ll=e,this._isInvalidBounds=!0}}}),Jt.prototype.add=Jt.prototype.add,Jt.prototype.equalsApprox=Jt.prototype.ab,Jt.className="PathFigure",Qt.prototype.copy=function(){var e=new Qt;return e.na=this.na,e.o=-2&this.o,e.Ac=this.Ac,e.Bc=this.Bc,e.Je=this.Je,e.Rh=this.Rh,e.Sh=this.Sh,e.Kg=this.Kg,e},(t=Qt.prototype).ab=function(e){if(!(e instanceof Qt)||this.type!==e.type||this.isClosed!==e.isClosed)return!1;switch(this.type){case rr:case nr:return Gt.B(this.endX,e.endX)&&Gt.B(this.endY,e.endY);case ir:return Gt.B(this.endX,e.endX)&&Gt.B(this.endY,e.endY)&&Gt.B(this.point1X,e.point1X)&&Gt.B(this.point1Y,e.point1Y)&&Gt.B(this.point2X,e.point2X)&&Gt.B(this.point2Y,e.point2Y);case or:return Gt.B(this.endX,e.endX)&&Gt.B(this.endY,e.endY)&&Gt.B(this.point1X,e.point1X)&&Gt.B(this.point1Y,e.point1Y);case ar:return Gt.B(this.startAngle,e.startAngle)&&Gt.B(this.sweepAngle,e.sweepAngle)&&Gt.B(this.centerX,e.centerX)&&Gt.B(this.centerY,e.centerY)&&Gt.B(this.radiusX,e.radiusX)&&Gt.B(this.radiusY,e.radiusY);case sr:return this.isClockwiseArc===e.isClockwiseArc&&this.isLargeArc===e.isLargeArc&&Gt.B(this.xAxisRotation,e.xAxisRotation)&&Gt.B(this.endX,e.endX)&&Gt.B(this.endY,e.endY)&&Gt.B(this.radiusX,e.radiusX)&&Gt.B(this.radiusY,e.radiusY);default:return!1}},t.rb=function(e){e.classType===Qt&&(this.type=e)},t.toString=function(e){switch(void 0===e&&(e=-1),this.type){case rr:e=0>e?"M"+this.endX.toString()+" "+this.endY.toString():"M"+this.endX.toFixed(e)+" "+this.endY.toFixed(e);break;case nr:e=0>e?"L"+this.endX.toString()+" "+this.endY.toString():"L"+this.endX.toFixed(e)+" "+this.endY.toFixed(e);break;case ir:e=0>e?"C"+this.point1X.toString()+" "+this.point1Y.toString()+" "+this.point2X.toString()+" "+this.point2Y.toString()+" "+this.endX.toString()+" "+this.endY.toString():"C"+this.point1X.toFixed(e)+" "+this.point1Y.toFixed(e)+" "+this.point2X.toFixed(e)+" "+this.point2Y.toFixed(e)+" "+this.endX.toFixed(e)+" "+this.endY.toFixed(e);break;case or:e=0>e?"Q"+this.point1X.toString()+" "+this.point1Y.toString()+" "+this.endX.toString()+" "+this.endY.toString():"Q"+this.point1X.toFixed(e)+" "+this.point1Y.toFixed(e)+" "+this.endX.toFixed(e)+" "+this.endY.toFixed(e);break;case ar:e=0>e?"B"+this.startAngle.toString()+" "+this.sweepAngle.toString()+" "+this.centerX.toString()+" "+this.centerY.toString()+" "+this.radiusX.toString()+" "+this.radiusY.toString():"B"+this.startAngle.toFixed(e)+" "+this.sweepAngle.toFixed(e)+" "+this.centerX.toFixed(e)+" "+this.centerY.toFixed(e)+" "+this.radiusX.toFixed(e)+" "+this.radiusY.toFixed(e);break;case sr:e=0>e?"A"+this.radiusX.toString()+" "+this.radiusY.toString()+" "+this.xAxisRotation.toString()+" "+(this.isLargeArc?1:0)+" "+(this.isClockwiseArc?1:0)+" "+this.endX.toString()+" "+this.endY.toString():"A"+this.radiusX.toFixed(e)+" "+this.radiusY.toFixed(e)+" "+this.xAxisRotation.toFixed(e)+" "+(this.isLargeArc?1:0)+" "+(this.isClockwiseArc?1:0)+" "+this.endX.toFixed(e)+" "+this.endY.toFixed(e);break;default:e=this.type.toString()}return e+(this.isClosed?"z":"")},t.freeze=function(){return this._isFrozen=!0,this},t.ka=function(){return this._isFrozen=!1,this},t.close=function(){return this.isClosed=!0,this},d.Object.defineProperties(Qt.prototype,{_isFrozen:{get:function(){return 0!==(1&this.o)},set:function(e){this.o=e?1|this.o:-2&this.o}},_isInvalidBounds:{get:function(){return 0!==(2&this.o)},set:function(e){this.o=e?2|this.o:-3&this.o}},isClosed:{get:function(){return 0!==(8&this.o)},set:function(e){this.isClosed!==e&&(this.o=e?8|this.o:-9&this.o,this._isInvalidBounds=!0)}},type:{get:function(){return this.na},set:function(e){this._isFrozen&&S(this,e),this.na=e,this._isInvalidBounds=!0}},endX:{get:function(){return this.Ac},set:function(e){this._isFrozen&&S(this,e),this.Ac=e,this._isInvalidBounds=!0}},endY:{get:function(){return this.Bc},set:function(e){this._isFrozen&&S(this,e),this.Bc=e,this._isInvalidBounds=!0}},point1X:{get:function(){return this.Je},set:function(e){this._isFrozen&&S(this,e),this.Je=e,this._isInvalidBounds=!0}},point1Y:{get:function(){return this.Rh},set:function(e){this._isFrozen&&S(this,e),this.Rh=e,this._isInvalidBounds=!0}},point2X:{get:function(){return this.Sh},set:function(e){this._isFrozen&&S(this,e),this.Sh=e,this._isInvalidBounds=!0}},point2Y:{get:function(){return this.Kg},set:function(e){this._isFrozen&&S(this,e),this.Kg=e,this._isInvalidBounds=!0}},centerX:{get:function(){return this.Je},set:function(e){this._isFrozen&&S(this,e),this.Je=e,this._isInvalidBounds=!0}},centerY:{get:function(){return this.Rh},set:function(e){this._isFrozen&&S(this,e),this.Rh=e,this._isInvalidBounds=!0}},radiusX:{get:function(){return this.Sh},set:function(e){0>e&&k(e,">= zero",Qt,"radiusX"),this._isFrozen&&S(this,e),this.Sh=e,this._isInvalidBounds=!0}},radiusY:{get:function(){return this.Kg},set:function(e){0>e&&k(e,">= zero",Qt,"radiusY"),this._isFrozen&&S(this,e),this.Kg=e,this._isInvalidBounds=!0}},startAngle:{get:function(){return this.Ac},set:function(e){this._isFrozen&&S(this,e),0>(e%=360)&&(e+=360),this.Ac=e,this._isInvalidBounds=!0}},sweepAngle:{get:function(){return this.Bc},set:function(e){this._isFrozen&&S(this,e),360<e&&(e=360),-360>e&&(e=-360),this.Bc=e,this._isInvalidBounds=!0}},isClockwiseArc:{get:function(){return 0!==(4&this.o)},set:function(e){this._isFrozen&&S(this,e),this.o=e?4|this.o:-5&this.o,this._isInvalidBounds=!0}},isLargeArc:{get:function(){return 0!==(16&this.o)},set:function(e){this._isFrozen&&S(this,e),this.o=e?16|this.o:-17&this.o,this._isInvalidBounds=!0}},xAxisRotation:{get:function(){return this.Je},set:function(e){this._isFrozen&&S(this,e),0>(e%=360)&&(e+=360),this.Je=e,this._isInvalidBounds=!0}}}),Qt.prototype.equalsApprox=Qt.prototype.ab;var rr=new U(Qt,"Move",0),nr=new U(Qt,"Line",1),ir=new U(Qt,"Bezier",2),or=new U(Qt,"QuadraticBezier",3),ar=new U(Qt,"Arc",4),sr=new U(Qt,"SvgArc",4);function lr(){this.H=null,this.su=new pe(0,0).freeze(),this.et=new pe(0,0).freeze(),this.vp=this.Kq=0,this.wp=1,this.qq="",this.Or=this.Np=!1,this.Lp=this.yp=0,this.tg=this.gq=this.mq=!1,this.Sp=null,this.Jr=0,this.rd=this.Fr=null}function ur(){this.H=null,this.wa="",this.Uq=this.Dr=null}function cr(){this.Cm=dr,this.mf=this.Jq="",this.Hn=this.In=this.Nn=this.On=this.Mn=this.H=this.$b=null}Qt.className="PathSegment",Qt.Move=rr,Qt.Line=nr,Qt.Bezier=ir,Qt.QuadraticBezier=or,Qt.Arc=ar,Qt.SvgArc=sr,lr.prototype.copy=function(){var e=new lr;return this.clone(e)},lr.prototype.clone=function(e){return e.H=this.H,e.su.assign(this.viewPoint),e.et.assign(this.documentPoint),e.Kq=this.Kq,e.vp=this.vp,e.wp=this.wp,e.qq=this.qq,e.Np=this.Np,e.Or=this.Or,e.yp=this.yp,e.Lp=this.Lp,e.mq=this.mq,e.gq=this.gq,e.tg=this.tg,e.Sp=this.Sp,e.Jr=this.Jr,e.Fr=this.Fr,e.rd=this.rd,e},lr.prototype.toString=function(){var e="^";return 0!==this.modifiers&&(e+="M:"+this.modifiers),0!==this.button&&(e+="B:"+this.button),""!==this.key&&(e+="K:"+this.key),0!==this.clickCount&&(e+="C:"+this.clickCount),0!==this.delta&&(e+="D:"+this.delta),this.handled&&(e+="h"),this.bubbles&&(e+="b"),null!==this.documentPoint&&(e+="@"+this.documentPoint.toString()),e},lr.prototype.Mo=function(e,t){var r=this.diagram;return null===r||Yi(r,e,t),t},lr.prototype.sz=function(e,t){var r=this.diagram;return null===r||(Yi(r,e,t),t.assign(r.Is(t))),t},d.Object.defineProperties(lr.prototype,{diagram:{get:function(){return this.H},set:function(e){this.H=e}},viewPoint:{get:function(){return this.su},set:function(e){this.su.assign(e)}},documentPoint:{get:function(){return this.et},set:function(e){this.et.assign(e)}},modifiers:{get:function(){return this.Kq},set:function(e){this.Kq=e}},button:{get:function(){return this.vp},set:function(e){if(this.vp=e,null===this.event)switch(e){case 0:this.buttons=1;break;case 1:this.buttons=4;break;case 2:this.buttons=2}}},buttons:{get:function(){return this.wp},set:function(e){this.wp=e}},key:{get:function(){return this.qq},set:function(e){this.qq=e}},down:{get:function(){return this.Np},set:function(e){this.Np=e}},up:{get:function(){return this.Or},set:function(e){this.Or=e}},clickCount:{get:function(){return this.yp},set:function(e){this.yp=e}},delta:{get:function(){return this.Lp},set:function(e){this.Lp=e}},isMultiTouch:{get:function(){return this.mq},set:function(e){this.mq=e}},handled:{get:function(){return this.gq},set:function(e){this.gq=e}},bubbles:{get:function(){return this.tg},set:function(e){this.tg=e}},event:{get:function(){return this.Sp},set:function(e){this.Sp=e}},isTouchEvent:{get:function(){var e=this.event;return null!==e&&("touch"===e.pointerType||"pen"===e.pointerType)}},timestamp:{get:function(){return this.Jr},set:function(e){this.Jr=e}},targetDiagram:{get:function(){return this.Fr},set:function(e){this.Fr=e}},targetObject:{get:function(){return this.rd},set:function(e){this.rd=e}},control:{get:function(){return 0!==(1&this.modifiers)},set:function(e){this.modifiers=e?1|this.modifiers:-2&this.modifiers}},shift:{get:function(){return 0!==(4&this.modifiers)},set:function(e){this.modifiers=e?4|this.modifiers:-5&this.modifiers}},alt:{get:function(){return 0!==(2&this.modifiers)},set:function(e){this.modifiers=e?2|this.modifiers:-3&this.modifiers}},meta:{get:function(){return 0!==(8&this.modifiers)},set:function(e){this.modifiers=e?8|this.modifiers:-9&this.modifiers}},left:{get:function(){var e=this.event;return null===e||"mousedown"!==e.type&&"mouseup"!==e.type&&"pointerdown"!==e.type&&"pointerup"!==e.type?0!==(1&this.buttons):0===this.button},set:function(e){this.buttons=e?1|this.buttons:-2&this.buttons}},right:{get:function(){var e=this.event;return null===e||"mousedown"!==e.type&&"mouseup"!==e.type&&"pointerdown"!==e.type&&"pointerup"!==e.type?0!==(2&this.buttons):2===this.button},set:function(e){this.buttons=e?2|this.buttons:-3&this.buttons}},middle:{get:function(){var e=this.event;return null===e||"mousedown"!==e.type&&"mouseup"!==e.type&&"pointerdown"!==e.type&&"pointerup"!==e.type?0!==(4&this.buttons):1===this.button},set:function(e){this.buttons=e?4|this.buttons:-5&this.buttons}}}),lr.prototype.getMultiTouchDocumentPoint=lr.prototype.sz,lr.prototype.getMultiTouchViewPoint=lr.prototype.Mo,lr.className="InputEvent",ur.prototype.copy=function(){var e=new ur;return e.H=this.H,e.wa=this.wa,e.Dr=this.Dr,e.Uq=this.Uq,e},ur.prototype.toString=function(){var e="*"+this.name;return null!==this.subject&&(e+=":"+this.subject.toString()),null!==this.parameter&&(e+="("+this.parameter.toString()+")"),e},d.Object.defineProperties(ur.prototype,{diagram:{get:function(){return this.H},set:function(e){this.H=e}},name:{get:function(){return this.wa},set:function(e){this.wa=e}},subject:{get:function(){return this.Dr},set:function(e){this.Dr=e}},parameter:{get:function(){return this.Uq},set:function(e){this.Uq=e}}}),ur.className="DiagramEvent",cr.prototype.clear=function(){this.Hn=this.In=this.Nn=this.On=this.Mn=this.H=this.$b=null},cr.prototype.copy=function(){var e=new cr;e.Cm=this.Cm,e.Jq=this.Jq,e.mf=this.mf,e.$b=this.$b,e.H=this.H,e.Mn=this.Mn;var t=this.On;return e.On=j(t)&&"function"===typeof t.J?t.J():t,t=this.Nn,e.Nn=j(t)&&"function"===typeof t.J?t.J():t,t=this.In,e.In=j(t)&&"function"===typeof t.J?t.J():t,t=this.Hn,e.Hn=j(t)&&"function"===typeof t.J?t.J():t,e},cr.prototype.rb=function(e){e.classType===cr&&(this.change=e)},cr.prototype.toString=function(){var e="";return e=this.change===hr?e+"* ":this.change===dr?e+(null!==this.model?"!m":"!d"):e+(null!==this.model?"!m":"!d")+this.change,this.propertyName&&"string"===typeof this.propertyName&&(e+=" "+this.propertyName),this.modelChange&&this.modelChange!==this.propertyName&&(e+=" "+this.modelChange),e+=": ",this.change===hr?null!==this.oldValue&&(e+=" "+this.oldValue):(null!==this.object&&(e+=L(this.object)),null!==this.oldValue&&(e+="  old: "+L(this.oldValue)),null!==this.oldParam&&(e+=" "+this.oldParam),null!==this.newValue&&(e+="  new: "+L(this.newValue)),null!==this.newParam&&(e+=" "+this.newParam)),e},cr.prototype.I=function(e){return e?this.oldValue:this.newValue},cr.prototype.vz=function(e){return e?this.oldParam:this.newParam},cr.prototype.canUndo=function(){return null!==this.model||null!==this.diagram},cr.prototype.undo=function(){this.canUndo()&&(null!==this.model?this.model.changeState(this,!0):null!==this.diagram&&this.diagram.changeState(this,!0))},cr.prototype.canRedo=function(){return null!==this.model||null!==this.diagram},cr.prototype.redo=function(){this.canRedo()&&(null!==this.model?this.model.changeState(this,!1):null!==this.diagram&&this.diagram.changeState(this,!1))},d.Object.defineProperties(cr.prototype,{model:{get:function(){return this.$b},set:function(e){this.$b=e}},diagram:{get:function(){return this.H},set:function(e){this.H=e}},change:{get:function(){return this.Cm},set:function(e){this.Cm=e}},modelChange:{get:function(){return this.Jq},set:function(e){this.Jq=e}},propertyName:{get:function(){return this.mf},set:function(e){this.mf=e}},isTransactionFinished:{get:function(){return this.Cm===hr&&("CommittedTransaction"===this.mf||"FinishedUndo"===this.mf||"FinishedRedo"===this.mf)}},object:{get:function(){return this.Mn},set:function(e){this.Mn=e}},oldValue:{get:function(){return this.On},set:function(e){this.On=e}},oldParam:{get:function(){return this.Nn},set:function(e){this.Nn=e}},newValue:{get:function(){return this.In},set:function(e){this.In=e}},newParam:{get:function(){return this.Hn},set:function(e){this.Hn=e}}}),cr.prototype.redo=cr.prototype.redo,cr.prototype.canRedo=cr.prototype.canRedo,cr.prototype.undo=cr.prototype.undo,cr.prototype.canUndo=cr.prototype.canUndo,cr.prototype.getParam=cr.prototype.vz,cr.prototype.getValue=cr.prototype.I,cr.prototype.clear=cr.prototype.clear;var hr=new U(cr,"Transaction",-1),dr=new U(cr,"Property",0),fr=new U(cr,"Insert",1),pr=new U(cr,"Remove",2);function mr(){this.m=(new Z).freeze(),this.wa="",this.j=!1}function yr(){this.Kt=new J,this.Ad=!1,this.u=(new Z).freeze(),this.ye=-1,this.m=999,this.Be=!1,this.Hp=null,this.Zh=0,this.j=!1,this.Ee=(new Z).freeze(),this.cl=new Z,this.mt=!0,this.wt=this.kq=this.zt=this.yt=!1}function gr(e,t,r){if(e.isUndoingRedoing)return!1;e.checksTransactionLevel&&1>e.transactionLevel&&_("Ending transaction without having started a transaction: "+r);var n=1===e.transactionLevel,i=e.currentTransaction;n&&t&&(e.isInternalTransaction||e.Lb("CommittingTransaction",r,i));var o=0;if(0<e.transactionLevel&&(e.Zh--,e.isEnabled)){var a=e.Ee.count;0<a&&(""===r&&(r=e.Ee.L(0)),e.Ee.ka(),e.Ee.nb(a-1),e.Ee.freeze()),0<(a=e.cl.count)&&(o=e.cl.L(a-1),e.cl.nb(a-1))}if(n){if(t){if(e.kq=!1,null===i&&""!==r&&(i=e.currentTransaction),e.isEnabled&&null!==i){for(i.isComplete||(i.isComplete=!0,i.name=r),(t=e.history).ka(),n=t.count-1;n>e.historyIndex;n--)null!==(o=t.L(n))&&o.clear(),t.nb(n),e.kq=!0;0<=(n=e.maxHistoryLength)&&(0===n?t.clear():t.count>=n&&(null!==(o=t.L(0))&&o.clear(),t.nb(0),e.ye--)),0===n||0!==t.count&&t.get(t.count-1)===i||(t.add(i),e.ye++),t.freeze()}e.isInternalTransaction||e.Lb("CommittedTransaction",r,i)}else{e.Be=!0;try{e.isEnabled&&null!==i&&(i.isComplete=!0,i.undo())}finally{e.isInternalTransaction||e.Lb("RolledBackTransaction",r,i),e.Be=!1}null!==i&&i.clear()}return e.Hp=null,e.isPendingClear&&e.clear(),e.isPendingClear=!1,e.isPendingUnmodified=!1,!0}if(e.isEnabled&&!t&&null!==i){for(e=o,i=(r=i.changes).count-1;i>=e;i--)null!==(t=r.L(i))&&t.undo(),r.ka(),r.nb(i);r.freeze()}return!1}function vr(){Q(this),this.H=vi,this.wa="",this.Ad=!0,this.ob=!1,this.tm=null,this.uy=new lr,this.Rr=-1}function br(){vr.call(this),this.name="ToolManager",this.hb=new Z,this.pb=new Z,this.Fb=new Z,this.F=this.V=850,this.m=new Ee(2,2).ha(),this.Ha=5e3,this.ga=Sr,this.u=jr,this.Gp=this.j=null,this.xj=-1}function xr(e,t){e.standardMouseOver(),e.isBeyondDragSize()&&e.standardWaitAfter(e.isActive?e.holdDelay:e.hoverDelay,t.lastInput)}cr.className="ChangedEvent",cr.Transaction=hr,cr.Property=dr,cr.Insert=fr,cr.Remove=pr,mr.prototype.toString=function(e){var t="Transaction: "+this.name+" "+this.changes.count.toString()+(this.isComplete?"":", incomplete");if(void 0!==e&&0<e){e=this.changes.count;for(var r=0;r<e;r++){var n=this.changes.L(r);null!==n&&(t+="\n  "+n.toString())}}return t},mr.prototype.clear=function(){var e=this.changes;e.ka();for(var t=e.count-1;0<=t;t--){var r=e.L(t);null!==r&&r.clear()}e.clear(),e.freeze()},mr.prototype.canUndo=function(){return this.isComplete},mr.prototype.undo=function(){if(this.canUndo())for(var e=this.changes.count-1;0<=e;e--){var t=this.changes.L(e);null!==t&&t.undo()}},mr.prototype.canRedo=function(){return this.isComplete},mr.prototype.redo=function(){if(this.canRedo())for(var e=this.changes.count,t=0;t<e;t++){var r=this.changes.L(t);null!==r&&r.redo()}},mr.prototype.Yj=function(){if(this.isComplete){var e=this.changes;e.ka();for(var t=new fe,r=0;r<e.count;r++){var n=e.L(r);if(null!==n&&n.change===dr&&n.object){var i=t.get(n.object);i||(i=new fe,t.set(n.object,i));var o=i.get(n.propertyName);null===o?i.set(n.propertyName,-1):(0<o&&e.Xc(o,null),i.set(n.propertyName,r))}}for(r=t=0;r<e.count;r++)null!==(n=e.L(r))&&(r>t&&e.Xc(t,n),t++);for(;e.length>t;)e.pop();e.freeze()}},d.Object.defineProperties(mr.prototype,{changes:{get:function(){return this.m}},name:{get:function(){return this.wa},set:function(e){this.wa=e}},isComplete:{get:function(){return this.j},set:function(e){this.j=e}}}),mr.prototype.optimize=mr.prototype.Yj,mr.prototype.redo=mr.prototype.redo,mr.prototype.canRedo=mr.prototype.canRedo,mr.prototype.undo=mr.prototype.undo,mr.prototype.canUndo=mr.prototype.canUndo,mr.prototype.clear=mr.prototype.clear,mr.className="Transaction",yr.prototype.toString=function(e){var t="UndoManager "+this.historyIndex+"<"+this.history.count+"<="+this.maxHistoryLength;t+="[";for(var r=this.nestedTransactionNames.count,n=0;n<r;n++)0<n&&(t+=" "),t+=this.nestedTransactionNames.L(n);if(t+="]",void 0!==e&&0<e)for(r=this.history.count,n=0;n<r;n++)t+="\n "+this.history.L(n).toString(e-1);return t},yr.prototype.clear=function(){var e=this.history;e.ka();for(var t=e.count-1;0<=t;t--){var r=e.L(t);null!==r&&r.clear()}e.clear(),this.ye=-1,e.freeze(),this.Be=!1,this.Hp=null,this.Zh=0,this.Ee.ka(),this.Ee.clear(),this.Ee.freeze(),this.cl.clear(),this.wt=this.kq=this.zt=this.yt=!1},yr.prototype.copyProperties=function(e){this.isEnabled=e.isEnabled,this.maxHistoryLength=e.maxHistoryLength,this.checksTransactionLevel=e.checksTransactionLevel},(t=yr.prototype).Qw=function(e){this.Kt.add(e)},t.Nx=function(e){this.Kt.remove(e)},t.Ea=function(e){if(void 0===e&&(e=""),null===e&&(e=""),this.isUndoingRedoing)return!1;!0===this.mt&&(this.mt=!1,this.Zh++,this.isInternalTransaction||this.Lb("StartingFirstTransaction",e,this.currentTransaction),0<this.Zh&&this.Zh--),this.isEnabled&&(this.Ee.ka(),this.Ee.add(e),this.Ee.freeze(),null===this.currentTransaction?this.cl.add(0):this.cl.add(this.currentTransaction.changes.count)),this.Zh++;var t=1===this.transactionLevel;return t&&(this.isInternalTransaction||this.Lb("StartedTransaction",e,this.currentTransaction)),t},t.eb=function(e){return void 0===e&&(e=""),gr(this,!0,e)},t.Hf=function(){return gr(this,!1,"")},yr.prototype.canUndo=function(){if(!this.isEnabled||0<this.transactionLevel)return!1;var e=this.transactionToUndo;return!(null===e||!e.canUndo())},yr.prototype.undo=function(){if(this.canUndo()){var e=this.transactionToUndo;try{this.Be=!0,this.Lb("StartingUndo","Undo",e),this.ye--,e.undo()}catch(t){_("undo error: "+t.toString())}finally{this.Lb("FinishedUndo","Undo",e),this.Be=!1}}},yr.prototype.canRedo=function(){if(!this.isEnabled||0<this.transactionLevel)return!1;var e=this.transactionToRedo;return!(null===e||!e.canRedo())},yr.prototype.redo=function(){if(this.canRedo()){var e=this.transactionToRedo;try{this.Be=!0,this.Lb("StartingRedo","Redo",e),this.ye++,e.redo()}catch(t){_("redo error: "+t.toString())}finally{this.Lb("FinishedRedo","Redo",e),this.Be=!1}}},yr.prototype.Lb=function(e,t,r){void 0===r&&(r=null);var n=new cr;for(n.change=hr,n.propertyName=e,n.object=r,n.oldValue=t,e=this.models;e.next();)t=e.value,n.model=t,t.Vr(n)},yr.prototype.Pu=function(e){if(this.isEnabled&&!this.isUndoingRedoing&&!this.skipsEvent(e)){var t=this.currentTransaction;null===t&&(this.Hp=t=new mr);var r=e.copy();(t=t.changes).ka(),t.add(r),t.freeze(),this.checksTransactionLevel&&0>=this.transactionLevel&&!this.mt&&(null!==(e=e.diagram)&&!1===e.mi||_("Change not within a transaction: "+r.toString()))}},yr.prototype.skipsEvent=function(e){if(null===e||0>e.change.value)return!0;if(null===(e=e.object))return!1;if(void 0!==e.layer){if(null!==(e=e.layer)&&e.isTemporary)return!0}else if(e.isTemporary)return!0;return!1},d.Object.defineProperties(yr.prototype,{models:{get:function(){return this.Kt.iterator}},isEnabled:{get:function(){return this.Ad},set:function(e){this.Ad=e}},transactionToUndo:{get:function(){return 0<=this.historyIndex&&this.historyIndex<=this.history.count-1?this.history.L(this.historyIndex):null}},transactionToRedo:{get:function(){return this.historyIndex<this.history.count-1?this.history.L(this.historyIndex+1):null}},isUndoingRedoing:{get:function(){return this.Be}},history:{get:function(){return this.u}},maxHistoryLength:{get:function(){return this.m},set:function(e){this.m=e}},historyIndex:{get:function(){return this.ye}},currentTransaction:{get:function(){return this.Hp}},transactionLevel:{get:function(){return this.Zh}},isInTransaction:{get:function(){return 0<this.Zh}},checksTransactionLevel:{get:function(){return this.j},set:function(e){this.j=e}},nestedTransactionNames:{get:function(){return this.Ee}},isPendingClear:{get:function(){return this.yt},set:function(e){this.yt=e}},isPendingUnmodified:{get:function(){return this.zt},set:function(e){this.zt=e}},isInternalTransaction:{get:function(){return this.wt},set:function(e){this.wt=e}},isJustDiscarded:{get:function(){return this.kq}}}),yr.prototype.handleChanged=yr.prototype.Pu,yr.prototype.redo=yr.prototype.redo,yr.prototype.undo=yr.prototype.undo,yr.prototype.canUndo=yr.prototype.canUndo,yr.prototype.rollbackTransaction=yr.prototype.Hf,yr.prototype.commitTransaction=yr.prototype.eb,yr.prototype.startTransaction=yr.prototype.Ea,yr.prototype.removeModel=yr.prototype.Nx,yr.prototype.addModel=yr.prototype.Qw,yr.prototype.clear=yr.prototype.clear,yr.className="UndoManager",vr.prototype.toString=function(){return""!==this.name?this.name+" Tool":A(this.constructor)},vr.prototype.updateAdornments=function(){},vr.prototype.canStart=function(){return this.isEnabled},vr.prototype.doStart=function(){},vr.prototype.doActivate=function(){this.isActive=!0},vr.prototype.doDeactivate=function(){this.isActive=!1},vr.prototype.doStop=function(){},vr.prototype.doCancel=function(){this.transactionResult=null,this.stopTool()},vr.prototype.stopTool=function(){var e=this.diagram;e.currentTool===this&&(e.currentTool=null,e.currentCursor="")},vr.prototype.doMouseDown=function(){!this.isActive&&this.canStart()&&this.doActivate()},vr.prototype.doMouseMove=function(){},vr.prototype.doMouseUp=function(){this.stopTool()},vr.prototype.doMouseWheel=function(){},vr.prototype.canStartMultiTouch=function(){return!0},vr.prototype.standardPinchZoomStart=function(){var e=this.diagram,t=e.lastInput,r=t.Mo(0,pe.allocAt(NaN,NaN)),n=t.Mo(1,pe.allocAt(NaN,NaN));if(r.w()&&n.w()&&(this.doCancel(),e.Ll("hasGestureZoom"))){e.uw=e.scale;var i=n.x-r.x,o=n.y-r.y;e.Cw=Math.sqrt(i*i+o*o),t.bubbles=!1}pe.free(r),pe.free(n)},vr.prototype.standardPinchZoomMove=function(){var e=this.diagram,t=e.lastInput,r=t.Mo(0,pe.allocAt(NaN,NaN)),n=t.Mo(1,pe.allocAt(NaN,NaN));if(r.w()&&n.w()&&(this.doCancel(),e.Ll("hasGestureZoom"))){var i=n.x-r.x,o=n.y-r.y;o=Math.sqrt(i*i+o*o)/e.Cw,i=new pe((Math.min(n.x,r.x)+Math.max(n.x,r.x))/2,(Math.min(n.y,r.y)+Math.max(n.y,r.y))/2),o*=e.uw;var a=e.commandHandler;if(o!==e.scale&&a.canResetZoom(o)){var s=e.zoomPoint;e.zoomPoint=i,a.resetZoom(o),e.zoomPoint=s}t.bubbles=!1}pe.free(r),pe.free(n)},vr.prototype.doKeyDown=function(){"Esc"===this.diagram.lastInput.key&&this.doCancel()},vr.prototype.doKeyUp=function(){},vr.prototype.Ea=function(e){return void 0===e&&(e=this.name),this.transactionResult=null,this.diagram.Ea(e)},vr.prototype.stopTransaction=function(){var e=this.diagram;return null===this.transactionResult?e.Hf():e.eb(this.transactionResult)},vr.prototype.standardMouseSelect=function(){var e=this.diagram;if(e.allowSelect){var t=e.lastInput,r=e.Jl(t.documentPoint,!1);if(null!==r){if(F?t.meta:t.control){for(e.R("ChangingSelection",e.selection),t=r;null!==t&&!t.canSelect();)t=t.containingGroup;null!==t&&(t.isSelected=!t.isSelected),e.R("ChangedSelection",e.selection)}else if(t.shift){if(!r.isSelected){for(e.R("ChangingSelection",e.selection),t=r;null!==t&&!t.canSelect();)t=t.containingGroup;null!==t&&(t.isSelected=!0),e.R("ChangedSelection",e.selection)}}else if(!r.isSelected){for(t=r;null!==t&&!t.canSelect();)t=t.containingGroup;null!==t&&e.select(t)}}else!t.left||(F?t.meta:t.control)||t.shift||e.clearSelection()}},vr.prototype.standardMouseClick=function(e,t){void 0===e&&(e=null),void 0===t&&(t=function(e){return!e.layer.isTemporary});var r=this.diagram,n=r.lastInput;return e=r.ec(n.documentPoint,e,t),n.targetObject=e,function(e,t,r){if(t.handled=!1,null===e||e.Ff()){var n=0;t.left?n=1===t.clickCount?1:2===t.clickCount?2:1:t.right&&1===t.clickCount&&(n=3);var i="ObjectSingleClicked";if(null!==e){switch(n){case 1:i="ObjectSingleClicked";break;case 2:i="ObjectDoubleClicked";break;case 3:i="ObjectContextClicked"}0!==n&&r.R(i,e)}else{switch(n){case 1:i="BackgroundSingleClicked";break;case 2:i="BackgroundDoubleClicked";break;case 3:i="BackgroundContextClicked"}0!==n&&r.R(i)}if(null!==e)for(;null!==e;){switch(r=null,n){case 1:r=e.click;break;case 2:r=e.doubleClick?e.doubleClick:e.click;break;case 3:r=e.contextClick}if(null!==r&&(r(t,e),t.handled))break;e=e.panel}else{switch(e=null,n){case 1:e=r.click;break;case 2:e=r.doubleClick?r.doubleClick:r.click;break;case 3:e=r.contextClick}null!==e&&e(t)}}}(e,n,r),n.handled},vr.prototype.standardMouseOver=function(){var e=this.diagram,t=e.lastInput;if(!0!==e.animationManager.zb){var r=e.skipsUndoManager;e.skipsUndoManager=!0;var n=e.viewportBounds.ca(t.documentPoint)?e.ec(t.documentPoint,null,null):null;!t.event||"pointercancel"!==t.event.type&&"pointerout"!==t.event.type||(n=null),t.targetObject=n;var i=!1;if(n!==e.xk){var o=e.xk,a=o;for(e.xk=n,this.doCurrentObjectChanged(o,n),t.handled=!1;null!==o;){var s=o.mouseLeave;if(null!==s){if(n===o)break;if(null!==n&&n.ng(o))break;if(s(t,o,n),i=!0,t.handled)break}o=o.panel}for(o=a,t.handled=!1;null!==n;){if(null!==(a=n.mouseEnter)){if(o===n)break;if(null!==o&&o.ng(n))break;if(a(t,n,o),i=!0,t.handled)break}n=n.panel}n=e.xk}if(null!==n){for(o=n,a="";null!==o&&""===(a=o.cursor);)o=o.panel;for(e.currentCursor=a,t.handled=!1,o=n;null!==o&&(null===(n=o.mouseOver)||(n(t,o),i=!0,!t.handled));)o=o.panel}else this.doUpdateCursor(null),null!==(n=e.mouseOver)&&(n(t),i=!0);i&&e.Wb(),e.skipsUndoManager=r}},vr.prototype.doUpdateCursor=function(){var e=this.diagram;e&&(e.currentCursor="")},vr.prototype.doCurrentObjectChanged=function(){},vr.prototype.standardMouseWheel=function(){var e=this.diagram,t=e.lastInput,r=t.delta;if(0!==r&&e.documentBounds.w()){var n=e.commandHandler,i=e.toolManager.mouseWheelBehavior;if(null!==n&&(i===kr&&!t.shift||i===Sr&&t.control))(0<r?n.canIncreaseZoom():n.canDecreaseZoom())&&(i=e.zoomPoint,e.zoomPoint=t.viewPoint,0<r?n.increaseZoom():n.decreaseZoom(),e.zoomPoint=i),t.bubbles=!1;else if(i===kr&&t.shift||i===Sr&&!t.control){n=e.position.copy();var o=t.event;i=o.deltaMode;var a=o.deltaX;o=o.deltaY;var s="pixel";if(0===a&&0===o||t.shift)!t.shift&&e.allowVerticalScroll?(r=3*r*e.scrollVerticalLineChange,e.scroll(s,0<r?"down":"up",Math.abs(r))):t.shift&&e.allowHorizontalScroll&&(r=3*r*e.scrollHorizontalLineChange,e.scroll(s,0<r?"left":"right",Math.abs(r)));else{switch(i){case 0:s="pixel";break;case 1:s="line";break;case 2:s="page"}0!==a&&e.allowHorizontalScroll&&(a*=e.scrollHorizontalLineChange/16,e.scroll(s,0<a?"right":"left",Math.abs(a))),0!==o&&e.allowVerticalScroll&&(o*=e.scrollVerticalLineChange/16,e.scroll(s,0<o?"down":"up",Math.abs(o)))}this.doWheelChange(e,n,t)}}},vr.prototype.doWheelChange=function(e,t,r){e.position.C(t)&&0===r.event.wheelDeltaX||(r.bubbles=!1)},vr.prototype.standardWaitAfter=function(e,t){void 0===t&&(t=this.diagram.lastInput),this.cancelWaitAfter();var r=this,n=t.clone(this.uy);this.Rr=b((function(){r.doWaitAfter(n)}),e)},vr.prototype.cancelWaitAfter=function(){-1!==this.Rr&&y.clearTimeout(this.Rr),this.Rr=-1},vr.prototype.doWaitAfter=function(){},vr.prototype.findToolHandleAt=function(e,t){return null===(e=this.diagram.ec(e,(function(e){for(;null!==e&&!(e.panel instanceof Vc);)e=e.panel;return e})))?null:e.part.category===t?e:null},vr.prototype.isBeyondDragSize=function(e,t){var r=this.diagram;void 0===e&&(e=r.firstInput.viewPoint),void 0===t&&(t=r.lastInput.viewPoint);var n=r.toolManager.dragSize,i=n.width;return n=n.height,r.firstInput.isTouchEvent&&(i+=6,n+=6),Math.abs(t.x-e.x)>i||Math.abs(t.y-e.y)>n},d.Object.defineProperties(vr.prototype,{diagram:{get:function(){return this.H},set:function(e){e instanceof Mi&&(this.H=e)}},name:{get:function(){return this.wa},set:function(e){this.wa=e}},isEnabled:{get:function(){return this.Ad},set:function(e){this.Ad=e}},isActive:{get:function(){return this.ob},set:function(e){this.ob=e}},transactionResult:{get:function(){return this.tm},set:function(e){this.tm=e}}}),vr.prototype.startTransaction=vr.prototype.Ea,vr.className="Tool",h(br,vr),br.prototype.initializeStandardTools=function(){},br.prototype.updateAdornments=function(e){var t=this.currentToolTip;if(t instanceof Vc&&this.Gp===e){var r=t.adornedObject;(null!==e?r.part===e:null===r)?this.showToolTip(t,r):this.hideToolTip()}},br.prototype.doMouseDown=function(){var e=this.diagram,t=e.lastInput;if(t.isTouchEvent&&this.gestureBehavior===Mr&&(t.bubbles=!1),t.isMultiTouch){if(this.cancelWaitAfter(),this.gestureBehavior===Cr)return void(t.bubbles=!0);if(this.gestureBehavior===Mr)return;if(e.currentTool.canStartMultiTouch())return void e.currentTool.standardPinchZoomStart()}for(var r=this.mouseDownTools.length,n=0;n<r;n++){var i=this.mouseDownTools.L(n);if(i.diagram=this.diagram,i.canStart())return e.doFocus(),e.currentTool=i,void(e.currentTool===i&&(i.isActive||i.doActivate(),i.doMouseDown()))}1===e.lastInput.button&&(this.mouseWheelBehavior===Sr?this.mouseWheelBehavior=kr:this.mouseWheelBehavior===kr&&(this.mouseWheelBehavior=Sr)),this.doActivate(),this.standardWaitAfter(this.holdDelay,t)},br.prototype.doMouseMove=function(){var e=this.diagram,t=e.lastInput;if(t.isMultiTouch){if(this.gestureBehavior===Cr)return void(t.bubbles=!0);if(this.gestureBehavior===Mr)return;if(e.currentTool.canStartMultiTouch())return void e.currentTool.standardPinchZoomMove()}if(this.isActive)for(var r=this.mouseMoveTools.length,n=0;n<r;n++){var i=this.mouseMoveTools.L(n);if(i.diagram=this.diagram,i.canStart())return e.doFocus(),e.currentTool=i,void(e.currentTool===i&&(i.isActive||i.doActivate(),i.doMouseMove()))}xr(this,e),null===(e=t.event)||"pointermove"!==e.type&&e.cancelable||(t.bubbles=!0)},br.prototype.doCurrentObjectChanged=function(e,t){null===(e=this.currentToolTip)||null!==t&&e instanceof Vc&&(t===e||t.ng(e))||this.hideToolTip()},br.prototype.doWaitAfter=function(e){var t=this.diagram;null!==t.xa&&(this.doMouseHover(),this.isActive||this.doToolTip(),e.isTouchEvent&&!t.lastInput.handled&&((e=e.copy()).button=2,e.buttons=2,t.lastInput=e,t.lu=!0,t.doMouseUp()))},br.prototype.doMouseHover=function(){var e=this.diagram,t=e.lastInput;null===t.targetObject&&(t.targetObject=e.ec(t.documentPoint,null,null));var r=t.targetObject;if(null!==r)for(t.handled=!1;null!==r&&(null===(e=this.isActive?r.mouseHold:r.mouseHover)||(e(t,r),!t.handled));)r=r.panel;else null!==(r=this.isActive?e.mouseHold:e.mouseHover)&&r(t)},br.prototype.doToolTip=function(){var e=this.diagram,t=e.lastInput;if(null===t.targetObject&&(t.targetObject=e.ec(t.documentPoint,null,null)),null!==(t=t.targetObject)){if(!((e=this.currentToolTip)instanceof Vc)||t!==e&&!t.ng(e)){for(;null!==t;){if(null!==(e=t.toolTip))return void this.showToolTip(e,t);t=t.panel}this.hideToolTip()}}else null!==(t=e.toolTip)?this.showToolTip(t,null):this.hideToolTip()},br.prototype.showToolTip=function(e,t){var r=this.diagram;if(e!==this.currentToolTip&&this.hideToolTip(),e instanceof Vc){e.layerName="Tool",e.selectable=!1,e.scale=1/r.scale,e.category="ToolTip",null!==e.placeholder&&(e.placeholder.scale=r.scale);var n=e.diagram;null!==n&&n!==r&&n.remove(e),r.add(e),null!==t?e.adornedObject=t:e.data=r.model,e.Va(),this.positionToolTip(e,t)}else e instanceof bn&&e!==this.currentToolTip&&e.show(t,r,this);if(this.currentToolTip=e,-1!==this.xj&&(y.clearTimeout(this.xj),this.xj=-1),0<(e=this.toolTipDuration)&&1/0!==e){var i=this;this.xj=b((function(){i.hideToolTip()}),e)}},br.prototype.positionToolTip=function(e){if(null===e.placeholder){var t=this.diagram,r=t.lastInput.documentPoint.copy(),n=e.measuredBounds,i=t.viewportBounds;t.lastInput.isTouchEvent&&(r.x-=n.width),r.x+n.width>i.right&&(r.x-=n.width+5/t.scale),r.x<i.x&&(r.x=i.x),r.y=r.y+20/t.scale+n.height>i.bottom?r.y-(n.height+5/t.scale):r.y+20/t.scale,r.y<i.y&&(r.y=i.y),e.position=r}},br.prototype.hideToolTip=function(){-1!==this.xj&&(y.clearTimeout(this.xj),this.xj=-1);var e=this.diagram,t=this.currentToolTip;null!==t&&(t instanceof Vc?(e.remove(t),null!==this.Gp&&this.Gp.Gf(t.category),t.data=null,t.adornedObject=null):t instanceof bn&&null!==t.hide&&t.hide(e,this),this.currentToolTip=null)},br.prototype.doMouseUp=function(){this.cancelWaitAfter();var e=this.diagram;if(this.isActive)for(var t=this.mouseUpTools.length,r=0;r<t;r++){var n=this.mouseUpTools.L(r);if(n.diagram=this.diagram,n.canStart())return e.doFocus(),e.currentTool=n,void(e.currentTool===n&&(n.isActive||n.doActivate(),n.doMouseUp()))}e.doFocus(),this.doDeactivate()},br.prototype.doMouseWheel=function(){this.standardMouseWheel()},br.prototype.doKeyDown=function(){var e=this.diagram;null!==e.commandHandler&&e.commandHandler.doKeyDown()},br.prototype.doKeyUp=function(){var e=this.diagram;null!==e.commandHandler&&e.commandHandler.doKeyUp()},br.prototype.findTool=function(e){for(var t=this.mouseDownTools.length,r=0;r<t;r++){var n=this.mouseDownTools.L(r);if(n.name===e)return n}for(t=this.mouseMoveTools.length,r=0;r<t;r++)if((n=this.mouseMoveTools.L(r)).name===e)return n;for(t=this.mouseUpTools.length,r=0;r<t;r++)if((n=this.mouseUpTools.L(r)).name===e)return n;return null},br.prototype.replaceTool=function(e,t){null!==t&&(t.diagram=this.diagram);for(var r=this.mouseDownTools.length,n=0;n<r;n++){var i=this.mouseDownTools.L(n);if(i.name===e)return null!==t?this.mouseDownTools.Xc(n,t):this.mouseDownTools.nb(n),i}for(r=this.mouseMoveTools.length,n=0;n<r;n++)if((i=this.mouseMoveTools.L(n)).name===e)return null!==t?this.mouseMoveTools.Xc(n,t):this.mouseMoveTools.nb(n),i;for(r=this.mouseUpTools.length,n=0;n<r;n++)if((i=this.mouseUpTools.L(n)).name===e)return null!==t?this.mouseUpTools.Xc(n,t):this.mouseUpTools.nb(n),i;return null},br.prototype.gb=function(e,t,r){null!==t&&(t.name=e,t.diagram=this.diagram),this.findTool(e)?this.replaceTool(e,t):null!==t&&r.add(t)},d.Object.defineProperties(br.prototype,{mouseWheelBehavior:{get:function(){return this.ga},set:function(e){this.ga=e}},gestureBehavior:{get:function(){return this.u},set:function(e){this.u=e}},currentToolTip:{get:function(){return this.j},set:function(e){this.j=e,this.Gp=null!==e&&e instanceof Vc?e.adornedPart:null}},mouseDownTools:{get:function(){return this.hb}},mouseMoveTools:{get:function(){return this.pb}},mouseUpTools:{get:function(){return this.Fb}},hoverDelay:{get:function(){return this.V},set:function(e){this.V=e}},holdDelay:{get:function(){return this.F},set:function(e){this.F=e}},dragSize:{get:function(){return this.m},set:function(e){this.m=e.J()}},toolTipDuration:{get:function(){return this.Ha},set:function(e){this.Ha=e}}}),br.prototype.replaceStandardTool=br.prototype.gb;var wr,Sr=new U(br,"WheelScroll",0),kr=new U(br,"WheelZoom",1),_r=new U(br,"WheelNone",2),jr=new U(br,"GestureZoom",3),Mr=new U(br,"GestureCancel",4),Cr=new U(br,"GestureNone",5);function Pr(){vr.call(this),this.name="Dragging",this.u=this.Lw=this.pb=!0,this.m=this.Ha=this.V=this.Ke=null,this.Vm=this.Fb=!1,this.pl=new pe(NaN,NaN),this.xr=new pe,this.hb=!0,this.Dk=100,this.yg=[],this.pe=(new J).freeze(),this.ga=new Sa,this.xn=null,this.F="copy",this.Lc="",this.Mc="no-drop"}function Tr(e,t){if(e.dragsLink){var r=e.diagram;r.allowRelink&&(r.model.Tj()&&1===t.count&&t.first()instanceof vh?(e.draggedLink=t.first(),e.draggedLink.canRelinkFrom()&&e.draggedLink.canRelinkTo()&&e.draggedLink.Cj(),e.Ke=r.toolManager.findTool("Relinking"),null===e.Ke&&(e.Ke=new nn,e.Ke.diagram=r),e.Ke.originalLink=e.draggedLink):(e.draggedLink=null,e.Ke=null))}}function Er(e){var t=e.diagram,r=t.skipsUndoManager;t.skipsUndoManager=!0,Fr(e,t.lastInput,null),t.skipsUndoManager=r,e.yg.length=0}function Or(){var e=Wr;Lr(e),Dr(e);var t=e.diagram;e.pl.w()&&(t.position=e.pl),t.qg()}function Ar(e,t){if(null===e.copiedParts){var r=e.diagram;if((!t||!r.isReadOnly&&!r.isModelReadOnly)&&null!==e.draggedParts){var n=r.undoManager;for(n.isEnabled&&n.isInTransaction?null!==n.currentTransaction&&0<n.currentTransaction.changes.count&&(r.undoManager.Hf(),r.Ea("Drag")):Dr(e),r.skipsUndoManager=!t,r.partManager.addsToTemporaryLayer=!t,e.startPoint=r.firstInput.documentPoint,t=e.copiesEffectiveCollection?e.draggedParts.If():r.selection,t=r.Ij(t,r,!0),r=new fe,n=e.draggedParts.iterator;n.next();){var i=n.key;if(i.Uc()&&i.canCopy()){var o=t.I(i);null!==o&&(o.location=i.location,o.Va(),r.add(o,e.Gd(o.location)))}}for(t=t.iterator;t.next();)(n=t.value)instanceof vh&&n.canCopy()&&r.add(n,e.Gd());e.copiedParts=r,Tr(e,r.If()),null!==e.draggedLink&&(t=(r=e.draggedLink).routeBounds,wh(r,e.startPoint.x-(t.x+t.width/2),e.startPoint.y-(t.y+t.height/2))),e.doUpdateCursor(null)}}}function Lr(e){var t=e.diagram;if(null!==e.copiedParts){if(t.Bs(e.copiedParts.If(),!1),e.copiedParts=null,null!==e.draggedParts)for(var r=e.draggedParts.iterator;r.next();)r.key instanceof vh&&(r.value.point=new pe(0,0));e.doUpdateCursor(null)}t.skipsUndoManager=!1,t.partManager.addsToTemporaryLayer=!1,e.startPoint=t.firstInput.documentPoint}function Nr(e){if(null!==e.draggedLink){if(e.dragsLink&&null!==e.Ke){var t=e.Ke;t.diagram.remove(t.temporaryFromNode),t.diagram.remove(t.temporaryToNode),e.Ke.originalLink=null}e.draggedLink=null,e.Ke=null}}function Rr(e,t,r){var n=e.diagram,i=e.startPoint,o=pe.alloc();o.assign(n.lastInput.documentPoint),e.moveParts(t,o.ne(i),r),pe.free(o),!0===n.Df("temporaryPixelRatio")&&null===n.Vh&&30<n.Tw&&(Oi(n),n.Xl())}function Dr(e){if(null!==e.draggedParts){for(var t=e.diagram,r=e.draggedParts.iterator;r.next();){var n=r.key;n.Uc()&&(n.location=r.value.point)}for(r=e.draggedParts.iterator;r.next();)if((n=r.key)instanceof vh&&n.suspendsRouting){var i=r.value.point;e.draggedParts.add(n,e.Gd()),wh(n,-i.x,-i.y)}t.Wc()}}function Ir(e,t){var r=e.diagram;e.dragsLink&&(null!==e.draggedLink&&(e.draggedLink.fromNode=null,e.draggedLink.toNode=null),zr(e,!1));var n=e.findDragOverObject(t),i=r.lastInput;i.targetObject=n,e.doUpdateCursor(n);var o=r.skipsUndoManager,a=!1;try{if(r.skipsUndoManager=!0,a=Fr(e,i,n),!e.isActive&&null===Wr)return;var s=null!==n?n.part:null;if(null===s||r.handlesDragDropForTopLevelParts&&s.isTopLevel&&!(s instanceof dh)){var l=r.mouseDragOver;null!==l&&(l(i),a=!0)}if(!e.isActive&&null===Wr)return;if(e.doDragOver(t,n),!e.isActive&&null===Wr)return}finally{r.skipsUndoManager=o,a&&r.Wc()}e.xn=n,r.isReadOnly||!r.allowMove&&!r.allowCopy||!r.allowHorizontalScroll&&!r.allowVerticalScroll||r.Zr(i.viewPoint)}function Fr(e,t,r){var n=!1,i=e.yg.length,o=0<i?e.yg[0]:null;if(r===o)return!1;t.handled=!1;for(var a=0;a<i;a++){var s=e.yg[a],l=s.mouseDragLeave;if(null!==l&&(l(t,s,r),n=!0,t.handled))break}if(e.yg.length=0,!e.isActive&&null===Wr||null===r)return n;for(t.handled=!1,i=r;null!==i;)e.yg.push(i),i=Br(i);for(i=e.yg.length,r=0;r<i&&(null===(s=(a=e.yg[r]).mouseDragEnter)||(s(t,a,o),n=!0,!t.handled));r++);return n}function Br(e){var t=e.panel;return null!==t?t:e instanceof vc&&!(e instanceof dh)&&(null!==(e=e.containingGroup)&&e.handlesDragDropForMembers)?e:null}function Ur(e,t,r){var n=e.Ke;if(null===n)return null;var i=e.diagram.kg(t,n.portGravity,(function(e){return n.findValidLinkablePort(e,r)}));e=pe.alloc();var o=1/0,a=null;for(i=i.iterator;i.next();){var s=i.value;if(null!==s.part){var l=s.ja(rt,e);(l=t.yf(l))<o&&(a=s,o=l)}}return pe.free(e),a}function zr(e,t){var r=e.draggedLink;if(null!==r&&!(2>r.pointsCount)){var n=e.diagram;if(!n.isReadOnly){var i=e.Ke;if(null!==i){var o=null,a=null;null===r.fromNode&&(null!==(o=Ur(e,r.i(0),!1))&&(a=o.part));var s=null,l=null;null===r.toNode&&(null!==(s=Ur(e,r.i(r.pointsCount-1),!0))&&(l=s.part)),i.isValidLink(a,o,l,s)?t?(r.defaultFromPoint=r.i(0),r.defaultToPoint=r.i(r.pointsCount-1),r.suspendsRouting=!1,r.fromNode=a,null!==o&&(r.fromPortId=o.portId),r.toNode=l,null!==s&&(r.toPortId=s.portId),r.fromPort!==n.Ix&&n.R("LinkRelinked",r,n.Ix),r.toPort!==n.Jx&&n.R("LinkRelinked",r,n.Jx)):on(i,a,o,l,s):on(i,null,null,null,null)}}}}function qr(e,t){var r=e.diagram;e.dragsLink&&zr(e,!0),Er(e);var n=e.findDragOverObject(t),i=r.lastInput;if(i.targetObject=n,null!==n){i.handled=!1;for(var o=n;null!==o;){var a=o.mouseDrop;if(null!==a&&(a(i,o),i.handled))break;Gr(e,i,o),o=Br(o)}}else null!==(o=r.mouseDrop)&&o(i);if(e.isActive||null!==Wr){for(i=(e.copiedParts||e.draggedParts).iterator;i.next();)(o=i.key)instanceof Wc&&o.linksConnected.each((function(e){e.suspendsRouting=!1}));if(e.doDropOnto(t,n),e.isActive||null!==Wr){for(e=Ne.alloc(),t=r.selection.iterator;t.next();)(n=t.value)instanceof Wc&&Vr(r,n,e);Ne.free(e)}}}function Gr(e,t,r){e=e.diagram,r=r.part,!e.handlesDragDropForTopLevelParts||!r.isTopLevel||r instanceof dh||null!==(r=e.mouseDrop)&&r(t)}function Vr(e,t,r){var n=!1;if(t.getAvoidableRect(r),e.viewportBounds.Me(r)&&(n=!0),0!==(e=e.Ju(r,(function(e){return e.part}),(function(e){return e instanceof vh}),!0,(function(e){return e instanceof vh}),n)).count)for(e=e.iterator;e.next();)!(r=e.value).Md(t)&&r.isAvoiding&&r.bb()}function Hr(e,t,r,n){if(null===e.copiedParts){var i=e.diagram;if(!i.isReadOnly&&!i.isModelReadOnly){i.skipsUndoManager=!r,i.partManager.addsToTemporaryLayer=!r,e.startPoint=n.documentPoint,r=i.Ij(t,i,!0);var o=Ne.alloc();i=n=1/0;for(var a=-1/0,s=-1/0,l=t.iterator;l.next();){var u=l.value;if(u.isVisible()){var c=u.location;u=c.x,c=c.y,isNaN(u)||isNaN(c)||(u<n&&(n=u),c<i&&(i=c),u>a&&(a=u),c>s&&(s=c))}}for(1/0===n?o.h(0,0,0,0):o.h(n,i,a-n,s-i),n=o.x+o.width/2,i=o.y+o.height/2,Ne.free(o),o=e.xr,a=new fe,s=pe.alloc(),l=t.iterator;l.next();)(u=l.value)instanceof vh&&u.canCopy()&&(null!==(c=r.I(u))&&(c.points=u.points,wh(c,o.x-n,o.y-i),c.suspendsRouting=!0,a.add(c,e.Gd())));for(t=t.iterator;t.next();)(u=t.value).Uc()&&u.canCopy()&&(null!==(l=r.I(u))&&(u=u.location,s.h(o.x-(n-u.x),o.y-(i-u.y)),l.location=s,l.Va(),a.add(l,e.Gd(s))));pe.free(s),e.copiedParts=a,Tr(e,a.If()),null!==e.draggedLink&&(t=(r=e.draggedLink).routeBounds,wh(r,e.startPoint.x-(t.x+t.width/2),e.startPoint.y-(t.y+t.height/2))),e.doUpdateCursor(null)}}}br.className="ToolManager",br.WheelScroll=Sr,br.WheelZoom=kr,br.WheelNone=_r,br.GestureZoom=jr,br.GestureCancel=Mr,br.GestureNone=Cr,h(Pr,vr),Pr.prototype.canStart=function(){if(!this.isEnabled)return!1;var e=this.diagram;if(e.isReadOnly&&!e.allowDragOut||!e.allowMove&&!e.allowCopy&&!e.allowDragOut||!e.allowSelect)return!1;var t=e.lastInput;return!(!t.left||e.currentTool!==this&&(!this.isBeyondDragSize()||t.isTouchEvent&&t.timestamp-e.firstInput.timestamp<this.Dk))&&null!==this.findDraggablePart()},Pr.prototype.findDraggablePart=function(){var e=this.diagram;if(null===(e=e.Jl(e.firstInput.documentPoint,!1)))return null;for(;null!==e&&!e.canSelect();)e=e.containingGroup;return null!==e&&(e.canMove()||e.canCopy())?e:null},Pr.prototype.standardMouseSelect=function(){var e=this.diagram;if(e.allowSelect){var t=e.Jl(e.firstInput.documentPoint,!1);if(null!==t){for(;null!==t&&!t.canSelect();)t=t.containingGroup;this.currentPart=t,null===this.currentPart||this.currentPart.isSelected||(e.R("ChangingSelection",e.selection),t=e.lastInput,(F?t.meta:t.control)||t.shift||e.clearSelection(!0),this.currentPart.isSelected=!0,e.R("ChangedSelection",e.selection))}}},Pr.prototype.doActivate=function(){var e=this.diagram;this.xn=null,null===this.currentPart&&this.standardMouseSelect();var t=this.currentPart;null!==t&&(t.canMove()||t.canCopy())&&(e.zu(!0),Wr=null,this.isActive=!0,this.pl.set(e.position),Tr(this,e.selection),this.yg.length=0,e.animationManager.zc(),this.draggedParts=this.computeEffectiveCollection(e.selection,this.dragOptions),this.Lw=this.diagram.layout.isRealtime,this.diagram.layout.isRealtime=!1,e.Gs=!0,!0===e.Df("temporaryPixelRatio")&&30<e.Tw&&Oi(e),co(e,this.draggedParts),this.Ea("Drag"),this.startPoint=e.firstInput.documentPoint,e.isMouseCaptured=!0,e.allowDragOut&&(this.isDragOutStarted=!0,this.Vm=!1,Wr=this,Xr=this.diagram,this.doSimulatedDragOut()))},Pr.prototype.computeEffectiveCollection=function(e,t){return this.diagram.commandHandler.computeEffectiveCollection(e,t)},Pr.prototype.Gd=function(e){return void 0===e?new ua(re):this.isGridSnapEnabled?new ua(new pe(Math.round(1e3*e.x)/1e3,Math.round(1e3*e.y)/1e3)):new ua(e.copy())},Pr.prototype.doDeactivate=function(){this.isActive=!1;var e=this.diagram;if(this.diagram.layout.isRealtime=this.Lw,e.zu(!1),e.qg(),Er(this),ho(e,this.draggedParts),this.draggedParts=this.currentPart=this.xn=null,this.Vm=this.isDragOutStarted=!1,0<wr.count){for(var t=wr,r=t.length,n=0;n<r;n++){var i=t.L(n);Nr(i),Lr(i),Er(i),i.diagram.qg()}t.clear()}Nr(this),this.pl.h(NaN,NaN),null!==Xr&&(Xr.currentCursor=""),Wr=Xr=null,Lr(this),e.isMouseCaptured=!1,e.currentCursor="",e.Gs=!1,this.stopTransaction(),Ai(e,!0)},Pr.prototype.stopTransaction=function(){var e=this.diagram,t=vr.prototype.stopTransaction.call(this);return t&&null!==e.undoManager.transactionToUndo&&e.undoManager.transactionToUndo.Yj(),t},Pr.prototype.doCancel=function(){Lr(this),Dr(this);var e=this.diagram;this.pl.w()&&(e.position=this.pl),this.stopTool()},Pr.prototype.doKeyDown=function(){var e=this.diagram,t=e.lastInput;this.isActive&&("Esc"===t.key?this.doCancel():t.key!==e.previousInput.key&&this.doMouseMove())},Pr.prototype.doKeyUp=function(){this.isActive&&this.doMouseMove()},Pr.prototype.moveParts=function(e,t,r){void 0===r&&(r=!1);var n=this.diagram;null!==n&&so(n,e,t,this.dragOptions,r)},Pr.prototype.findDragOverObject=function(e){var t=this;return qi(this.diagram,e,null,(function(e){return null===e?e=!0:e=!!(null===(e=e.part)||e instanceof Vc||e.layer.isTemporary||t.draggedParts&&t.draggedParts.contains(e)||t.copiedParts&&t.copiedParts.contains(e)),!e}))},Pr.prototype.doUpdateCursor=function(e){var t=this.diagram;null!==e&&this.xn===e||(!this.diagram.currentTool.isActive||this.mayCopy()?t.currentCursor=this.copyCursor:this.mayMove()?t.currentCursor=this.moveCursor:this.mayDragOut()&&(t.currentCursor=this.nodropCursor))},Pr.prototype.doDragOver=function(){},Pr.prototype.doDropOnto=function(){},Pr.prototype.doMouseMove=function(){if(this.isActive){var e=this.diagram,t=e.lastInput;this.simulatedMouseMove(t.event,t.documentPoint,t.targetDiagram)||null===this.currentPart||null===this.draggedParts||(this.mayCopy()?(Ar(this,!1),co(e,this.copiedParts),Rr(this,this.copiedParts,!1),ho(e,this.copiedParts)):this.mayMove()?(Lr(this),Rr(this,this.draggedParts,!0)):this.mayDragOut()?(Ar(this,!1),Rr(this,this.copiedParts,!1)):Lr(this),Ir(this,e.lastInput.documentPoint))}},Pr.prototype.doMouseUp=function(){if(this.isActive){var e=this.diagram,t=e.lastInput;if(!this.simulatedMouseUp(t.event,t.documentPoint,t.targetDiagram)){t=!1;var r=this.mayCopy();if(r&&null!==this.copiedParts?(Lr(this),Ar(this,!0),co(e,this.copiedParts),Rr(this,this.copiedParts,!1),ho(e,this.copiedParts),null!==this.copiedParts&&(e.R("ChangingSelection",e.selection),e.clearSelection(!0),this.copiedParts.iteratorKeys.each((function(e){e.isSelected=!0})))):(t=!0,Lr(this),this.mayMove()&&(Rr(this,this.draggedParts,!0),Ir(this,e.lastInput.documentPoint))),this.Vm=!0,qr(this,e.lastInput.documentPoint),this.isActive){var n=r?this.copiedParts.If():this.draggedParts.If();this.copiedParts=null,t&&function(e){if(null!==e.draggedParts)for(var t=e.draggedParts.iterator;t.next();){var r=t.key;r instanceof Wc&&(null===(r=r.containingGroup)||null===r.placeholder||e.draggedParts.contains(r)||r.placeholder.v())}}(this),e.Xa(),ho(e,this.draggedParts),this.transactionResult=r?"Copy":"Move",e.R(r?"SelectionCopied":"SelectionMoved",n)}this.stopTool(),r&&e.R("ChangedSelection",e.selection)}}},Pr.prototype.simulatedMouseMove=function(e,t,r){if(null===Wr)return!1;var n=Wr.diagram;r instanceof Mi||(r=null);var i=Xr;return r!==i&&(null!==i&&i!==n&&(i.qg(),Wr.isDragOutStarted=!1,null!==(i=i.toolManager.findTool("Dragging"))&&i.doSimulatedDragLeave()),Xr=r,null!==r&&r!==n&&(Or(),null!==(i=r.toolManager.findTool("Dragging"))&&(wr.contains(i)||wr.add(i),i.doSimulatedDragEnter())),this.doUpdateCursor(null)),!(null===r||r===n||!r.allowDrop||r.isReadOnly||!r.allowInsert)&&(null!==(n=r.toolManager.findTool("Dragging"))&&(null!==e&&(void 0!==e.targetTouches&&(0<e.targetTouches.length?e=e.targetTouches[0]:0<e.changedTouches.length&&(e=e.changedTouches[0])),t=r.getMouse(e)),r.lastInput.documentPoint=t,r.lastInput.viewPoint=r.ip(t),r.lastInput.down=!1,r.lastInput.up=!1,n.doSimulatedDragOver()),!0)},Pr.prototype.simulatedMouseUp=function(e,t,r){if(null===Wr)return!1;var n=Xr,i=Wr.diagram;if(null===r)return Wr.doCancel(),!0;if(r!==n){var o=n.toolManager.findTool("Dragging");if(null!==n&&n!==i&&null!==o)return n.qg(),Wr.isDragOutStarted=!1,o.doSimulatedDragLeave(),!1;Xr=r,null!==(n=r.toolManager.findTool("Dragging"))&&(Or(),wr.contains(n)||wr.add(n),n.doSimulatedDragEnter())}return r!==this.diagram&&(null!==e?(void 0!==e.targetTouches&&(0<e.targetTouches.length?e=e.targetTouches[0]:0<e.changedTouches.length&&(e=e.changedTouches[0])),t=r.getMouse(e)):null===t&&(t=new pe),r.lastInput.documentPoint=t,r.lastInput.viewPoint=r.ip(t),r.lastInput.down=!1,r.lastInput.up=!0,null!==(e=r.toolManager.findTool("Dragging"))&&e.doSimulatedDrop(),null!==(e=Wr)&&(r=e.mayCopy(),e.transactionResult=r?"Copy":"Move",e.stopTool()),!0)},Pr.prototype.mayCopy=function(){if(!this.isCopyEnabled)return!1;var e=this.diagram;if(e.isReadOnly||e.isModelReadOnly||!e.allowInsert||!e.allowCopy||(F?!e.lastInput.alt:!e.lastInput.control))return!1;for(e=e.selection.iterator;e.next();)if(e.value.canCopy())return!0;return!(null===this.draggedLink||!this.dragsLink||!this.draggedLink.canCopy())},Pr.prototype.mayDragOut=function(){if(!this.isCopyEnabled)return!1;var e=this.diagram;if(!e.allowDragOut||!e.allowCopy||e.allowMove)return!1;for(e=e.selection.iterator;e.next();)if(e.value.canCopy())return!0;return!(null===this.draggedLink||!this.dragsLink||!this.draggedLink.canCopy())},Pr.prototype.mayMove=function(){var e=this.diagram;if(e.isReadOnly||!e.allowMove)return!1;for(e=e.selection.iterator;e.next();)if(e.value.canMove())return!0;return!(null===this.draggedLink||!this.dragsLink||!this.draggedLink.canMove())},Pr.prototype.computeBorder=function(e,t,r){return this.Vm||null===this.draggedParts||this.draggedParts.contains(e)?null:r.assign(t)},Pr.prototype.rz=function(){return Wr},Pr.prototype.mayDragIn=function(){var e=this.diagram;if(!e.allowDrop||e.isReadOnly||e.isModelReadOnly||!e.allowInsert)return!1;return null!==Wr&&Wr.diagram.model.dataFormat===e.model.dataFormat},Pr.prototype.doSimulatedDragEnter=function(){if(this.mayDragIn()){var e=this.diagram;e.animationManager.zc(),Zi(e),e.animationManager.zc(),null!==(e=Wr)&&(e.diagram.Gs=!1),this.doUpdateCursor(null)}},Pr.prototype.doSimulatedDragLeave=function(){null!==Wr&&Wr.doSimulatedDragOut(),this.doCancel()},Pr.prototype.doSimulatedDragOver=function(){var e=this.diagram;e.animationManager.Am=!0;var t=Wr;if(null!==t&&null!==t.draggedParts){if(!this.mayDragIn())return;Hr(this,t.draggedParts.If(),!1,e.firstInput),Rr(this,this.copiedParts,!1),Ir(this,e.lastInput.documentPoint)}e.animationManager.Am=!1},Pr.prototype.doSimulatedDrop=function(){var e=this.diagram,t=Wr;if(null!==t){var r=t.diagram;if(t.Vm=!0,Lr(this),!this.mayDragIn())return;e.animationManager.Am=!0,e.R("ChangingSelection",e.selection),this.Ea("Drop"),Hr(this,t.draggedParts.If(),!0,e.lastInput),Rr(this,this.copiedParts,!1),null!==this.copiedParts&&(e.clearSelection(!0),this.copiedParts.iteratorKeys.each((function(e){e.isSelected=!0}))),qr(this,e.lastInput.documentPoint),e.Xa(),t=e.selection,null!==this.copiedParts?this.transactionResult="ExternalCopy":t=new J,this.copiedParts=null,e.doFocus(),e.R("ExternalObjectsDropped",t,r),this.stopTransaction(),e.R("ChangedSelection",e.selection)}e.animationManager.Am=!1},Pr.prototype.doSimulatedDragOut=function(){var e=this.diagram;e.Gs=!1,this.mayCopy()||this.mayMove()?e.currentCursor="":e.currentCursor=this.nodropCursor,this.xn=null},Pr.prototype.computeMove=function(e,t,r,n){return null!==(r=this.diagram)?r.computeMove(e,t,this.dragOptions,n):new pe},d.Object.defineProperties(Pr.prototype,{isCopyEnabled:{get:function(){return this.pb},set:function(e){this.pb=e}},copiesEffectiveCollection:{get:function(){return this.u},set:function(e){this.u=e}},dragOptions:{get:function(){return this.ga},set:function(e){this.ga=e}},isGridSnapEnabled:{get:function(){return this.dragOptions.isGridSnapEnabled},set:function(e){this.dragOptions.isGridSnapEnabled=e}},isComplexRoutingRealtime:{get:function(){return this.hb},set:function(e){this.hb=e}},isGridSnapRealtime:{get:function(){return this.dragOptions.isGridSnapRealtime},set:function(e){this.dragOptions.isGridSnapRealtime=e}},gridSnapCellSize:{get:function(){return this.dragOptions.gridSnapCellSize},set:function(e){this.dragOptions.gridSnapCellSize.C(e)||(e=e.J(),this.dragOptions.gridSnapCellSize=e)}},gridSnapCellSpot:{get:function(){return this.dragOptions.gridSnapCellSpot},set:function(e){this.dragOptions.gridSnapCellSpot.C(e)||(e=e.J(),this.dragOptions.gridSnapCellSpot=e)}},gridSnapOrigin:{get:function(){return this.dragOptions.gridSnapOrigin},set:function(e){this.dragOptions.gridSnapOrigin.C(e)||(e=e.J(),this.dragOptions.gridSnapOrigin=e)}},dragsLink:{get:function(){return this.dragOptions.dragsLink},set:function(e){this.dragOptions.dragsLink=e}},dragsTree:{get:function(){return this.dragOptions.dragsTree},set:function(e){this.dragOptions.dragsTree=e}},copyCursor:{get:function(){return this.F},set:function(e){this.F=e}},moveCursor:{get:function(){return this.Lc},set:function(e){this.Lc=e}},nodropCursor:{get:function(){return this.Mc},set:function(e){this.Mc=e}},currentPart:{get:function(){return this.V},set:function(e){this.V=e}},copiedParts:{get:function(){return this.m},set:function(e){this.m=e}},draggedParts:{get:function(){return this.Ha},set:function(e){this.Ha=e}},draggingParts:{get:function(){return null!==this.copiedParts?this.copiedParts.If():null!==this.draggedParts?this.draggedParts.If():this.pe}},draggedLink:{get:function(){return this.diagram.draggedLink},set:function(e){this.diagram.draggedLink=e}},isDragOutStarted:{get:function(){return this.Fb},set:function(e){this.Fb=e}},startPoint:{get:function(){return this.xr},set:function(e){this.xr.C(e)||this.xr.assign(e)}},delay:{get:function(){return this.Dk},set:function(e){this.Dk=e}}}),Pr.prototype.getDraggingSource=Pr.prototype.rz;var Wr=null,Xr=null;function Yr(){vr.call(this),this.pe=100,this.Ha=!1,this.u="pointer";var e=new vh,t=new cu;t.isPanelMain=!0,t.stroke="blue",e.add(t),(t=new cu).toArrow="Standard",t.fill="blue",t.stroke="blue",e.add(t),e.layerName="Tool",this.zi=e,e=new Wc,(t=new cu).portId="",t.figure="Rectangle",t.fill=null,t.stroke="magenta",t.strokeWidth=2,t.desiredSize=ke,e.add(t),e.selectable=!1,e.layerName="Tool",this.yi=e,this.j=t,e=new Wc,(t=new cu).portId="",t.figure="Rectangle",t.fill=null,t.stroke="magenta",t.strokeWidth=2,t.desiredSize=ke,e.add(t),e.selectable=!1,e.layerName="Tool",this.Ai=e,this.m=t,this.Mc=this.Lc=this.pb=this.hb=this.Fb=null,this.ga=!0,this.ay=new fe,this.Lf=this.ej=this.Mf=null}function Kr(e,t,r,n){if(t===r)return!0;var i=t.fromNode;return!(null===i||!i.isLinkLabel||(n.add(i),!Kr(e,i.labeledLink,r,n)))||!(null===(t=t.toNode)||!t.isLinkLabel||(n.add(t),!Kr(e,t.labeledLink,r,n)))}function Zr(e,t,r,n,i){if(t===r)return!0;if(null===t||null===r)return!1;for(var o=t.linksConnected;o.next();){var a=o.value;if(a!==n&&(!i||a.isTreeLink)&&a.toNode===t&&((a=a.fromNode)!==t&&Zr(e,a,r,n,i)))return!0}return!1}function $r(e,t,r,n,i){if(r===n)return!0;if(null===r||null===n||t.contains(r))return!1;t.add(r);for(var o=r.linksConnected;o.next();){var a=o.value;if(a!==i&&a.toNode===r&&((a=a.fromNode)!==r&&$r(e,t,a,n,i)))return!0}return!1}function Jr(e,t,r,n,i){if(r===n)return!0;if(null===r||null===n||t.contains(r))return!1;t.add(r);for(var o=r.linksConnected;o.next();){var a=o.value;if(a!==i){var s=a.fromNode;if(a=a.toNode,(s=s===r?a:s)!==r&&Jr(e,t,s,n,i))return!0}}return!1}function Qr(){Yr.call(this),this.name="Linking",this.V={},this.F=null,this.K=en,this.Sd=null}Pr.className="DraggingTool",wr=new Z,R("draggingTool",(function(){return this.findTool("Dragging")}),(function(e){this.gb("Dragging",e,this.mouseMoveTools)})),br.prototype.doCancel=function(){null!==Wr&&Wr.doCancel(),vr.prototype.doCancel.call(this)},h(Yr,vr),Yr.prototype.doStop=function(){this.diagram.qg(),this.originalToPort=this.originalToNode=this.originalFromPort=this.originalFromNode=this.originalLink=null,this.validPortsCache.clear(),this.targetPort=null},Yr.prototype.copyPortProperties=function(e,t,r,n,i){if(null!==e&&null!==t&&null!==r&&null!==n){var o=t.Af(),a=Ee.alloc();a.width=t.naturalBounds.width*o,a.height=t.naturalBounds.height*o,n.desiredSize=a,Ee.free(a),i?(n.toSpot=t.toSpot,n.toEndSegmentLength=t.toEndSegmentLength):(n.fromSpot=t.fromSpot,n.fromEndSegmentLength=t.fromEndSegmentLength),r.locationSpot=rt,o=pe.alloc(),r.location=t.ja(rt,o),pe.free(o),n.angle=t.ii(),null!==this.portTargeted&&this.portTargeted(e,t,r,n,i)}},Yr.prototype.setNoTargetPortProperties=function(e,t,r){null!==t&&(t.desiredSize=ke,t.fromSpot=$e,t.toSpot=$e),null!==e&&(e.location=this.diagram.lastInput.documentPoint),null!==this.portTargeted&&this.portTargeted(null,null,e,t,r)},Yr.prototype.doMouseDown=function(){this.isActive&&this.doMouseMove()},Yr.prototype.doMouseMove=function(){if(this.isActive){var e=this.diagram;if(this.targetPort=this.findTargetPort(this.isForwards),null!==this.targetPort&&this.targetPort.part instanceof Wc){var t=this.targetPort.part;this.isForwards?this.copyPortProperties(t,this.targetPort,this.temporaryToNode,this.temporaryToPort,!0):this.copyPortProperties(t,this.targetPort,this.temporaryFromNode,this.temporaryFromPort,!1)}else this.isForwards?this.setNoTargetPortProperties(this.temporaryToNode,this.temporaryToPort,!0):this.setNoTargetPortProperties(this.temporaryFromNode,this.temporaryFromPort,!1);(e.allowHorizontalScroll||e.allowVerticalScroll)&&e.Zr(e.lastInput.viewPoint)}},Yr.prototype.findValidLinkablePort=function(e,t){if(null===e)return null;var r=e.part;if(!(r instanceof Wc))return null;for(;null!==e;){var n=t?e.toLinkable:e.fromLinkable;if(!0===n&&(null!==e.portId||e instanceof Wc)&&(t?this.isValidTo(r,e):this.isValidFrom(r,e)))return e;if(!1===n)break;e=e.panel}return null},Yr.prototype.findTargetPort=function(e){var t=this.diagram,r=t.lastInput.documentPoint,n=this.portGravity;0>=n&&(n=.1);var i=this,o=t.kg(r,n,(function(t){return i.findValidLinkablePort(t,e)}),null,!0);for(n=1/0,t=null,o=o.iterator;o.next();){var a=o.value,s=a.part;if(s instanceof Wc){var l=a.ja(rt,pe.alloc()),u=r.x-l.x,c=r.y-l.y;pe.free(l),(l=u*u+c*c)<n&&(null!==(u=this.validPortsCache.I(a))?u&&(t=a,n=l):e&&this.isValidLink(this.originalFromNode,this.originalFromPort,s,a)||!e&&this.isValidLink(s,a,this.originalToNode,this.originalToPort)?(this.validPortsCache.add(a,!0),t=a,n=l):this.validPortsCache.add(a,!1))}}return null!==t&&((r=t.part)instanceof Wc&&(null===r.layer||r.layer.allowLink))?t:null},Yr.prototype.isValidFrom=function(e,t){if(null===e||null===t)return this.isUnconnectedLinkValid;if(this.diagram.currentTool===this&&(null!==e.layer&&!e.layer.allowLink||!0!==t.fromLinkable))return!1;var r=t.fromMaxLinks;if(1/0>r){if(null!==this.originalLink&&e===this.originalFromNode&&t===this.originalFromPort)return!0;if(null===(t=t.portId)&&(t=""),e.Io(t).count>=r)return!1}return!0},Yr.prototype.isValidTo=function(e,t){if(null===e||null===t)return this.isUnconnectedLinkValid;if(this.diagram.currentTool===this&&(null!==e.layer&&!e.layer.allowLink||!0!==t.toLinkable))return!1;var r=t.toMaxLinks;if(1/0>r){if(null!==this.originalLink&&e===this.originalToNode&&t===this.originalToPort)return!0;if(null===(t=t.portId)&&(t=""),e.Kd(t).count>=r)return!1}return!0},Yr.prototype.isInSameNode=function(e,t){return null!==e&&null!==t&&(e===t||(e=e.part,t=t.part,null!==e&&e===t))},Yr.prototype.isLinked=function(e,t){if(null===e||null===t)return!1;var r=e.part;if(!(r instanceof Wc))return!1;null===(e=e.portId)&&(e="");var n=t.part;if(!(n instanceof Wc))return!1;for(null===(t=t.portId)&&(t=""),t=n.Kd(t);t.next();)if((n=t.value).fromNode===r&&n.fromPortId===e)return!0;return!1},Yr.prototype.isValidLink=function(e,t,r,n){if(!this.isValidFrom(e,t)||!this.isValidTo(r,n)||!(null===t||null===n||(t.fromLinkableSelfNode&&n.toLinkableSelfNode||!this.isInSameNode(t,n))&&(t.fromLinkableDuplicates&&n.toLinkableDuplicates||!this.isLinked(t,n)))||null!==this.originalLink&&(null!==e&&this.isLabelDependentOnLink(e,this.originalLink)||null!==r&&this.isLabelDependentOnLink(r,this.originalLink))||null!==e&&null!==r&&(null===e.data&&null!==r.data||null!==e.data&&null===r.data)||!this.isValidCycle(e,r,this.originalLink))return!1;if(null!==e){var i=e.linkValidation;if(null!==i&&!i(e,t,r,n,this.originalLink))return!1}return!(null!==r&&null!==(i=r.linkValidation)&&!i(e,t,r,n,this.originalLink))&&(null===(i=this.linkValidation)||i(e,t,r,n,this.originalLink))},Yr.prototype.isLabelDependentOnLink=function(e,t){if(null===e)return!1;var r=e.labeledLink;if(null===r)return!1;if(r===t)return!0;var n=new J;return n.add(e),Kr(this,r,t,n)},Yr.prototype.isValidCycle=function(e,t,r){if(void 0===r&&(r=null),null===e||null===t)return this.isUnconnectedLinkValid;var n=this.diagram.validCycle;if(n!==Ho){if(n===Ko){if(null!==(n=r||this.temporaryLink)&&!n.isTreeLink)return!0;for(n=t.linksConnected;n.next();){var i=n.value;if(i!==r&&i.isTreeLink&&i.toNode===t)return!1}return!Zr(this,e,t,r,!0)}if(n===Zo){if(null!==(n=r||this.temporaryLink)&&!n.isTreeLink)return!0;for(n=e.linksConnected;n.next();)if((i=n.value)!==r&&i.isTreeLink&&i.fromNode===e)return!1;return!Zr(this,e,t,r,!0)}if(n===Wo)return e===t?e=!0:((n=new J).add(t),e=$r(this,n,e,t,r)),!e;if(n===Xo)return!Zr(this,e,t,r,!1);if(n===Yo)return e===t?e=!0:((n=new J).add(t),e=Jr(this,n,e,t,r)),!e}return!0},d.Object.defineProperties(Yr.prototype,{portGravity:{get:function(){return this.pe},set:function(e){0<=e&&(this.pe=e)}},isUnconnectedLinkValid:{get:function(){return this.Ha},set:function(e){this.Ha=e}},linkingCursor:{get:function(){return this.u},set:function(e){this.u=e}},temporaryLink:{get:function(){return this.zi},set:function(e){this.zi=e}},temporaryFromNode:{get:function(){return this.yi},set:function(e){(this.yi=e)&&(this.j=e.port)}},temporaryFromPort:{get:function(){return this.j},set:function(e){if(null!==this.j){var t=this.j.panel;if(null!==t){var r=t.P.indexOf(this.j);t.nb(r),t.Eb(r,e)}}this.j=e}},temporaryToNode:{get:function(){return this.Ai},set:function(e){(this.Ai=e)&&(this.m=e.port)}},temporaryToPort:{get:function(){return this.m},set:function(e){if(null!==this.m){var t=this.m.panel;if(null!==t){var r=t.P.indexOf(this.m);t.nb(r),t.Eb(r,e)}}this.m=e}},originalLink:{get:function(){return this.Fb},set:function(e){this.Fb=e}},originalFromNode:{get:function(){return this.hb},set:function(e){this.hb=e}},originalFromPort:{get:function(){return this.pb},set:function(e){this.pb=e}},originalToNode:{get:function(){return this.Lc},set:function(e){this.Lc=e}},originalToPort:{get:function(){return this.Mc},set:function(e){this.Mc=e}},isForwards:{get:function(){return this.ga},set:function(e){this.ga=e}},validPortsCache:{get:function(){return this.ay}},targetPort:{get:function(){return this.Mf},set:function(e){this.Mf=e}},linkValidation:{get:function(){return this.ej},set:function(e){this.ej=e}},portTargeted:{get:function(){return this.Lf},set:function(e){this.Lf=e}}}),Yr.className="LinkingBaseTool",h(Qr,Yr),Qr.prototype.canStart=function(){if(!this.isEnabled)return!1;var e=this.diagram;return!(e.isReadOnly||e.isModelReadOnly||!e.allowLink||!e.model.qs()||!e.lastInput.left||e.currentTool!==this&&!this.isBeyondDragSize())&&null!==this.findLinkablePort()},Qr.prototype.findLinkablePort=function(){var e=this.diagram,t=this.startObject;if(null===t&&(t=e.ec(e.firstInput.documentPoint,null,null)),null===t)return null;if(!((e=t.part)instanceof Wc))return null;var r=this.direction;if(r===en||r===tn){var n=this.findValidLinkablePort(t,!1);if(null!==n||this.startObject===e&&(n=e.port,this.findValidLinkablePort(n,!1)))return this.isForwards=!0,n}return(r===en||r===rn)&&(null!==(t=this.findValidLinkablePort(t,!0))||this.startObject===e&&(t=e.port,this.findValidLinkablePort(t,!0)))?(this.isForwards=!1,t):null},Qr.prototype.doActivate=function(){var e=this.diagram,t=this.findLinkablePort();null===t?this.stopTool():(this.Ea(this.name),e.isMouseCaptured=!0,e.currentCursor=this.linkingCursor,this.isForwards?(null!==this.temporaryToNode&&(this.temporaryToNode.location=e.lastInput.documentPoint),this.originalFromPort=t,(t=this.originalFromPort.part)instanceof Wc&&(this.originalFromNode=t),this.copyPortProperties(this.originalFromNode,this.originalFromPort,this.temporaryFromNode,this.temporaryFromPort,!1)):(null!==this.temporaryFromNode&&(this.temporaryFromNode.location=e.lastInput.documentPoint),this.originalToPort=t,(t=this.originalToPort.part)instanceof Wc&&(this.originalToNode=t),this.copyPortProperties(this.originalToNode,this.originalToPort,this.temporaryToNode,this.temporaryToPort,!0)),e.add(this.temporaryFromNode),this.temporaryFromNode&&this.temporaryFromNode.Va(),e.add(this.temporaryToNode),this.temporaryToNode&&this.temporaryToNode.Va(),null!==this.temporaryLink&&(null!==this.temporaryFromNode&&(this.temporaryLink.fromNode=this.temporaryFromNode),null!==this.temporaryToNode&&(this.temporaryLink.toNode=this.temporaryToNode),this.temporaryLink.isTreeLink=this.isNewTreeLink(),this.temporaryLink.bb(),e.add(this.temporaryLink)),this.isActive=!0)},Qr.prototype.doDeactivate=function(){this.isActive=!1;var e=this.diagram;e.remove(this.temporaryLink),e.remove(this.temporaryFromNode),e.remove(this.temporaryToNode),e.isMouseCaptured=!1,e.currentCursor="",this.stopTransaction()},Qr.prototype.doStop=function(){Yr.prototype.doStop.call(this),this.startObject=null},Qr.prototype.doMouseUp=function(){if(this.isActive){var e=this.diagram,t=this.transactionResult=null,r=null,n=null,i=null,o=null;try{var a=this.targetPort=this.findTargetPort(this.isForwards);if(null!==a){var s=a.part;s instanceof Wc&&(this.isForwards?(null!==this.originalFromNode&&(t=this.originalFromNode,r=this.originalFromPort),n=s,i=a):(t=s,r=a,null!==this.originalToNode&&(n=this.originalToNode,i=this.originalToPort)))}else this.isForwards?null!==this.originalFromNode&&this.isUnconnectedLinkValid&&(t=this.originalFromNode,r=this.originalFromPort):null!==this.originalToNode&&this.isUnconnectedLinkValid&&(n=this.originalToNode,i=this.originalToPort);null!==t||null!==n?null!==(o=this.insertLink(t,r,n,i))?(null===a&&(this.isForwards?o.defaultToPoint=e.lastInput.documentPoint:o.defaultFromPoint=e.lastInput.documentPoint),e.allowSelect&&(e.R("ChangingSelection",e.selection),e.clearSelection(!0),o.isSelected=!0),this.transactionResult=this.name,e.R("LinkDrawn",o)):this.doNoLink(t,r,n,i):this.isForwards?this.doNoLink(this.originalFromNode,this.originalFromPort,null,null):this.doNoLink(null,null,this.originalToNode,this.originalToPort)}finally{this.stopTool(),o&&e.allowSelect&&e.R("ChangedSelection",e.selection)}}},Qr.prototype.isNewTreeLink=function(){var e=this.archetypeLinkData;if(null===e)return!0;if(e instanceof vh)return e.isTreeLink;var t=this.diagram;return null===t||(e=t.partManager.getLinkCategoryForData(e),null===(t=t.partManager.findLinkTemplateForCategory(e))||t.isTreeLink)},Qr.prototype.insertLink=function(e,t,r,n){return this.diagram.partManager.insertLink(e,t,r,n)},Qr.prototype.doNoLink=function(){},d.Object.defineProperties(Qr.prototype,{archetypeLinkData:{get:function(){return this.V},set:function(e){this.V=e}},archetypeLabelNodeData:{get:function(){return this.F},set:function(e){this.F=e}},direction:{get:function(){return this.K},set:function(e){this.K=e}},startObject:{get:function(){return this.Sd},set:function(e){this.Sd=e}}});var en=new U(Qr,"Either",0),tn=new U(Qr,"ForwardsOnly",0),rn=new U(Qr,"BackwardsOnly",0);function nn(){Yr.call(this),this.name="Relinking";var e=new cu;e.figure="Diamond",e.desiredSize=je,e.fill="lightblue",e.stroke="dodgerblue",e.cursor=this.linkingCursor,e.segmentIndex=0,this.V=e,(e=new cu).figure="Diamond",e.desiredSize=je,e.fill="lightblue",e.stroke="dodgerblue",e.cursor=this.linkingCursor,e.segmentIndex=-1,this.Sd=e,this.F=null,this.xw=new Ne}function on(e,t,r,n,i){null!==t?(e.copyPortProperties(t,r,e.temporaryFromNode,e.temporaryFromPort,!1),e.diagram.add(e.temporaryFromNode)):e.diagram.remove(e.temporaryFromNode),null!==n?(e.copyPortProperties(n,i,e.temporaryToNode,e.temporaryToPort,!0),e.diagram.add(e.temporaryToNode)):e.diagram.remove(e.temporaryToNode)}function an(){vr.call(this),this.name="LinkReshaping";var e=new cu;e.figure="Rectangle",e.desiredSize=_e,e.fill="lightblue",e.stroke="dodgerblue",this.m=e,(e=new cu).figure="Diamond",e.desiredSize=je,e.fill="lightblue",e.stroke="dodgerblue",e.cursor="move",this.u=e,this.F=3,this.Ms=this.j=null,this.yw=new pe,this.Rq=new Z}function sn(e,t,r,n,i,o){return o?Math.abs(t.y-r.y)<e.resegmentingDistance&&Math.abs(r.y-n.y)<e.resegmentingDistance&&Math.abs(n.y-i.y)<e.resegmentingDistance:Math.abs(t.x-r.x)<e.resegmentingDistance&&Math.abs(r.x-n.x)<e.resegmentingDistance&&Math.abs(n.x-i.x)<e.resegmentingDistance}Qr.className="LinkingTool",Qr.Either=en,Qr.ForwardsOnly=tn,Qr.BackwardsOnly=rn,h(nn,Yr),nn.prototype.updateAdornments=function(e){if(null!==e&&e instanceof vh){var t="RelinkFrom",r=null;if(e.isSelected&&!this.diagram.isReadOnly){var n=e.selectionObject;null!==n&&e.canRelinkFrom()&&e.actualBounds.w()&&e.isVisible()&&n.actualBounds.w()&&n.Nd()&&(null===(r=e.Nj(t))&&(r=this.makeAdornment(n,!1),e.Wg(t,r)))}null===r&&e.Gf(t),t="RelinkTo",r=null,e.isSelected&&!this.diagram.isReadOnly&&(null!==(n=e.selectionObject)&&e.canRelinkTo()&&e.actualBounds.w()&&e.isVisible()&&n.actualBounds.w()&&n.Nd()&&(null===(r=e.Nj(t))?(r=this.makeAdornment(n,!0),e.Wg(t,r)):r.v())),null===r&&e.Gf(t)}},nn.prototype.makeAdornment=function(e,t){var r=new Vc;return r.type=kl.Link,null!==(t=t?this.toHandleArchetype:this.fromHandleArchetype)&&r.add(t.copy()),r.adornedObject=e,r},nn.prototype.canStart=function(){if(!this.isEnabled)return!1;var e=this.diagram;if(e.isReadOnly||e.isModelReadOnly||!e.allowRelink||!e.model.qs()||!e.lastInput.left)return!1;var t=this.findToolHandleAt(e.firstInput.documentPoint,"RelinkFrom");return null===t&&(t=this.findToolHandleAt(e.firstInput.documentPoint,"RelinkTo")),null!==t},nn.prototype.doActivate=function(){var e=this.diagram;if(null===this.originalLink){var t=this.handle;if(null===t&&(null===(t=this.findToolHandleAt(e.firstInput.documentPoint,"RelinkFrom"))&&(t=this.findToolHandleAt(e.firstInput.documentPoint,"RelinkTo"))),null===t)return;var r=t.part;if(!(r instanceof Vc&&r.adornedPart instanceof vh))return;this.handle=t,this.isForwards=null===r||"RelinkTo"===r.category,this.originalLink=r.adornedPart}this.Ea(this.name),e.isMouseCaptured=!0,e.currentCursor=this.linkingCursor,this.originalFromPort=this.originalLink.fromPort,this.originalFromNode=this.originalLink.fromNode,this.originalToPort=this.originalLink.toPort,this.originalToNode=this.originalLink.toNode,this.xw.set(this.originalLink.actualBounds),null!==this.originalLink&&0<this.originalLink.pointsCount&&(null===this.originalLink.fromNode&&(null!==this.temporaryFromPort&&(this.temporaryFromPort.desiredSize=Se),null!==this.temporaryFromNode&&(this.temporaryFromNode.location=this.originalLink.i(0))),null===this.originalLink.toNode&&(null!==this.temporaryToPort&&(this.temporaryToPort.desiredSize=Se),null!==this.temporaryToNode&&(this.temporaryToNode.location=this.originalLink.i(this.originalLink.pointsCount-1)))),this.copyPortProperties(this.originalFromNode,this.originalFromPort,this.temporaryFromNode,this.temporaryFromPort,!1),this.copyPortProperties(this.originalToNode,this.originalToPort,this.temporaryToNode,this.temporaryToPort,!0),e.add(this.temporaryFromNode),e.add(this.temporaryToNode),null!==this.temporaryLink&&(null!==this.temporaryFromNode&&(this.temporaryLink.fromNode=this.temporaryFromNode),null!==this.temporaryToNode&&(this.temporaryLink.toNode=this.temporaryToNode),this.copyLinkProperties(this.originalLink,this.temporaryLink),this.temporaryLink.bb(),e.add(this.temporaryLink)),this.isActive=!0},nn.prototype.copyLinkProperties=function(e,t){if(null!==e&&null!==t){t.adjusting=e.adjusting,t.corner=e.corner;var r=e.curve;r!==Yh&&r!==Xh||(r=Hh),t.curve=r,t.curviness=e.curviness,t.isTreeLink=e.isTreeLink,t.points=e.points,t.routing=e.routing,t.smoothness=e.smoothness,t.fromSpot=e.fromSpot,t.fromEndSegmentLength=e.fromEndSegmentLength,t.fromShortLength=e.fromShortLength,t.toSpot=e.toSpot,t.toEndSegmentLength=e.toEndSegmentLength,t.toShortLength=e.toShortLength}},nn.prototype.doDeactivate=function(){this.isActive=!1;var e=this.diagram;e.remove(this.temporaryLink),e.remove(this.temporaryFromNode),e.remove(this.temporaryToNode),e.isMouseCaptured=!1,e.currentCursor="",this.stopTransaction()},nn.prototype.doStop=function(){Yr.prototype.doStop.call(this),this.handle=null},nn.prototype.doMouseUp=function(){if(this.isActive){var e=this.diagram;this.transactionResult=null;var t=this.originalFromNode,r=this.originalFromPort,n=this.originalToNode,i=this.originalToPort,o=this.originalLink;try{if(this.targetPort=this.findTargetPort(this.isForwards),null!==this.targetPort){var a=this.targetPort.part;a instanceof Wc&&(this.isForwards?(n=a,i=this.targetPort):(t=a,r=this.targetPort))}else this.isUnconnectedLinkValid?this.isForwards?i=n=null:r=t=null:o=null;null!==o?(this.reconnectLink(o,this.isForwards?n:t,this.isForwards?i:r,this.isForwards),null===this.targetPort&&(this.isForwards?o.defaultToPoint=e.lastInput.documentPoint:o.defaultFromPoint=e.lastInput.documentPoint,o.bb()),this.transactionResult=this.name,e.R("LinkRelinked",o,this.isForwards?this.originalToPort:this.originalFromPort)):this.doNoRelink(this.originalLink,this.isForwards),this.originalLink.Ro(this.xw)}finally{this.stopTool()}}},nn.prototype.reconnectLink=function(e,t,r,n){return r=null!==r&&null!==r.portId?r.portId:"",n?(e.toNode=t,e.toPortId=r):(e.fromNode=t,e.fromPortId=r),!0},nn.prototype.doNoRelink=function(){},d.Object.defineProperties(nn.prototype,{fromHandleArchetype:{get:function(){return this.V},set:function(e){this.V=e}},toHandleArchetype:{get:function(){return this.Sd},set:function(e){this.Sd=e}},handle:{get:function(){return this.F},set:function(e){if(null!==e&&!(e.part instanceof Vc))throw Error("new handle is not in an Adornment: "+e);this.F=e}}}),nn.className="RelinkingTool",R("linkingTool",(function(){return this.findTool("Linking")}),(function(e){this.gb("Linking",e,this.mouseMoveTools)})),R("relinkingTool",(function(){return this.findTool("Relinking")}),(function(e){this.gb("Relinking",e,this.mouseDownTools)})),h(an,vr),an.prototype.Nu=function(e){return e&&0!==e.reshapingBehavior.value?e.reshapingBehavior:ln},an.prototype.lm=function(e,t){e.reshapingBehavior=t},an.prototype.updateAdornments=function(e){if(null!==e&&e instanceof vh){var t=null;if(e.isSelected&&!this.diagram.isReadOnly){var r=e.path;null!==r&&e.canReshape()&&e.actualBounds.w()&&e.isVisible()&&r.actualBounds.w()&&r.Nd()&&(null===(t=e.Nj(this.name))||t.tw!==e.pointsCount||t.Nw!==e.resegmentable)&&(null!==(t=this.makeAdornment(r))&&(t.tw=e.pointsCount,t.Nw=e.resegmentable,e.Wg(this.name,t)))}null===t&&e.Gf(this.name)}},an.prototype.makeAdornment=function(e){var t=e.part,r=t.pointsCount,n=t.isOrthogonal,i=null;if(null!==t.points&&1<r){(i=new Vc).type=kl.Link,r=t.firstPickIndex;var o=t.lastPickIndex,a=n?1:0;if(t.resegmentable&&t.computeCurve()!==Wh)for(var s=r+a;s<o-a;s++){var l=this.makeResegmentHandle(e,s);null!==l&&(l.segmentIndex=s,l.segmentFraction=.5,l.fromMaxLinks=999,i.add(l))}for(a=r+1;a<o;a++)if(null!==(s=this.makeHandle(e,a))){if(s.segmentIndex=a,a!==r)if(a===r+1&&n){l=t.i(r);var u=t.i(r+1);Gt.B(l.x,u.x)&&Gt.B(l.y,u.y)&&(u=t.i(r-1)),Gt.B(l.x,u.x)?(this.lm(s,cn),s.cursor="n-resize"):Gt.B(l.y,u.y)&&(this.lm(s,un),s.cursor="w-resize")}else a===o-1&&n?(l=t.i(o-1),u=t.i(o),Gt.B(l.x,u.x)&&Gt.B(l.y,u.y)&&(l=t.i(o+1)),Gt.B(l.x,u.x)?(this.lm(s,cn),s.cursor="n-resize"):Gt.B(l.y,u.y)&&(this.lm(s,un),s.cursor="w-resize")):a!==o&&(this.lm(s,hn),s.cursor="move");i.add(s)}i.adornedObject=e}return i},an.prototype.makeHandle=function(){var e=this.handleArchetype;return null===e?null:e.copy()},an.prototype.makeResegmentHandle=function(){var e=this.midHandleArchetype;return null===e?null:e.copy()},an.prototype.canStart=function(){if(!this.isEnabled)return!1;var e=this.diagram;return!(e.isReadOnly||!e.allowReshape||!e.lastInput.left)&&null!==this.findToolHandleAt(e.firstInput.documentPoint,this.name)},an.prototype.doActivate=function(){var e=this.diagram;if(null===this.handle&&(this.handle=this.findToolHandleAt(e.firstInput.documentPoint,this.name)),null!==this.handle){var t=this.handle.part.adornedPart;if(t instanceof vh){if(this.Ms=t,e.isMouseCaptured=!0,this.Ea(this.name),t.resegmentable&&999===this.handle.fromMaxLinks){var r=t.points.copy(),n=this.getResegmentingPoint();if(r.Eb(this.handle.segmentIndex+1,n),t.isOrthogonal&&r.Eb(this.handle.segmentIndex+1,n),t.points=r,t.Sb(),t.updateAdornments(),this.handle=this.findToolHandleAt(e.firstInput.documentPoint,this.name),null===this.handle)return void this.doDeactivate()}this.yw=t.i(this.handle.segmentIndex),this.Rq=t.points.copy(),this.isActive=!0}}},an.prototype.doDeactivate=function(){this.stopTransaction(),this.Ms=this.handle=null,this.isActive=this.diagram.isMouseCaptured=!1},an.prototype.stopTransaction=function(){var e=this.diagram,t=vr.prototype.stopTransaction.call(this);return t&&null!==e.undoManager.transactionToUndo&&e.undoManager.transactionToUndo.Yj(),t},an.prototype.doCancel=function(){var e=this.adornedLink;null!==e&&(e.points=this.Rq),this.stopTool()},an.prototype.getResegmentingPoint=function(){return this.handle.ja(rt)},an.prototype.doMouseMove=function(){var e=this.diagram;this.isActive&&(e=this.computeReshape(e.lastInput.documentPoint),this.reshape(e))},an.prototype.doMouseUp=function(){var e=this.diagram;if(this.isActive){var t=this.computeReshape(e.lastInput.documentPoint);if(this.reshape(t),null!==(t=this.adornedLink)&&t.resegmentable){var r=this.handle.segmentIndex,n=t.i(r-1),i=t.i(r),o=t.i(r+1);if(t.isOrthogonal){if(r>t.firstPickIndex+1&&r<t.lastPickIndex-1){var a=t.i(r-2);if(Math.abs(n.x-i.x)<this.resegmentingDistance&&Math.abs(n.y-i.y)<this.resegmentingDistance&&(sn(this,a,n,i,o,!0)||sn(this,a,n,i,o,!1))){var s=t.points.copy();sn(this,a,n,i,o,!0)?(s.Xc(r-2,new pe(a.x,(o.y+a.y)/2)),s.Xc(r+1,new pe(o.x,(o.y+a.y)/2))):(s.Xc(r-2,new pe((o.x+a.x)/2,a.y)),s.Xc(r+1,new pe((o.x+a.x)/2,o.y))),s.nb(r),s.nb(r-1),t.points=s,t.Sb()}else a=t.i(r+2),Math.abs(i.x-o.x)<this.resegmentingDistance&&Math.abs(i.y-o.y)<this.resegmentingDistance&&(sn(this,n,i,o,a,!0)||sn(this,n,i,o,a,!1))&&(s=t.points.copy(),sn(this,n,i,o,a,!0)?(s.Xc(r-1,new pe(n.x,(n.y+a.y)/2)),s.Xc(r+2,new pe(a.x,(n.y+a.y)/2))):(s.Xc(r-1,new pe((n.x+a.x)/2,n.y)),s.Xc(r+2,new pe((n.x+a.x)/2,a.y))),s.nb(r+1),s.nb(r),t.points=s,t.Sb())}}else a=pe.alloc(),Gt.lh(n.x,n.y,o.x,o.y,i.x,i.y,a)&&a.yf(i)<this.resegmentingDistance*this.resegmentingDistance&&((n=t.points.copy()).nb(r),t.points=n,t.Sb()),pe.free(a)}e.Xa(),this.transactionResult=this.name,e.R("LinkReshaped",this.adornedLink,this.Rq)}this.stopTool()},an.prototype.reshape=function(e){var t=this.adornedLink;t.ph();var r=this.handle.segmentIndex,n=this.Nu(this.handle);if(t.isOrthogonal)if(r===t.firstPickIndex+1)r=t.firstPickIndex+1,n===cn?(t.M(r,t.i(r-1).x,e.y),t.M(r+1,t.i(r+2).x,e.y)):n===un&&(t.M(r,e.x,t.i(r-1).y),t.M(r+1,e.x,t.i(r+2).y));else if(r===t.lastPickIndex-1)r=t.lastPickIndex-1,n===cn?(t.M(r-1,t.i(r-2).x,e.y),t.M(r,t.i(r+1).x,e.y)):n===un&&(t.M(r-1,e.x,t.i(r-2).y),t.M(r,e.x,t.i(r+1).y));else{n=r;var i=t.i(n),o=t.i(n-1),a=t.i(n+1);Gt.B(o.x,i.x)&&Gt.B(i.y,a.y)?(Gt.B(o.x,t.i(n-2).x)&&!Gt.B(o.y,t.i(n-2).y)?(t.l(n,e.x,o.y),r++,n++):t.M(n-1,e.x,o.y),Gt.B(a.y,t.i(n+2).y)&&!Gt.B(a.x,t.i(n+2).x)?t.l(n+1,a.x,e.y):t.M(n+1,a.x,e.y)):Gt.B(o.y,i.y)&&Gt.B(i.x,a.x)?(Gt.B(o.y,t.i(n-2).y)&&!Gt.B(o.x,t.i(n-2).x)?(t.l(n,o.x,e.y),r++,n++):t.M(n-1,o.x,e.y),Gt.B(a.x,t.i(n+2).x)&&!Gt.B(a.y,t.i(n+2).y)?t.l(n+1,e.x,a.y):t.M(n+1,e.x,a.y)):Gt.B(o.x,i.x)&&Gt.B(i.x,a.x)?(Gt.B(o.x,t.i(n-2).x)&&!Gt.B(o.y,t.i(n-2).y)?(t.l(n,e.x,o.y),r++,n++):t.M(n-1,e.x,o.y),Gt.B(a.x,t.i(n+2).x)&&!Gt.B(a.y,t.i(n+2).y)?t.l(n+1,e.x,a.y):t.M(n+1,e.x,a.y)):Gt.B(o.y,i.y)&&Gt.B(i.y,a.y)&&(Gt.B(o.y,t.i(n-2).y)&&!Gt.B(o.x,t.i(n-2).x)?(t.l(n,o.x,e.y),r++,n++):t.M(n-1,o.x,e.y),Gt.B(a.y,t.i(n+2).y)&&!Gt.B(a.x,t.i(n+2).x)?t.l(n+1,a.x,e.y):t.M(n+1,a.x,e.y)),t.M(r,e.x,e.y)}else t.M(r,e.x,e.y),n=t.fromNode,i=t.fromPort,null!==n&&(null!==(o=n.findVisibleNode())&&o!==n&&(i=(n=o).port)),1===r&&t.computeSpot(!0,i).Jc()&&(o=i.ja(rt,pe.alloc()),n=t.getLinkPointFromPoint(n,i,o,e,!0,pe.alloc()),t.M(0,n.x,n.y),pe.free(o),pe.free(n)),n=t.toNode,i=t.toPort,null!==n&&(null!==(o=n.findVisibleNode())&&o!==n&&(i=(n=o).port)),r===t.pointsCount-2&&t.computeSpot(!1,i).Jc()&&(r=i.ja(rt,pe.alloc()),e=t.getLinkPointFromPoint(n,i,r,e,!1,pe.alloc()),t.M(t.pointsCount-1,e.x,e.y),pe.free(r),pe.free(e));t.wf()},an.prototype.computeReshape=function(e){var t=this.adornedLink,r=this.handle.segmentIndex;switch(this.Nu(this.handle)){case hn:return e;case cn:return new pe(t.i(r).x,e.y);case un:return new pe(e.x,t.i(r).y);default:return t.i(r)}},d.Object.defineProperties(an.prototype,{handleArchetype:{get:function(){return this.m},set:function(e){this.m=e}},midHandleArchetype:{get:function(){return this.u},set:function(e){this.u=e}},handle:{get:function(){return this.j},set:function(e){if(null!==e&&!(e.part instanceof Vc))throw Error("new handle is not in an Adornment: "+e);this.j=e}},adornedLink:{get:function(){return this.Ms}},resegmentingDistance:{get:function(){return this.F},set:function(e){this.F=e}},originalPoint:{get:function(){return this.yw}},originalPoints:{get:function(){return this.Rq}}}),an.prototype.setReshapingBehavior=an.prototype.lm,an.prototype.getReshapingBehavior=an.prototype.Nu;var ln=new U(an,"None",0),un=new U(an,"Horizontal",1),cn=new U(an,"Vertical",2),hn=new U(an,"All",3);function dn(){vr.call(this),this.name="Resizing",this.m=new Ee(1,1).freeze(),this.j=new Ee(9999,9999).freeze(),this.ug=new Ee(NaN,NaN).freeze(),this.V=!1,this.ga=!0,this.qe=null;var e=new cu;e.alignmentFocus=rt,e.figure="Rectangle",e.desiredSize=_e,e.fill="lightblue",e.stroke="dodgerblue",e.strokeWidth=1,e.cursor="pointer",this.F=e,this.u=null,this.Qq=new pe,this.ww=new Ee,this.Pn=new pe,this.kt=new Ee(0,0),this.jt=new Ee(1/0,1/0),this.it=new Ee(1,1)}function fn(){vr.call(this),this.name="Rotating",this.ga=45,this.V=2,this.Pn=new pe,this.qe=null;var e=new cu;e.figure="Ellipse",e.desiredSize=je,e.fill="lightblue",e.stroke="dodgerblue",e.strokeWidth=1,e.cursor="pointer",this.m=e,this.j=null,this.vw=0,this.dr=new pe(NaN,NaN),this.u=0,this.F=50}function pn(){vr.call(this),this.name="ClickSelecting"}function mn(){vr.call(this),this.name="Action",this.jk=null}function yn(){vr.call(this),this.name="ClickCreating",this.Oi=null,this.m=!0,this.j=!1,this.fw=new pe(0,0)}function gn(){vr.call(this),this.name="DragSelecting",this.Dk=175,this.m=!1;var e=new vc;e.layerName="Tool",e.selectable=!1;var t=new cu;t.name="SHAPE",t.figure="Rectangle",t.fill=null,t.stroke="magenta",e.add(t),this.j=e}function vn(){vr.call(this),this.name="Panning",this.St=new pe,this.ty=new pe,this.tg=!1;var e=this;this.Dw=function(){var t=e.diagram;null!==t&&t.removeEventListener(y.document,"scroll",e.Dw,!1),e.stopTool()}}function bn(){this.F=this.u=this.j=this.m=null}function xn(e,t,r){this.text=e,this.$w=t,this.visible=r}function wn(){vr.call(this),this.name="ContextMenu",this.m=this.$s=this.j=null,this.rw=new pe,this.bt=null,this.xt=!1;var e=this;this.ou=function(){e.stopTool()}}function Sn(e){return e.preventDefault(),!1}function kn(e){var t=e.diagram;if(e.isActive){var r=e.currentContextMenu;if(null!==r){if(!(r instanceof bn)){var n=t.ec(t.lastInput.documentPoint,null,null);null!==n&&n.ng(r)&&e.standardMouseClick(null,null)}e.stopTool(),e.canStart()&&(t.currentTool=e,e.doMouseUp())}}else e.canStart()&&(_n(e,!0),e.isActive||e.stopTool())}function _n(e,t,r){if(void 0===r&&(r=null),!e.xt&&(e.xt=!0,t&&e.standardMouseSelect(),t=e.standardMouseClick(),e.xt=!1,!t)){if(e.isActive=!0,t=jn,null===r&&(r=e.findObjectWithContextMenu()),null!==r){var n=r.contextMenu;null!==n?(e.currentObject=r instanceof Aa?r:null,e.showContextMenu(n,e.currentObject)):null!==t&&e.showContextMenu(t,e.currentObject)}else null!==t&&e.showContextMenu(t,null);e.currentContextMenu instanceof Vc&&!e.currentContextMenu.visible&&e.stopTool()}}an.className="LinkReshapingTool",an.None=ln,an.Horizontal=un,an.Vertical=cn,an.All=hn,R("linkReshapingTool",(function(){return this.findTool("LinkReshaping")}),(function(e){this.gb("LinkReshaping",e,this.mouseDownTools)})),h(dn,vr),dn.prototype.updateAdornments=function(e){if(!(null===e||e instanceof vh)){if(e.isSelected&&!this.diagram.isReadOnly){var t=e.resizeObject,r=e.Nj(this.name);if(null!==t&&e.canResize()&&e.actualBounds.w()&&e.isVisible()&&t.actualBounds.w()&&t.Nd()&&(null!==r&&r.adornedObject===t||(r=this.makeAdornment(t)),null!==r))return t=t.ii(),Dc(e)&&this.updateResizeHandles(r,t),void e.Wg(this.name,r)}e.Gf(this.name)}},dn.prototype.makeAdornment=function(e){var t=e.part.resizeAdornmentTemplate;if(null===t){(t=new Vc).type=kl.Spot,t.locationSpot=rt;var r=new gh;r.isPanelMain=!0,t.add(r),t.add(this.makeHandle(e,Je)),t.add(this.makeHandle(e,et)),t.add(this.makeHandle(e,at)),t.add(this.makeHandle(e,it)),t.add(this.makeHandle(e,Ct)),t.add(this.makeHandle(e,Tt)),t.add(this.makeHandle(e,Et)),t.add(this.makeHandle(e,Pt))}else if(Vl(t),null===(t=t.copy()))return null;return t.adornedObject=e,t},dn.prototype.makeHandle=function(e,t){return null===(e=this.handleArchetype)?null:((e=e.copy()).alignment=t,e)},dn.prototype.updateResizeHandles=function(e,t){if(null!==e)if(!e.alignment.Tb()&&("pointer"===e.cursor||0<e.cursor.indexOf("resize")))e:{var r=e.alignment;if(r.Jc()&&(r=rt),0>=r.x)t=0>=r.y?t+225:1<=r.y?t+135:t+180;else if(1<=r.x)0>=r.y?t+=315:1<=r.y&&(t+=45);else if(0>=r.y)t+=270;else{if(!(1<=r.y))break e;t+=90}0>t?t+=360:360<=t&&(t-=360),e.cursor=22.5>t?"e-resize":67.5>t?"se-resize":112.5>t?"s-resize":157.5>t?"sw-resize":202.5>t?"w-resize":247.5>t?"nw-resize":292.5>t?"n-resize":337.5>t?"ne-resize":"e-resize"}else if(e instanceof kl)for(e=e.elements;e.next();)this.updateResizeHandles(e.value,t)},dn.prototype.canStart=function(){if(!this.isEnabled)return!1;var e=this.diagram;return!(e.isReadOnly||!e.allowResize||!e.lastInput.left)&&null!==this.findToolHandleAt(e.firstInput.documentPoint,this.name)},dn.prototype.doActivate=function(){var e=this.diagram;null===this.handle&&(this.handle=this.findToolHandleAt(e.firstInput.documentPoint,this.name)),null!==this.handle&&(this.adornedObject=this.handle.part.adornedObject,null!==this.adornedObject&&(e.isMouseCaptured=!0,e.animationManager.zc(),this.Ea(this.name),this.Qq.set(this.adornedObject.ja(this.handle.alignment.cv())),this.Pn.set(this.adornedObject.part.location),this.ww.set(this.adornedObject.desiredSize),this.it=this.computeCellSize(),this.kt=this.computeMinSize(),this.jt=this.computeMaxSize(),this.isActive=!0))},dn.prototype.doDeactivate=function(){var e=this.diagram;this.stopTransaction(),this.qe=this.handle=null,this.isActive=e.isMouseCaptured=!1},dn.prototype.stopTransaction=function(){var e=this.diagram,t=vr.prototype.stopTransaction.call(this);return t&&null!==e.undoManager.transactionToUndo&&e.undoManager.transactionToUndo.Yj(),t},dn.prototype.doCancel=function(){null!==this.adornedObject&&(this.adornedObject.desiredSize=this.originalDesiredSize,this.adornedObject.part.location=this.originalLocation),this.stopTool()},dn.prototype.doMouseMove=function(){var e=this.diagram;if(this.isActive){var t=this.kt,r=this.jt,n=this.it,i=this.adornedObject.js(e.lastInput.documentPoint,pe.alloc()),o=this.computeReshape();t=this.computeResize(i,this.handle.alignment,t,r,n,o),this.resize(t),e.Wc(),pe.free(i)}},dn.prototype.doMouseUp=function(){var e=this.diagram;if(this.isActive){var t=this.kt,r=this.jt,n=this.it,i=this.adornedObject.js(e.lastInput.documentPoint,pe.alloc()),o=this.computeReshape();t=this.computeResize(i,this.handle.alignment,t,r,n,o),this.resize(t),pe.free(i),e.Xa(),this.transactionResult=this.name,e.R("PartResized",this.adornedObject,this.originalDesiredSize)}this.stopTool()},dn.prototype.resize=function(e){var t=this.diagram,r=this.adornedObject;if(null!==r){if(r.desiredSize=e.size,(e=r.part).Va(),r=r.ja(this.handle.alignment.cv()),e instanceof dh){var n=new Z;if(n.add(e),!this.dragsMembers&&null===e.placeholder){var i=new Sa;i.dragsMembers=!1}t.moveParts(n,this.oppositePoint.copy().ne(r),!0,i)}else e.location=e.location.copy().ne(r).add(this.oppositePoint);t.Wc()}},dn.prototype.computeResize=function(e,t,r,n,i,o){t.Jc()&&(t=rt);var a=this.adornedObject.naturalBounds,s=a.x,l=a.y,u=a.x+a.width,c=a.y+a.height,h=1;if(!o){h=a.width;var d=a.height;0>=h&&(h=1),0>=d&&(d=1),h=d/h}return d=pe.alloc(),Gt.Jo(e.x,e.y,s,l,i.width,i.height,d),e=a.copy(),0>=t.x?0>=t.y?(e.x=Math.max(d.x,u-n.width),e.x=Math.min(e.x,u-r.width),e.width=Math.max(u-e.x,r.width),e.y=Math.max(d.y,c-n.height),e.y=Math.min(e.y,c-r.height),e.height=Math.max(c-e.y,r.height),o||(1<=e.height/e.width?(e.height=Math.max(Math.min(h*e.width,n.height),r.height),e.width=e.height/h):(e.width=Math.max(Math.min(e.height/h,n.width),r.width),e.height=h*e.width),e.x=u-e.width,e.y=c-e.height)):1<=t.y?(e.x=Math.max(d.x,u-n.width),e.x=Math.min(e.x,u-r.width),e.width=Math.max(u-e.x,r.width),e.height=Math.max(Math.min(d.y-l,n.height),r.height),o||(1<=e.height/e.width?(e.height=Math.max(Math.min(h*e.width,n.height),r.height),e.width=e.height/h):(e.width=Math.max(Math.min(e.height/h,n.width),r.width),e.height=h*e.width),e.x=u-e.width)):(e.x=Math.max(d.x,u-n.width),e.x=Math.min(e.x,u-r.width),e.width=u-e.x,o||(e.height=Math.max(Math.min(h*e.width,n.height),r.height),e.width=e.height/h,e.y=l+.5*(c-l-e.height))):1<=t.x?0>=t.y?(e.width=Math.max(Math.min(d.x-s,n.width),r.width),e.y=Math.max(d.y,c-n.height),e.y=Math.min(e.y,c-r.height),e.height=Math.max(c-e.y,r.height),o||(1<=e.height/e.width?(e.height=Math.max(Math.min(h*e.width,n.height),r.height),e.width=e.height/h):(e.width=Math.max(Math.min(e.height/h,n.width),r.width),e.height=h*e.width),e.y=c-e.height)):1<=t.y?(e.width=Math.max(Math.min(d.x-s,n.width),r.width),e.height=Math.max(Math.min(d.y-l,n.height),r.height),o||(1<=e.height/e.width?(e.height=Math.max(Math.min(h*e.width,n.height),r.height),e.width=e.height/h):(e.width=Math.max(Math.min(e.height/h,n.width),r.width),e.height=h*e.width))):(e.width=Math.max(Math.min(d.x-s,n.width),r.width),o||(e.height=Math.max(Math.min(h*e.width,n.height),r.height),e.width=e.height/h,e.y=l+.5*(c-l-e.height))):0>=t.y?(e.y=Math.max(d.y,c-n.height),e.y=Math.min(e.y,c-r.height),e.height=c-e.y,o||(e.width=Math.max(Math.min(e.height/h,n.width),r.width),e.height=h*e.width,e.x=s+.5*(u-s-e.width))):1<=t.y&&(e.height=Math.max(Math.min(d.y-l,n.height),r.height),o||(e.width=Math.max(Math.min(e.height/h,n.width),r.width),e.height=h*e.width,e.x=s+.5*(u-s-e.width))),pe.free(d),e},dn.prototype.computeReshape=function(){var e=ha;return this.adornedObject instanceof cu&&(e=fu(this.adornedObject)),!(e===da||this.diagram.lastInput.shift)},dn.prototype.computeMinSize=function(){var e=this.adornedObject.minSize.copy(),t=this.minSize;return!isNaN(t.width)&&t.width>e.width&&(e.width=t.width),!isNaN(t.height)&&t.height>e.height&&(e.height=t.height),e},dn.prototype.computeMaxSize=function(){var e=this.adornedObject.maxSize.copy(),t=this.maxSize;return!isNaN(t.width)&&t.width<e.width&&(e.width=t.width),!isNaN(t.height)&&t.height<e.height&&(e.height=t.height),e},dn.prototype.computeCellSize=function(){var e=new Ee(NaN,NaN),t=this.adornedObject.part;return null!==t&&(t=t.resizeCellSize,!isNaN(t.width)&&0<t.width&&(e.width=t.width),!isNaN(t.height)&&0<t.height&&(e.height=t.height)),t=this.cellSize,isNaN(e.width)&&!isNaN(t.width)&&0<t.width&&(e.width=t.width),isNaN(e.height)&&!isNaN(t.height)&&0<t.height&&(e.height=t.height),t=this.diagram,(isNaN(e.width)||isNaN(e.height))&&t&&(null!==(t=t.grid)&&t.visible&&this.isGridSnapEnabled&&(t=t.gridCellSize,isNaN(e.width)&&!isNaN(t.width)&&0<t.width&&(e.width=t.width),isNaN(e.height)&&!isNaN(t.height)&&0<t.height&&(e.height=t.height))),(isNaN(e.width)||0===e.width||1/0===e.width)&&(e.width=1),(isNaN(e.height)||0===e.height||1/0===e.height)&&(e.height=1),e},d.Object.defineProperties(dn.prototype,{handleArchetype:{get:function(){return this.F},set:function(e){this.F=e}},handle:{get:function(){return this.u},set:function(e){if(null!==e&&!(e.part instanceof Vc))throw Error("new handle is not in an Adornment: "+e);this.u=e}},adornedObject:{get:function(){return this.qe},set:function(e){if(null!==e&&e.part instanceof Vc)throw Error("new handle must not be in an Adornment: "+e);this.qe=e}},minSize:{get:function(){return this.m},set:function(e){if(!this.m.C(e)){var t=e.width;isNaN(t)&&(t=0),e=e.height,isNaN(e)&&(e=0),this.m.h(t,e)}}},maxSize:{get:function(){return this.j},set:function(e){if(!this.j.C(e)){var t=e.width;isNaN(t)&&(t=1/0),e=e.height,isNaN(e)&&(e=1/0),this.j.h(t,e)}}},cellSize:{get:function(){return this.ug},set:function(e){this.ug.C(e)||this.ug.assign(e)}},isGridSnapEnabled:{get:function(){return this.V},set:function(e){this.V=e}},dragsMembers:{get:function(){return this.ga},set:function(e){this.ga=e}},oppositePoint:{get:function(){return this.Qq},set:function(e){this.Qq.C(e)||this.Qq.assign(e)}},originalDesiredSize:{get:function(){return this.ww}},originalLocation:{get:function(){return this.Pn}}}),dn.className="ResizingTool",R("resizingTool",(function(){return this.findTool("Resizing")}),(function(e){this.gb("Resizing",e,this.mouseDownTools)})),h(fn,vr),fn.prototype.updateAdornments=function(e){if(null!==e){if(e.kh()){var t=e.rotateObject;if(t===e||t===e.path||t.isPanelMain)return}if(e.isSelected&&!this.diagram.isReadOnly&&(null!==(t=e.rotateObject)&&e.canRotate()&&e.actualBounds.w()&&e.isVisible()&&t.actualBounds.w()&&t.Nd())){var r=e.Nj(this.name);if(null!==r&&r.adornedObject===t||(r=this.makeAdornment(t)),null!==r)return r.angle=t.ii(),null===r.placeholder&&(r.location=this.computeAdornmentLocation(t)),void e.Wg(this.name,r)}e.Gf(this.name)}},fn.prototype.makeAdornment=function(e){var t=e.part.rotateAdornmentTemplate;if(null===t){(t=new Vc).type=kl.Position,t.locationSpot=rt;var r=this.handleArchetype;null!==r&&t.add(r.copy())}else if(Vl(t),null===(t=t.copy()))return null;return t.adornedObject=e,t},fn.prototype.canStart=function(){if(!this.isEnabled)return!1;var e=this.diagram;return!(e.isReadOnly||!e.allowRotate||!e.lastInput.left)&&null!==this.findToolHandleAt(e.firstInput.documentPoint,this.name)},fn.prototype.doActivate=function(){var e=this.diagram;if(null===this.adornedObject){if(null===this.handle&&(this.handle=this.findToolHandleAt(e.firstInput.documentPoint,this.name)),null===this.handle)return;this.adornedObject=this.handle.part.adornedObject}null!==this.adornedObject&&(e.isMouseCaptured=!0,e.delaysLayout=!0,this.Ea(this.name),this.vw=this.adornedObject.angle,this.dr=this.computeRotationPoint(this.adornedObject),this.Pn=this.adornedObject.part.location.copy(),this.isActive=!0)},fn.prototype.computeRotationPoint=function(e){var t=e.part,r=t.locationObject;return t.rotationSpot.tb()?e.ja(t.rotationSpot):e===t||e===r?r.ja(t.locationSpot):e.ja(rt)},fn.prototype.computeAdornmentLocation=function(e){var t=this.rotationPoint;t.w()||(t=this.computeRotationPoint(e)),t=e.js(t);var r=this.handleAngle;0>r?r+=360:360<=r&&(r-=360),r=Math.round(45*Math.round(r/45));var n=this.handleDistance;return 0===r?t.x=e.naturalBounds.width+n:45===r?(t.x=e.naturalBounds.width+n,t.y=e.naturalBounds.height+n):90===r?t.y=e.naturalBounds.height+n:135===r?(t.x=-n,t.y=e.naturalBounds.height+n):180===r?t.x=-n:225===r?(t.x=-n,t.y=-n):270===r?t.y=-n:315===r&&(t.x=e.naturalBounds.width+n,t.y=-n),e.ja(t)},fn.prototype.doDeactivate=function(){var e=this.diagram;this.stopTransaction(),this.qe=this.handle=null,this.dr=new pe(NaN,NaN),this.isActive=e.isMouseCaptured=!1},fn.prototype.stopTransaction=function(){var e=this.diagram,t=vr.prototype.stopTransaction.call(this);return t&&null!==e.undoManager.transactionToUndo&&e.undoManager.transactionToUndo.Yj(),t},fn.prototype.doCancel=function(){this.diagram.delaysLayout=!1,this.rotate(this.originalAngle),this.stopTool()},fn.prototype.doMouseMove=function(){var e=this.diagram;this.isActive&&(e=this.computeRotate(e.lastInput.documentPoint),this.rotate(e))},fn.prototype.doMouseUp=function(){var e=this.diagram;if(this.isActive){e.delaysLayout=!1;var t=this.computeRotate(e.lastInput.documentPoint);this.rotate(t),e.Xa(),this.transactionResult=this.name,e.R("PartRotated",this.adornedObject,this.originalAngle)}this.stopTool()},fn.prototype.rotate=function(e){var t=this.adornedObject;if(null!==t){t.angle=e,(t=t.part).Va();var r=t.locationObject,n=t.rotateObject;(r===n||r.ng(n))&&(r=this.Pn.copy(),t.location=r.ne(this.rotationPoint).rotate(e-this.originalAngle).add(this.rotationPoint)),this.diagram.Wc()}},fn.prototype.computeRotate=function(e){e=this.rotationPoint.$a(e)-this.handleAngle;var t=this.adornedObject.panel;null!==t&&(e-=t.ii()),360<=e?e-=360:0>e&&(e+=360),t=Math.min(Math.abs(this.snapAngleMultiple),180);var r=Math.min(Math.abs(this.snapAngleEpsilon),t/2);return!this.diagram.lastInput.shift&&0<t&&0<r&&(e%t<r?e=Math.floor(e/t)*t:e%t>t-r&&(e=(Math.floor(e/t)+1)*t)),360<=e?e-=360:0>e&&(e+=360),e},d.Object.defineProperties(fn.prototype,{handleArchetype:{get:function(){return this.m},set:function(e){this.m=e}},handle:{get:function(){return this.j},set:function(e){if(null!==e&&!(e.part instanceof Vc))throw Error("new handle is not in an Adornment: "+e);this.j=e}},adornedObject:{get:function(){return this.qe},set:function(e){if(null!==e&&e.part instanceof Vc)throw Error("new handle must not be in an Adornment: "+e);this.qe=e}},snapAngleMultiple:{get:function(){return this.ga},set:function(e){this.ga=e}},snapAngleEpsilon:{get:function(){return this.V},set:function(e){this.V=e}},originalAngle:{get:function(){return this.vw}},rotationPoint:{get:function(){return this.dr},set:function(e){this.dr=e.copy()}},handleAngle:{get:function(){return this.u},set:function(e){this.u=e}},handleDistance:{get:function(){return this.F},set:function(e){this.F=e}}}),fn.className="RotatingTool",R("rotatingTool",(function(){return this.findTool("Rotating")}),(function(e){this.gb("Rotating",e,this.mouseDownTools)})),h(pn,vr),pn.prototype.canStart=function(){return!(!this.isEnabled||this.isBeyondDragSize())},pn.prototype.doMouseUp=function(){this.isActive&&(this.standardMouseSelect(),!this.standardMouseClick()&&this.diagram.lastInput.isTouchEvent&&this.diagram.toolManager.doToolTip()),this.stopTool()},pn.className="ClickSelectingTool",h(mn,vr),mn.prototype.canStart=function(){if(!this.isEnabled)return!1;var e=this.diagram,t=e.lastInput,r=e.ec(t.documentPoint,(function(e){for(;null!==e.panel&&!e.isActionable;)e=e.panel;return e}));return null!==r&&(!!r.isActionable&&(this.jk=r,e.xk=e.ec(t.documentPoint,null,null),!0))},mn.prototype.doMouseDown=function(){if(this.isActive){var e=this.diagram.lastInput,t=this.jk;null!==t&&(e.targetObject=t,null!==t.actionDown&&t.actionDown(e,t))}else this.canStart()&&this.doActivate()},mn.prototype.doMouseMove=function(){if(this.isActive){var e=this.diagram.lastInput,t=this.jk;null!==t&&(e.targetObject=t,null!==t.actionMove&&t.actionMove(e,t))}},mn.prototype.doMouseUp=function(){if(this.isActive){var e=this.diagram.lastInput,t=this.jk;if(null===t)return;e.targetObject=t,null!==t.actionUp&&t.actionUp(e,t),this.standardMouseClick((function(e){for(;null!==e.panel&&(!e.isActionable||e!==t);)e=e.panel;return e}),(function(e){return e===t}))}this.stopTool()},mn.prototype.doCancel=function(){var e=this.diagram.lastInput,t=this.jk;null!==t&&(e.targetObject=t,null!==t.actionCancel&&t.actionCancel(e,t),this.stopTool())},mn.prototype.doStop=function(){this.jk=null},mn.className="ActionTool",h(yn,vr),yn.prototype.canStart=function(){if(!this.isEnabled||null===this.archetypeNodeData)return!1;var e=this.diagram;if(e.isReadOnly||e.isModelReadOnly||!e.allowInsert||!e.lastInput.left||this.isBeyondDragSize())return!1;if(this.isDoubleClick){if(1===e.lastInput.clickCount&&(this.fw=e.lastInput.viewPoint.copy()),2!==e.lastInput.clickCount||this.isBeyondDragSize(this.fw))return!1}else if(1!==e.lastInput.clickCount)return!1;return e.currentTool===this||null===e.Jl(e.lastInput.documentPoint,!0)},yn.prototype.doMouseUp=function(){var e=this.diagram;this.isActive&&this.insertPart(e.lastInput.documentPoint),this.stopTool()},yn.prototype.insertPart=function(e){var t=this.diagram,r=this.archetypeNodeData;if(null===r)return null;var n=null;try{if(t.R("ChangingSelection",t.selection),this.Ea(this.name),r instanceof vc)r.Uc()&&(Vl(r),null!==(n=r.copy())&&t.add(n));else if(null!==r){var i=t.model.copyNodeData(r);j(i)&&(t.model.uf(i),n=t.Ic(i))}if(null!==n){var o=pe.allocAt(e.x,e.y);this.isGridSnapEnabled&&uo(this.diagram,n,e,o),n.location=o,t.allowSelect&&(t.clearSelection(!0),n.isSelected=!0),pe.free(o)}t.Xa(),this.transactionResult=this.name,t.R("PartCreated",n)}finally{this.stopTransaction(),t.R("ChangedSelection",t.selection)}return n},d.Object.defineProperties(yn.prototype,{archetypeNodeData:{get:function(){return this.Oi},set:function(e){this.Oi=e}},isDoubleClick:{get:function(){return this.m},set:function(e){this.m=e}},isGridSnapEnabled:{get:function(){return this.j},set:function(e){this.j=e}}}),yn.className="ClickCreatingTool",h(gn,vr),gn.prototype.canStart=function(){if(!this.isEnabled)return!1;var e=this.diagram;if(!e.allowSelect)return!1;var t=e.lastInput;return!(!t.left||e.currentTool!==this&&(!this.isBeyondDragSize()||t.timestamp-e.firstInput.timestamp<this.delay||null!==e.Jl(t.documentPoint,!0)))},gn.prototype.doActivate=function(){var e=this.diagram;this.isActive=!0,e.isMouseCaptured=!0,e.skipsUndoManager=!0,e.add(this.box),this.doMouseMove()},gn.prototype.doDeactivate=function(){var e=this.diagram;e.qg(),e.remove(this.box),e.skipsUndoManager=!1,this.isActive=e.isMouseCaptured=!1},gn.prototype.doMouseMove=function(){var e=this.diagram;if(this.isActive&&null!==this.box){var t=this.computeBoxBounds(),r=this.box.fb("SHAPE");null===r&&(r=this.box.sb());var n=Ee.alloc().h(t.width,t.height);r.desiredSize=n,this.box.jm(t.x,t.y,!1),Ee.free(n),(e.allowHorizontalScroll||e.allowVerticalScroll)&&e.Zr(e.lastInput.viewPoint)}},gn.prototype.doMouseUp=function(){if(this.isActive){var e=this.diagram;e.remove(this.box);try{e.currentCursor="wait",e.R("ChangingSelection",e.selection),this.selectInRect(this.computeBoxBounds()),e.R("ChangedSelection",e.selection)}finally{e.currentCursor=""}}this.stopTool()},gn.prototype.computeBoxBounds=function(){var e=this.diagram;return new Ne(e.firstInput.documentPoint,e.lastInput.documentPoint)},gn.prototype.selectInRect=function(e){var t=this.diagram,r=t.lastInput;if(e=t.nx(e,this.isPartialInclusion),F?r.meta:r.control)if(r.shift)for(e=e.iterator;e.next();)(t=e.value).isSelected&&(t.isSelected=!1);else for(e=e.iterator;e.next();)(t=e.value).isSelected=!t.isSelected;else if(r.shift)for(e=e.iterator;e.next();)(t=e.value).isSelected||(t.isSelected=!0);else{for(r=new Z,t=t.selection.iterator;t.next();){var n=t.value;e.contains(n)||r.add(n)}for(t=r.iterator;t.next();)t.value.isSelected=!1;for(e=e.iterator;e.next();)(t=e.value).isSelected||(t.isSelected=!0)}},d.Object.defineProperties(gn.prototype,{delay:{get:function(){return this.Dk},set:function(e){this.Dk=e}},isPartialInclusion:{get:function(){return this.m},set:function(e){this.m=e}},box:{get:function(){return this.j},set:function(e){this.j=e}}}),gn.className="DragSelectingTool",h(vn,vr),vn.prototype.canStart=function(){if(!this.isEnabled)return!1;var e=this.diagram;return!(!e.allowHorizontalScroll&&!e.allowVerticalScroll||!e.lastInput.left||e.currentTool!==this&&!this.isBeyondDragSize())},vn.prototype.doActivate=function(){var e=this.diagram;this.tg?(e.lastInput.bubbles=!0,e.addEventListener(y.document,"scroll",this.Dw,!1)):(e.currentCursor="move",e.isMouseCaptured=!0,this.St.assign(e.position)),this.isActive=!0},vn.prototype.doDeactivate=function(){var e=this.diagram;e.currentCursor="",this.isActive=e.isMouseCaptured=!1},vn.prototype.doCancel=function(){var e=this.diagram;e.position=this.St,e.isMouseCaptured=!1,this.stopTool()},vn.prototype.doMouseMove=function(){this.move()},vn.prototype.doMouseUp=function(){this.move(),this.stopTool()},vn.prototype.move=function(){var e=this.diagram;if(this.isActive&&e)if(this.tg)e.lastInput.bubbles=!0;else{var t=e.position,r=e.firstInput.documentPoint,n=e.lastInput.documentPoint,i=t.x+r.x-n.x;r=t.y+r.y-n.y,e.allowHorizontalScroll||(i=t.x),e.allowVerticalScroll||(r=t.y),e.position=this.ty.h(i,r)}},d.Object.defineProperties(vn.prototype,{bubbles:{get:function(){return this.tg},set:function(e){this.tg=e}},originalPosition:{get:function(){return this.St}}}),vn.className="PanningTool",R("clickCreatingTool",(function(){return this.findTool("ClickCreating")}),(function(e){this.gb("ClickCreating",e,this.mouseUpTools)})),R("clickSelectingTool",(function(){return this.findTool("ClickSelecting")}),(function(e){this.gb("ClickSelecting",e,this.mouseUpTools)})),R("panningTool",(function(){return this.findTool("Panning")}),(function(e){this.gb("Panning",e,this.mouseMoveTools)})),R("dragSelectingTool",(function(){return this.findTool("DragSelecting")}),(function(e){this.gb("DragSelecting",e,this.mouseMoveTools)})),R("actionTool",(function(){return this.findTool("Action")}),(function(e){this.gb("Action",e,this.mouseDownTools)})),d.Object.defineProperties(bn.prototype,{mainElement:{get:function(){return this.u},set:function(e){this.u=e}},show:{get:function(){return this.m},set:function(e){this.m!==e&&(this.m=e)}},hide:{get:function(){return this.j},set:function(e){this.j!==e&&(this.j=e)}},valueFunction:{get:function(){return this.F},set:function(e){this.F=e}}}),bn.className="HTMLInfo",xn.className="ContextMenuButtonInfo",h(wn,vr),wn.prototype.canStart=function(){if(!this.isEnabled)return!1;var e=this.diagram;return!(this.isBeyondDragSize()||!e.lastInput.right||1<e.lastInput.clickCount)&&!!(e.lastInput.isTouchEvent&&null!==this.defaultTouchContextMenu||null!==this.findObjectWithContextMenu())},wn.prototype.doStart=function(){this.rw.set(this.diagram.firstInput.documentPoint)},wn.prototype.doStop=function(){this.hideContextMenu(),this.currentObject=null},wn.prototype.findObjectWithContextMenu=function(e){void 0===e&&(e=null);var t=this.diagram,r=t.lastInput,n=null;if(e instanceof Mi||(n=e instanceof Aa?e:t.ec(r.documentPoint,null,(function(e){return!e.layer.isTemporary}))),null!==n){for(e=n;null!==e;){if(null!==e.contextMenu)return e;e=e.panel}if(t.lastInput.isTouchEvent&&this.defaultTouchContextMenu)return n.part}else if(null!==t.contextMenu)return t;return null},wn.prototype.doActivate=function(){},wn.prototype.doMouseDown=function(){if(vr.prototype.doMouseDown.call(this),this.isActive&&this.currentContextMenu instanceof Vc){var e=this.diagram.toolManager.findTool("Action");null!==e&&e.canStart()&&(e.doActivate(),e.doMouseDown(),e.doDeactivate())}this.diagram.toolManager.mouseDownTools.contains(this)&&kn(this)},wn.prototype.doMouseUp=function(){if(this.isActive&&this.currentContextMenu instanceof Vc){var e=this.diagram.toolManager.findTool("Action");null!==e&&e.canStart()&&(e.doActivate(),e.doCancel(),e.doDeactivate())}kn(this)},wn.prototype.doMouseMove=function(){var e=this.diagram.toolManager.findTool("Action");null!==e&&e.doMouseMove(),this.isActive&&this.diagram.toolManager.doMouseMove()},wn.prototype.showContextMenu=function(e,t){var r=this.diagram;if(e!==this.currentContextMenu&&this.hideContextMenu(),e instanceof Vc){e.layerName="Tool",e.selectable=!1,e.scale=1/r.scale,e.category=this.name,null!==e.placeholder&&(e.placeholder.scale=r.scale);var n=e.diagram;null!==n&&n!==r&&n.remove(e),r.add(e),null!==t?e.adornedObject=t:e.data=r.model,e.Va(),this.positionContextMenu(e,t)}else e instanceof bn&&e.show(t,r,this);this.currentContextMenu=e},wn.prototype.positionContextMenu=function(e){if(null===e.placeholder){var t=this.diagram,r=t.lastInput.documentPoint.copy(),n=e.measuredBounds,i=t.viewportBounds;t.lastInput.isTouchEvent&&(r.x-=n.width),r.x+n.width>i.right&&(r.x-=n.width+5/t.scale),r.x<i.x&&(r.x=i.x),r.y+n.height>i.bottom&&(r.y-=n.height+5/t.scale),r.y<i.y&&(r.y=i.y),e.position=r}},wn.prototype.hideContextMenu=function(){var e=this.diagram,t=this.currentContextMenu;null!==t&&(t instanceof Vc?(e.remove(t),null!==this.$s&&this.$s.Gf(t.category),t.data=null,t.adornedObject=null):t instanceof bn&&(null!==t.hide?t.hide(e,this):null!==t.mainElement&&(t.mainElement.style.display="none")),this.currentContextMenu=null,this.standardMouseOver())},wn.prototype.showDefaultContextMenu=function(){var e=this.diagram;null===this.bt&&(this.bt=function(e){var t=new Z;return t.add(new xn("Copy",(function(e){e.commandHandler.copySelection()}),(function(e){return e.commandHandler.canCopySelection()}))),t.add(new xn("Cut",(function(e){e.commandHandler.cutSelection()}),(function(e){return e.commandHandler.canCutSelection()}))),t.add(new xn("Delete",(function(e){e.commandHandler.deleteSelection()}),(function(e){return e.commandHandler.canDeleteSelection()}))),t.add(new xn("Paste",(function(t){t.commandHandler.pasteSelection(e.mouseDownPoint)}),(function(t){return t.commandHandler.canPasteSelection(e.mouseDownPoint)}))),t.add(new xn("Select All",(function(e){e.commandHandler.selectAll()}),(function(e){return e.commandHandler.canSelectAll()}))),t.add(new xn("Undo",(function(e){e.commandHandler.undo()}),(function(e){return e.commandHandler.canUndo()}))),t.add(new xn("Redo",(function(e){e.commandHandler.redo()}),(function(e){return e.commandHandler.canRedo()}))),t.add(new xn("Scroll To Part",(function(e){e.commandHandler.scrollToPart()}),(function(e){return e.commandHandler.canScrollToPart()}))),t.add(new xn("Zoom To Fit",(function(e){e.commandHandler.zoomToFit()}),(function(e){return e.commandHandler.canZoomToFit()}))),t.add(new xn("Reset Zoom",(function(e){e.commandHandler.resetZoom()}),(function(e){return e.commandHandler.canResetZoom()}))),t.add(new xn("Group Selection",(function(e){e.commandHandler.groupSelection()}),(function(e){return e.commandHandler.canGroupSelection()}))),t.add(new xn("Ungroup Selection",(function(e){e.commandHandler.ungroupSelection()}),(function(e){return e.commandHandler.canUngroupSelection()}))),t.add(new xn("Edit Text",(function(e){e.commandHandler.editTextBlock()}),(function(e){return e.commandHandler.canEditTextBlock()}))),t}(this)),Pn.innerHTML="",Cn.addEventListener("pointerdown",this.ou,!1);var t=this,r=x("ul");r.className="goCXul",Pn.appendChild(r),r.innerHTML="";for(var n=this.bt.iterator;n.next();){var i=n.value,o=i.visible;if("function"===typeof i.$w&&("function"!==typeof o||o(e))){(o=x("li")).className="goCXli";var a=x("a");a.className="goCXa",a.href="#",a.gy=i.$w,a.addEventListener("pointerdown",(function(r){return this.gy(e),t.stopTool(),r.preventDefault(),!1}),!1),a.textContent=i.text,o.appendChild(a),r.appendChild(o)}}Pn.style.display="block",Cn.style.display="block"},wn.prototype.hideDefaultContextMenu=function(){if(null!==this.currentContextMenu&&this.currentContextMenu===jn){Pn.style.display="none",Cn.style.display="none";var e=this.diagram;null!==e&&e.removeEventListener(Cn,"pointerdown",this.ou,!1),this.currentContextMenu=null}},d.Object.defineProperties(wn.prototype,{currentContextMenu:{get:function(){return this.j},set:function(e){this.j=e,this.$s=e instanceof Vc?e.adornedPart:null}},defaultTouchContextMenu:{get:function(){return!1===Mn&&null===jn&&Bo&&function(e){var t=new bn;t.show=function(e,t,r){r.showDefaultContextMenu()},t.hide=function(e,t){t.hideDefaultContextMenu()},jn=t,e.ou=function(){e.stopTool()},t=x("div");var r=x("div");t.style.cssText="top: 0px;z-index:10002;position: fixed;display: none;text-align: center;left: 25%;width: 50%;background-color: #F5F5F5;padding: 16px;border: 16px solid #444;border-radius: 10px;margin-top: 10px",r.style.cssText="z-index:10001;position: fixed;display: none;top: 0;left: 0;width: 100%;height: 100%;background-color: black;opacity: 0.8;";var n=x("style");y.document.getElementsByTagName("head")[0].appendChild(n),n.sheet.insertRule(".goCXul { list-style: none; }",0),n.sheet.insertRule(".goCXli {font:700 1.5em Helvetica, Arial, sans-serif;position: relative;min-width: 60px; }",0),n.sheet.insertRule(".goCXa {color: #444;display: inline-block;padding: 4px;text-decoration: none;margin: 2px;border: 1px solid gray;border-radius: 10px; }",0),null!==(n=e.diagram)&&(n.addEventListener(t,"contextmenu",Sn,!1),n.addEventListener(t,"selectstart",Sn,!1),n.addEventListener(r,"contextmenu",Sn,!1)),t.className="goCXforeground",r.className="goCXbackground",y.document.body&&(y.document.body.appendChild(t),y.document.body.appendChild(r)),Pn=t,Cn=r,Mn=!0}(this),jn},set:function(e){null===e&&(Mn=!0),jn=e}},currentObject:{get:function(){return this.m},set:function(e){this.m=e}},mouseDownPoint:{get:function(){return this.rw}}});var jn=null,Mn=!1,Cn=null,Pn=null;function Tn(){vr.call(this),this.name="TextEditing",this.Wh=new Su,this.ga=null,this.V=Dn,this.tj=null,this.qa=Fn,this.u=1,this.F=!0,this.m=null,this.j=new bn,this.ct=null,function(e,t){if(Bo){var r=x("textarea");e.ct=r,r.addEventListener("input",(function(){if(null!==e.textBlock){var t=e.Gx(this.value);this.style.width=20+t.measuredBounds.width*this.mA+"px",this.rows=t.lineCount}}),!1),r.addEventListener("keydown",(function(t){if(null!==e.textBlock){var r=t.key;"Enter"===r?(!1===e.textBlock.isMultiline&&t.preventDefault(),e.acceptText(Nn)):"Tab"===r?(e.acceptText(Ln),t.preventDefault()):"Escape"===r&&(e.doCancel(),null!==e.diagram&&e.diagram.doFocus())}}),!1),r.addEventListener("focus",(function(){if(null!==e.currentTextEditor&&e.state!==Fn){var t=e.ct;e.qa===Bn&&(e.qa=Un),"function"===typeof t.select&&e.selectsTextOnActivate&&(t.select(),t.setSelectionRange(0,9999))}}),!1),r.addEventListener("blur",(function(){if(null!==e.currentTextEditor&&e.state!==Fn){var t=e.ct;"function"===typeof t.focus&&t.focus(),"function"===typeof t.select&&e.selectsTextOnActivate&&(t.select(),t.setSelectionRange(0,9999))}}),!1),t.valueFunction=function(){return r.value},t.mainElement=r,t.show=function(e,t,n){if(e instanceof Su&&n instanceof Tn)if(n.state===qn)r.style.border="3px solid red",r.focus();else{var i=e.ja(rt),o=t.position,a=t.scale,s=e.Af()*a;s<n.minimumEditorScale&&(s=n.minimumEditorScale);var l=e.naturalBounds.width*s+6,u=e.naturalBounds.height*s+2,c=(i.x-o.x)*a;i=(i.y-o.y)*a,o=e.verticalAlignment,a=(e.lineHeight+e.spacingAbove+e.spacingBelow)*e.lineCount*s,u=o.y*u-o.y*a+o.offsetY-(.5*u-.5*a)-a/2,r.value=e.text,t.div.style.font=e.font,r.style.position="absolute",r.style.zIndex="100",r.style.font="inherit",r.style.fontSize=100*s+"%",r.style.lineHeight="normal",r.style.width=l+"px",r.style.left=(c-l/2|0)-1+"px",r.style.top=(i+u|0)-1+"px",r.style.textAlign=e.textAlign,r.style.margin="0",r.style.padding="1px",r.style.border="0",r.style.outline="none",r.style.whiteSpace="pre-wrap",r.style.overflow="hidden",r.rows=e.lineCount,r.mA=s,r.className="goTXarea",t.div.appendChild(r),r.focus(),n.selectsTextOnActivate&&(r.select(),r.setSelectionRange(0,9999))}},t.hide=function(e){e.div.removeChild(r)}}}(this,this.j)}function En(e){var t=e.textBlock,r=e.diagram,n=e.currentTextEditor;if(null!==t&&null!==n){var i=t.text,o="";null!==n.valueFunction&&(o=n.valueFunction()),e.isValidText(t,i,o)?(e.Ea(e.name),e.qa=Gn,e.transactionResult=e.name,t.text=o,e.doSuccess(i,o),null!==r&&r.R("TextEdited",t,i),e.stopTransaction(),e.stopTool(),null!==r&&r.doFocus()):(e.qa=qn,e.doError(i,o))}}wn.className="ContextMenuTool",R("contextMenuTool",(function(){return this.findTool("ContextMenu")}),(function(e){this.gb("ContextMenu",e,this.mouseUpTools)})),h(Tn,vr),Tn.prototype.canStart=function(){if(!this.isEnabled)return!1;var e=this.diagram;if(null===e||e.isReadOnly||Vn&&Vn!==this&&(Vn.acceptText(An),Vn&&Vn!==this)||!e.lastInput.left||this.isBeyondDragSize())return!1;var t=e.ec(e.lastInput.documentPoint);return!!(null!==t&&t instanceof Su&&t.editable&&t.part.canEdit())&&!(null===(t=t.part)||this.starting===Dn&&!t.isSelected||this.starting===In&&2>e.lastInput.clickCount)},Tn.prototype.doStart=function(){Vn=this,null!==this.textBlock&&this.doActivate()},Tn.prototype.doActivate=function(){if(!this.isActive){var e=this.diagram;if(null!==e){var t=this.textBlock;if(null===t&&(t=e.ec(e.lastInput.documentPoint)),null!==t&&t instanceof Su&&(this.textBlock=t,null!==t.part)){e.animationManager.zc(),this.isActive=!0,this.qa=Bn;var r=this.defaultTextEditor;null!==t.textEditor&&(r=t.textEditor),this.Wh=this.textBlock.copy();var n=new Ne(this.textBlock.ja(Je),this.textBlock.ja(at));e.ov(n),r.show(t,e,this),this.currentTextEditor=r}}}},Tn.prototype.doCancel=function(){this.stopTool()},Tn.prototype.doMouseUp=function(){this.canStart()&&this.doActivate()},Tn.prototype.doMouseDown=function(){this.isActive&&this.acceptText(An)},Tn.prototype.acceptText=function(e){switch(e){case An:this.qa===Gn?this.currentTextEditor instanceof HTMLElement&&this.currentTextEditor.focus():this.qa!==Bn&&this.qa!==qn&&this.qa!==Un||(this.qa=zn,En(this));break;case On:case Nn:case Ln:Nn===e&&!0===this.textBlock.isMultiline||this.qa!==Bn&&this.qa!==qn&&this.qa!==Un||(this.qa=zn,En(this))}},Tn.prototype.doError=function(e,t){var r=this.textBlock;null!==r.errorFunction&&r.errorFunction(this,e,t),(e=this.currentTextEditor)&&e.show(r,this.diagram,this)},Tn.prototype.doSuccess=function(e,t){var r=this.textBlock;null!==r.textEdited&&r.textEdited(r,e,t)},Tn.prototype.doDeactivate=function(){var e=this.diagram;null!==e&&(this.qa=Fn,null!==this.currentTextEditor&&this.currentTextEditor.hide(e,this),this.textBlock=null,this.isActive=!1)},Tn.prototype.doStop=function(){Vn=null},Tn.prototype.isValidText=function(e,t,r){var n=this.textValidation;return!(null!==n&&!n(e,t,r))&&!(null!==(n=e.textValidation)&&!n(e,t,r))},Tn.prototype.Gx=function(e){var t=this.Wh;return t.text=e,t.measure(this.textBlock.Eh,1/0),t},d.Object.defineProperties(Tn.prototype,{textBlock:{get:function(){return this.ga},set:function(e){this.ga=e}},currentTextEditor:{get:function(){return this.m},set:function(e){this.m=e}},defaultTextEditor:{get:function(){return this.j},set:function(e){this.j=e}},starting:{get:function(){return this.V},set:function(e){this.V=e}},textValidation:{get:function(){return this.tj},set:function(e){this.tj=e}},minimumEditorScale:{get:function(){return this.u},set:function(e){this.u=e}},selectsTextOnActivate:{get:function(){return this.F},set:function(e){this.F=e}},state:{get:function(){return this.qa},set:function(e){this.qa!==e&&(this.qa=e)}}}),Tn.prototype.measureTemporaryTextBlock=Tn.prototype.Gx;var On=new U(Tn,"LostFocus",0),An=new U(Tn,"MouseDown",1),Ln=new U(Tn,"Tab",2),Nn=new U(Tn,"Enter",3),Rn=new U(Tn,"SingleClick",0),Dn=new U(Tn,"SingleClickSelected",1),In=new U(Tn,"DoubleClick",2),Fn=new U(Tn,"StateNone",0),Bn=new U(Tn,"StateActive",1),Un=new U(Tn,"StateEditing",2),zn=new U(Tn,"StateValidating",3),qn=new U(Tn,"StateInvalid",4),Gn=new U(Tn,"StateValidated",5),Vn=null;function Hn(e){ni||(ti(),ni=!0),this.H=vi,this.Jk=this.zb=this.oq=this.Zb=!1,this.Jw=!0,this.Kk=ii,this.Am=!1,this.Ch=this.Ad=!0,this.zg=600,this.Wv=this.Hw=!1,this.Ud=new J,this.Zd=new si,this.Zd.Td=this,this.Bi=new J,this.ku=new J,this.Kr=new J,this.kl=new J,e&&Object.assign(this,e)}function Wn(e,t){e.Ad&&e.canStart(t)&&(e.Ud.add(t),e.defaultAnimation.isAnimating&&e.zc(),$i(e.H),e.zb=!0)}function Xn(e){if(e.Ad&&e.zb){var t=e.Zd,r=e.H,n=e.Ud.contains("Model");n&&(e.Jk=!0,e.Kk===ii?(t.isViewportUnconstrained=!0,t.sc.clear(),t.add(r,"position",r.position.copy().offset(0,-200),r.position),t.add(r,"opacity",0,1)):e.Kk===ai&&t.sc.clear(),e.Jw=!(e.Kk!==oi||!r.Zt.C(r.pa)),r.R("InitialAnimationStarting",e)),n&&!e.Ch||0===t.sc.count?(e.Ud.clear(),e.zb=!1,t.sc.clear(),li(t,r),e.Jk=!1,r.N()):(e.Ud.clear(),r.gg=!1,n=t.sc.get(r),r.autoScale!==qo&&null!==n&&(delete n.start.scale,delete n.end.scale),y.requestAnimationFrame((function(){!1===e.zb||t.Zb||(r.Df("temporaryPixelRatio")&&Oi(r),Li(r),e.zb=!1,t.start(),t.Zb&&(Zn(e),r.Xa(),di(t,0),Zi(r,!0),$n(e),r.R("AnimationStarting",e)))})))}}function Yn(e){return e.Ud.contains("Trigger")&&1===e.Ud.count}function Kn(e,t,r,n){e.isTicking||Yn(e)||t instanceof vh&&(null!==t.fromNode||null!==t.toNode)||e.Zd.add(t,"position",r,n,!1)}function Zn(e){if(!e.oq){var t=e.H;e.Hw=t.skipsUndoManager,e.Wv=t.skipsModelSourceBindings,t.skipsUndoManager=!0,t.skipsModelSourceBindings=!0,e.oq=!0}}function $n(e){var t=e.H;t.skipsUndoManager=e.Hw,t.skipsModelSourceBindings=e.Wv,e.oq=!1}function Jn(e,t,r){!e.zb||t.C(r)||Yn(e)||(e.H.mi||(t=r.copy()),ui(e.Zd,e.H,"position",t,r))}function Qn(e,t){for(t=t.findLinksConnected();t.next();){var r=t.value;r.nf=r.points.copy(),e.kl.add(r)}}function ei(e,t,r,n,i){null===e&&(e=[0,0,0,0]),null===t&&(t=[0,0,0,0]);var o=e[0],a=e[1],s=e[2];e=e[3];var l=t[0],u=t[1],c=t[2];return t=t[3],0===s||100===s?(o=l,a=u):0!==c&&100!==c||(l=o,u=a),180<Math.abs(l-o)&&(l>o?o+=360:l+=360),"hsla("+(o=i(r,o,l-o,n)%360)+", "+(a=i(r,a,u-a,n))+"%, "+(s=i(r,s,c-s,n))+"%, "+(r=i(r,e,t-e,n))+")"}function ti(){function e(e,t,r,n,i,o){e.position=new pe(n(i,t.x,r.x-t.x,o),n(i,t.y,r.y-t.y,o))}var t=new fe;t.add("position:diagram",e),t.add("position",e),t.add("position:part",(function(e,t,r,n,i,o){i<o?e.jm(n(i,t.x,r.x-t.x,o),n(i,t.y,r.y-t.y,o),!1):e.position=new pe(n(i,t.x,r.x-t.x,o),n(i,t.y,r.y-t.y,o))})),t.add("location",(function(e,t,r,n,i,o){i<o?e.jm(n(i,t.x,r.x-t.x,o),n(i,t.y,r.y-t.y,o),!0):e.location=new pe(n(i,t.x,r.x-t.x,o),n(i,t.y,r.y-t.y,o))})),t.add("position:placeholder",(function(e,t,r,n,i,o){i<o?e.jm(n(i,t.x,r.x-t.x,o),n(i,t.y,r.y-t.y,o),!1):e.position=new pe(n(i,t.x,r.x-t.x,o),n(i,t.y,r.y-t.y,o))})),t.add("position:nodeCollapse",(function(e,t,r,n,i,o){var a=e.actualBounds,s=r.actualBounds;r=s.x+s.width/2-a.width/2,a=s.y+s.height/2-a.height/2,i<o?e.jm(n(i,t.x,r-t.x,o),n(i,t.y,a-t.y,o),!1):e.position=new pe(n(i,t.x,r-t.x,o),n(i,t.y,a-t.y,o))})),t.add("desiredSize",(function(e,t,r,n,i,o){e.desiredSize=new Ne(n(i,t.width,r.width-t.width,o),n(i,t.height,r.height-t.height,o))})),t.add("width",(function(e,t,r,n,i,o){e.width=n(i,t,r-t,o)})),t.add("height",(function(e,t,r,n,i,o){e.height=n(i,t,r-t,o)})),t.add("fill",(function(e,t,r,n,i,o){e.fill=ei(t,r,i,o,n)})),t.add("stroke",(function(e,t,r,n,i,o){e.stroke=ei(t,r,i,o,n)})),t.add("strokeWidth",(function(e,t,r,n,i,o){e.strokeWidth=n(i,t,r-t,o)})),t.add("strokeDashOffset",(function(e,t,r,n,i,o){e.strokeDashOffset=n(i,t,r-t,o)})),t.add("background",(function(e,t,r,n,i,o){e.background=ei(t,r,i,o,n)})),t.add("areaBackground",(function(e,t,r,n,i,o){e.areaBackground=ei(t,r,i,o,n)})),t.add("opacity",(function(e,t,r,n,i,o){e.opacity=n(i,t,r-t,o)})),t.add("scale",(function(e,t,r,n,i,o){e.scale=n(i,t,r-t,o)})),t.add("angle",(function(e,t,r,n,i,o){e.angle=n(i,t,r-t,o)})),ri=t}Tn.className="TextEditingTool",Tn.LostFocus=On,Tn.MouseDown=An,Tn.Tab=Ln,Tn.Enter=Nn,Tn.SingleClick=Rn,Tn.SingleClickSelected=Dn,Tn.DoubleClick=In,Tn.StateNone=Fn,Tn.StateActive=Bn,Tn.StateEditing=Un,Tn.StateValidating=zn,Tn.StateInvalid=qn,Tn.StateValidated=Gn,R("textEditingTool",(function(){return this.findTool("TextEditing")}),(function(e){this.gb("TextEditing",e,this.mouseUpTools)})),Hn.prototype.Te=function(e){this.H=e},Hn.prototype.canStart=function(){return!0},(t=Hn.prototype).bv=function(e){return this.Zd.bv(e)},t.Tu=function(e){return this.Zd.Tu(e)},t.zc=function(e){var t=this.Zd;if(!0===this.zb&&(this.Jk=this.zb=!1,this.Ud.clear(),0<t.sc.count&&this.H.Wb()),this.Zb){if(t.Hl(!0),t.sc.clear(),li(t,null),!0===e)for(e=this.Bi.Fa(),t=0;t<e.length;t++)e[t].Hl(!0)}else t.sc.clear(),li(t,this.H)},t.Hl=function(e){e===this.defaultAnimation&&this.defaultAnimation.sc.clear(),this.Bi.remove(e),0===this.Bi.count&&(this.Zb=!1,this.H.Wb()),e===this.defaultAnimation&&(this.defaultAnimation.sc.clear(),this.H.R("AnimationFinished",this))},t.Aj=function(e,t){this.zb&&(this.Ud.contains("Expand Tree")||this.Ud.contains("Expand SubGraph"))&&(this.Zd.Aj(e,t),Qn(this,e))},t.yj=function(e,t){this.zb&&(this.Ud.contains("Collapse Tree")||this.Ud.contains("Collapse SubGraph"))&&(this.Zd.yj(e,t),ui(this.Zd,t,"position",t.position,t.position),Qn(this,e))},d.Object.defineProperties(Hn.prototype,{animationReasons:{get:function(){return this.Ud}},isEnabled:{get:function(){return this.Ad},set:function(e){(this.Ad=e)&&this.Bi.each((function(e){e.isAnimating||1/0!==e.runCount||e.start()}))}},duration:{get:function(){return this.zg},set:function(e){1>e&&k(e,">= 1",Hn,"duration"),this.zg=e}},isAnimating:{get:function(){return this.Zb}},isTicking:{get:function(){return this.oq}},isInitial:{get:function(){return this.Ch},set:function(e){this.Ch=e}},defaultAnimation:{get:function(){return this.Zd}},activeAnimations:{get:function(){return this.Bi}},initialAnimationStyle:{get:function(){return this.Kk},set:function(e){this.Kk=e}}}),Hn.prototype.stopAnimation=Hn.prototype.zc;var ri=null,ni=!1,ii=new U(Hn,"Default",1),oi=new U(Hn,"AnimateLocations",2),ai=new U(Hn,"None",3);function si(e){this.qu=this.Gw=this.Td=this.H=null,this.Sk=this.Zb=this.j=!1,this.Zm=this.Hd=0,this.Fp=this.ht=fi,this.Rk=this.bo=!1,this.Yt=1,this.Wt=0,this.yd=this.zg=NaN,this.$v=0,this.$m=null,this.m=re,this.sc=new fe,this.Ot=new fe,this.ul=new J,this.Pt=new J,this.Xv=$o,e&&Object.assign(this,e)}function li(e,t){if(e.Ot.clear(),e.Rk=!1,e.Wt=0,e.yd=NaN,0<e.ul.count&&e.ul.clear(),0<e.Pt.count&&e.Pt.clear(),null!==t)for(e=t.links;e.next();)e.value.nf=null}function ui(e,t,r,n,i,o){var a=e.sc;if(t instanceof Mi&&"position"===r&&(r="position:diagram"),"fill"!==r&&"stroke"!==r&&"background"!==r&&"areaBackground"!==r||(Fs(n),Bs(),n=[nl.j,nl.u,nl.m,nl.F],Fs(i),Bs(),i=[nl.j,nl.u,nl.m,nl.F]),a.contains(t)){var s=a.I(t),l=s.start,u=s.end;void 0===l[r]&&(l[r]=ci(n)),u[r]=ci(i)}else u={},(l={})[r]=ci(n),u[r]=ci(i),s=l.position,t instanceof Aa&&s instanceof pe&&!s.w()&&t.diagram.animationManager.Ud.contains("Expand SubGraph")&&s.assign(u.position),s=new mi(l,u,o),a.add(t,s);(a=l[r])instanceof pe&&!a.w()&&a.assign(e.m),o&&0===r.indexOf("position:")&&t instanceof vc?s.Eu.location=ci(t.location):o&&(s.Eu[r]=ci(n))}function ci(e){return e instanceof pe||e instanceof Ee?e.copy():e}function hi(e,t){if(!e.Sk||t){var r=e.Td;if(!1!==e.Zb){var n=+new Date,i=n>e.Zm?e.yd:n-e.Hd;t&&((i=e.$v)<e.yd?(e.Hd=+new Date-i,e.Zm=e.Hd+e.yd):i=e.yd),Zn(r),di(e,i),Zi(e.H,!0),$n(r),n>e.Zm&&(e.bo&&!e.Rk?(e.Hd=+new Date,e.Zm=e.Hd+e.yd,e.Rk=!0):e.Hl(!1))}}}function di(e,t){for(var r=e.yd,n=e.sc.iterator,i=e.Rk;n.next();){var o=n.key;if(!(o instanceof Aa&&null===o.diagram)){var a=n.value,s=i?a.end:a.start;a=i?a.start:a.end;var l,u=ri;for(l in a)"position"===l&&(a["position:placeholder"]||a["position:nodeCollapse"])||null===u.get(l)||u.get(l)(o,s[l],a[l],e.Fp,t,r,e)}}}function fi(e,t,r,n){return 1>(e/=n/2)?r/2*e*e+t:-r/2*(--e*(e-2)-1)+t}function pi(e,t,r,n){return e===n?t+r:r*(1-Math.pow(2,-10*e/n))+t}function mi(e,t,r){this.start=e,this.end=t,this.Eu={},this.Bu=r,this.iv=!1}function yi(e,t,r){this.rd=null,this.mf=e,this.oo=r||bi,this.pk=null,void 0!==t&&(this.pk=t,void 0===r&&(this.oo=xi))}Hn.className="AnimationManager",Hn.defineAnimationEffect=function(e,t){ni||(ti(),ni=!0),ri.add(e,t)},Hn.Default=ii,Hn.AnimateLocations=oi,Hn.None=ai,si.prototype.suspend=function(){this.Sk=!0},si.prototype.advanceTo=function(e,t){t&&(this.Sk=!1),this.bo&&e>=this.yd&&(this.Rk=!0,e-=this.yd),this.$v=e,hi(this,!0),Zn(this.Td),Zi(this.H),$n(this.Td),this.H.redraw()},(t=si.prototype).start=function(){if(0===this.sc.count||this.Zb)return this;for(var e=this.H,t=this.sc.iterator;t.next();){var r=t.key;null===e&&(r instanceof Mi?e=r:r instanceof Aa&&(e=r.diagram))}return null===e?this:(this.H=e,this.Td=e.animationManager,!1===(t=this.Td).isEnabled||(this.yd=isNaN(this.zg)?t.duration:this.zg,this.Fp=this.ht,t.Jk&&t.Kk===ii&&this===t.defaultAnimation&&(this.Fp=pi,this.yd=isNaN(this.zg)?600===t.duration?900:t.duration:this.zg),this.Xv=e.scrollMode,this.isViewportUnconstrained&&(e.qj=Jo),Zn(t),this.ul.each((function(t){t.data=null,e.add(t)})),$n(t),this.Zb=!0,this.Hd=+new Date,this.Zm=this.Hd+this.yd,function(e,t){function r(){if(0<i.Kr.count&&(n.addAll(i.Kr),i.Kr.clear(),i.Zb=!0),!1!==i.Zb&&0!==n.count){i.ku.addAll(n);for(var e=i.ku.iterator;e.next();){var t=e.value;if(!1!==t.Zb){e:if(0<t.ul.count)var o=!0;else{for(o=t.sc.iterator;o.next();){var a=o.key;if(a instanceof Aa&&null!==a.diagram||a instanceof Mi){o=!0;break e}}o=!1}o?hi(t,!1):t.Sk=!0}}i.ku.clear(),!1!==i.Zb&&(Zn(i),Zi(i.H),$n(i)),y.requestAnimationFrame(r)}}var n=e.Bi,i=e;e.Zb?e.Kr.add(t):(e.Zb=!0,n.add(t),y.requestAnimationFrame((function(){r()})))}(t,this)),this)},t.By=function(e,t){return e.Uc()?(this.ul.add(e),this.H=t,this):this},t.add=function(e,t,r,n,i){if("position"===t&&r.C(n))return this;if(null===this.H&&(e instanceof Mi?this.H=e:e instanceof Aa&&null!==e.diagram&&(this.H=e.diagram)),e instanceof vc){if(!e.isAnimated)return this;"position"===t&&(t="position:part")}return ui(this,e,t,r,n,i),this},t.bv=function(e){return!!this.Zb&&(null!==(e=this.sc.I(e))&&e.iv)},t.Tu=function(e){return!!this.Zb&&(null!==(e=this.sc.I(e))&&(e.start.position||e.start.location))},t.stop=function(){return this.Zb?(this.Hl(!0),this):this},t.Hl=function(e){if(null!==this.qu&&this.qu.eo.remove(this.Gw),this.Zb){var t=this.H,r=this.Td;this.Sk=this.Zb=r.Jk=!1,Zn(r);for(var n=this.sc,i=this.ul.iterator;i.next();)t.remove(i.value);for(i=this.Pt.iterator;i.next();)i.value.v();i=this.bo,n=n.iterator;for(var o=ri;n.next();){var a,s=n.key,l=n.value,u=i?l.end:l.start,c=i?l.start:l.end,h=l.Eu;for(a in c)if(null!==o.get(a)){var d=a;!l.Bu||"position:nodeCollapse"!==d&&"position:placeholder"!==d||(d="position"),o.get(d)(s,u[a],void 0!==h[a]?h[a]:l.Bu?u[a]:c[a],this.Fp,this.yd,this.yd,this)}l.Bu&&void 0!==h.location&&s instanceof vc&&(s.location=h.location),l.iv&&s instanceof vc&&s.Vb(!1)}if(t.ts.clear(),Ai(t,!1),t.Xa(),t.N(),Zi(t,!0),r.defaultAnimation===this){for(a=r.kl.iterator;a.next();)null!==(i=a.value).nf&&(i.points=i.nf,i.nf=null);r.kl.clear()}Zi(t,!0),this.isViewportUnconstrained&&(t.scrollMode=this.Xv),$n(r),this.Wt++,!e&&this.Yt>this.Wt?(this.Rk=!1,this.start()):(this.$m&&this.$m(this),li(this,null),r.Hl(this),t.Wb())}},t.Aj=function(e,t){var r=t.actualBounds,n=null;if(t instanceof dh&&(n=t.placeholder),null!==n?(r=n.ja(Je),n=n.padding,r.x+=n.left,r.y+=n.top,this.add(e,"position",r,e.position,!1)):this.add(e,"position",new pe(r.x+r.width/2,r.y+r.height/2),e.position,!1),this.add(e,"scale",.01,e.scale,!1),e instanceof dh)for(e=e.memberParts;e.next();)(n=e.value)instanceof Wc&&this.Aj(n,t)},t.yj=function(e,t){if(e.isVisible()){var r=null;if(t instanceof dh&&(r=t.placeholder),null!==r){var n=r.ja(Je);r=r.padding,n.x+=r.left,n.y+=r.top,this.add(e,"position:placeholder",e.position,n,!0)}else this.add(e,"position:nodeCollapse",e.position,t,!0);if(this.add(e,"scale",e.scale,.01,!0),(n=this.sc).contains(e)&&(n.I(e).iv=!0),e instanceof dh)for(e=e.memberParts;e.next();)(n=e.value)instanceof Wc&&this.yj(n,t)}},t.wz=function(e){var t=this.Ot.get(e);return null===t&&(t={},this.Ot.add(e,t)),t},d.Object.defineProperties(si.prototype,{duration:{get:function(){return this.zg},set:function(e){1>e&&k(e,">= 1",si,"duration"),this.zg=e}},reversible:{get:function(){return this.bo},set:function(e){this.bo=e}},runCount:{get:function(){return this.Yt},set:function(e){0<e?this.Yt=e:w("Animation.runCount value must be a positive integer.")}},finished:{get:function(){return this.$m},set:function(e){this.$m!==e&&(this.$m=e)}},easing:{get:function(){return this.ht},set:function(e){this.ht=e}},isViewportUnconstrained:{get:function(){return this.j},set:function(e){this.j=e}},isAnimating:{get:function(){return this.Zb}}}),si.prototype.getTemporaryState=si.prototype.wz,si.prototype.stop=si.prototype.stop,si.prototype.add=si.prototype.add,si.prototype.addTemporaryPart=si.prototype.By,si.className="Animation",si.EaseLinear=function(e,t,r,n){return r*e/n+t},si.EaseInOutQuad=fi,si.EaseInQuad=function(e,t,r,n){return r*(e/=n)*e+t},si.EaseOutQuad=function(e,t,r,n){return-r*(e/=n)*(e-2)+t},si.EaseInExpo=function(e,t,r,n){return 0===e?t:r*Math.pow(2,10*(e/n-1))+t},si.EaseOutExpo=pi,mi.className="AnimationState",yi.prototype.copy=function(){var e=new yi(this.mf);e.oo=this.oo;var t=this.pk;if(null!==t){var r={};void 0!==t.duration&&(r.duration=t.duration),void 0!==t.finished&&(r.finished=t.finished),void 0!==t.easing&&(r.easing=t.easing),e.pk=r}return e},d.Object.defineProperties(yi.prototype,{propertyName:{get:function(){return this.mf},set:function(e){this.mf=e}},animationSettings:{get:function(){return this.pk},set:function(e){this.pk=e}},startCondition:{get:function(){return this.oo},set:function(e){this.oo=e}}});var gi,vi,bi=new U(yi,"Default",1),xi=new U(yi,"Immediate",2),wi=new U(yi,"Bundled",3);function Si(e){Q(this),this.H=null,this.Oa=new Z,this.wa="",this.qb=1,this.m=!1,this.j=this.Qh=this.u=this.Li=this.Ki=this.Ji=this.Ii=this.Gi=this.Hi=this.Fi=this.Ni=this.Ei=this.Mi=this.Di=this.Ci=!0,this.Sq=[],e&&Object.assign(this,e)}function ki(e,t){var r=1;return 1!==e.qb&&(r=t.globalAlpha,t.globalAlpha=r*e.qb),r}function _i(e,t,r,n,i){if(e.visible&&0!==e.qb&&(i||!e.isTemporary)){var o=(i=e.Oa.s).length;if(0!==o){var a=ki(e,t),s=e.Sq;s.length=0;for(var l=r.scale,u=Ne.alloc(),c=0;c<o;c++){var h=i[c];n.contains(h)&&e.Mj(t,h,r,s,l,u,!1)}Ne.free(u),t.globalAlpha=a}}}function ji(e,t,r){if(t=function(e,t,r){var n=r.zOrder;if(isNaN(n))return t;e=e.Oa;var i=e.count;if(1>=i)return t;if(0>t&&(t=e.indexOf(r)),0>t)return-1;for(var o=t-1,a=NaN;0<=o&&(a=e.L(o).zOrder,isNaN(a));)o--;for(var s=t+1,l=NaN;s<i&&(l=e.L(s).zOrder,isNaN(l));)s++;if(!isNaN(a)&&a>n)for(;;){if(-1===o||a<=n){if(++o===t)break;return e.nb(t),e.Eb(o,r),o}for(a=NaN;0<=--o&&(a=e.L(o).zOrder,isNaN(a)););}else if(!isNaN(l)&&l<n)for(;;){if(s===i||l>=n){if(--s===t)break;return e.nb(t),e.Eb(s,r),s}for(l=NaN;++s<i&&(l=e.L(s).zOrder,isNaN(l)););}return t}(e,t,r),r instanceof dh&&null!==r&&isNaN(r.zOrder)){if(0!==r.memberParts.count){for(var n=-1,i=e.Oa.s,o=i.length,a=0;a<o;a++){var s=i[a];if(s===r&&(t=a,0<=n))break;if(0>n&&s.containingGroup===r&&(n=a,0<=t))break}!(0>n)&&n<t&&((i=e.Oa).nb(t),i.Eb(n,r))}null!==(t=r.containingGroup)&&ji(e,-1,t)}null!==r.svg&&r.svg.remove()}function Mi(e,t){if(aa||(function(){if(Bo){var e=y.document.createElement("canvas"),t=e.getContext("2d"),r=D("7ca11abfd022028846");t[r]=D("398c3597c01238");for(var n=["5da73c80a36455d7038e4972187c3cae51fd22",g.Dx+"4ae6247590da4bb21c324ba3a84e385776",zt.xF+"fb236cdfda5de14c134ba1a95a2d4c7cc6f93c1387",Gt.za],i=1;5>i;i++)t[D("7ca11abfd7330390")](D(n[i-1]),10,15*i);for(t[r]=D("39f046ebb36e4b"),r=1;5>r;r++)t[D("7ca11abfd7330390")](D(n[r-1]),10,15*r);4===n.length&&"5"===n[0][0]&&"7"===n[3][0]||(zt.prototype.Ld=zt.prototype.Uw),oa=e}}(),aa=!0),Q(this),vi=this,this.vb=!0,this.Ka=null,this.Ba=this.Ca=0,this.xa=null,Bo){var r=this;null!==y.document.body?this.setRTL():r.addEventListener(y.document,"DOMContentLoaded",(function e(){r.removeEventListener(y.document,"DOMContentLoaded",e,!1),r.setRTL()}),!1)}this.jl=null,Io.add("Model",Kd);var n=this;return this.Fb=function(e){var t=n.partManager;if(e.model===t.diagram.model&&t.diagram.aa){t.diagram.aa=!1;try{var r=e.change;""===e.modelChange&&r===dr&&t.updateDataBindings(e.object,e.propertyName)}finally{t.diagram.aa=!0}}},this.Lc=function(e){n.partManager.doModelChanged(e)},this.cu=this.fu=null,Ci(this),this.model=Af(),this.Qg=!0,Ni(this),this.layout=new Pd,this.Qg=!1,this.Zj=this.ak=this.bk=this.$j=this.ri=this.Sz=this.Xj=this.Hv=null,this.Xl=function(){},this.preventDefault=null,this.nn=!1,this.Bh=new sa,void 0!==e&&("string"===typeof e||y.Element&&e instanceof Element?Ei(this,e):t=e),this.vb=!1,t&&this.km(t),this}function Ci(e){e.Td=new Hn,e.Td.Te(e),e.Db=17,e.zw=!1,e.pn=!1,e.Xt="default",e.Wa=new Z,e.nj=new fe,e.il="default",e.Px(),e.Ox(),e.qb=1,e.pa=new pe(NaN,NaN).freeze(),e.Zt=new pe(NaN,NaN),e.Aa=1,e.Jp=1,e.st=new pe(NaN,NaN).freeze(),e.tt=NaN,e.Jt=1e-4,e.Ft=100,e.Ab=new zt,e.uu=new pe(NaN,NaN).freeze(),e.nt=new Ne(NaN,NaN,NaN,NaN).freeze(),e.pj=new Ye(0,0,0,0).freeze(),e.qj=$o,e.iu=!1,e.Ut=null,e.au=null,e.th=qo,e.uk=St,e.Bg=qo,e.iq=St,e.rt=Je,e.ut=Je,e.Cc=!0,e.ln=!1,e.ze=new J,e.zh=new fe,e.Um=!0,e.op=250,e.qk=-1,e.qp=new Ye(16,16,16,16).freeze(),e.gg=!1,e.Ek=!1,e.bn=!0,e.Vp=new lr,e.Vp.diagram=e,e.Lg=new lr,e.Lg.diagram=e,e.$i=new lr,e.$i.diagram=e,e.vg=null,e.kf=null,e.lu=!1,function(e){function t(e){var t=e.toLowerCase(),i=new Z;r.add(e,i),r.add(t,i),n.add(e,e),n.add(t,e)}var r=new fe,n=new fe;t("InitialAnimationStarting"),t("AnimationStarting"),t("AnimationFinished"),t("BackgroundSingleClicked"),t("BackgroundDoubleClicked"),t("BackgroundContextClicked"),t("ClipboardChanged"),t("ClipboardPasted"),t("DocumentBoundsChanged"),t("ExternalObjectsDropped"),t("GainedFocus"),t("InitialLayoutCompleted"),t("LayoutCompleted"),t("LinkDrawn"),t("LinkRelinked"),t("LinkReshaped"),t("LostFocus"),t("Modified"),t("ObjectSingleClicked"),t("ObjectDoubleClicked"),t("ObjectContextClicked"),t("PartCreated"),t("PartResized"),t("PartRotated"),t("SelectionMoved"),t("SelectionCopied"),t("SelectionDeleting"),t("SelectionDeleted"),t("SelectionGrouped"),t("SelectionUngrouped"),t("ChangingSelection"),t("ChangedSelection"),t("SubGraphCollapsed"),t("SubGraphExpanded"),t("TextEdited"),t("TreeCollapsed"),t("TreeExpanded"),t("ViewportBoundsChanged"),t("InvalidateDraw"),e.bw=r,e.aw=n}(e),e.Yh=new J,e.At=!0,e.pu=Qo,e.iw=!1,e.ru=Ho,e.at="auto",e.Ip="auto",e.uh=null,e.Ah=null,e.wh=null,e.Mh=null,e.Kh=null,e.Jh=null,e.Lt=null,e.Hh=null,e.qt=!1,e.Ih=null,e.Lh=null,e.Xh=null,e.xh=null,e.Mt=!1,e.Tt={},e.mj=[null,null],e.Qg=!1,e.Bw=!1,e.ju=!1,e.dt=!1,e.kw=!0,e.cd=!1,e.Xi=!1,e.Mw=!0,e.ye=-2,e.Jg=new fe,e.Tn=new Z,e.Cg=!1,e.Ad=!0,e.Ns=!0,e.Ci=!0,e.Di=!0,e.Os=!1,e.Ps=!0,e.Mi=!0,e.Ei=!0,e.Ni=!0,e.Rs=!0,e.Fi=!0,e.Hi=!0,e.Gi=!0,e.Ii=!0,e.Ji=!0,e.Ki=!0,e.Li=!0,e.Ss=!0,e.Us=!0,e.jw=!1,e.Qk=!1,e.hn=!0,e.jn=!0,e.Qs=!0,e.Ts=!0,e.du=16,e.hu=16,e.hr=!1,e.bu=!1,e.gu=0,e.eu=0,e.yb=new Ye(5).freeze(),e.Aw=(new J).freeze(),e.Gt=999999999,e.gw=(new J).freeze(),e.Wi=!0,e.Ae=!0,e.pd=!0,e.xe=!1,e.cf=!1,e.sh=!0,e.df=!1,e.ny=new J,e.hw=new J,e.Th=null,e.Uv=new Ee(8,8),e.Vv=999,e.uw=1,e.Cw=0,e.jd={scale:1,position:new pe,bounds:new Ne,Ww:new Ee,Hx:new Ee,Ax:!1},e.Kw=new Ne(NaN,NaN,NaN,NaN).freeze(),e.so=new Ee(NaN,NaN).freeze(),e.Mp=new Ne(NaN,NaN,NaN,NaN).freeze(),e.Bt=!1,e.Gg=new fe;var t=new Wc,r=new Su;r.bind(new Bf("text","",L)),t.add(r),e.jy=t,e.Gg.add("",t),t=new Wc,(r=new Su).stroke="brown",r.bind(new Bf("text","",L)),t.add(r),e.Gg.add("Comment",t),(t=new Wc).selectable=!1,t.avoidable=!1,(r=new cu).figure="Ellipse",r.fill="black",r.stroke=null,r.desiredSize=new Ee(3,3).ha(),t.add(r),e.Gg.add("LinkLabel",t),e.Vi=new fe,(t=new dh).selectionObjectName="GROUPPANEL",t.type=kl.Vertical,(r=new Su).font="bold 12pt sans-serif",r.bind(new Bf("text","",L)),t.add(r),(r=new kl(kl.Auto)).name="GROUPPANEL";var n=new cu;n.figure="Rectangle",n.fill="rgba(128,128,128,0.2)",n.stroke="black",r.add(n),(n=new gh).padding=new Ye(5,5,5,5).ha(),r.add(n),t.add(r),e.hy=t,e.Vi.add("",t),e.Gh=new fe,t=new vh,(r=new cu).isPanelMain=!0,t.add(r),(r=new cu).toArrow="Standard",r.fill="black",r.stroke=null,r.strokeWidth=0,t.add(r),e.iy=t,e.Gh.add("",t),t=new vh,(r=new cu).isPanelMain=!0,r.stroke="brown",t.add(r),e.Gh.add("Comment",t),(t=new Vc).type=kl.Auto,(r=new cu).fill=null,r.stroke="dodgerblue",r.strokeWidth=3,t.add(r),(r=new gh).margin=new Ye(1.5,1.5,1.5,1.5).ha(),t.add(r),e.Nt=t,e.pt=t,(t=new Vc).type=kl.Link,(r=new cu).isPanelMain=!0,r.fill=null,r.stroke="dodgerblue",r.strokeWidth=3,t.add(r),e.Dt=t,e.be=null,e.fq=!1,e.xk=null,e.partManager=new Kd,e.toolManager=new br,e.toolManager.initializeStandardTools(),e.defaultTool=e.toolManager,e.currentTool=e.defaultTool,e.ft=null,e.Tm=new Sa,e.Qt=null,e.Rt=null,e.Er=!1,e.commandHandler=Ti(),e.Xp=null,e.Yp=ae,e.Iw=!1,e.Pb=1,e.Vh=null,e.Hq=1,e.Lq=0,e.sw=[0,0,0,0,0],e.Mq=0,e.rq=1,e.mw=0,e.nw=new pe,e.vy=500,e.pp=new pe,e.pq=!1}function Pi(e,t){e.animationManager.zc(!0),e.Aw=(new J).freeze(),e.gw=(new J).freeze();var r=e.skipsUndoManager,n=null!==e.$b&&void 0!==e.$b;n&&(e.skipsUndoManager=!0);var i=null;null!==e.be&&(null!==(i=e.be.part)&&e.remove(i));var o=[],a=e.Wa.length;if(t){for(t=0;t<a;t++)for(var s=e.Wa.s[t].parts;s.next();){var l=s.value;l!==i&&null===l.data&&o.push(l)}for(t=0;t<o.length;t++)e.remove(o[t])}for(t=0;t<a;t++)e.Wa.s[t].clear();return e.partManager.clear(),e.ze.clear(),e.zh.clear(),e.Yh.clear(),e.xk=null,e.Tn.clear(),tc(),e.Jg.clear(),B=[],null!==i&&(e.add(i),e.partManager.parts.remove(i)),n&&(e.skipsUndoManager=r),o}function Ti(){return null}function Ei(e,t){if(Bo){if(void 0!==t&&null!==t||w("Diagram setup requires an argument DIV."),null!==e.Ka&&w("Diagram has already completed setup."),"string"===typeof t?e.Ka=y.document.getElementById(t):t instanceof HTMLDivElement?e.Ka=t:w("No DIV or DIV id supplied: "+t),null===e.Ka&&w("Invalid DIV id; could not get element with id: "+t),void 0!==e.Ka.H&&w("Invalid div id; div already has a Diagram associated with it."),!e.jl&&y.ResizeObserver){var r=v((function(){e.Wb()}),250);e.jl=new y.ResizeObserver((function(){r()})),e.jl.observe(e.Ka)}"static"===y.getComputedStyle(e.Ka,null).position&&(e.Ka.style.position="relative");var n="rgba(2"+(t=5)+"5, 255, 255, 0)";t--,e.Ka.style["-webkit-tap-highlight-color"]=n,e.Ka.innerHTML="",e.Ka.H=e,e.Ka.goDiagram=e,e.Ka.go=y.go;var i=new Ps(e);if(void 0!==i.style&&(i.style.position="absolute",i.style.top="0px",i.style.left="0px","rtl"===y.getComputedStyle(e.Ka,null).getPropertyValue("direction")&&(e.pn=!0),i.style.zIndex="2",i.style.userSelect="none",i.style.MozUserSelect="none",i.style.touchAction="none"),e.xa=i,e.jb=i.context,n=e.jb,e.Pb=e.computePixelRatio(),e.viewSize.w()||(e.Ca=e.Ka.clientWidth||1,e.Ba=e.Ka.clientHeight||1),no(e,e.Ca,e.Ba),e.Ka.insertBefore(i.La,e.Ka.firstChild),(i=new Ps(null)).width=1,i.height=1,e.cw=i,e.ky=i.context,Bo){i=x("div");var o=x("div");i.style.position="absolute",i.style.overflow="auto",i.style.width=e.Ca+"px",i.style.height=e.Ba+"px",i.style.zIndex="1",o.style.position="absolute",o.style.width="1px",o.style.height="1px",e.Ka.appendChild(i),i.appendChild(o),i.onscroll=Di,i.addEventListener("pointerdown",Ii),i.H=e,i.py=!0,i.qy=!0,e.fu=i,e.cu=o}e.Xl=v((function(){e.Vh=null,e.N()}),300),e.Hv=v((function(){Li(e)}),250),e.preventDefault=function(e){return e.preventDefault(),!1},e.Xj=function(t){if(e.isEnabled){var r=Gi(e,t,!0);r.bubbles=!0;var n=0,i=0;r.delta=0,void 0!==t.deltaX?(0!==t.deltaX&&(n=0<t.deltaX?1:-1),0!==t.deltaY&&(i=0<t.deltaY?1:-1),r.delta=Math.abs(t.deltaX)>Math.abs(t.deltaY)?-n:-i):void 0!==t.wheelDeltaX?(0!==t.wheelDeltaX&&(n=0<t.wheelDeltaX?-1:1),0!==t.wheelDeltaY&&(i=0<t.wheelDeltaY?-1:1),r.delta=Math.abs(t.wheelDeltaX)>Math.abs(t.wheelDeltaY)?-n:-i):void 0!==t.wheelDelta&&0!==t.wheelDelta&&(r.delta=0<t.wheelDelta?1:-1),e.doMouseWheel(),Wi(r,t)}},e.Sz=function(t){e.isEnabled&&(e.Qk=!1,Gi(e,t,!0),(t=e.currentTool).cancelWaitAfter(),t.standardMouseOver())},e.ri=function(t){if(e.isEnabled){e.Qk=!0;var r=e.Tt;void 0===r[t.pointerId]&&(r[t.pointerId]=t);var n=!1;if(null===(r=e.mj)[0]||r[0].pointerId!==t.pointerId&&r[0].pointerType===t.pointerType)if(null!==r[1]&&r[1].pointerId===t.pointerId)r[1]=t,n=!0;else if(null===r[0])r[0]=t;else{if(null!==r[1])return void t.preventDefault();r[1]=t,n=!0}else r[0]=t;(r="touch"===t.pointerType||"pen"===t.pointerType)&&(e.lu=!1,e.pq=!0);var i=n;n=Hi(e,t,!0,!1,!0,i),Xi(e,t,n),n.targetDiagram=Vi(t,t.target),n.targetObject=null,i||n.clone(e.Vp),i=e.nw,r=r?25:10,t.timeStamp-e.mw<e.vy&&!(Math.abs(i.x-t.screenX)>r||Math.abs(i.y-t.screenY)>r)?e.rq++:e.rq=1,n.clickCount=e.rq,e.mw=t.timeStamp,e.nw.og(t.screenX,t.screenY),e.doMouseDown(),1===t.button?t.preventDefault():Wi(n,t)}},e.$j=function(t){if(e.isEnabled){e.Qk=!0;var r=e.mj;if(null===r[0]||r[0].pointerId!==t.pointerId&&r[0].pointerType===t.pointerType){if(null!==r[1]&&r[1].pointerId===t.pointerId)return void(r[1]=t);if(null!==r[0])return;r[0]=t}else r[0]=t;if(r[0].pointerId===t.pointerId){r=Hi(e,t,!1,!1,!1,null!==r[1]);var n=y.document.elementFromPoint(t.clientX,t.clientY)||null;null!==n&&void 0!==n.shadowRoot&&null!==n.shadowRoot&&(n=n.shadowRoot.elementFromPoint(t.clientX,t.clientY));var i=e,o=t;n&&n.H&&(o=t,i=n.H),r.targetDiagram=i,Xi(e,o,r),r.targetObject=null,e.doMouseMove(),Wi(r,t)}}},e.bk=function(t){if(e.isEnabled){e.Qk=!0;var r="touch"===t.pointerType||"pen"===t.pointerType,n=e.Tt;if(r&&e.lu)delete n[t.pointerId],t.preventDefault();else if(null===(n=e.mj)[0]||n[0].pointerId!==t.pointerId&&n[0].pointerType===t.pointerType)null!==n[1]&&n[1].pointerId===t.pointerId&&(n[1]=null);else{n[0]=null,n=Hi(e,t,!1,!0,!0,!1);var i=y.document.elementFromPoint(t.clientX,t.clientY)||null;null!==i&&void 0!==i.shadowRoot&&null!==i.shadowRoot&&(i=i.shadowRoot.elementFromPoint(t.clientX,t.clientY)),null!==i&&i.H instanceof Mi&&i.H!==e&&Xi(i.H,t,n),null===i&&(i=t.target),Xi(e,t,n),n.clickCount=e.rq,n.targetDiagram=Vi(t,i),n.targetObject=null,e.doMouseUp(),Wi(n,t),r&&(e.pq=!1)}}},e.ak=function(t){if(e.isEnabled){e.Qk=!1;var r=e.Tt;r[t.pointerId]&&delete r[t.pointerId],null!==(r=e.mj)[0]&&r[0].pointerId===t.pointerId&&(r[0]=null),null!==r[1]&&r[1].pointerId===t.pointerId&&(r[1]=null),"touch"!==t.pointerType&&"pen"!==t.pointerType&&((t=e.currentTool).cancelWaitAfter(),t.standardMouseOver())}},e.Zj=function(t){var r=e.mj;null!==r[0]&&r[0].pointerId===t.pointerId?(r[0]=null,e.pq=!1):null!==r[1]&&r[1].pointerId===t.pointerId&&(r[1]=null)},e.gt=n.Z["d"+xa[1]+xa[2]+"wI"+ia.slice(1,5)]["b"+zf.slice(1,t)](n.Z,oa,t,t),n.Qc(!0),function(e){var t=e.xa.La;t instanceof HTMLCanvasElement||(t=e.div),e.addEventListener(t,"pointerdown",e.ri,!1),e.addEventListener(t,"pointermove",e.$j,!1),e.addEventListener(t,"pointerup",e.bk,!1),e.addEventListener(t,"pointerout",e.ak,!1),e.addEventListener(t,"pointercancel",e.Zj,!1),e.addEventListener(t,"pointerenter",e.Uy,!1),e.addEventListener(t,"pointerleave",e.Vy,!1),e.addEventListener(t,"wheel",e.Xj,!1),e.addEventListener(t,"keydown",e.Hz,!1),e.addEventListener(t,"keyup",e.Iz,!1),e.addEventListener(t,"blur",e.Gy,!1),e.addEventListener(t,"focus",e.Hy,!1),e.addEventListener(t,"selectstart",(function(e){return e.preventDefault(),!1}),!1),e.addEventListener(t,"contextmenu",(function(e){return e.preventDefault(),!1}),!1),e.addEventListener(y,"resize",e.Hv,!1)}(e),"svg"===e.il&&(t=e.nj.get("svg"),e.Ka.appendChild(t.La),e.jb=t.context)}}function Oi(e){30<e.Lq&&(e.Vh=1)}function Ai(e,t){null!==e.Vh&&(e.Vh=null,t&&e.Xl(),V&&V.hx||(e.Lq=0,e.sw=[0,0,0,0,0],e.Mq=0))}function Li(e){if(null!==e.xa){var t=e.Ka;if(null!==t&&0!==t.clientWidth&&0!==t.clientHeight){e.zw||e.setScrollWidth();var r=e.cf?e.Db:0,n=e.xe?e.Db:0,i=e.Pb;e.Pb=e.computePixelRatio(),e.Pb!==i&&(e.ln=!0,e.Wb()),t.clientWidth===e.Ca+r&&t.clientHeight===e.Ba+n||(e.Ae=!0,e.Cc=!0,null!==(t=e.layout)&&t.isViewportSized&&e.autoScale===qo&&(e.Ek=!0,t.D()),e.cd||e.Wb())}}}function Ni(e){var t=new Si;t.name="Background",e.wl(t),(t=new Si).name="",e.wl(t),(t=new Si).name="Foreground",e.wl(t),(t=new Si).name="Adornment",t.isTemporary=!0,t.isInDocumentBounds=!1,e.wl(t),(t=new Si).name="Tool",t.isTemporary=!0,t.isInDocumentBounds=!0,e.wl(t),(t=new Si).name="Grid",t.allowSelect=!1,t.pickable=!1,t.isTemporary=!0,t.isInDocumentBounds=!1,e.Pw(t,e.Oj("Background"))}function Ri(e){var t=new kl(kl.Grid);t.name="GRID";var r=new cu;return r.figure="LineH",r.stroke="lightgray",r.strokeWidth=.5,r.interval=1,t.add(r),(r=new cu).figure="LineH",r.stroke="gray",r.strokeWidth=.5,r.interval=5,t.add(r),(r=new cu).figure="LineH",r.stroke="gray",r.strokeWidth=1,r.interval=10,t.add(r),(r=new cu).figure="LineV",r.stroke="lightgray",r.strokeWidth=.5,r.interval=1,t.add(r),(r=new cu).figure="LineV",r.stroke="gray",r.strokeWidth=.5,r.interval=5,t.add(r),(r=new cu).figure="LineV",r.stroke="gray",r.strokeWidth=1,r.interval=10,t.add(r),(r=new vc).add(t),r.layerName="Grid",r.zOrder=0,r.isInDocumentBounds=!1,r.isAnimated=!1,r.pickable=!1,r.locationObjectName="GRID",e.add(r),e.partManager.parts.remove(r),t.visible=!1,t}function Di(){this.H.bu?this.H.bu=!1:this.H.isEnabled?this.H.ex(this):io(this.H)}function Ii(e){this.H.isEnabled?(this.H.gu=e.target.scrollTop,this.H.eu=e.target.scrollLeft):io(this.H)}function Fi(e,t){if(e.fixedBounds.w())return t.assign(e.fixedBounds),t.yo(e.yb),t;for(var r=!0,n=e.Wa.s,i=n.length,o=0;o<i;o++){var a=n[o];if(a.visible&&a.isInDocumentBounds)for(var s=(a=a.Oa.s).length,l=0;l<s;l++){var u=a[l];u.isInDocumentBounds&&u.isVisible()&&((u=u.actualBounds).w()&&(r?(r=!1,t.assign(u)):t.Zc(u)))}}return r&&t.h(0,0,0,0),t.yo(e.yb),t}function Bi(e,t){if((t||e.df)&&!e.vb&&null!==e.xa&&e.documentBounds.w()){if(e.vb=!0,t){var r=e.initialPosition;if(r.w())return e.vb=!1,void(e.position=r);(r=pe.alloc()).ui(e.documentBounds,e.initialDocumentSpot);var n=e.viewportBounds;n=Ne.allocAt(0,0,n.width,n.height);var i=pe.alloc();i.ui(n,e.initialViewportSpot),i.h(r.x-i.x,r.y-i.y),e.position=i,Ne.free(n),pe.free(i),pe.free(r)}r=e.th,t&&e.Bg!==qo&&(r=e.Bg);var o=r!==qo?Ui(e,r):e.scale;r=e.pa.x,n=e.pa.y,i=e.Ca/o;var a=e.Ba/o,s=e.uk,l=e.iq;t&&!s.tb()&&(l.tb()||l.Tb())&&(s=l.Tb()?rt:l),zi(e,e.documentBounds,i,a,s,t),t=e.scale,e.scale=o,e.vb=!1,o=e.viewportBounds,Gt.B(o.x,r)&&Gt.B(o.y,n)&&Gt.B(o.width,i)&&Gt.B(o.height,a)||e.onViewportBoundsChanged(new Ne(r,n,i,a),o,t,!1)}}function Ui(e,t){var r=e.Jp;if(null===e.xa)return r;e.Va();var n=e.documentBounds;if(!n.w())return r;var i=n.width;n=n.height;var o=e.Ca+(e.cf?e.Db:0),a=e.Ba+(e.xe?e.Db:0),s=o/i,l=a/n;return t===Go?((t=Math.min(l,s))>r&&(t=r),t<e.minScale&&(t=e.minScale),t>e.maxScale&&(t=e.maxScale),t):t===Vo?((t=l>s?(a-e.Db)/n:(o-e.Db)/i)>r&&(t=r),t<e.minScale&&(t=e.minScale),t>e.maxScale&&(t=e.maxScale),t):e.scale}function zi(e,t,r,n,i,o){var a=pe.allocAt(e.pa.x,e.pa.y),s=a.x,l=a.y;if(null!==e.Xp){var u=pe.alloc();s=(u=e.Xp.ja(Je,u)).x-e.Yp.x/e.scale,l=u.y-e.Yp.y/e.scale,i=$e,pe.free(u)}(o||e.scrollMode===$o)&&(i.tb()&&(r>t.width&&(s=t.x+(i.x*t.width+i.offsetX)-(i.x*r-i.offsetX)),n>t.height&&(l=t.y+(i.y*t.height+i.offsetY)-(i.y*n-i.offsetY))),i=e.pj,o=r-t.width,r<t.width+i.left+i.right?(s=Math.min(s+r/2,t.right+Math.max(o,i.right)-r/2),s=Math.max(s,t.left-Math.max(o,i.left)+r/2),s-=r/2):s>t.left?s=t.left:s<t.right-r&&(s=t.right-r),r=n-t.height,n<t.height+i.top+i.bottom?(l=Math.min(l+n/2,t.bottom+Math.max(r,i.bottom)-n/2),l=Math.max(l,t.top-Math.max(r,i.top)+n/2),l-=n/2):l>t.top?l=t.top:l<t.bottom-n&&(l=t.bottom-n)),a.x=isFinite(s)?s:-e.yb.left,a.y=isFinite(l)?l:-e.yb.top,null!==e.positionComputation&&(t=e.positionComputation(e,a),a.x=t.x,a.y=t.y),Jn(e.Td,e.pa,a),e.pa.h(a.x,a.y),wo(e),pe.free(a)}function qi(e,t,r,n){for(void 0===r&&(r=null),void 0===n&&(n=null),$i(e),e=e.Wa.iteratorBackwards;e.next();){var i=e.value;if(i.visible&&!i.isTemporary&&null!==(i=i.ec(t,r,n)))return i}return null}function Gi(e,t,r){var n=e.Lg;return e.Lg=e.$i,e.$i=n,n.diagram=e,n.event=t,r?Xi(e,t,n):(n.viewPoint=e.Lg.viewPoint,n.documentPoint=e.Lg.documentPoint),e=0,t.ctrlKey&&(e+=1),t.altKey&&(e+=2),t.shiftKey&&(e+=4),t.metaKey&&(e+=8),n.modifiers=e,n.button=t.button,void 0!==t.buttons&&(n.buttons=t.buttons),F&&0===t.button&&t.ctrlKey&&(n.button=2),n.down=!1,n.up=!1,n.clickCount=1,n.delta=0,n.handled=!1,n.bubbles=!1,n.timestamp=t.timeStamp,n.isMultiTouch=!1,n.targetDiagram=Vi(t,t.target),n.targetObject=null,n}function Vi(e,t){return null===t?null:(t=t.H)?t:((t=e.path)||"function"!==typeof e.composedPath||(t=e.composedPath()),t&&t[0]&&t[0].H?t[0].H:null)}function Hi(e,t,r,n,i,o){var a=e.Lg;return e.Lg=e.$i,e.$i=a,a.diagram=e,a.clickCount=1,e=a.delta=0,t.ctrlKey&&(e+=1),t.altKey&&(e+=2),t.shiftKey&&(e+=4),t.metaKey&&(e+=8),a.modifiers=e,a.event=t,a.timestamp=t.timeStamp,a.button=t.button,a.buttons=t.buttons,F&&0===t.button&&t.ctrlKey&&(a.button=2),a.down=r,a.up=n,a.handled=!1,a.bubbles=i,a.isMultiTouch=o,a}function Wi(e,t){return!!e.bubbles||(void 0!==t.stopPropagation&&t.stopPropagation(),!1!==t.cancelable&&t.preventDefault(),t.cancelBubble=!0,!1)}function Xi(e,t,r){var n=e.xa,i=e.Ca,o=e.Ba,a=0,s=0;null!==n&&(n=n.getBoundingClientRect(),a=t.clientX-i/n.width*n.left,s=t.clientY-o/n.height*n.top),r.viewPoint.h(a,s),null!==e.Ab?(t=pe.allocAt(a,s),e.Ab.Ld(t),r.documentPoint.assign(t),pe.free(t)):r.documentPoint.h(a,s)}function Yi(e,t,r){if(null!==e.mj[0]){t=e.mj[t];var n=e.xa;null!==n&&(n=n.getBoundingClientRect(),r.h(t.clientX-e.Ca/n.width*n.left,t.clientY-e.Ba/n.height*n.top))}}function Ki(e,t,r){!e.Ae||e.vb||e.animationManager.defaultAnimation.isAnimating||io(e)||(t&&$i(e),r&&Bi(e,!1))}function Zi(e,t){if(!e.cd&&(e.gg=!1,null!==e.Ka||e.so.w())){e.cd=!0;var r=e.animationManager,n=e.Tn;if(!r.isAnimating&&0!==n.length){for(var i=n.s,o=i.length,a=0;a<o;a++){var s=i[a];es(s,!1),s.v()}n.clear()}0<(n=e.hw).count&&(n.each((function(e){e.Gv()})),n.clear()),i=n=!1,r.defaultAnimation.isAnimating&&(i=!0,n=e.skipsUndoManager,e.skipsUndoManager=!0),r.zb||Li(e),Ki(e,!1,!0),null!==e.be&&(e.be.visible&&!e.fq&&(yo(e),e.fq=!0),!e.be.visible&&e.fq&&(e.fq=!1)),$i(e),o=!1,e.df&&!e.sh||(e.df?jo(e,!e.Ek):(e.Ea("Initial Layout"),!1===r.isEnabled&&r.zc(),jo(e,!1)),o=!0),e.Ek=!1,$i(e),e.ju||function(e){e.cd||$i(e),e.Va()}(e),Ki(e,!0,!1),a=!1,o?((r=Ne.alloc()).assign(e.viewportBounds),e.df||(a=e.df=!0,e.skipsUndoManager||(e.undoManager.isPendingClear=!0),e.undoManager.isPendingUnmodified=!0,function(e){if(e.Bg!==qo)e.scale=Ui(e,e.Bg);else if(e.th!==qo)e.scale=Ui(e,e.th);else{var t=e.initialScale;isFinite(t)&&0<t&&(e.scale=t)}Bi(e,!0),t=e.Wa.s,e.wd(t,t.length,e,e.viewportBounds),e.R("InitialLayoutCompleted"),e.Zt.assign(e.pa),yo(e)}(e)),e.R("LayoutCompleted"),Ki(e,!0,!1),Ne.free(r)):r.Jk&&r.Jw&&(e.Bg!==qo?e.scale=Ui(e,e.Bg):e.th!==qo?e.scale=Ui(e,e.th):(r=e.initialScale,isFinite(r)&&0<r&&(e.scale=r)),Bi(e,!0)),o&&a&&e.eb("Initial Layout"),$i(e),t||e.cc(e.jb),i&&(e.skipsUndoManager=n),e.cd=!1}}function $i(e){if(0!==e.ze.count&&(e.cd||!e.animationManager.isTicking)){for(var t=0;23>t;t++){var r=e.ze.iterator;if(null===r||0===e.ze.count)break;e.ze=new J,e.Gv(r,e.ze)}e.nodes.each((function(e){e instanceof dh&&0!==(65536&e.U)!==!1&&(e.U=65536^e.U)}))}}function Ji(e,t){for(var r=E(),n=E(),i=t.memberParts;i.next();){var o=i.value;o.isVisible()&&(o instanceof dh?(Qa(o)||ts(o)||Lc(o))&&Ji(e,o):o instanceof vh?o.fromNode===t||o.toNode===t?n.push(o):r.push(o):(o.measure(1/0,1/0),o.arrange()))}for(e=r.length,i=0;i<e;i++)(o=r[i]).measure(1/0,1/0),o.arrange();for(O(r),t.measure(1/0,1/0),t.arrange(),e=n.length,t=0;t<e;t++)(r=n[t]).measure(1/0,1/0),r.arrange();O(n)}function Qi(e,t,r,n,i,o,a,s,l,u){if(null!==e.Ka){null===e.xa&&w("No canvas specified"),void 0===a&&(a=null),void 0===s&&(s=null),void 0===l&&(l=!1),void 0===u&&(u=!1),ro(e),e.jb.Qc(!0),e.pd=!0,e.Xi=!0;var c=e.Aa;e.Aa=i;var h=e.Wa.s,d=h.length;try{var f=new Ne(o.x,o.y,n.width/i,n.height/i),p=f.copy();p.yo(r),yo(e,p),$i(e),e.wd(h,d,e,f),t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,n.width,n.height),null!==s&&""!==s&&(t.fillStyle=s,t.ix(0,0,n.width,n.height));var m=e.Pb;t.scale(m,m);var y=zt.alloc();y.reset(),y.translate(r.left,r.top),y.scale(i),0===o.x&&0===o.y||y.translate(-o.x,-o.y),t.setTransform(y.m11,y.m12,y.m21,y.m22,y.dx,y.dy),t.vc(),t instanceof ys&&gs(t,y.m11,y.m12,y.m21,y.m22,y.dx,y.dy),zt.free(y),eo(e,t),t.globalAlpha=e.qb;var g=e.Oj("Grid");if(a){var v=new J,b=a.iterator;for(b.reset();b.next();){var x=b.value;x instanceof vc&&(u||x.layer!==g)&&(x.Ej(),v.add(x))}for(u=0;u<d;u++)_i(h[u],t,e,v,l);v.each((function(e){return e.Ej()}))}else for(v=0;v<d;v++){var S=h[v];S===g?u&&S.cc(t,e,!0):S.cc(t,e,l)}e.Xi=!1,e.Bh&&la(e.Bh,e)&&e.gt()}finally{e.Aa=c,e.jb.Qc(!0),e.pd=!0,e.wd(h,d,e,e.viewportBounds),yo(e),e.jb instanceof ys&&(e.jb.Lj.FA(),e.redraw())}}}function eo(e,t){null!==(e=e.Mg)&&(void 0!==e.imageSmoothingEnabled&&t.Sx(!!e.imageSmoothingEnabled),void 0!==(e=e.defaultFont)&&null!==e&&(t.font=e))}function to(e,t){var r,n=e instanceof kl,i=e instanceof Mi;for(r in t){""===r&&w("Setting properties requires non-empty property names");var o=e,a=r;if(n||i){var s=r.indexOf(".");if(0<s){var l=r.substring(0,s);n?o=e.fb(l):(void 0===(o=e[l])||null===o)&&(o=e.toolManager[l]),j(o)?a=r.substr(s+1):w("Unable to find object named: "+l+" in "+e.toString()+" when trying to set property: "+r)}}if("_"!==a[0]&&!N(o,a)){if(i&&"ModelChanged"===a){e.Rw(t[a]);continue}if(i&&"Changed"===a){e.Xg(t[a]);continue}if(i&&N(e.toolManager,a))o=e.toolManager;else{if(i&&Co(e,a)){e.zj(a,t[a]);continue}if(e instanceof ff&&"Changed"===a){e.Xg(t[a]);continue}w('Trying to set undefined property "'+a+'" on object: '+o.toString())}}o[a]=t[r],"_"===a[0]&&o instanceof Aa&&o.Ow(a)}}function ro(e){!1!==e.ln&&(e.ln=!1,no(e,e.Ca,e.Ba))}function no(e,t,r){wo(e);var n=e.Pb;e.xa.resize(t*n,r*n,t,r)&&(e.Cc=!0,e.jb.Qc(!0))}function io(e){var t=e.xa;if(null===t||!e.df||e.so.w())return!0;var r=e.Ca,n=e.Ba,i=e.viewportBounds;if(!e.viewportBounds.w())return!0;var o=i.x,a=i.y,s=i.width,l=i.height,u=e.fu,c=e.cu,h=e.Ka,d=!1,f=e.cf?e.Db:0,p=e.xe?e.Db:0,m=h.clientWidth||r+f,y=h.clientHeight||n+p;if(m===r+f&&y===n+p||(e.cf=!1,e.xe=!1,p=f=0,e.Ca=m,e.Ba=y,d=e.ln=!0,wo(e)),e.Ae=!1,!(d||e.cf||e.xe||e.hn||e.jn))return!0;var g=e.documentBounds,v=0,b=0,x=0,w=0;h=i.width;var S=i.height,k=e.pj;e.contentAlignment.tb()?(g.width>h&&(v=k.left,b=k.right),g.height>S&&(x=k.top,w=k.bottom)):(v=k.left,b=k.right,x=k.top,w=k.bottom);var _=g.width+v+b,j=g.height+x+w,M=_>m/(k=e.scale),C=j>y/k;if(!(d||e.cf||e.xe||M||C))return!0;v=g.x-v,m=i.x,b=g.right+b,y=i.right+f,x=g.y-x;var P=i.y;g=g.bottom+w,i=i.bottom+p;var T="1px";if(w="1px",e.scrollMode===$o&&(M||C)&&(M&&e.hasHorizontalScrollbar&&e.allowHorizontalScroll&&(M=1,v+1<m&&(M=Math.max((m-v)*k+e.Ca,M)),b>y+1&&(M=Math.max((b-y)*k+e.Ca,M)),h+f+1<_&&(M=Math.max((_-h)*k+e.Ca,M)),T=M.toString()+"px"),C&&e.hasVerticalScrollbar&&e.allowVerticalScroll&&(M=1,x+1<P&&(M=Math.max((P-x)*k+e.Ba,M)),g>i+1&&(M=Math.max((g-i)*k+e.Ba,M)),S+p+1<j&&(M=Math.max((j-S)*k+e.Ba,M)),w=M.toString()+"px")),C="1px"!==w,(M="1px"!==T)&&C||!M&&!C||(C&&(y-=e.Db),M&&(i-=e.Db),_<h+f||!e.hasHorizontalScrollbar||!e.allowHorizontalScroll||(f=1,v+1<m&&(f=Math.max((m-v)*k+e.Ca,f)),b>y+1&&(f=Math.max((b-y)*k+e.Ca,f)),h+1<_&&(f=Math.max((_-h)*k+e.Ca,f)),T=f.toString()+"px"),M="1px"!==T,f=e.Ba,M!==e.xe&&(f=M?e.Ba-e.Db:e.Ba+e.Db),j<S+p||!e.hasVerticalScrollbar||!e.allowVerticalScroll||(p=1,x+1<P&&(p=Math.max((P-x)*k+f,p)),g>i+1&&(p=Math.max((g-i)*k+f,p)),S+1<j&&(p=Math.max((j-S)*k+f,p)),w=p.toString()+"px"),C="1px"!==w),e.hr&&M===e.xe&&C===e.cf)return r===e.Ca&&n===e.Ba||e.Wc(),!1;if(M!==e.xe&&(e.Ba="1px"===T?e.Ba+e.Db:Math.max(e.Ba-e.Db,1),d=!0),e.xe=M,c.style.width=T,C!==e.cf&&(e.Ca="1px"===w?e.Ca+e.Db:Math.max(e.Ca-e.Db,1),d=!0,e.pn&&(p=pe.alloc(),C?(t.style.left=e.Db+"px",e.position=p.h(e.pa.x+e.Db/e.scale,e.pa.y)):(t.style.left="0px",e.position=p.h(e.pa.x-e.Db/e.scale,e.pa.y)),pe.free(p))),d&&wo(e),e.cf=C,c.style.height=w,e.bu=!0,d&&(e.ln=!0),t=u.scrollLeft,e.hasHorizontalScrollbar&&e.allowHorizontalScroll&&(h+1<_?t=(e.position.x-v)*k:v+1<m?t=u.scrollWidth-u.clientWidth:b>y+1&&(t=e.position.x*k)),e.pn)switch(e.Xt){case"negative":t=-(u.scrollWidth-t-u.clientWidth);break;case"reverse":t=u.scrollWidth-t-u.clientWidth}return u.scrollLeft=t,e.hasVerticalScrollbar&&e.allowVerticalScroll&&(S+1<j?u.scrollTop=(e.position.y-x)*k:x+1<P?u.scrollTop=u.scrollHeight-u.clientHeight:g>i+1&&(u.scrollTop=e.position.y*k)),m=e.Ca,y=e.Ba,u.style.width=m+(e.cf?e.Db:0)+"px",u.style.height=y+(e.xe?e.Db:0)+"px",r===m&&n===y&&!e.animationManager.zb||(r=Ne.allocAt(o,a,s,l),e.onViewportBoundsChanged(r,e.viewportBounds,k,d),Ne.free(r),!1)}function oo(e,t,r){var n=t.layer;null!==n&&n.diagram===e&&(t.isSelected=!1,t.isHighlighted=!1,t.D(2),r&&t.Jj(),0<=(r=n.mc(-1,t,!1))&&e.cb(pr,"parts",n,t,null,r,null),null!==(e=t.layerChanged)&&e(t,n,null))}function ao(e,t,r,n,i,o){if(!t.contains(r)&&(void 0===o&&(o=!1),!n||o||r.canMove()||r.canCopy()))if(void 0===i&&(i=lo(e)),r instanceof Wc){if(t.add(r,e.Gd(i,r,r.location)),r instanceof dh&&(null!==r.placeholder||i.dragsMembers))for(o=r.memberParts;o.next();)ao(e,t,o.value,n,i,i.groupsAlwaysMove);for(o=r.linksConnected;o.next();){var a=o.value;if(!t.contains(a)){var s=a.fromNode,l=a.toNode;null!==s&&t.contains(s)&&null!==l&&t.contains(l)&&ao(e,t,a,n,i)}}if(i.dragsTree)for(r=r.Ku();r.next();)ao(e,t,r.value,n,i)}else if(r instanceof vh)for(t.add(r,e.Gd(i,r)),r=r.labelNodes;r.next();)ao(e,t,r.value,n,i);else r instanceof Vc||t.add(r,e.Gd(i,r,r.location))}function so(e,t,r,n,i){if(null!==t&&0!==t.count){var o=pe.alloc(),a=pe.alloc();a.assign(r),isNaN(a.x)&&(a.x=0),isNaN(a.y)&&(a.y=0),(r=e.Er)||co(e,t);for(var s=E(),l=E(),u=t.iterator,c=pe.alloc();u.next();){var h=u.key,d=u.value;if(h.Uc()){var f=fo(e,h,t);null!==f?s.push(new wa(h,d,f)):i&&!h.canMove()||(f=d.point,o.assign(f),e.computeMove(h,o.add(a),n,c),h.location=c,void 0===d.shifted&&(d.shifted=new pe),d.shifted.assign(c.ne(f)))}else u.key instanceof vh&&l.push(u.sa)}for(pe.free(c),i=s.length,u=0;u<i;u++)h=s[u],o.assign(h.info.point),void 0===h.Ou.shifted&&(h.Ou.shifted=new pe),h.node.location=o.add(h.Ou.shifted);for(i=pe.alloc(),u=pe.alloc(),h=l.length,d=0;d<h;d++){var p=l[d];if((f=p.key)instanceof vh)if(f.suspendsRouting){f.nf=null,c=f.fromNode;var m=f.toNode;if(null!==e.draggedLink&&n.dragsLink)if(m=p.value.point,null===f.dragComputation)t.add(f,e.Gd(n,f,a)),wh(f,a.x-m.x,a.y-m.y);else{p=pe.allocAt(0,0),(c=f.i(0))&&c.w()&&p.assign(c);var y=c=pe.alloc().assign(p).add(a);n.isGridSnapEnabled&&(n.isGridSnapRealtime||e.lastInput.up)&&uo(e,f,c,y=pe.alloc(),n),c.assign(f.dragComputation(f,c,y)).ne(p),t.add(f,e.Gd(n,f,c)),wh(f,c.x-m.x,c.y-m.y),pe.free(p),pe.free(c),y!==c&&pe.free(y)}else null!==c&&(i.assign(c.location),null!==(y=t.I(c))&&i.ne(y.point)),null!==m&&(u.assign(m.location),null!==(y=t.I(m))&&u.ne(y.point)),null!==c&&null!==m?i.ab(u)?(c=p.value.point,(m=o).assign(i),m.ne(c),t.add(f,e.Gd(n,f,i)),wh(f,m.x,m.y)):(f.suspendsRouting=!1,f.bb()):(p=p.value.point,c=null!==c?i:null!==m?u:a,t.add(f,e.Gd(n,f,c)),wh(f,c.x-p.x,c.y-p.y))}else null!==f.fromNode&&null!==f.toNode||(c=p.value.point,t.add(f,e.Gd(n,f,a)),wh(f,a.x-c.x,a.y-c.y))}pe.free(o),pe.free(a),pe.free(i),pe.free(u),O(s),O(l),r||($i(e),ho(e,t))}}function lo(e){var t=e.toolManager.findTool("Dragging");return null!==t?t.dragOptions:e.Tm}function uo(e,t,r,n,i){if(void 0===i&&(i=lo(e)),n.assign(r),null!==t){var o=e.grid;e=(t=i.gridSnapCellSize).width,t=t.height;var a=i.gridSnapOrigin,s=a.x;if(a=a.y,i=i.gridSnapCellSpot,null!==o){var l=o.gridCellSize;isNaN(e)&&(e=l.width),isNaN(t)&&(t=l.height),o=o.gridOrigin,isNaN(s)&&(s=o.x),isNaN(a)&&(a=o.y)}(o=pe.allocAt(0,0)).vi(0,0,e,t,i),Gt.Jo(r.x,r.y,s+o.x,a+o.y,e,t,n),pe.free(o)}}function co(e,t){if(null!==t)for(e.Er=!0,e=t.iterator;e.next();)(t=e.key)instanceof vh&&(t.suspendsRouting=!0)}function ho(e,t){if(null!==t){for(t=t.iterator;t.next();){var r=t.key;r instanceof vh&&(r.suspendsRouting=!1,Ch(r)&&r.bb())}e.Er=!1}}function fo(e,t,r){if(null!==(t=t.containingGroup)){if(null!==(e=fo(e,t,r)))return e;if(null!==(e=r.I(t)))return e}return null}function po(e,t,r){if(null!==t.diagram&&t.diagram!==e&&w("Cannot share a Layer with another Diagram: "+t+" of "+t.diagram),null===r?null!==t.diagram&&w("Cannot add an existing Layer to this Diagram again: "+t):(r.diagram!==e&&w("Existing Layer must be in this Diagram: "+r+" not in "+r.diagram),t===r&&w("Cannot move a Layer before or after itself: "+t)),t.diagram!==e){t=t.name,r=(e=e.Wa).count;for(var n=0;n<r;n++)e.L(n).name===t&&w("Cannot add Layer with the name '"+t+"'; a Layer with the same name is already present in this Diagram.")}}function mo(e,t,r){var n=e.animationManager;if(e.vb||e.cd)e.Aa=r,wo(e),e.N(),e.Ae=!0,n.zb&&(Yn(n)||n.Zd.add(n.H,"scale",t,e.Aa));else if(null===e.xa)e.Aa=r,wo(e);else{e.vb=!0;var i=e.viewportBounds.copy(),o=e.Ca,a=e.Ba,s=e.zoomPoint.x,l=e.zoomPoint.y,u=e.contentAlignment;isNaN(s)&&(u.Vc()?u.Ef(lt)?s=0:u.Ef(ut)&&(s=o-1):s=u.tb()?u.x*(o-1):o/2),isNaN(l)&&(u.Vc()?u.Ef(st)?l=0:u.Ef(ct)&&(l=a-1):l=u.tb()?u.y*(a-1):a/2),null===e.scaleComputation||e.animationManager.defaultAnimation.isAnimating||(r=e.scaleComputation(e,r)),r<e.minScale&&(r=e.minScale),r>e.maxScale&&(r=e.maxScale),o=pe.allocAt(e.pa.x+s/t-s/r,e.pa.y+l/t-l/r),e.position=o,pe.free(o),e.Aa=r,wo(e),e.vb=!1,e.onViewportBoundsChanged(i,e.viewportBounds,t,!1),Bi(e,!1),n.zb&&(Yn(n)||n.Zd.add(n.H,"scale",t,e.Aa))}}function yo(e,t){var r=e.be;if(null!==r&&r.visible){for(var n=Ee.alloc(),i=1,o=1,a=r.P.s,s=a.length,l=0;l<s;l++){var u=a[l],c=Math.abs(u.interval);2>c||(Pl(u.figure)?o=o*c/Gt.ox(o,c):i=i*c/Gt.ox(i,c))}if(a=r.gridCellSize,n.h(o*a.width,i*a.height),void 0!==t)i=t.width,o=t.height,e=t.x,a=t.y;else{if(t=Ne.alloc(),e=e.viewportBounds,t.h(e.x,e.y,e.width,e.height),!t.w())return void Ne.free(t);i=t.width,o=t.height,e=t.x,a=t.y,Ne.free(t)}r.width=i+2*n.width,r.height=o+2*n.height,t=pe.alloc(),Gt.Jo(e,a,0,0,n.width,n.height,t),t.offset(-n.width,-n.height),Ee.free(n),r.part.location=t,pe.free(t)}}function go(e){var t=e.isModified;e.Mw!==t&&(e.Mw=t,e.R("Modified"))}function vo(e,t){for(var r=(t=t.P.s).length,n=0;n<r;n++)bo(e,t[n])}function bo(e,t){if(t instanceof ec){var r=t.element;if(null!==r&&r instanceof HTMLImageElement){r.xg instanceof J&&r.xg.add(e);var n=t.Ag;if(null!==n&&!0===n.lq&&null!==t.diagram&&t.diagram.Tn.add(t),r.dn)if(r=r.getAttribute("src")||"",null===(n=e.Jg.I(r)))(n=[]).push(t),e.Jg.add(r,n);else{for(e=0;e<n.length;e++)if(n[e]===t)return;n.push(t)}}}}function xo(e,t){if(t instanceof ec){var r=t.element;if(null!==r&&r instanceof HTMLImageElement&&r.dn){var n=r.getAttribute("src")||"",i=e.Jg.I(n);if(null!==i)for(var o=0;o<i.length;o++)if(i[o]===t){i.splice(o,1),0===i.length&&(e.Jg.remove(n),r.yq&&r.removeEventListener("load",r.yq),r.Rp&&r.removeEventListener("error",r.Rp),delete r.yq,delete r.Rp,r.xg instanceof J&&r.xg.remove(e),tc(n));break}}}}function wo(e){var t=e.pa,r=e.Aa;e.Kw.h(t.x,t.y,Math.max(e.Ca,0)/r,Math.max(e.Ba,0)/r),e.pd=!0}function So(e,t){e.Wi=!1;var r=e.Mp;r.C(t)||(r=r.copy(),e.Mp.assign(t),Bi(e,!1),e.R("DocumentBoundsChanged",void 0,r),e.Ae=!0,e.N())}function ko(e,t){for(var r=e.Yh.iterator;r.next();)_o(e,r.value,t);e.layout&&(t?e.layout.isValidLayout=!1:e.layout.D())}function _o(e,t,r){if(null!==t){for(var n=t.bl.iterator;n.next();)_o(e,n.value,r);null!==t.layout&&(r?t.layout.isValidLayout=!1:t.layout.D())}}function jo(e,t){if(e.sh&&!e.dt){var r=e.aa;e.aa=!0;var n=e.undoManager.transactionLevel,i=e.layout,o=e.animationManager;try{0===n&&(e.undoManager.isInternalTransaction=!0,e.Ea("Layout")),1>=n&&!o.defaultAnimation.isAnimating&&!o.zb&&(t||Wn(o,"Layout")),e.sh=!1;for(var a=e.Yh.iterator;a.next();)Mo(e,a.value,t,n);i.isValidLayout||(!t||i.isRealtime||null===i.isRealtime||0===n?(i.doLayout(e),$i(e),i.isValidLayout=!0):e.sh=!0)}finally{t=e.undoManager.isInternalTransaction,0===n&&(e.eb("Layout"),e.undoManager.isInternalTransaction=!1),!t||0!==n&&1!==n||Xn(o),e.aa=r}}}function Mo(e,t,r,n){if(null!==t){for(var i=t.bl.iterator;i.next();)Mo(e,i.value,r,n);null===(i=t.layout)||i.isValidLayout||(!r||i.isRealtime||0===n?(t.mh=!t.location.w(),i.doLayout(t),t.D(32),Ji(e,t),i.isValidLayout=!0):e.sh=!0)}}function Co(e,t){var r=e.aw.I(t);return null!==r?r:e.aw.I(t.toLowerCase())}function Po(e,t){var r=e.bw.I(t);return null!==r||null!==(r=e.bw.I(t.toLowerCase()))?r:void w("Unknown DiagramEvent name: "+t)}function To(e){if(e.animationManager.isTicking)return!1;var t=e.currentTool;return t!==e.toolManager.findTool("Dragging")||(!e.Er||t.isComplexRoutingRealtime)}function Eo(e,t,r,n){var i=e.Th;if(null===i&&(e.Th=i=new cd(e.avoidanceCellSize)),i.os||i.group!==r||i.Ux!==n){if(i.Bx=Math.max(i.Hs+1,Math.floor(e.avoidanceLimit/e.avoidanceCellSize.width)),i.Cx=Math.max(i.Hs+1,Math.floor(e.avoidanceLimit/e.avoidanceCellSize.height)),null!==r&&(r=Oo(e,r)),null===r){t=Ne.alloc(),e.computeOccupiedArea(t),t.yc(100,100),i.initialize(t);for(var o=e.nodes;o.next();){var a=o.value,s=a.layer;null!==s&&s.visible&&!s.isTemporary&&Ao(e,a,n,t)}Ne.free(t)}else{for(0<r.memberParts.count&&((t=e.computePartsBounds(r.memberParts,!1)).yc(20,20),i.initialize(t)),t=Ne.alloc(),o=r.memberParts;o.next();)(a=o.value)instanceof Wc&&Ao(e,a,n,t);Ne.free(t)}i.group=r,i.Ux=n,i.os=!1}else t&&fd(i);return i}function Oo(e,t){return t.avoidable&&!t.isLinkLabel?t:null!==t.containingGroup?Oo(e,t.containingGroup):null}function Ao(e,t,r,n){if(t!==r&&t.isVisible())if(t.avoidable&&!t.isLinkLabel){t=t.getAvoidableRect(n),e=e.Th;var i=t.x,o=t.y;if(hd(e,i,o))for(r=(o-e.Fd)/e.pc|0,n=Math.min((i+t.width-e.Ed)/e.oc|0,e.ai),t=Math.min((o+t.height-e.Fd)/e.pc|0,e.bi),i=(i-e.Ed)/e.oc|0;i<=n;i++)if((o=e.Yb[i]).fill)o.fill(bd,r,t+1);else for(var a=r;a<=t;a++)o[a]=bd}else if(t instanceof dh)for(t=t.memberParts;t.next();)(i=t.value)instanceof Wc&&Ao(e,i,r,n)}function Lo(e,t){null===e.Th||e.Th.os||void 0!==t&&(!t.avoidable||t.isLinkLabel)||(e.Th.os=!0)}function No(e){-1===e.qk&&(e.qk=b((function(){if(-1!==e.qk&&(e.qg(),null!==e.lastInput.event)){var t=e.computeAutoScrollPosition(e.pp);t.ab(e.position)||(e.position=t,e.lastInput.documentPoint=e.Is(e.pp),e.doMouseMove(),e.Wi=!0,t=Ne.alloc(),e.computeBounds(t),t.Zc(e.documentBounds),So(e,t),Ne.free(t),e.Cc=!0,e.Wc(),No(e))}}),e.op))}function Ro(e,t,r){function n(){var e=+new Date;for(o=!0,a.reset();a.next();)if(!a.value[0].Wk){o=!1;break}o||e-u>l?t(r,i,s):y.requestAnimationFrame(n)}for(var i=r.callback,o=!0,a=e.Jg.iterator;a.next();)if(!a.value[0].Wk){o=!1;break}if("function"!==typeof i||o)return t(r,i,e);var s=e,l=r.callbackTimeout||300,u=+new Date;return y.requestAnimationFrame((function(){n()})),null}function Do(e,t,r,n){if(e.animationManager.zc(),e.Wc(),null===e.xa)return null;"object"!==typeof t&&w("properties argument must be an Object.");var i=t.size||null,o=t.scale||null;void 0!==t.scale&&isNaN(t.scale)&&(o="NaN");var a=t.maxSize;void 0===t.maxSize&&(a="SVG"===r?new Ee(1/0,1/0):new Ee(2e3,2e3));var s=t.position||null,l=t.parts||null,u=void 0===t.padding?1:t.padding,c=t.background||null,h=t.omitTemporary;void 0===h&&(h=!0);var d=t.document||document,f=t.elementFinished||null,p=t.showTemporary;void 0===p&&(p=!h),void 0===(t=t.showGrid)&&(t=p),null!==i&&isNaN(i.width)&&isNaN(i.height)&&(i=null),"number"===typeof u?u=new Ye(u):u instanceof Ye||w("MakeImage padding must be a Margin or a number."),u.left=Math.max(u.left,0),u.right=Math.max(u.right,0),u.top=Math.max(u.top,0),u.bottom=Math.max(u.bottom,0),e.jb.Qc(!0);var m=(h=new Ps(null,d,void 0,!0)).context;if(!(i||o||l||s))return h.width=e.Ca+Math.ceil(u.left+u.right),h.height=e.Ba+Math.ceil(u.top+u.bottom),"SVG"===r?null===n?null:(n.resize(h.width,h.height,h.width,h.height),n.ownerDocument=d,n.$r=f,Qi(e,n.context,u,new Ee(h.width,h.height),e.Aa,e.pa,l,c,p,t),n.context):(e.Um=!1,Qi(e,m,u,new Ee(h.width,h.height),e.Aa,e.pa,l,c,p,t),e.Um=!0,h.context);var y=e.Jp,g=e.documentBounds.copy();if(g.yv(e.yb),p)for(var v=e.Wa.s,b=v.length,x=0;x<b;x++){var S=v[x];if(S.visible&&S.isTemporary)for(var k=(S=S.Oa.s).length,_=0;_<k;_++){var j=S[_];j.isInDocumentBounds&&j.isVisible()&&((j=j.actualBounds).w()&&g.Zc(j))}}if(v=new pe(g.x,g.y),null!==l){for(b=new Ne(0,0,0,0),x=!0,(S=l.iterator).reset();S.next();)(k=S.value)instanceof vc&&(null!==(_=k.layer)&&!_.visible||null!==_&&!p&&_.isTemporary||!k.isVisible()||(k=k.actualBounds).w()&&(x?(x=!1,b.assign(k)):b.Zc(k)));g.width=b.width,g.height=b.height,v.x=b.x,v.y=b.y}return null!==s&&s.w()&&(v=s,o||(o=y)),b=s=0,null!==u&&(s=u.left+u.right,b=u.top+u.bottom),x=S=0,null!==i&&(S=i.width,x=i.height,isFinite(S)&&(S=Math.max(0,S-s)),isFinite(x)&&(x=Math.max(0,x-b))),null!==i&&null!==o?("NaN"===o&&(o=y),i.w()?(i=S,g=x):isNaN(x)?(i=S,g=g.height*o):(i=g.width*o,g=x)):null!==i?i.w()?(o=Math.min(S/g.width,x/g.height),i=S,g=x):isNaN(x)?(o=S/g.width,i=S,g=g.height*o):(o=x/g.height,i=g.width*o,g=x):null!==o?"NaN"===o&&a.w()?(o=Math.min((a.width-s)/g.width,(a.height-b)/g.height))>y?(o=y,i=g.width,g=g.height):(i=a.width,g=a.height):(i=g.width*o,g=g.height*o):(o=y,i=g.width,g=g.height),null!==u?(i+=s,g+=b):u=new Ye(0),null!==a&&(y=a.width,a=a.height,isNaN(y)&&(y=2e3),isNaN(a)&&(a=2e3),isFinite(y)&&(i=Math.min(i,y)),isFinite(a)&&(g=Math.min(g,a))),h.width=Math.ceil(i),h.height=Math.ceil(g),"SVG"===r?null===n?null:(n.resize(h.width,h.height,h.width,h.height),n.ownerDocument=d,n.$r=f,Qi(e,n.context,u,new Ee(Math.ceil(i),Math.ceil(g)),o,v,l,c,p,t),n.context):(e.Um=!1,Qi(e,m,u,new Ee(Math.ceil(i),Math.ceil(g)),o,v,l,c,p,t),e.Um=!0,h.context)}yi.className="AnimationTrigger",yi.Default=bi,yi.Immediate=xi,yi.Bundled=wi,(t=Si.prototype).clear=function(){for(var e=this.Oa,t=0;t<e.length;t++)wc(e.s[t],null);e.clear(),this.Sq.length=0},t.Te=function(e){this.H=e},t.toString=function(e){void 0===e&&(e=0);var t='Layer "'+this.name+'"';if(0>=e)return t;for(var r=0,n=0,i=0,o=0,a=0,s=this.Oa.iterator;s.next();){var l=s.value;l instanceof dh?i++:l instanceof Wc?n++:l instanceof vh?o++:l instanceof Vc?a++:r++}if(s="",0<r&&(s+=r+" Parts "),0<n&&(s+=n+" Nodes "),0<i&&(s+=i+" Groups "),0<o&&(s+=o+" Links "),0<a&&(s+=a+" Adornments "),1<e)for(e=this.Oa.iterator;e.next();)s+="\n    "+(r=e.value).toString(),null!==(n=r.data)&&te(n)&&(s+=" #"+te(n)),r instanceof Wc?s+=" "+L(n):r instanceof vh&&(s+=" "+L(r.fromNode)+" "+L(r.toNode));return t+" "+this.Oa.count+": "+s},t.ec=function(e,t,r){if(void 0===t&&(t=null),void 0===r&&(r=null),!1===this.Qh)return null;var n=!1;null!==this.diagram&&this.diagram.viewportBounds.ca(e)&&(n=!0);for(var i=pe.alloc(),o=this.Oa.s,a=o.length;a--;){var s=o[a];if((!0!==n||!1!==Dc(s))&&s.isVisible()&&(i.assign(e),ve(i,s.ke),null!==(s=s.ec(i,t,r))&&(null!==t&&(s=t(s)),null!==s&&(null===r||r(s)))))return pe.free(i),s}return pe.free(i),null},t.gi=function(e,t,r,n){if(void 0===t&&(t=null),void 0===r&&(r=null),n instanceof Z||n instanceof J||(n=new J),!1===this.Qh)return n;var i=!1;null!==this.diagram&&this.diagram.viewportBounds.ca(e)&&(i=!0);for(var o=pe.alloc(),a=this.Oa.s,s=a.length;s--;){var l=a[s];if((!0!==i||!1!==Dc(l))&&l.isVisible()){o.assign(e),ve(o,l.ke);var u=l;l.gi(o,t,r,n)&&(null!==t&&(u=t(u)),null===u||null!==r&&!r(u)||n.add(u))}}return pe.free(o),n},t.zf=function(e,t,r,n,i){if(void 0===t&&(t=null),void 0===r&&(r=null),void 0===n&&(n=!1),i instanceof Z||i instanceof J||(i=new J),!1===this.Qh)return i;var o=!1;null!==this.diagram&&this.diagram.viewportBounds.Me(e)&&(o=!0);for(var a=this.Oa.s,s=a.length;s--;){var l=a[s];if((!0!==o||!1!==Dc(l))&&l.isVisible()){var u=l;l.zf(e,t,r,n,i)&&(null!==t&&(u=t(u)),null===u||null!==r&&!r(u)||i.add(u))}}return i},t.Ju=function(e,t,r,n,i,o,a){if(!1===this.Qh)return i;for(var s=this.Oa.s,l=s.length;l--;){var u=s[l];if((!0!==a||!1!==Dc(u))&&o(u)&&u.isVisible()){var c=u;u.zf(e,t,r,n,i)&&(null!==t&&(c=t(c)),null===c||null!==r&&!r(c)||i.add(c))}}return i},t.kg=function(e,t,r,n,i,o){if(void 0===r&&(r=null),void 0===n&&(n=null),void 0===i&&(i=!0),!1!==i&&!0!==i&&((i instanceof Z||i instanceof J)&&(o=i),i=!0),o instanceof Z||o instanceof J||(o=new J),!1===this.Qh)return o;var a=!1;null!==this.diagram&&this.diagram.viewportBounds.ca(e)&&(a=!0);for(var s=pe.alloc(),l=pe.alloc(),u=this.Oa.s,c=u.length;c--;){var h=u[c];if((!0!==a||!1!==Dc(h))&&h.isVisible()){s.assign(e),ve(s,h.ke),l.h(e.x+t,e.y),ve(l,h.ke);var d=h;h.kg(s,l,r,n,i,o)&&(null!==r&&(d=r(d)),null===d||null!==n&&!n(d)||o.add(d))}}return pe.free(s),pe.free(l),o},t.wd=function(e,t){if(this.visible){var r=this.Oa.s,n=r.length;if(0!==n){e=E();for(var i=E(),o=0;o<n;o++){var a=r[o];if(a.ow=o,a instanceof vh){if(!1===a.xd)continue}else if(a instanceof Vc&&null!==a.adornedPart)continue;var s=a.actualBounds;a.isVisible()&&ze(s,t)?(a.wd(!0),e.push(a)):(a.wd(!1),null!==a.adornments&&0<a.adornments.count&&i.push(a))}for(t=0;t<e.length;t++)for(xc(r=e[t]),r=r.adornments;r.next();)(n=r.value).measure(1/0,1/0),n.arrange(),n.wd(!0);for(t=0;t<i.length;t++)xc(i[t]);O(e),O(i)}}},t.cc=function(e,t,r){if(this.visible&&0!==this.qb&&(void 0===r&&(r=!0),r||!this.isTemporary)){var n=(r=this.Oa.s).length;if(0!==n){if(e.isTemporary)for(var i=0;i<n;i++)r[i].Ej();i=ki(this,e);var o=this.Sq;o.length=0;for(var a=t.scale,s=Ne.alloc(),l=0;l<n;l++)this.Mj(e,r[l],t,o,a,s,!0);if(Ne.free(s),e.isTemporary)for(t=0;t<n;t++)r[t].Ej();e.globalAlpha=i}}},t.Mj=function(e,t,r,n,i,o,a){if(a&&!Dc(t))e.As(t);else{if(null!==n&&t instanceof vh&&(t.isOrthogonal&&n.push(t),!1===t.xd))return void e.As(t);for(a=!1,n=t.containingGroup;null!==n;)a?null!==n.ib&&o.xx(n.ib):null!==n.ib&&(a=!0,o.assign(n.ib)),n=n.containingGroup;var s=t.actualBounds;if(n=!1,a&&t.isVisible()){if(!o.Tc(s))return void e.As(t);n=!o.Me(s)}n&&(e.save(),e.beginPath(),e.rect(o.x,o.y,o.width,o.height),e.clip()),s.width*i>r.Hq||s.height*i>r.Hq?t.cc(e,r):(i=t.actualBounds,o=t.naturalBounds,0===i.width||0===i.height||isNaN(i.x)||isNaN(i.y)||!t.isVisible()||(r=t.transform,null!==t.areaBackground&&(qa(t,e,t.areaBackground,!0,!0,o,i),e.fillRect(i.x,i.y,i.width,i.height)),null===t.areaBackground&&null===t.background&&(qa(t,e,"rgba(0,0,0,0.3)",!0,!1,o,i),e.fillRect(i.x,i.y,i.width,i.height)),null!==t.background&&(e.transform(r.m11,r.m12,r.m21,r.m22,r.dx,r.dy),qa(t,e,t.background,!0,!1,o,i),e.fillRect(0,0,o.width/2,o.height/2),r.ps()||(t=1/(r.m11*r.m22-r.m12*r.m21),e.transform(r.m22*t,-r.m12*t,-r.m21*t,r.m11*t,t*(r.m21*r.dy-r.m22*r.dx),t*(r.m12*r.dx-r.m11*r.dy)))))),n&&(e.restore(),e.Qc(!0))}},t.g=function(e,t,r,n,i){var o=this.diagram;null!==o&&o.cb(dr,e,this,t,r,n,i)},t.li=function(e,t,r){var n=this.Oa;if(wc(t,this),e>=n.count)e=n.count;else if(n.L(e)===t)return-1;return n.Eb(e,t),t.Po(r),null!==(n=this.diagram)&&(r?n.N():n.li(t)),ji(this,e,t),e},t.mc=function(e,t,r){if(!r&&t.layer!==this&&null!==t.layer)return t.layer.mc(e,t,r);var n=this.Oa;if(0>e||e>=n.length){if(0>(e=n.indexOf(t)))return-1}else if(n.L(e)!==t&&0>(e=n.indexOf(t)))return-1;return t.Qo(r),n.nb(e),null!==(n=this.diagram)&&(r?n.N():n.mc(t)),wc(t,null),e},d.Object.defineProperties(Si.prototype,{parts:{get:function(){return this.Oa.iterator}},partsBackwards:{get:function(){return this.Oa.iteratorBackwards}},diagram:{get:function(){return this.H}},name:{get:function(){return this.wa},set:function(e){var t=this.wa;if(t!==e){var r=this.diagram;if(null!==r)for(""===t&&w("Cannot rename default Layer to: "+e),r=r.layers;r.next();)r.value.name===e&&w("Layer.name is already present in this diagram: "+e);for(this.wa=e,this.g("name",t,e),e=this.Oa.iterator;e.next();)e.value.layerName=this.wa}}},opacity:{get:function(){return this.qb},set:function(e){var t=this.qb;t!==e&&((0>e||1<e)&&k(e,"0 <= value <= 1",Si,"opacity"),this.qb=e,this.g("opacity",t,e),null!==(e=this.diagram)&&e.N())}},isTemporary:{get:function(){return this.m},set:function(e){var t=this.m;t!==e&&((this.m=e)&&(this.isInDocumentBounds=!1),this.g("isTemporary",t,e))}},visible:{get:function(){return this.u},set:function(e){var t=this.u;if(t!==e){for(this.u=e,this.g("visible",t,e),t=this.Oa.iterator;t.next();)t.value.Vb(e);null!==(e=this.diagram)&&e.N()}}},pickable:{get:function(){return this.Qh},set:function(e){var t=this.Qh;t!==e&&(this.Qh=e,this.g("pickable",t,e))}},isInDocumentBounds:{get:function(){return this.j},set:function(e){this.j!==e&&(this.j=e,null!==this.diagram&&this.diagram.Xa())}},allowCopy:{get:function(){return this.Ci},set:function(e){var t=this.Ci;t!==e&&(this.Ci=e,this.g("allowCopy",t,e))}},allowDelete:{get:function(){return this.Di},set:function(e){var t=this.Di;t!==e&&(this.Di=e,this.g("allowDelete",t,e))}},allowTextEdit:{get:function(){return this.Mi},set:function(e){var t=this.Mi;t!==e&&(this.Mi=e,this.g("allowTextEdit",t,e))}},allowGroup:{get:function(){return this.Ei},set:function(e){var t=this.Ei;t!==e&&(this.Ei=e,this.g("allowGroup",t,e))}},allowUngroup:{get:function(){return this.Ni},set:function(e){var t=this.Ni;t!==e&&(this.Ni=e,this.g("allowUngroup",t,e))}},allowLink:{get:function(){return this.Fi},set:function(e){var t=this.Fi;t!==e&&(this.Fi=e,this.g("allowLink",t,e))}},allowRelink:{get:function(){return this.Hi},set:function(e){var t=this.Hi;t!==e&&(this.Hi=e,this.g("allowRelink",t,e))}},allowMove:{get:function(){return this.Gi},set:function(e){var t=this.Gi;t!==e&&(this.Gi=e,this.g("allowMove",t,e))}},allowReshape:{get:function(){return this.Ii},set:function(e){var t=this.Ii;t!==e&&(this.Ii=e,this.g("allowReshape",t,e))}},allowResize:{get:function(){return this.Ji},set:function(e){var t=this.Ji;t!==e&&(this.Ji=e,this.g("allowResize",t,e))}},allowRotate:{get:function(){return this.Ki},set:function(e){var t=this.Ki;t!==e&&(this.Ki=e,this.g("allowRotate",t,e))}},allowSelect:{get:function(){return this.Li},set:function(e){var t=this.Li;t!==e&&(this.Li=e,this.g("allowSelect",t,e))}}}),Si.prototype.findObjectsNear=Si.prototype.kg,Si.prototype.findObjectsIn=Si.prototype.zf,Si.prototype.findObjectsAt=Si.prototype.gi,Si.prototype.findObjectAt=Si.prototype.ec,Si.className="Layer",Mi.prototype.clear=function(){this.animationManager.zc(),this.model.clear(),Uo=null,zo="",Pi(this,!1),this.Tn.clear(),tc(),this.Jg.clear(),this.Th=null,this.Xa(),this.Va(),this.N()},Mi.prototype.reset=function(){this.clear(),this.vb=!0,Ci(this),wo(this),this.Qg=!0,Ni(this),this.layout=new Pd,this.Qg=!1,this.model=Af(),this.model.undoManager=new yr,this.vb=this.nn=!1,this.N()},Mi.prototype.setRTL=function(e){null===(e=void 0===e?this.div:e)&&(e=y.document.body);var t=x("div");t.dir="rtl",t.style.cssText="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll;",t.textContent="A",e.appendChild(t);var r="reverse";0<t.scrollLeft?r="default":(t.scrollLeft=1,0===t.scrollLeft&&(r="negative")),e.removeChild(t),this.Xt=r},Mi.prototype.setScrollWidth=function(e){null===(e=void 0===e?this.div:e)&&(e=y.document.body);var t=0;if(Bo){var r=Fo;t=gi,null===r&&((r=Fo=x("p")).style.width="100%",r.style.height="200px",r.style.boxSizing="content-box",(t=gi=x("div")).style.position="absolute",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.boxSizing="content-box",t.appendChild(r)),t.style.overflow="hidden",e.appendChild(t);var n=r.offsetWidth;t.style.overflow="scroll",n===(r=r.offsetWidth)&&(r=t.clientWidth),e.removeChild(t),0!==(t=n-r)||F||(t=11)}this.Db=t,this.zw=!0},Mi.prototype.rb=function(e){e.classType===Mi&&(this.autoScale=e)},Mi.prototype.toString=function(e){void 0===e&&(e=0);var t="";if(this.div&&this.div.id&&(t=this.div.id),t='Diagram "'+t+'"',0>=e)return t;for(var r=this.Wa.iterator;r.next();)t+="\n  "+r.value.toString(e-1);return t},Mi.prototype.addEventListener=function(e,t,r,n){e.addEventListener(t,r,{capture:n,passive:!1})},Mi.prototype.removeEventListener=function(e,t,r,n){e.removeEventListener(t,r,{capture:n})},Mi.prototype.computePixelRatio=function(){return null!==this.Vh?this.Vh:y.devicePixelRatio||1},Mi.prototype.doMouseMove=function(){this.currentTool.doMouseMove()},Mi.prototype.doMouseDown=function(){this.currentTool.doMouseDown()},Mi.prototype.doMouseUp=function(){this.currentTool.doMouseUp()},Mi.prototype.doMouseWheel=function(){this.currentTool.doMouseWheel()},Mi.prototype.doKeyDown=function(){this.currentTool.doKeyDown()},Mi.prototype.doKeyUp=function(){this.currentTool.doKeyUp()},Mi.prototype.doFocus=function(){this.focus()},Mi.prototype.focus=function(){if(this.xa)if(this.scrollsPageOnFocus)this.xa.focus();else{var e=y.scrollX||y.pageXOffset,t=y.scrollY||y.pageYOffset;this.xa.focus(),y.scrollTo(e,t)}},Mi.prototype.Hy=function(){this.H.R("GainedFocus")},Mi.prototype.Gy=function(){this.H.R("LostFocus")},Mi.prototype.ex=function(e){if(null!==this.xa){var t=this.fu,r=this.cu;this.hr=!0;var n=this.documentBounds,i=this.viewportBounds,o=this.pj,a=n.x-o.left,s=n.y-o.top,l=n.width+o.left+o.right,u=n.height+o.top+o.bottom,c=n.right+o.right;o=n.bottom+o.bottom;var h=i.x;n=i.y;var d=i.width,f=i.height,p=i.right,m=i.bottom;i=this.scale;var y=e.scrollLeft;if(this.pn)switch(this.Xt){case"negative":y=y+e.scrollWidth-e.clientWidth;break;case"reverse":y=e.scrollWidth-y-e.clientWidth}var g=y;d<l||f<u?(y=pe.allocAt(this.position.x,this.position.y),this.allowHorizontalScroll&&this.eu!==g&&(y.x=g/i+a,this.eu=g),this.allowVerticalScroll&&this.gu!==e.scrollTop&&(y.y=e.scrollTop/i+s,this.gu=e.scrollTop),this.position=y,pe.free(y),this.Ae=this.hr=!1):(y=pe.alloc(),e.py&&this.allowHorizontalScroll&&(a<h&&(this.position=y.h(g+a,this.position.y)),c>p&&(this.position=y.h(-(t.scrollWidth-this.Ca)+g-this.Ca/i+c,this.position.y))),e.qy&&this.allowVerticalScroll&&(s<n&&(this.position=y.h(this.position.x,e.scrollTop+s)),o>m&&(this.position=y.h(this.position.x,-(t.scrollHeight-this.Ba)+e.scrollTop-this.Ba/i+o))),pe.free(y),this.pd=!0,this.Ae=this.hr=!1,n=this.documentBounds,i=this.viewportBounds,c=n.right,p=i.right,o=n.bottom,m=i.bottom,a=n.x,h=i.x,s=n.y,n=i.y,d>=l&&a>=h&&c<=p&&(r.style.width="1px"),f>=u&&s>=n&&o<=m&&(r.style.height="1px"))}},Mi.prototype.computeBounds=function(e){return void 0===e&&(e=new Ne),$i(this),Fi(this,e)},Mi.prototype.computePartsBounds=function(e,t){void 0===t&&(t=!1);var r=null;if(M(e))for(var n=0;n<e.length;n++){var i=e[n];!t&&i instanceof vh||(i.Va(),null===r?r=i.actualBounds.copy():r.Zc(i.actualBounds))}else for(e=e.iterator;e.next();)n=e.value,!t&&n instanceof vh||(n.Va(),null===r?r=n.actualBounds.copy():r.Zc(n.actualBounds));return null===r?new Ne(NaN,NaN,0,0):r},Mi.prototype.zoomToFit=function(){var e=this.qj;this.qj=$o,this.scale=Ui(this,Go),e!==$o&&(Bi(this,!1),zi(this,this.documentBounds,this.Ca/this.Aa,this.Ba/this.Aa,this.uk,!1)),this.qj=e},(t=Mi.prototype).rA=function(e,t){void 0===t&&(t=Go);var r=e.width,n=e.height;if(!(0===r||0===n||isNaN(r)&&isNaN(n))){var i=1;if(t===Go||t===Vo)if(isNaN(r))i=this.viewportBounds.height*this.scale/n;else if(isNaN(n))i=this.viewportBounds.width*this.scale/r;else{i=this.Ca;var o=this.Ba;i=t===Vo?o/n>i/r?(o-(this.xe?this.Db:0))/n:(i-(this.cf?this.Db:0))/r:Math.min(o/n,i/r)}this.scale=i,this.position=new pe(e.x,e.y)}},t.Cy=function(e,t){this.Va();var r=this.documentBounds,n=this.viewportBounds;this.position=new pe(r.x+(e.x*r.width+e.offsetX)-(t.x*n.width-t.offsetX),r.y+(e.y*r.height+e.offsetY)-(t.y*n.height-t.offsetY))},t.qz=function(e){if(e instanceof Aa){this.Xp=e;var t=pe.alloc();this.Yp=this.ip(e.ja(Je,t)),pe.free(t)}else this.Xp=null,this.Yp=ae},t.Jl=function(e,t){if(void 0===t&&(t=!0),t){if((e=qi(this,e,(function(e){return e.part}),(function(e){return e.canSelect()})))instanceof vc)return e}else if((e=qi(this,e,(function(e){return e.part})))instanceof vc)return e;return null},t.ec=function(e,t,r){void 0===t&&(t=null),void 0===r&&(r=null),$i(this);for(var n=this.Wa.iteratorBackwards;n.next();){var i=n.value;if(i.visible&&null!==(i=i.ec(e,t,r)))return i}return null},t.dz=function(e,t,r){return void 0===t&&(t=!0),function(e,t,r,n,i){for(void 0===r&&(r=null),void 0===n&&(n=null),i instanceof Z||i instanceof J||(i=new J),$i(e),e=e.Wa.iteratorBackwards;e.next();){var o=e.value;o.visible&&!o.isTemporary&&o.gi(t,r,n,i)}return i}(this,e,(function(e){return e.part}),t?function(e){return e instanceof vc&&e.canSelect()}:null,r)},t.gi=function(e,t,r,n){void 0===t&&(t=null),void 0===r&&(r=null),n instanceof Z||n instanceof J||(n=new J),$i(this);for(var i=this.Wa.iteratorBackwards;i.next();){var o=i.value;o.visible&&o.gi(e,t,r,n)}return n},t.nx=function(e,t,r,n){return void 0===t&&(t=!1),void 0===r&&(r=!0),function(e,t,r,n,i){var o=null;for(void 0===o&&(o=null),void 0===r&&(r=null),void 0===n&&(n=!1),i instanceof Z||i instanceof J||(i=new J),$i(e),e=e.Wa.iteratorBackwards;e.next();){var a=e.value;a.visible&&!a.isTemporary&&a.zf(t,o,r,n,i)}return i}(this,e,(function(e){return e instanceof vc&&(!r||e.canSelect())}),t,n)},t.zf=function(e,t,r,n,i){void 0===t&&(t=null),void 0===r&&(r=null),void 0===n&&(n=!1),i instanceof Z||i instanceof J||(i=new J),$i(this);for(var o=this.Wa.iteratorBackwards;o.next();){var a=o.value;a.visible&&a.zf(e,t,r,n,i)}return i},t.Ju=function(e,t,r,n,i,o){var a=new J;$i(this);for(var s=this.Wa.iteratorBackwards;s.next();){var l=s.value;l.visible&&l.Ju(e,t,r,n,a,i,o)}return a},t.ez=function(e,t,r,n,i){return void 0===r&&(r=!0),void 0===n&&(n=!0),function(e,t,r,n,i,o){var a=null;void 0===a&&(a=null),void 0===n&&(n=null),void 0===i&&(i=!0),!1!==i&&!0!==i&&((i instanceof Z||i instanceof J)&&(o=i),i=!0);for(o instanceof Z||o instanceof J||(o=new J),$i(e),e=e.Wa.iteratorBackwards;e.next();){var s=e.value;s.visible&&!s.isTemporary&&s.kg(t,r,a,n,i,o)}return o}(this,e,t,(function(e){return e instanceof vc&&(!n||e.canSelect())}),r,i)},t.kg=function(e,t,r,n,i,o){void 0===r&&(r=null),void 0===n&&(n=null),void 0===i&&(i=!0),!1!==i&&!0!==i&&((i instanceof Z||i instanceof J)&&(o=i),i=!0),o instanceof Z||o instanceof J||(o=new J),$i(this);for(var a=this.Wa.iteratorBackwards;a.next();){var s=a.value;s.visible&&s.kg(e,t,r,n,i,o)}return o},Mi.prototype.acceptEvent=function(e){return Gi(this,e,e instanceof MouseEvent)},Mi.prototype.Hz=function(e){var t=this.H;if(!this.H.isEnabled)return!1;var r=Gi(t,e,!1);switch(r.key=String.fromCharCode(e.which),r.down=!0,e.which){case 8:r.key="Backspace";break;case 33:r.key="PageUp";break;case 34:r.key="PageDown";break;case 35:r.key="End";break;case 36:r.key="Home";break;case 37:r.key="Left";break;case 38:r.key="Up";break;case 39:r.key="Right";break;case 40:r.key="Down";break;case 45:r.key="Insert";break;case 46:r.key="Del";break;case 48:r.key="0";break;case 187:case 61:case 107:r.key="Add";break;case 189:case 173:case 109:r.key="Subtract";break;case 27:r.key="Esc"}return t.doKeyDown(),Wi(r,e)},Mi.prototype.Iz=function(e){var t=this.H;if(!t.isEnabled)return!1;var r=Gi(t,e,!1);switch(r.key=String.fromCharCode(e.which),r.up=!0,e.which){case 8:r.key="Backspace";break;case 33:r.key="PageUp";break;case 34:r.key="PageDown";break;case 35:r.key="End";break;case 36:r.key="Home";break;case 37:r.key="Left";break;case 38:r.key="Up";break;case 39:r.key="Right";break;case 40:r.key="Down";break;case 45:r.key="Insert";break;case 46:r.key="Del"}return t.doKeyUp(),Wi(r,e)},Mi.prototype.Uy=function(e){var t=this.H;if(!t.isEnabled)return!1;var r=Gi(t,e,!0);return null!==t.mouseEnter&&t.mouseEnter(r),t.currentTool.standardMouseOver(),Wi(r,e)},Mi.prototype.Vy=function(e){var t=this.H;if(!t.isEnabled)return!1;var r=Gi(t,e,!0);return null!==t.mouseLeave&&t.mouseLeave(r),Wi(r,e)},Mi.prototype.getMouse=function(e){var t=this.xa;if(null===t)return new pe(0,0);var r=t.getBoundingClientRect();return t=e.clientX-this.Ca/r.width*r.left,e=e.clientY-this.Ba/r.height*r.top,null!==this.Ab?ve(new pe(t,e),this.Ab):new pe(t,e)},Mi.prototype.Xa=function(){this.Wi||(this.Wi=!0,this.Wb(!1))},Mi.prototype.redraw=function(){this.vb||this.cd||(this.N(),this.Wc())},(t=Mi.prototype).Gz=function(){return this.gg},t.Py=function(e){void 0===e&&(e=null);var t=this.animationManager,r=t.isEnabled;t.zc(),t.isEnabled=!1,Zi(this),this.df=!1,this.Zt=new pe(NaN,NaN),t.isEnabled=r,this.cd=!0;var n=this;null!==e&&b((function(){n.cd=!1,Wn(t,"Model"),e(n)}),1)},t.Wb=function(e){if(void 0===e&&(e=!1),!0!==this.gg&&!(this.vb||!1===e&&this.cd)){this.gg=!0;var t=this;y.requestAnimationFrame((function(){t.gg&&t.Wc()}))}},t.Wc=function(){this.bn&&!this.gg||(this.bn&&(this.bn=!1),Zi(this))},t.Gv=function(e,t){for(e.reset();e.next();){var r=e.value;!r.Uc()||r instanceof dh||(r.oi()?(r.measure(1/0,1/0),r.arrange()):t.add(r))}for(e.reset();e.next();)(r=e.value)instanceof dh&&r.isVisible()&&Ji(this,r);for(e.reset();e.next();)(r=e.value)instanceof vh&&r.isVisible()&&(r.oi()?(r.measure(1/0,1/0),r.arrange()):t.add(r));for(e.reset();e.next();)(r=e.value)instanceof Vc&&r.isVisible()&&(r.oi()?(r.measure(1/0,1/0),r.arrange()):t.add(r))},t.wd=function(e,t,r,n){if(this.pd||this.animationManager.isAnimating)for(var i=0;i<t;i++)e[i].wd(r,n)},t.cc=function(e){if(null!==this.Ka)if(null===this.xa&&w("No canvas specified"),"svg"===this.il){if(null!==this.Ka){var t=this.animationManager;if(!t.zb&&(!t.isAnimating||t.isTicking)){ro(this);var r=this.Ca,n=this.Ba;if(e.zv.resize(r,n,r,n),n=(r=this.Wa.s).length,this.wd(r,n,this,this.viewportBounds),this.Cc||t.isAnimating){t=this.pa;var i=this.Aa,o=Math.round(t.x*i)/i,a=Math.round(t.y*i)/i,s=this.Ab;for(s.reset(),1!==i&&s.scale(i),0===t.x&&0===t.y||s.translate(-o,-a),e.pi=null,gs(e,s.m11,s.m12,s.m21,s.m22,s.dx,s.dy),1!==this.qb&&(e.globalAlpha=this.qb),eo(this,e),t=0;t<n;t++)r[t].cc(e,this);this.Cc=this.pd=!1}}}}else e:if(o=this.animationManager,!o.zb&&(!o.isAnimating||o.isTicking)&&(r=new Date,ro(this),"0"!==this.Ka.style.opacity)){if(n=e!==this.jb,i=(t=this.Wa.s).length,this.wd(t,i,this,this.viewportBounds),n)e.Qc(!0),this.pd=!0;else if(!this.Cc&&!o.isAnimating)break e;a=this.pa,s=this.Aa;var l=Math.round(a.x*s)/s,u=Math.round(a.y*s)/s;for((o=this.Ab).reset(),1!==s&&o.scale(s),0===a.x&&0===a.y||o.translate(-l,-u),a=this.Pb,e.setTransform(a,0,0,a,0,0),e.clearRect(0,0,this.Ca,this.Ba),1!==this.qb&&(e.globalAlpha=this.qb),eo(this,e),s=0;s<i;s++)e.setTransform(a,0,0,a,0,0),e.transform(o.m11,o.m12,o.m21,o.m22,o.dx,o.dy),e.vc(),t[s].cc(e,this);if(t=!1,this.Bh?la(this.Bh,this)&&(t=this.gt()):t=!0,t&&(zt.prototype.Ld=zt.prototype.Uw),n?(this.jb.Qc(!0),this.pd=!0):this.Cc=this.pd=!1,t=+new Date-+r,n=V&&V.hx,r=this.sw,n||null===this.Vh){for(r[this.Mq]=t,this.Mq=(this.Mq+1)%r.length,i=t=0;i<r.length;i++)t+=r[i];this.Lq=t/r.length}if(1!==this.qb&&(e.globalAlpha=1),n)for(e.setTransform(1,0,0,1,0,0),n=0;n<r.length;n++)e.fillText(r[n].toString(),20,150+20*n)}},t.Df=function(e){return this.Mg[e]},t.Tx=function(e,t){"minDrawingLength"===e&&(this.Hq=t),this.Mg[e]=t,this.redraw()},t.Px=function(){this.Mg=new G,this.Mg.drawShadows=!0,this.Mg.textGreeking=!0,this.Mg.viewportOptimizations=!F&&!I,this.Mg.temporaryPixelRatio=!0,this.Mg.pictureRatioOptimization=!0,this.Hq=this.Mg.minDrawingLength=1},t.Ll=function(e){return this.kn[e]},t.iA=function(e,t){this.kn[e]=t},t.Ox=function(){this.kn=new G,this.kn.extraTouchArea=10,this.kn.extraTouchThreshold=10,this.kn.hasGestureZoom=!0},t.set=function(e){return Object.assign(this,e),this},t.yu=function(e){return this.km(e)},t.km=function(e){return to(this,e),this},t.Xw=function(){if(0!==this.zh.count&&!(1<this.undoManager.transactionLevel)){for(;0<this.zh.count;){var e=this.zh;for(this.zh=new fe,e=e.iterator;e.next();){var t=e.key;t.Ro(e.value),t.nc()}}this.N()}},t.N=function(e){if(void 0===e)this.Cc=!0,this.Wb();else{var t=this.viewportBounds;e.w()&&t.Tc(e)&&(this.Cc=!0,this.Wb())}this.R("InvalidateDraw")},Mi.prototype.invalidateViewport=function(e,t){if(!0!==this.Cc)if(this.Cc=!0,"svg"===this.il)this.Wc();else{var r=!0===this.Df("temporaryPixelRatio");if(!0===this.Df("viewportOptimizations")&&this.scrollMode!==Jo&&this.pj.ei(0,0,0,0)&&t.width===e.width&&t.height===e.height){var n=this.scale,i=Math.max(e.y,t.y),o=Math.min(e.y+e.height,t.y+t.height);if(0<Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x))*n&&0<Math.max(0,o-i)*n){if(!(this.cd||(this.gg=!1,null===this.Ka||(this.cd=!0,this.documentBounds.w()||(n=Ne.alloc(),So(this,this.computeBounds(n)),Ne.free(n)),n=this.xa,null===n||n instanceof ms)))){var a=this.Pb;i=this.Ca*a;var s=this.Ba*a,l=this.scale*a;o=Math.round(Math.round(t.x*l)-Math.round(e.x*l)),t=Math.round(Math.round(t.y*l)-Math.round(e.y*l)),l=this.cw,e=this.ky,l.width!==i&&(l.width=i),l.height!==s&&(l.height=s),e.clearRect(0,0,i,s),l=190*a;var u=70*a,c=Math.max(o,0),h=Math.max(t,0),d=Math.floor(i-c),f=Math.floor(s-h);e.drawImage(n.La,c,h,d,f,0,0,d,f),la(this.Bh,this)&&e.clearRect(0,0,l,u),n=E(),e=E(),f=Math.abs(o),d=Math.abs(t);var p=0===c?0:i-f;c=pe.allocAt(p,0),f=pe.allocAt(f+p,s),e.push(new Ne(Math.min(c.x,f.x),Math.min(c.y,f.y),Math.abs(c.x-f.x),Math.abs(c.y-f.y)));var m=this.Ab;if(m.reset(),m.scale(a,a),1!==this.Aa&&m.scale(this.Aa),(0!==(a=this.pa).x||0!==a.y)&&isFinite(a.x)&&isFinite(a.y)&&m.translate(-a.x,-a.y),ve(c,m),ve(f,m),n.push(new Ne(Math.min(c.x,f.x),Math.min(c.y,f.y),Math.abs(c.x-f.x),Math.abs(c.y-f.y))),p=0===h?0:s-d,c.h(0,p),f.h(i,d+p),e.push(new Ne(Math.min(c.x,f.x),Math.min(c.y,f.y),Math.abs(c.x-f.x),Math.abs(c.y-f.y))),ve(c,m),ve(f,m),n.push(new Ne(Math.min(c.x,f.x),Math.min(c.y,f.y),Math.abs(c.x-f.x),Math.abs(c.y-f.y))),la(this.Bh,this)&&(i=0<o?0:-o,s=0<t?0:-t,c.h(i,s),f.h(l+i,u+s),e.push(new Ne(Math.min(c.x,f.x),Math.min(c.y,f.y),Math.abs(c.x-f.x),Math.abs(c.y-f.y))),ve(c,m),ve(f,m),n.push(new Ne(Math.min(c.x,f.x),Math.min(c.y,f.y),Math.abs(c.x-f.x),Math.abs(c.y-f.y)))),pe.free(c),pe.free(f),Ki(this,!1,!0),null===this.Ka&&w("No div specified"),null===this.xa&&w("No canvas specified"),!this.animationManager.zb&&(i=this.jb,this.Cc)){for(ro(this),s=this.Pb,i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,this.Ca*s,this.Ba*s),i.drawImage(this.cw.La,0<o?0:Math.round(-o),0<t?0:Math.round(-t)),o=this.pa,a=this.Aa,l=Math.round(o.x*a)/a,u=Math.round(o.y*a)/a,(t=this.Ab).reset(),1!==a&&t.scale(a),0===o.x&&0===o.y||t.translate(-l,-u),i.save(),i.beginPath(),o=e.length,a=0;a<o;a++)0!==(l=e[a]).width&&0!==l.height&&i.rect(Math.floor(l.x),Math.floor(l.y),Math.ceil(l.width),Math.ceil(l.height));for(i.clip(),i.setTransform(s,0,0,s,0,0),i.transform(t.m11,t.m12,t.m21,t.m22,t.dx,t.dy),i.vc(),o=(t=this.Wa.s).length,this.wd(t,o,this,this.viewportBounds),eo(this,i),i.globalAlpha=this.qb,s=0;s<o;s++)if(l=n,(a=t[s]).visible&&0!==a.qb){u=ki(a,i),(h=a.Sq).length=0,c=this.scale,d=Ne.alloc(),m=(f=a.Oa.s).length,p=l.length;for(var y=0;y<m;y++){var g=f[y],v=Mc(g,g.actualBounds);e:{for(var b=2/c,x=4/c,S=0;S<p;S++){var k=l[S];if(0!==k.width&&0!==k.height&&v.Ru(k.x-b,k.y-b,k.width+x,k.height+x)){v=!0;break e}}v=!1}v&&a.Mj(i,g,this,h,c,d,!0)}Ne.free(d),i.globalAlpha=u}i.restore(),i.Qc(!0),this.Bh&&la(this.Bh,this)&&this.gt(),this.Cc=this.pd=!1,this.Xl()}O(n),O(e),this.cd=!1}}else this.Wc();r&&(Oi(this),this.Wc(),Ai(this,!0))}else r?(Oi(this),this.Wc(),Ai(this,!0)):this.Wc()}},(t=Mi.prototype).add=function(e){var t=e.diagram;if(t!==this&&(null!==t&&w("Cannot add part "+e.toString()+" to "+this.toString()+". It is already a part of "+t.toString()),null===(t=this.Oj(e.layerName))&&(t=this.Oj("")),null===t&&w('Cannot add a Part when unable find a Layer named "'+e.layerName+'" and there is no default Layer'),e.layer!==t)){var r=t.li(99999999,e,e.diagram===this);0<=r&&this.cb(fr,"parts",t,null,e,null,r),t.isTemporary||this.Xa(),e.D(1),null!==(r=e.layerChanged)&&r(e,null,t)}},t.li=function(e){this.partManager.li(e);var t=this;El(e,(function(e){vo(t,e)})),(e instanceof Vc||e instanceof dh&&null!==e.placeholder)&&e.v(),null!==e.data&&El(e,(function(e){ef(t.partManager,e)})),!0!==ts(e)&&!0!==Lc(e)||this.ze.add(e),Oc(e,!0,this),zc(e)?(e.actualBounds.w()&&this.N(Mc(e,e.actualBounds)),this.Xa()):e.isVisible()&&e.actualBounds.w()&&this.N(Mc(e,e.actualBounds)),this.Wb()},t.mc=function(e){e.Cj(),this.partManager.mc(e);var t=this;null!==e.data&&El(e,(function(e){tf(t.partManager,e,t)})),this.ze.remove(e),zc(e)?(e.actualBounds.w()&&this.N(Mc(e,e.actualBounds)),this.Xa()):e.isVisible()&&e.actualBounds.w()&&this.N(Mc(e,e.actualBounds)),this.Wb()},t.remove=function(e){oo(this,e,!0)},t.Bs=function(e,t){if(void 0===t&&(t=!1),M(e))for(var r=e.length,n=0;n<r;n++){var i=e[n];t&&!i.canDelete()||this.remove(i)}else for((r=new J).addAll(e),e=r.iterator;e.next();)r=e.value,t&&!r.canDelete()||this.remove(r)},t.Ij=function(e,t,r){return void 0===r&&(r=!1),this.partManager.Ij(e,t,r)},Mi.prototype.moveParts=function(e,t,r,n){if(void 0===r&&(r=!1),void 0===n&&(n=lo(this)),null!==this.toolManager){var i=new fe;if(null!==e)if(M(e))for(var o=0;o<e.length;o++)ao(this,i,e[o],r,n);else for(e=e.iterator;e.next();)ao(this,i,e.value,r,n);else{for(e=this.parts;e.next();)ao(this,i,e.value,r,n);for(e=this.nodes;e.next();)ao(this,i,e.value,r,n);for(e=this.links;e.next();)ao(this,i,e.value,r,n)}so(this,i,t,n,r)}},Mi.prototype.computeMove=function(e,t,r,n){if(void 0===n&&(n=new pe),n.assign(t),null===e)return n;var i=t,o=r.isGridSnapEnabled;o&&(r.isGridSnapRealtime||this.lastInput.up)&&uo(this,e,t,i=pe.alloc(),r),r=null!==e.dragComputation?e.dragComputation(e,t,i):i;var a=e.minLocation,s=a.x;isNaN(s)&&(s=o?Math.round(1e3*e.location.x)/1e3:e.location.x),a=a.y,isNaN(a)&&(a=o?Math.round(1e3*e.location.y)/1e3:e.location.y);var l=e.maxLocation,u=l.x;return isNaN(u)&&(u=o?Math.round(1e3*e.location.x)/1e3:e.location.x),l=l.y,isNaN(l)&&(l=o?Math.round(1e3*e.location.y)/1e3:e.location.y),n.h(Math.max(s,Math.min(r.x,u)),Math.max(a,Math.min(r.y,l))),i!==t&&pe.free(i),n},(t=Mi.prototype).Gd=function(e,t,r){if(void 0===r)return new ua(re);var n=e.isGridSnapEnabled;return e.groupsSnapMembers||null===t.containingGroup||(n=!1),new ua(n?new pe(Math.round(1e3*r.x)/1e3,Math.round(1e3*r.y)/1e3):r.copy())},t.wl=function(e){po(this,e,null),e.Te(this);var t=this.Wa,r=t.count-1;if(!e.isTemporary)for(;0<=r&&t.L(r).isTemporary;)r--;return t.Eb(r+1,e),null!==this.$b&&this.cb(fr,"layers",this,null,e,null,r+1),this.N(),this.Xa(),this},t.Pw=function(e,t){po(this,e,t),e.Te(this);var r=this.Wa,n=r.indexOf(e);0<=n&&(r.remove(e),null!==this.$b&&this.cb(pr,"layers",this,e,null,n,null));var i,o=r.count;for(i=0;i<o;i++)if(r.L(i)===t){r.Eb(i,e);break}return null!==this.$b&&this.cb(fr,"layers",this,null,e,null,i),this.N(),0>n&&this.Xa(),this},t.xy=function(e,t){po(this,e,t),e.Te(this);var r=this.Wa,n=r.indexOf(e);0<=n&&(r.remove(e),null!==this.$b&&this.cb(pr,"layers",this,e,null,n,null));var i,o=r.count;for(i=0;i<o;i++)if(r.L(i)===t){r.Eb(i+1,e);break}return null!==this.$b&&this.cb(fr,"layers",this,null,e,null,i+1),this.N(),0>n&&this.Xa(),this},t.aA=function(e){if(e.diagram!==this&&w("Cannot remove a Layer from another Diagram: "+e+" of "+e.diagram),""!==e.name){var t=this.Wa,r=t.indexOf(e);if(t.remove(e)){for(t=e.Oa.copy().iterator;t.next();){var n=t.value,i=n.layerName;i!==e.name?n.layerName=i:n.layerName=""}null!==this.$b&&this.cb(pr,"layers",this,e,null,r,null),this.N(),this.Xa()}}},t.Oj=function(e){for(var t=this.layers;t.next();){var r=t.value;if(r.name===e)return r}return null},t.Rw=function(e){return null===this.kf&&(this.kf=new Z),this.kf.add(e),this.model.Xg(e),this},t.cA=function(e){null!==this.kf&&(this.kf.remove(e),0===this.kf.count&&(this.kf=null)),this.model.dk(e)},t.Xg=function(e){return null===this.vg&&(this.vg=new Z),this.vg.add(e),this},t.dk=function(e){null!==this.vg&&(this.vg.remove(e),0===this.vg.count&&(this.vg=null))},t.Vr=function(e){if(this.skipsUndoManager||this.model.skipsUndoManager||this.model.undoManager.Pu(e),e.change!==hr&&(this.isModified=!0),null!==this.vg)for(var t=this.vg,r=t.length,n=0;n<r;n++)t.L(n)(e)},t.cb=function(e,t,r,n,i,o,a){void 0===o&&(o=null),void 0===a&&(a=null);var s=new cr;s.diagram=this,s.change=e,s.propertyName=t,s.object=r,s.oldValue=n,s.oldParam=o,s.newValue=i,s.newParam=a,this.Vr(s)},t.g=function(e,t,r,n,i){this.cb(dr,e,this,t,r,n,i)},Mi.prototype.changeState=function(e,t){if(null!==e&&e.diagram===this){var r=this.skipsModelSourceBindings;try{this.skipsModelSourceBindings=!0;var n=e.change;if(n===dr){var i=e.object;if(Df(i,e.propertyName,e.I(t)),i instanceof Aa){var o=i.part;null!==o&&o.Sb()}this.isModified=!0}else if(n===fr){var a=e.object,s=e.newParam,l=e.newValue;if(a instanceof kl)if("number"===typeof s&&l instanceof Aa){t?a.mc(s):a.Eb(s,l);var u=a.part;null!==u&&u.Sb()}else"number"===typeof s&&l instanceof iu&&(l.isRow?zl(a,s,t?void 0:l):ql(a,s,t?void 0:l));else if(a instanceof Si){var c=!0===e.oldParam;"number"===typeof s&&l instanceof vc&&(t?(l.isSelected=!1,l.isHighlighted=!1,l.Sb(),a.mc(c?s:-1,l,c)):a.li(s,l,c))}else a instanceof Mi?"number"===typeof s&&l instanceof Si&&(t?this.Wa.nb(s):(l.Te(this),this.Wa.Eb(s,l))):w("unknown ChangedEvent.Insert object: "+e.toString());this.isModified=!0}else if(n===pr){var h=e.object,d=e.oldParam,f=e.oldValue;if(h instanceof kl)"number"===typeof d&&f instanceof Aa?t?h.Eb(d,f):h.mc(d):"number"===typeof d&&f instanceof iu&&(f.isRow?zl(h,d,t?f:void 0):ql(h,d,t?f:void 0));else if(h instanceof Si){var p=!0===e.newParam;"number"===typeof d&&f instanceof vc&&(t?0>h.Oa.indexOf(f)&&h.li(d,f,p):(f.isSelected=!1,f.isHighlighted=!1,f.Sb(),h.mc(p?d:-1,f,p)))}else h instanceof Mi?"number"===typeof d&&f instanceof Si&&(t?(f.Te(this),this.Wa.Eb(d,f)):this.Wa.nb(d)):w("unknown ChangedEvent.Remove object: "+e.toString());this.isModified=!0}else n!==hr&&w("unknown ChangedEvent: "+e.toString())}finally{this.skipsModelSourceBindings=r}}},Mi.prototype.Ea=function(e){return this.undoManager.Ea(e)},Mi.prototype.eb=function(e){return this.undoManager.eb(e)},Mi.prototype.Hf=function(){return this.undoManager.Hf()},Mi.prototype.commit=function(e,t){void 0===t&&(t="");var r=this.skipsUndoManager;null===t&&(this.skipsUndoManager=!0,t=""),this.undoManager.Ea(t);var n=!1;try{e(this),n=!0}finally{n?this.undoManager.eb(t):this.undoManager.Hf(),this.skipsUndoManager=r}},Mi.prototype.updateAllTargetBindings=function(e){this.partManager.updateAllTargetBindings(e)},Mi.prototype.lp=function(){this.partManager.lp()},Mi.prototype.onViewportBoundsChanged=function(e,t,r,n){if(!e.C(t)){void 0===n&&(n=!1),n||(this.Ae=!0),this.pd=!0;var i=this.layout;null===i||!i.isViewportSized||this.autoScale!==qo||e.width===t.width&&e.height===t.height||i.D(),i=this.currentTool,!0===this.Qk&&i instanceof br&&(this.lastInput.documentPoint=this.Is(this.lastInput.viewPoint),xr(i,this)),this.vb||this.invalidateViewport(e,t),yo(this),this.jd.scale=r,this.jd.position.x=e.x,this.jd.position.y=e.y,this.jd.bounds.assign(e),this.jd.Ww.width=Math.round(e.width*r),this.jd.Ww.height=Math.round(e.height*r),this.jd.Hx.width=this.Ca,this.jd.Hx.height=this.Ba,this.jd.Ax=n,this.R("ViewportBoundsChanged",this.jd,e),this.isVirtualized&&this.links.each((function(e){e.isAvoiding&&e.actualBounds.Tc(t)&&e.bb()}))}},Mi.prototype.clearSelection=function(e){void 0===e&&(e=!1);var t=this.selection;if(0!==t.count){e||this.R("ChangingSelection",t);for(var r=t.Fa(),n=r.length,i=0;i<n;i++)r[i].isSelected=!1;t.ka(),t.clear(),t.freeze(),e||this.R("ChangedSelection",t)}},Mi.prototype.select=function(e){null!==e&&e.diagram===this&&(!e.isSelected||1<this.selection.count)&&(this.R("ChangingSelection",this.selection),this.clearSelection(!0),e.isSelected=!0,this.R("ChangedSelection",this.selection))},Mi.prototype.hA=function(e){if(this.R("ChangingSelection",this.selection),this.clearSelection(!0),M(e))for(var t=e.length,r=0;r<t;r++){var n=e[r];n instanceof vc||w("Diagram.selectCollection given something that is not a Part: "+n),n.isSelected=!0}else for(e=e.iterator;e.next();)(t=e.value)instanceof vc||w("Diagram.selectCollection given something that is not a Part: "+t),t.isSelected=!0;this.R("ChangedSelection",this.selection)},Mi.prototype.clearHighlighteds=function(){var e=this.highlighteds;if(0<e.count){for(var t=e.Fa(),r=t.length,n=0;n<r;n++)t[n].isHighlighted=!1;e.ka(),e.clear(),e.freeze()}},(t=Mi.prototype).Az=function(e){null!==e&&e.diagram===this&&(!e.isHighlighted||1<this.highlighteds.count)&&(this.clearHighlighteds(),e.isHighlighted=!0)},t.Bz=function(e){e=(new J).addAll(e);for(var t=this.highlighteds.copy().ap(e).iterator;t.next();)t.value.isHighlighted=!1;for(e=e.iterator;e.next();)(t=e.value)instanceof vc||w("Diagram.highlightCollection given something that is not a Part: "+t),t.isHighlighted=!0},t.scroll=function(e,t,r){void 0===r&&(r=1);var n="up"===t||"down"===t,i=0,o=pe.alloc();if("pixel"===e)i=r;else if("line"===e)i=r*(n?this.scrollVerticalLineChange:this.scrollHorizontalLineChange);else if("page"===e)e=n?this.viewportBounds.height:this.viewportBounds.width,0!==(e*=this.scale)&&(i=r*Math.max(e-(n?this.scrollVerticalLineChange:this.scrollHorizontalLineChange),0));else{if("document"===e)return i=this.documentBounds,r=this.viewportBounds,"up"===t?this.position=o.h(r.x,i.y):"left"===t?this.position=o.h(i.x,r.y):"down"===t?this.position=o.h(r.x,i.bottom-r.height):"right"===t&&(this.position=o.h(i.right-r.width,r.y)),void pe.free(o);w("scrolling unit must be 'pixel', 'line', 'page', or 'document', not: "+e)}i/=this.scale,r=this.position,"up"===t?this.position=o.h(r.x,r.y-i):"down"===t?this.position=o.h(r.x,r.y+i):"left"===t?this.position=o.h(r.x-i,r.y):"right"===t?this.position=o.h(r.x+i,r.y):w("scrolling direction must be 'up', 'down', 'left', or 'right', not: "+t),pe.free(o)},t.ov=function(e){var t=this.viewportBounds;t.Me(e)||((e=e.center).x-=t.width/2,e.y-=t.height/2,this.position=e)},t.Wr=function(e){var t=this.viewportBounds;(e=e.center).x-=t.width/2,e.y-=t.height/2,this.position=e},t.ip=function(e){var t=this.Ab;t.reset(),1!==this.Aa&&t.scale(this.Aa);var r=this.pa;return(0!==r.x||0!==r.y)&&isFinite(r.x)&&isFinite(r.y)&&t.translate(-r.x,-r.y),e.copy().transform(this.Ab)},t.pA=function(e){var t=this.Ab,r=e.x,n=e.y,i=r+e.width,o=n+e.height,a=t.m11,s=t.m12,l=t.m21,u=t.m22,c=t.dx,h=t.dy,d=r*a+n*l+c;t=r*s+n*u+h;var f=i*a+n*l+c;return e=i*s+n*u+h,n=r*a+o*l+c,r=r*s+o*u+h,a=i*a+o*l+c,i=i*s+o*u+h,o=Math.min(d,f),d=Math.max(d,f),f=Math.min(t,e),t=Math.max(t,e),o=Math.min(o,n),d=Math.max(d,n),f=Math.min(f,r),t=Math.max(t,r),o=Math.min(o,a),d=Math.max(d,a),new Ne(o,f=Math.min(f,i),d-o,(t=Math.max(t,i))-f)},t.Is=function(e){var t=this.Ab;t.reset(),1!==this.Aa&&t.scale(this.Aa);var r=this.pa;return(0!==r.x||0!==r.y)&&isFinite(r.x)&&isFinite(r.y)&&t.translate(-r.x,-r.y),ve(e.copy(),this.Ab)},Mi.prototype.doModelChanged=function(e){var t=this;if(e.model===this.model){var r=e.change,n=e.propertyName;if(r===hr&&"S"===n[0])if("StartingFirstTransaction"===n){var i=this;(e=this.toolManager).mouseDownTools.each((function(e){return e.diagram=i})),e.mouseMoveTools.each((function(e){return e.diagram=i})),e.mouseUpTools.each((function(e){return e.diagram=i})),this.cd||this.df||(this.Ek=!0,this.bn&&(this.gg=!0))}else"StartingUndo"===n||"StartingRedo"===n?((e=this.animationManager).defaultAnimation.isAnimating&&!this.skipsUndoManager&&e.zc(),this.R("ChangingSelection",this.selection)):"StartedTransaction"===n&&((e=this.animationManager).defaultAnimation.isAnimating&&!this.skipsUndoManager&&e.zc());else if(this.aa){this.aa=!1;try{if(""===e.modelChange&&r===hr){"FinishedUndo"!==n&&"FinishedRedo"!==n||(this.R("ChangedSelection",this.selection),$i(this));var o=this.animationManager;"RolledBackTransaction"===n&&o.zc(),this.Xw(),this.Ek=!0,this.Wc(),0!==this.undoManager.transactionLevel&&1!==this.undoManager.transactionLevel||Xn(o),"CommittedTransaction"===n&&this.undoManager.isJustDiscarded&&(this.ye=Math.min(this.ye,this.undoManager.historyIndex-1)),"CommittedTransaction"!==n&&"RolledBackTransaction"!==n||!this.undoManager.isPendingUnmodified||setTimeout((function(){t.isModified=!1}),1);var a=e.isTransactionFinished;if(a&&(go(this),this.ts.clear(),function(e){for(e=e.Bi.iterator;e.next();)e.value.Sk=!1}(this.animationManager)),!this.Mt&&a&&this.lastInput.targetDiagram){this.Mt=!0;var s=this;b((function(){s.currentTool.standardMouseOver(),s.Mt=!1}),10)}}}finally{this.aa=!0}}}},Mi.prototype.Rd=function(){this.partManager.Rd()},Mi.prototype.yj=function(e,t){this.Td.yj(e,t)},Mi.prototype.Aj=function(e,t){this.Td.Aj(e,t)},Mi.prototype.findPartForKey=function(e){return this.partManager.findPartForKey(e)},Mi.prototype.Rb=function(e){return this.partManager.Rb(e)},Mi.prototype.findLinkForKey=function(e){return this.partManager.findLinkForKey(e)},(t=Mi.prototype).Ic=function(e){return this.partManager.Ic(e)},t.fi=function(e){return this.partManager.fi(e)},t.Hc=function(e){return this.partManager.Hc(e)},t.es=function(e){for(var t=[],r=0;r<arguments.length;++r)t[r]=arguments[r];return this.partManager.es.apply(this.partManager,t instanceof Array?t:o(i(t)))},t.ds=function(e){for(var t=[],r=0;r<arguments.length;++r)t[r]=arguments[r];return this.partManager.ds.apply(this.partManager,t instanceof Array?t:o(i(t)))},t.Va=function(){if(this.Wi){var e=Ne.alloc();So(this,this.computeBounds(e)),Ne.free(e)}},t.jz=function(){for(var e=new J,t=this.nodes;t.next();){var r=t.value;r.isTopLevel&&e.add(r)}for(t=this.links;t.next();)(r=t.value).isTopLevel&&e.add(r);return e.iterator},t.iz=function(){return this.Yh.iterator},t.Lz=function(e){$i(this),e&&ko(this,!0),this.cd?jo(this,!1):(this.Ek=!0,Zi(this))},t.pz=function(){for(var e=new Z,t=this.nodes;t.next();){var r=t.value;r.isTopLevel&&null===r.fh()&&e.add(r)}return e.iterator},t.zj=function(e,t){return null!==(e=Po(this,e))&&e.add(t),this},t.Yl=function(e,t){null!==(e=Po(this,e))&&e.remove(t)},t.R=function(e,t,r){var n=Po(this,e),i=new ur;if(i.diagram=this,null!==(e=Co(this,e))&&(i.name=e),void 0!==t&&(i.subject=t),void 0!==r&&(i.parameter=r),1===(t=n.length))n.L(0)(i);else if(0!==t)for(n=n.Fa(),r=0;r<t;r++)(0,n[r])(i)},t.Vj=function(e,t){return Eo(this,!1,null,t||null).Vj(e.x,e.y,e.width,e.height)},Mi.prototype.computeOccupiedArea=function(e){return this.isVirtualized?this.viewportBounds.copy():this.Wi?Fi(this,e):e.assign(this.documentBounds)},Mi.prototype.Zr=function(e){this.pp.assign(e),this.computeAutoScrollPosition(this.pp).ab(this.position)?this.qg():No(this)},Mi.prototype.qg=function(){-1!==this.qk&&(y.clearTimeout(this.qk),this.qk=-1)},Mi.prototype.computeAutoScrollPosition=function(e){var t=this.position,r=this.qp;if(0>=r.top&&0>=r.left&&0>=r.right&&0>=r.bottom)return t;var n=this.viewportBounds,i=this.scale;n=Ne.allocAt(0,0,n.width*i,n.height*i);var o=pe.allocAt(0,0);if(e.x>=n.x&&e.x<n.x+r.left&&this.allowHorizontalScroll){var a=Math.max(this.scrollHorizontalLineChange,1);a|=0,o.x-=a,e.x<n.x+r.left/2&&(o.x-=a),e.x<n.x+r.left/4&&(o.x-=4*a)}else e.x<=n.x+n.width&&e.x>n.x+n.width-r.right&&this.allowHorizontalScroll&&(a=Math.max(this.scrollHorizontalLineChange,1),a|=0,o.x+=a,e.x>n.x+n.width-r.right/2&&(o.x+=a),e.x>n.x+n.width-r.right/4&&(o.x+=4*a));return e.y>=n.y&&e.y<n.y+r.top&&this.allowVerticalScroll?(a=Math.max(this.scrollVerticalLineChange,1),a|=0,o.y-=a,e.y<n.y+r.top/2&&(o.y-=a),e.y<n.y+r.top/4&&(o.y-=4*a)):e.y<=n.y+n.height&&e.y>n.y+n.height-r.bottom&&this.allowVerticalScroll&&(a=Math.max(this.scrollVerticalLineChange,1),a|=0,o.y+=a,e.y>n.y+n.height-r.bottom/2&&(o.y+=a),e.y>n.y+n.height-r.bottom/4&&(o.y+=4*a)),o.ab(re)||(t=new pe(t.x+o.x/i,t.y+o.y/i)),Ne.free(n),pe.free(o),t},(t=Mi.prototype).vs=function(){return null},t.Xu=function(){return null},t.Tr=function(e,t){this.nj.add(e,t)},t.zu=function(e){(this.Iw=e)||this.nodes.each((function(e){e instanceof dh&&(e.Tp=null)}))},t.Nz=function(e){return Bo?(void 0===e&&(e={}),e.returnType="Image",this.Ex(e)):null},t.Ex=function(e){return void 0===e&&(e={}),Ro(this,this.Oz,e)},t.Oz=function(e,t,r){var n=Do(r,e,"canvas",null);if(null===n)return null;var i=null;if(null!==(r=n.Z.canvas))switch(i=e.returnType,i=void 0===i?"string":i.toLowerCase(),i){case ia+"data":i=n.getImageData(0,0,r.width,r.height);break;case ia:(n=(e.document||document).createElement("img")).src=r.toDataURL(e.type,e.details),i=n;break;case"blob":return"function"!==typeof t&&w('Error: Diagram.makeImageData called with "returnType: toBlob", but no required "callback" function property defined.'),"function"===typeof r.toBlob?(r.toBlob(t,e.type,e.details),"toBlob"):(t(null),null);default:i=r.toDataURL(e.type,e.details)}return"function"===typeof t?(t(i),null):i},d.Object.defineProperties(Mi.prototype,{renderer:{get:function(){return this.il},set:function(e){this instanceof ja||(e=e.toLowerCase())!==this.il&&(this.il=e,"default"===e?(null!==(e=this.nj.get("svg"))&&e.La.remove(),this.xa&&(this.jb=this.xa.context)):"svg"===e?(this.nj.contains("svg")?e=this.nj.get("svg"):(e=new ms(this,y.document),this.Tr("svg",e),null!==this.div&&this.div.appendChild(e.La)),this.jb=e.context,this.xa&&(this.xa.context.setTransform(this.Pb,0,0,this.Pb,0,0),this.xa.context.clearRect(0,0,this.Ca,this.Ba))):"debug"!==e||this.nj.contains("SVG")||(e=new ms(this,y.document),this.Tr("SVG",e),e.La.style.backgroundColor="whitesmoke",null!==this.div&&this.div.after(e.La)),this.Xl())}},div:{get:function(){return this.Ka},set:function(e){if(this.Ka!==e){var t=this.Ka;null!==t?(t.H=void 0,t.goDiagram=void 0,t.go=void 0,t.innerHTML="",null!==this.xa&&(t=this.xa.La,this.removeEventListener(t,"pointermove",this.$j,!1),this.removeEventListener(t,"pointerdown",this.ri,!1),this.removeEventListener(t,"pointerup",this.bk,!1),this.removeEventListener(t,"pointerout",this.ak,!1),this.removeEventListener(t,"pointercancel",this.Zj,!1),this.xa.gx()),this.jl&&(this.jl.disconnect(),this.jl=null),null!==(t=this.toolManager)&&(t.mouseDownTools.each((function(e){e.cancelWaitAfter()})),t.mouseMoveTools.each((function(e){e.cancelWaitAfter()})),t.mouseUpTools.each((function(e){e.cancelWaitAfter()}))),t.cancelWaitAfter(),this.currentTool.doCancel(),this.xa=null,this.removeEventListener(y,"resize",this.Hv,!1),this.removeEventListener(y,"wheel",this.Xj,!0),vi===this&&(vi=null)):null===this.ri&&(this.df=!1),this.Ka=null,null!==e&&((t=e.H)&&(t.div=null),Ei(this,e),this.redraw())}}},Tw:{get:function(){return this.Lq}},mi:{get:function(){return this.df}},draggedLink:{get:function(){return this.ft},set:function(e){this.ft!==e&&(this.ft=e,null!==e&&(this.Qt=e.fromPort,this.Rt=e.toPort))}},Ix:{get:function(){return this.Qt},set:function(e){this.Qt=e}},Jx:{get:function(){return this.Rt},set:function(e){this.Rt=e}},animationManager:{get:function(){return this.Td}},undoManager:{get:function(){return this.$b.undoManager}},skipsUndoManager:{get:function(){return this.Qg},set:function(e){this.Qg=e,this.$b.skipsUndoManager=e}},delaysLayout:{get:function(){return this.dt},set:function(e){this.dt=e}},opacity:{get:function(){return this.qb},set:function(e){var t=this.qb;t!==e&&((0>e||1<e)&&k(e,"0 <= value <= 1",Mi,"opacity"),this.qb=e,this.g("opacity",t,e),this.N())}},validCycle:{get:function(){return this.ru},set:function(e){var t=this.ru;t!==e&&(this.ru=e,this.g("validCycle",t,e))}},layers:{get:function(){return this.Wa.iterator}},isModelReadOnly:{get:function(){var e=this.$b;return null!==e&&e.isReadOnly},set:function(e){var t=this.$b;null!==t&&(t.isReadOnly=e)}},isReadOnly:{get:function(){return this.Cg},set:function(e){var t=this.Cg;t!==e&&(this.Cg=e,this.g("isReadOnly",t,e))}},isEnabled:{get:function(){return this.Ad},set:function(e){var t=this.Ad;t!==e&&(this.Ad=e,this.g("isEnabled",t,e))}},allowClipboard:{get:function(){return this.Ns},set:function(e){var t=this.Ns;t!==e&&(this.Ns=e,this.g("allowClipboard",t,e))}},allowCopy:{get:function(){return this.Ci},set:function(e){var t=this.Ci;t!==e&&(this.Ci=e,this.g("allowCopy",t,e))}},allowDelete:{get:function(){return this.Di},set:function(e){var t=this.Di;t!==e&&(this.Di=e,this.g("allowDelete",t,e))}},allowDragOut:{get:function(){return this.Os},set:function(e){var t=this.Os;t!==e&&(this.Os=e,this.g("allowDragOut",t,e))}},allowDrop:{get:function(){return this.Ps},set:function(e){var t=this.Ps;t!==e&&(this.Ps=e,this.g("allowDrop",t,e))}},allowTextEdit:{get:function(){return this.Mi},set:function(e){var t=this.Mi;t!==e&&(this.Mi=e,this.g("allowTextEdit",t,e))}},allowGroup:{get:function(){return this.Ei},set:function(e){var t=this.Ei;t!==e&&(this.Ei=e,this.g("allowGroup",t,e))}},allowUngroup:{get:function(){return this.Ni},set:function(e){var t=this.Ni;t!==e&&(this.Ni=e,this.g("allowUngroup",t,e))}},allowInsert:{get:function(){return this.Rs},set:function(e){var t=this.Rs;t!==e&&(this.Rs=e,this.g("allowInsert",t,e))}},allowLink:{get:function(){return this.Fi},set:function(e){var t=this.Fi;t!==e&&(this.Fi=e,this.g("allowLink",t,e))}},allowRelink:{get:function(){return this.Hi},set:function(e){var t=this.Hi;t!==e&&(this.Hi=e,this.g("allowRelink",t,e))}},allowMove:{get:function(){return this.Gi},set:function(e){var t=this.Gi;t!==e&&(this.Gi=e,this.g("allowMove",t,e))}},allowReshape:{get:function(){return this.Ii},set:function(e){var t=this.Ii;t!==e&&(this.Ii=e,this.g("allowReshape",t,e))}},allowResize:{get:function(){return this.Ji},set:function(e){var t=this.Ji;t!==e&&(this.Ji=e,this.g("allowResize",t,e))}},allowRotate:{get:function(){return this.Ki},set:function(e){var t=this.Ki;t!==e&&(this.Ki=e,this.g("allowRotate",t,e))}},allowSelect:{get:function(){return this.Li},set:function(e){var t=this.Li;t!==e&&(this.Li=e,this.g("allowSelect",t,e))}},allowUndo:{get:function(){return this.Ss},set:function(e){var t=this.Ss;t!==e&&(this.Ss=e,this.g("allowUndo",t,e))}},allowZoom:{get:function(){return this.Us},set:function(e){var t=this.Us;t!==e&&(this.Us=e,this.g("allowZoom",t,e))}},hasVerticalScrollbar:{get:function(){return this.jn},set:function(e){var t=this.jn;t!==e&&(this.jn=e,this.Ae=!0,this.N(),this.g("hasVerticalScrollbar",t,e),Bi(this,!1))}},hasHorizontalScrollbar:{get:function(){return this.hn},set:function(e){var t=this.hn;t!==e&&(this.hn=e,this.Ae=!0,this.N(),this.g("hasHorizontalScrollbar",t,e),Bi(this,!1))}},allowHorizontalScroll:{get:function(){return this.Qs},set:function(e){var t=this.Qs;t!==e&&(this.Qs=e,this.g("allowHorizontalScroll",t,e),Bi(this,!1))}},allowVerticalScroll:{get:function(){return this.Ts},set:function(e){var t=this.Ts;t!==e&&(this.Ts=e,this.g("allowVerticalScroll",t,e),Bi(this,!1))}},scrollHorizontalLineChange:{get:function(){return this.du},set:function(e){var t=this.du;t!==e&&(0>e&&k(e,">= 0",Mi,"scrollHorizontalLineChange"),this.du=e,this.g("scrollHorizontalLineChange",t,e))}},scrollVerticalLineChange:{get:function(){return this.hu},set:function(e){var t=this.hu;t!==e&&(0>e&&k(e,">= 0",Mi,"scrollVerticalLineChange"),this.hu=e,this.g("scrollVerticalLineChange",t,e))}},lastInput:{get:function(){return this.$i},set:function(e){this.$i=e}},previousInput:{get:function(){return this.Lg},set:function(e){this.Lg=e}},firstInput:{get:function(){return this.Vp},set:function(e){this.Vp=e}},currentCursor:{get:function(){return this.at},set:function(e){if(""===e&&(e=this.Ip),this.at!==e){var t=this.xa,r=this.Ka;if(null!==t&&null!==r){this.at=e;var n=t.style.cursor;t.style.cursor=e,r.style.cursor=e,t.style.cursor===n&&(t.style.cursor="-webkit-"+e,r.style.cursor="-webkit-"+e,t.style.cursor===n&&(t.style.cursor="-moz-"+e,r.style.cursor="-moz-"+e,t.style.cursor===n&&(t.style.cursor=e,r.style.cursor=e)))}}}},defaultCursor:{get:function(){return this.Ip},set:function(e){""===e&&(e="auto");var t=this.Ip;t!==e&&(this.Ip=e,this.g("defaultCursor",t,e))}},click:{get:function(){return this.uh},set:function(e){var t=this.uh;t!==e&&(this.uh=e,this.g("click",t,e))}},doubleClick:{get:function(){return this.Ah},set:function(e){var t=this.Ah;t!==e&&(this.Ah=e,this.g("doubleClick",t,e))}},contextClick:{get:function(){return this.wh},set:function(e){var t=this.wh;t!==e&&(this.wh=e,this.g("contextClick",t,e))}},mouseOver:{get:function(){return this.Mh},set:function(e){var t=this.Mh;t!==e&&(this.Mh=e,this.g("mouseOver",t,e))}},mouseHover:{get:function(){return this.Kh},set:function(e){var t=this.Kh;t!==e&&(this.Kh=e,this.g("mouseHover",t,e))}},mouseHold:{get:function(){return this.Jh},set:function(e){var t=this.Jh;t!==e&&(this.Jh=e,this.g("mouseHold",t,e))}},mouseDragOver:{get:function(){return this.Lt},set:function(e){var t=this.Lt;t!==e&&(this.Lt=e,this.g("mouseDragOver",t,e))}},mouseDrop:{get:function(){return this.Hh},set:function(e){var t=this.Hh;t!==e&&(this.Hh=e,this.g("mouseDrop",t,e))}},handlesDragDropForTopLevelParts:{get:function(){return this.qt},set:function(e){var t=this.qt;t!==e&&(this.qt=e,this.g("handlesDragDropForTopLevelParts",t,e))}},mouseEnter:{get:function(){return this.Ih},set:function(e){var t=this.Ih;t!==e&&(this.Ih=e,this.g("mouseEnter",t,e))}},mouseLeave:{get:function(){return this.Lh},set:function(e){var t=this.Lh;t!==e&&(this.Lh=e,this.g("mouseLeave",t,e))}},toolTip:{get:function(){return this.Xh},set:function(e){var t=this.Xh;t!==e&&(this.Xh=e,this.g("toolTip",t,e))}},contextMenu:{get:function(){return this.xh},set:function(e){var t=this.xh;t!==e&&(this.xh=e,this.g("contextMenu",t,e))}},commandHandler:{get:function(){return this.ob},set:function(e){this.ob!==e&&(this.ob=e,e.Te(this))}},toolManager:{get:function(){return this.pe},set:function(e){this.pe!==e&&(this.pe=e,e.diagram=this)}},defaultTool:{get:function(){return this.pb},set:function(e){var t=this.pb;t!==e&&(this.pb=e,e.diagram=this,this.currentTool===t&&(this.currentTool=e))}},currentTool:{get:function(){return this.hb},set:function(e){var t=this.hb;t&&(t.isActive&&t.doDeactivate(),t.cancelWaitAfter(),t.doStop()),null===e&&(e=this.defaultTool),null!==e&&(this.hb=e,e.diagram=this,e.doStart())}},selection:{get:function(){return this.Aw}},maxSelectionCount:{get:function(){return this.Gt},set:function(e){var t=this.Gt;if(t!==e)if(0<=e&&!isNaN(e)){if(this.Gt=e,this.g("maxSelectionCount",t,e),!this.undoManager.isUndoingRedoing&&0<(e=this.selection.count-e)){this.R("ChangingSelection",this.selection),t=this.selection.Fa();for(var r=0;r<e;r++)t[r].isSelected=!1;this.R("ChangedSelection",this.selection)}}else k(e,">= 0",Mi,"maxSelectionCount")}},nodeSelectionAdornmentTemplate:{get:function(){return this.Nt},set:function(e){var t=this.Nt;t!==e&&(this.Nt=e,this.g("nodeSelectionAdornmentTemplate",t,e))}},groupSelectionAdornmentTemplate:{get:function(){return this.pt},set:function(e){var t=this.pt;t!==e&&(this.pt=e,this.g("groupSelectionAdornmentTemplate",t,e))}},linkSelectionAdornmentTemplate:{get:function(){return this.Dt},set:function(e){var t=this.Dt;t!==e&&(this.Dt=e,this.g("linkSelectionAdornmentTemplate",t,e))}},highlighteds:{get:function(){return this.gw}},isModified:{get:function(){var e=this.undoManager;return e.isEnabled?null!==e.currentTransaction||this.nn&&this.ye!==e.historyIndex:this.nn},set:function(e){if(this.nn!==e){this.nn=e;var t=this.undoManager;!e&&t.isEnabled&&(this.ye=t.historyIndex),e||go(this)}}},model:{get:function(){return this.$b},set:function(e){var t=this.$b;if(t!==e){this.currentTool.doCancel(),t&&t.undoManager!==e.undoManager&&t.undoManager.isInTransaction&&w("Do not replace a Diagram.model while a transaction is in progress."),this.animationManager.zc(!0);var r=Pi(this,!0);this.df=!1,this.bn=!0,this.ye=-2,this.gg=!1;var n=this.vb;this.vb=!0,Wn(this.animationManager,"Model"),t&&(null!==this.kf&&this.kf.each((function(e){return t.dk(e)})),t.dk(this.Lc)),this.$b=e,this.partManager=function(e){return null!==(e=Io.get(e))?new e:new Kd}(this.$b.type);for(var i=0;i<r.length;i++)this.add(r[i]);e.Xg(this.Fb),this.partManager.addAllModeledParts(),e.dk(this.Fb),e.Xg(this.Lc),null!==this.kf&&this.kf.each((function(t){return e.Xg(t)})),this.vb=n,this.Xa(),this.vb||this.N(),t&&e.undoManager.copyProperties(t.undoManager)}}},aa:{get:function(){return this.kw},set:function(e){this.kw=e}},ts:{get:function(){return this.ny}},skipsModelSourceBindings:{get:function(){return this.Bw},set:function(e){this.Bw=e}},Gs:{get:function(){return this.ju},set:function(e){this.ju=e}},nodeTemplate:{get:function(){return this.Gg.I("")},set:function(e){var t=this.Gg.I("");t!==e&&(this.Gg.add("",e),this.g("nodeTemplate",t,e),this.undoManager.isUndoingRedoing||this.Rd())}},nodeTemplateMap:{get:function(){return this.Gg},set:function(e){var t=this.Gg;t!==e&&(this.Gg=e,this.g("nodeTemplateMap",t,e),this.undoManager.isUndoingRedoing||this.Rd())}},groupTemplate:{get:function(){return this.Vi.I("")},set:function(e){var t=this.Vi.I("");t!==e&&(this.Vi.add("",e),this.g("groupTemplate",t,e),this.undoManager.isUndoingRedoing||this.Rd())}},groupTemplateMap:{get:function(){return this.Vi},set:function(e){var t=this.Vi;t!==e&&(this.Vi=e,this.g("groupTemplateMap",t,e),this.undoManager.isUndoingRedoing||this.Rd())}},linkTemplate:{get:function(){return this.Gh.I("")},set:function(e){var t=this.Gh.I("");t!==e&&(this.Gh.add("",e),this.g("linkTemplate",t,e),this.undoManager.isUndoingRedoing||this.Rd())}},linkTemplateMap:{get:function(){return this.Gh},set:function(e){var t=this.Gh;t!==e&&(this.Gh=e,this.g("linkTemplateMap",t,e),this.undoManager.isUndoingRedoing||this.Rd())}},isMouseCaptured:{get:function(){return this.jw},set:function(e){var t=this.xa;null!==t&&((t=t.La)instanceof SVGElement||(e?(this.lastInput.bubbles=!1,this.removeEventListener(t,"pointermove",this.$j,!1),this.removeEventListener(t,"pointerdown",this.ri,!1),this.removeEventListener(t,"pointerup",this.bk,!1),this.removeEventListener(t,"pointerout",this.ak,!1),this.removeEventListener(t,"pointercancel",this.Zj,!1),this.addEventListener(y,"pointermove",this.$j,!0),this.addEventListener(y,"pointerdown",this.ri,!0),this.addEventListener(y,"pointerup",this.bk,!0),this.addEventListener(y,"pointerout",this.ak,!0),this.addEventListener(y,"pointercancel",this.Zj,!0),this.removeEventListener(t,"wheel",this.Xj,!1),this.addEventListener(y,"wheel",this.Xj,!0),this.addEventListener(y,"selectstart",this.preventDefault,!1)):(this.removeEventListener(y,"pointermove",this.$j,!0),this.removeEventListener(y,"pointerdown",this.ri,!0),this.removeEventListener(y,"pointerup",this.bk,!0),this.removeEventListener(y,"pointerout",this.ak,!0),this.removeEventListener(y,"pointercancel",this.Zj,!0),this.addEventListener(t,"pointermove",this.$j,!1),this.addEventListener(t,"pointerdown",this.ri,!1),this.addEventListener(t,"pointerup",this.bk,!1),this.addEventListener(t,"pointerout",this.ak,!1),this.addEventListener(t,"pointercancel",this.Zj,!1),this.removeEventListener(y,"wheel",this.Xj,!0),this.removeEventListener(y,"selectstart",this.preventDefault,!1),this.addEventListener(t,"wheel",this.Xj,!1)),this.jw=e))}},position:{get:function(){return this.pa},set:function(e){var t=pe.alloc().assign(this.pa);if(!t.C(e)){var r=this.viewportBounds.copy();this.pa.assign(e),Jn(this.animationManager,t,this.pa),this.vb||null===this.xa&&!this.so.w()?wo(this):(this.vb=!0,e=this.scale,zi(this,this.Mp,this.Ca/e,this.Ba/e,this.uk,!1),this.vb=!1),this.vb||this.onViewportBoundsChanged(r,this.viewportBounds,this.Aa,!1)}pe.free(t)}},initialPosition:{get:function(){return this.st},set:function(e){this.st.C(e)||(this.st=e.J())}},initialScale:{get:function(){return this.tt},set:function(e){this.tt!==e&&(this.tt=e)}},grid:{get:function(){return null===this.be&&(this.be=Ri(this)),this.be},set:function(e){var t=this.be;if(t!==e){null===t&&(t=this.be=Ri(this)),e.type!==kl.Grid&&w("Diagram.grid must be a Panel of type Panel.Grid");var r=t.panel;null!==r&&r.remove(t),this.be=e,e.name="GRID",null!==r&&r.add(e),yo(this),this.N(),this.g("grid",t,e)}}},viewportBounds:{get:function(){return this.Kw}},viewSize:{get:function(){return this.so},set:function(e){var t=this.viewSize;t.C(e)||(this.so=e=e.J(),this.Ba=this.Ca=0,e.w()?(this.Ca=e.width,this.Ba=e.height):null!==this.Ka&&(this.Ca=this.Ka.clientWidth||1,this.Ba=this.Ka.clientHeight||1),wo(this),this.Xa(),this.g("viewSize",t,e),this.redraw())}},fixedBounds:{get:function(){return this.nt},set:function(e){var t=this.nt;t.C(e)||(-1/0!==e.width&&1/0!==e.height&&-1/0!==e.height||w("fixedBounds width/height must not be Infinity"),this.nt=e=e.J(),this.Xa(),this.g("fixedBounds",t,e))}},scrollMargin:{get:function(){return this.pj},set:function(e){"number"===typeof e&&(e=new Ye(e));var t=this.pj;t.C(e)||(this.pj=e=e.J(),this.g("scrollMargin",t,e),this.Xl())}},scrollMode:{get:function(){return this.qj},set:function(e){var t=this.qj;t!==e&&(this.qj=e,e===$o&&Bi(this,!1),this.g("scrollMode",t,e),this.Ae=!0,this.N())}},scrollsPageOnFocus:{get:function(){return this.iu},set:function(e){var t=this.iu;t!==e&&(this.iu=e,this.g("scrollsPageOnFocus",t,e))}},positionComputation:{get:function(){return this.Ut},set:function(e){var t=this.Ut;t!==e&&(this.Ut=e,Bi(this,!1),this.g("positionComputation",t,e))}},scaleComputation:{get:function(){return this.au},set:function(e){var t=this.au;t!==e&&(this.au=e,mo(this,this.scale,this.scale),this.g("scaleComputation",t,e))}},documentBounds:{get:function(){return this.Mp}},isVirtualized:{get:function(){return this.Bt},set:function(e){var t=this.Bt;t!==e&&(this.Bt=e,this.g("isVirtualized",t,e))}},scale:{get:function(){return this.Aa},set:function(e){var t=this.Aa;t!==e&&mo(this,t,e)}},defaultScale:{get:function(){return this.Jp},set:function(e){this.Jp=e}},autoScale:{get:function(){return this.th},set:function(e){var t=this.th;t!==e&&(this.th=e,this.g("autoScale",t,e),e!==qo&&Bi(this,!1))}},initialAutoScale:{get:function(){return this.Bg},set:function(e){var t=this.Bg;t!==e&&(this.Bg=e,this.g("initialAutoScale",t,e))}},initialViewportSpot:{get:function(){return this.ut},set:function(e){var t=this.ut;t!==e&&(e.tb()||w("initialViewportSpot must be a specific Spot: "+e),this.ut=e,this.g("initialViewportSpot",t,e))}},initialDocumentSpot:{get:function(){return this.rt},set:function(e){var t=this.rt;t!==e&&(e.tb()||w("initialViewportSpot must be a specific Spot: "+e),this.rt=e,this.g("initialDocumentSpot",t,e))}},minScale:{get:function(){return this.Jt},set:function(e){var t=this.Jt;t!==e&&(0<e?(this.Jt=e,this.g("minScale",t,e),e>this.scale&&(this.scale=e)):k(e,"> 0",Mi,"minScale"))}},maxScale:{get:function(){return this.Ft},set:function(e){var t=this.Ft;t!==e&&(0<e?(this.Ft=e,this.g("maxScale",t,e),e<this.scale&&(this.scale=e)):k(e,"> 0",Mi,"maxScale"))}},zoomPoint:{get:function(){return this.uu},set:function(e){this.uu.C(e)||(this.uu=e=e.J())}},contentAlignment:{get:function(){return this.uk},set:function(e){var t=this.uk;t.C(e)||(this.uk=e=e.J(),this.g("contentAlignment",t,e),Bi(this,!1))}},initialContentAlignment:{get:function(){return this.iq},set:function(e){var t=this.iq;t.C(e)||(this.iq=e=e.J(),this.g("initialContentAlignment",t,e))}},padding:{get:function(){return this.yb},set:function(e){"number"===typeof e&&(e=new Ye(e));var t=this.yb;t.C(e)||(this.yb=e=e.J(),this.Xa(),this.g("padding",t,e))}},partManager:{get:function(){return this.Mc},set:function(e){var t=this.Mc;t!==e&&(null!==e.diagram&&w("Cannot share PartManagers between Diagrams: "+e.toString()),t&&t.Te(null),this.Mc=e,e.Te(this))}},nodes:{get:function(){return this.partManager.nodes.iterator}},links:{get:function(){return this.partManager.links.iterator}},parts:{get:function(){return this.partManager.parts.iterator}},layout:{get:function(){return this.Oc},set:function(e){var t=this.Oc;t!==e&&(this.Oc=e,e.diagram=this,e.group=null,this.sh=!0,this.g("layout",t,e),this.Wb())}},isTreePathToChildren:{get:function(){return this.At},set:function(e){var t=this.At;if(t!==e&&(this.At=e,this.g("isTreePathToChildren",t,e),!this.undoManager.isUndoingRedoing))for(e=this.nodes;e.next();)th(e.value)}},treeCollapsePolicy:{get:function(){return this.pu},set:function(e){var t=this.pu;t!==e&&(e!==Qo&&e!==ea&&e!==ta&&w("Unknown Diagram.treeCollapsePolicy: "+e),this.pu=e,this.g("treeCollapsePolicy",t,e))}},Pe:{get:function(){return this.iw},set:function(e){this.iw=e}},avoidanceCellSize:{get:function(){return this.Uv},set:function(e){this.Th=null,this.Uv=new Ee(Math.max(1,e.width),Math.max(1,e.height))}},avoidanceLimit:{get:function(){return this.Vv},set:function(e){this.Vv=Math.max(1,e)}},autoScrollInterval:{get:function(){return this.op},set:function(e){var t=this.op;t!==e&&(this.op=e,this.g("autoScrollInterval",t,e))}},autoScrollRegion:{get:function(){return this.qp},set:function(e){"number"===typeof e&&(e=new Ye(e));var t=this.qp;t.C(e)||(this.qp=e=e.J(),this.Xa(),this.g("autoScrollRegion",t,e))}}}),d.Object.defineProperties(Mi,{licenseKey:{get:function(){return ra.fc()},set:function(e){ra.add(e.replace(/\s/g,""))}},version:{get:function(){return na}}}),Mi.prototype.makeImageData=Mi.prototype.Ex,Mi.prototype.makeImage=Mi.prototype.Nz,Mi.prototype.cacheGroupExternalLinks=Mi.prototype.zu,Mi.prototype.addRenderer=Mi.prototype.Tr,Mi.prototype.makeSVG=Mi.prototype.Xu,Mi.prototype.makeSvg=Mi.prototype.vs,Mi.prototype.stopAutoScroll=Mi.prototype.qg,Mi.prototype.doAutoScroll=Mi.prototype.Zr,Mi.prototype.isUnoccupied=Mi.prototype.Vj,Mi.prototype.raiseDiagramEvent=Mi.prototype.R,Mi.prototype.removeDiagramListener=Mi.prototype.Yl,Mi.prototype.addDiagramListener=Mi.prototype.zj,Mi.prototype.findTreeRoots=Mi.prototype.pz,Mi.prototype.layoutDiagram=Mi.prototype.Lz,Mi.prototype.findTopLevelGroups=Mi.prototype.iz,Mi.prototype.findTopLevelNodesAndLinks=Mi.prototype.jz,Mi.prototype.ensureBounds=Mi.prototype.Va,Mi.prototype.findLinksByExample=Mi.prototype.ds,Mi.prototype.findNodesByExample=Mi.prototype.es,Mi.prototype.findLinkForData=Mi.prototype.Hc,Mi.prototype.findNodeForData=Mi.prototype.fi,Mi.prototype.findPartForData=Mi.prototype.Ic,Mi.prototype.findLinkForKey=Mi.prototype.findLinkForKey,Mi.prototype.findNodeForKey=Mi.prototype.Rb,Mi.prototype.findPartForKey=Mi.prototype.findPartForKey,Mi.prototype.rebuildParts=Mi.prototype.Rd,Mi.prototype.transformViewToDoc=Mi.prototype.Is,Mi.prototype.transformRectDocToView=Mi.prototype.pA,Mi.prototype.transformDocToView=Mi.prototype.ip,Mi.prototype.centerRect=Mi.prototype.Wr,Mi.prototype.scrollToRect=Mi.prototype.ov,Mi.prototype.scroll=Mi.prototype.scroll,Mi.prototype.highlightCollection=Mi.prototype.Bz,Mi.prototype.highlight=Mi.prototype.Az,Mi.prototype.selectCollection=Mi.prototype.hA,Mi.prototype.select=Mi.prototype.select,Mi.prototype.updateAllRelationshipsFromData=Mi.prototype.lp,Mi.prototype.updateAllTargetBindings=Mi.prototype.updateAllTargetBindings,Mi.prototype.commit=Mi.prototype.commit,Mi.prototype.rollbackTransaction=Mi.prototype.Hf,Mi.prototype.commitTransaction=Mi.prototype.eb,Mi.prototype.startTransaction=Mi.prototype.Ea,Mi.prototype.raiseChanged=Mi.prototype.g,Mi.prototype.raiseChangedEvent=Mi.prototype.cb,Mi.prototype.removeChangedListener=Mi.prototype.dk,Mi.prototype.addChangedListener=Mi.prototype.Xg,Mi.prototype.removeModelChangedListener=Mi.prototype.cA,Mi.prototype.addModelChangedListener=Mi.prototype.Rw,Mi.prototype.findLayer=Mi.prototype.Oj,Mi.prototype.removeLayer=Mi.prototype.aA,Mi.prototype.addLayerAfter=Mi.prototype.xy,Mi.prototype.addLayerBefore=Mi.prototype.Pw,Mi.prototype.addLayer=Mi.prototype.wl,Mi.prototype.moveParts=Mi.prototype.moveParts,Mi.prototype.copyParts=Mi.prototype.Ij,Mi.prototype.removeParts=Mi.prototype.Bs,Mi.prototype.remove=Mi.prototype.remove,Mi.prototype.add=Mi.prototype.add,Mi.prototype.clearDelayedGeometries=Mi.prototype.Xw,Mi.prototype.setProperties=Mi.prototype.km,Mi.prototype.attach=Mi.prototype.yu,Mi.prototype.set=Mi.prototype.set,Mi.prototype.resetInputOptions=Mi.prototype.Ox,Mi.prototype.setInputOption=Mi.prototype.iA,Mi.prototype.getInputOption=Mi.prototype.Ll,Mi.prototype.resetRenderingHints=Mi.prototype.Px,Mi.prototype.setRenderingHint=Mi.prototype.Tx,Mi.prototype.getRenderingHint=Mi.prototype.Df,Mi.prototype.maybeUpdate=Mi.prototype.Wc,Mi.prototype.requestUpdate=Mi.prototype.Wb,Mi.prototype.delayInitialization=Mi.prototype.Py,Mi.prototype.isUpdateRequested=Mi.prototype.Gz,Mi.prototype.invalidateDocumentBounds=Mi.prototype.Xa,Mi.prototype.findObjectsNear=Mi.prototype.kg,Mi.prototype.findPartsNear=Mi.prototype.ez,Mi.prototype.findObjectsIn=Mi.prototype.zf,Mi.prototype.findPartsIn=Mi.prototype.nx,Mi.prototype.findObjectsAt=Mi.prototype.gi,Mi.prototype.findPartsAt=Mi.prototype.dz,Mi.prototype.findObjectAt=Mi.prototype.ec,Mi.prototype.findPartAt=Mi.prototype.Jl,Mi.prototype.focusObject=Mi.prototype.qz,Mi.prototype.alignDocument=Mi.prototype.Cy,Mi.prototype.zoomToRect=Mi.prototype.rA,Mi.prototype.zoomToFit=Mi.prototype.zoomToFit,Mi.prototype.diagramScroll=Mi.prototype.ex,Mi.prototype.focus=Mi.prototype.focus;var Io=new fe,Fo=null,Bo=void 0!==y.document,Uo=null,zo="",qo=new U(Mi,"None",0),Go=new U(Mi,"Uniform",1),Vo=new U(Mi,"UniformToFill",2),Ho=new U(Mi,"CycleAll",10),Wo=new U(Mi,"CycleNotDirected",11),Xo=new U(Mi,"CycleNotDirectedFast",12),Yo=new U(Mi,"CycleNotUndirected",13),Ko=new U(Mi,"CycleDestinationTree",14),Zo=new U(Mi,"CycleSourceTree",15),$o=new U(Mi,"DocumentScroll",1),Jo=new U(Mi,"InfiniteScroll",2),Qo=new U(Mi,"TreeParentCollapsed",21),ea=new U(Mi,"AllParentsCollapsed",22),ta=new U(Mi,"AnyParentsCollapsed",23),ra=new Z,na="2.3.3",ia="image",oa=null,aa=!1;function sa(){this.sy=null,this.j="zz@orderNum","63ad05bbe23a1786468a4c741b6d2"===this._tk?this.nd=this.j=!0:this.nd=null}function la(e,t){if(t.jb.setTransform(t.Pb,0,0,t.Pb,0,0),t.jb.vc(),null===e.nd)e:{t="f";var r=y[D("76a715b2f73f148a")][D("72ba13b5")];if(e.nd=!0,Bo){var n=Mi[D("76a115b6ed251eaf4692")];if(n)for(var i=ra.iterator;i.next()&&!(6>(n=D(n=i.value).split(D("39e9"))).length);){var o=D(n[1]).split(".");if("7da71ca0"!==n[4])break;var a=D(g[D("6cae19")]).split(".");if(o[0]>a[0]||o[0]===a[0]&&o[1]>=a[1]){var s=y[D("74a900bae4370f8b51")][D("6fbb13a1c2311e8a57")].toLowerCase();if(a=s[D("73a612b6fb191d")](D("3aad1ab6e022098b4dc4")),o=D(n[2]),-1<a&&(s=s[D("73a612b6fb191d")](o.toLowerCase()+"/"),e.nd=!(-1<s&&s<a),!e.nd))break;for(a=r[D("76ad18b4f73e")],s=r[D("73a612b6fb191d")](D("35e7"))+2;s<a;s++)t+=r[s];if(0>(a=t[D("73a612b6fb191d")](o))&&o!==D("7da71ca0ad381e90")&&(a=t[D("73a612b6fb191d")](D("76a715b2ef3e149757"))),0>a&&(a=t[D("73a612b6fb191d")](D("76a715b2ef3e149757"))),0>a&&(a=r[D("73a612b6fb191d")](D("7baa19a6f76c1988428554"))),e.nd=!(0<=a&&a<t[D("73a612b6fb191d")](D("35"))||-1===t[D("73a612b6fb191d")](D("35"))),!e.nd)break;if(r[D("73a612b6fb191d")](D("7fb002b6ed25128b4da25b2e"))&&r[D("73a612b6fb191d")](D("75ba1beee63a1e875799507d"))&&(e.nd=!(-1<r[D("73a612b6fb191d")](o)),!e.nd))break;if("#"===o[0]){a=y.document.createElement("div");for(var l=n[0].replace(/[A-Za-z]/g,"");4>l.length;)l+="9";if(s=l,l=l.substr(l.length-4),n="",n+=["gsh","gsf"][parseInt(l.substr(0,1),10)%2],n+=["Header","Background","Display","Feedback"][parseInt(l.substr(0,1),10)%4],a[D("79a417a0f0181a8946")]=n,y.document[D("78a712aa")]){y.document[D("78a712aa")][D("7bb806b6ed32388c4a875b")](a),l=y.getComputedStyle(a).getPropertyValue(D("78a704b7e62456904c9b12701b6532a8"));var u=y.getComputedStyle(a).getPropertyValue(D("75b817b0ea2202"));if(y.document[D("78a712aa")][D("68ad1bbcf533388c4a875b")](a),l){if(a=y[D("77a902b0eb1b1e804a8a")],u==="0."+parseInt(s,10)%100||-1!==l.indexOf(parseInt(o[1]+o[2],16))&&-1!==l.indexOf(parseInt(o[3]+o[4],16))){e.nd=!1;break}if(a&&a(D("32ae19a1e0331fc94084537c067a67fa59f1386b89d006")).matches)for(n="."+n,o=0;o<document.styleSheets.length;o++)for(var c in a=document.styleSheets[o].rules||document.styleSheets[o].cssRules)if(n===a[c].selectorText){e.nd=!1;break e}}}else e.nd=null,e.nd=!1}}}else{for(c=r[D("76ad18b4f73e")],i=r[D("73a612b6fb191d")](D("35e7"))+2;i<c;i++)t+=r[i];r=t[D("73a612b6fb191d")](D("7da71ca0ad381e90")),e.nd=!(0<=r&&r<t[D("73a612b6fb191d")](D("35")))}}}return 0<e.nd&&e!==e.sy}function ua(e){this.j=void 0===e?new pe:e,this.m=new pe}Mi.className="Diagram",Mi.fromDiv=function(e){var t=e;return"string"===typeof e&&(t=y.document.getElementById(e)),t instanceof HTMLDivElement&&t.H instanceof Mi?t.H:null},Mi.inherit=function(e,t){function r(){}if(Object.getPrototypeOf(e).prototype)throw Error("Used go.Diagram.inherit defining already defined class \n"+e);r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e},Mi.useDOM=function(e){Bo=!!e&&void 0!==y.document},Mi.isUsingDOM=function(){return Bo},Mi.None=qo,Mi.Uniform=Go,Mi.UniformToFill=Vo,Mi.CycleAll=Ho,Mi.CycleNotDirected=Wo,Mi.CycleNotDirectedFast=Xo,Mi.CycleNotUndirected=Yo,Mi.CycleDestinationTree=Ko,Mi.CycleSourceTree=Zo,Mi.DocumentScroll=$o,Mi.InfiniteScroll=Jo,Mi.TreeParentCollapsed=Qo,Mi.AllParentsCollapsed=ea,Mi.AnyParentsCollapsed=ta,sa.className="DiagramHelper",d.Object.defineProperties(ua.prototype,{point:{get:function(){return this.j},set:function(e){this.j=e}},shifted:{get:function(){return this.m},set:function(e){this.m=e}}});var ca,ha,da,fa,pa,ma,ya,ga,va,ba,xa="DraggingInfo";function wa(e,t,r){this.node=e,this.info=t,this.Ou=r}function Sa(){this.reset()}function ka(e,t){if("string"===typeof e||y.Element&&e instanceof Element)var r=Mi.call(this,e)||this;else r=Mi.call(this)||this,t=e;return _a(r),t&&r.km(t),r}function _a(e){e.allowDragOut=!0,e.allowMove=!1,e.isReadOnly=!0,e.contentAlignment=Qe,e.layout=new Bd}function ja(e,t){if("string"===typeof e||y.Element&&e instanceof Element)var r=Mi.call(this,e)||this;else r=Mi.call(this)||this,t=e;var n=r;r.animationManager.isEnabled=!1,r.vb=!0,r.V=null,r.hn=!1,r.jn=!1,r.F=!0,r.u=!0,r.ga=0,r.m=!1,r.ml=null,r.Tx("drawShadows",!1),e=new vc;var i=new cu;return i.stroke="magenta",i.strokeWidth=2,i.fill="transparent",i.name="BOXSHAPE",e.selectable=!0,e.selectionAdorned=!1,e.selectionObjectName="BOXSHAPE",e.locationObjectName="BOXSHAPE",e.resizeObjectName="BOXSHAPE",e.cursor="move",e.add(i),r.j=e,r.allowCopy=!1,r.allowDelete=!1,r.allowSelect=!0,r.autoScrollRegion=new Ye(0,0,0,0),r.pa.h(0,0),r.toolManager.gb("Dragging",new Pa,r.toolManager.mouseMoveTools),r.click=function(){var e=n.observed;if(null!==e){var t=e.viewportBounds,r=n.lastInput.documentPoint;e.position=new pe(r.x-t.width/2,r.y-t.height/2)}},r.Mf=function(){n.Xa(),Ca(n)},r.Sd=function(){null!==n.observed&&(n.Xa(),n.N())},r.Ha=function(){1>n.updateDelay?n.N():n.m||(n.m=!0,setTimeout((function(){return n.redraw()}),n.updateDelay))},r.Lf=function(){null!==n.observed&&Ca(n)},r.autoScale=Go,r.vb=!1,t&&Object.assign(r,t),r}function Ma(e){var t=e.observed;if(null!==t){var r=e.drawsTemporaryLayers,n=e.drawsGrid&&r,i=t.grid;n&&null!==i&&i.visible&&!isNaN(i.width)&&!isNaN(i.height)&&(yo(t,i=Ne.alloc().assign(e.viewportBounds).Zc(t.viewportBounds)),Ne.free(i),$i(t));var o=e.Ab;o.reset(),1!==e.scale&&o.scale(e.scale),0===e.position.x&&0===e.position.y||o.translate(-e.position.x,-e.position.y),(i=e.jb).scale(e.Pb,e.Pb),i.transform(o.m11,o.m12,o.m21,o.m22,o.dx,o.dy),i.vc(),o=(t=t.Wa.s).length;for(var a=0;a<o;a++){var s=t[a],l=e;if(s.visible&&0!==s.opacity){var u=s.diagram.grid.part;if(!r&&s.isTemporary)n&&u.layer===s&&(s=ki(s,i),u.cc(i,l),i.globalAlpha=s);else{for(var c=ki(s,i),h=l.scale,d=Ne.alloc(),f=s.Oa.s,p=f.length,m=0;m<p;m++){var y=f[m];(n||y!==u)&&s.Mj(i,y,l,null,h,d,!1)}Ne.free(d),i.globalAlpha=c}}}}}function Ca(e){var t=e.box;if(null!==t){var r=e.observed;if(null!==r){e.Cc=!0,r=r.viewportBounds;var n=t.selectionObject,i=Ee.alloc();i.h(r.width,r.height),n.desiredSize=i,Ee.free(i),e=2/e.scale,n instanceof cu&&(n.strokeWidth=e),t.location=new pe(r.x-e/2,r.y-e/2),t.isSelected=!0}}}function Pa(){Pr.call(this),this.j=null}function Ta(){Q(this),this.H=vi,this.Ha=this.u=this.m=!0,this.F=this.V=this.ob=this.ga=!1,this.gj=this.j=null,this.Fb=1.05,this.Ct=NaN,this.lw=null,this.vu=NaN,this.tu=He,this.hb=!0,this.Zf=null,this.pb=200}function Ea(e,t,r){if(t.isVisible())return r;if(t instanceof Vc)Ea(e,t.adornedPart,r);else if(t instanceof vh){var n=t.fromNode;null!==n&&Ea(e,n,r),null!==(t=t.toNode)&&Ea(e,t,r)}else t instanceof Wc&&(null!==(n=t.labeledLink)&&Ea(e,n,r),null!==(n=t.lg())&&(n.isTreeExpanded||n.wasTreeExpanded||r.push(n),Ea(e,n,r))),null!==(t=t.containingGroup)&&(t.isSubGraphExpanded||t.wasSubGraphExpanded||r.push(t),Ea(e,t,r));return r}function Oa(e){var t=E();for(e=e.iterator;e.next();){var r=e.value;r instanceof vh||t.push(r)}e=new J,r=t.length;for(var n=0;n<r;n++){for(var i=t[n],o=!0,a=0;a<r;a++)if(i.Md(t[a])){o=!1;break}o&&e.add(i)}return O(t),e}function Aa(){Q(this),this.o=30723,this.qb=1,this.Ra=this.Ie=null,this.pa=new pe(NaN,NaN).freeze(),this.ad=Pe,this.Ab=new zt,this.rh=new zt,this.Jb=null,this.Aa=this.Fk=1,this.Ib=0,this.Fg=Lt,this.rc=new Ne(NaN,NaN,NaN,NaN).freeze(),this.Gb=new Ne(NaN,NaN,NaN,NaN).freeze(),this.ac=new Ne(0,0,NaN,NaN).freeze(),this.ba=this.Un=this.Vn=null,this.mk=this.Hb=St,this.wg=this.co=0,this.V=this.ib=this.yh=this.A=this.Ua=null,this.Uh=!1,this.eo=this.Ig=null}function La(e){null===e.A?e.A=new cs:e.A.jc&&(e.A=e.A.copy())}function Na(e,t,r){var n=e.dh();if(null!==n)for(var i=e.localBindings.iterator;i.next();){var o=i.value,a=null;if(null!==o.sourceName){if(null===(a=Uf(o,n,e)))continue;o.mp(e,a,r,null)}else if(o.isToModel){var s=t.diagram;null===s||s.skipsModelSourceBindings||o.mp(e,s.model.modelData,r,n)}else{if(null===(s=n.data))continue;var l=t.diagram;null===l||l.skipsModelSourceBindings||o.mp(e,s,r,n)}a===e&&(null!==(s=n.cs(o.xi))&&o.Fv(s,a,r))}}function Ra(e,t,r,n){return!1!==e.pickable&&(n.multiply(e.transform),r?e.Tc(t,n):e.$g(t,n))}function Da(e,t,r,n,i){if(e.Gb.h(t,r,n,i),!e.desiredSize.w()){var o=e.rc;t=(r=e.Fg).right+r.left;var a=r.top+r.bottom;switch(r=o.width+t,o=o.height+a,n+=t,i+=a,t=Ha(e,!0),r===n&&o===i&&(t=ha),t){case ha:(r>n||o>i)&&(es(e,!0),e.measure(r>n?n:r,o>i?i:o,0,0));break;case ca:es(e,!0),e.measure(n,i,0,0);break;case fa:es(e,!0),e.measure(n,o,0,0);break;case pa:es(e,!0),e.measure(r,i,0,0)}}}function Ia(e,t,r,n){var i=e.part,o=!1;return i&&t.Df("drawShadows")&&(o=i.isShadowed),r.clipInsteadOfFill&&(o=!1),e.Qe()&&o&&Ms(r),o&&!0===e.shadowVisible?Ms(r):o&&!1===e.shadowVisible&&js(r),i=e.panel,o&&(null!==i&&0!==(512&i.o)||null!==i&&(i.type===kl.Auto||i.type===kl.Spot)&&i.sb()!==e)&&null===e.shadowVisible&&js(r),r.Dl&&(t=t.computePixelRatio(),t="drop-shadow("+r.shadowOffsetX/t+"px "+r.shadowOffsetY/t+"px "+r.shadowBlur/t/2+"px "+r.shadowColor+")",null!==e.background&&n.Ra.setAttributeNS(null,"filter",t),null!==e.areaBackground&&n.Vd.setAttributeNS(null,"filter",t)),o&&(null!==e.Ra||null!==e.areaBackground||null!==i&&0!==(512&i.o)||null!==i&&(i.type===kl.Auto||i.type===kl.Spot)&&i.sb()!==e)?(Ya(e,!0),null===e.shadowVisible&&js(r)):Ya(e,!1),o}function Fa(e,t,r,n,i){n.Dl&&(r=r.computePixelRatio(),e.wv(t,"drop-shadow("+n.shadowOffsetX/r+"px "+n.shadowOffsetY/r+"px "+n.shadowBlur/r/2+"px "+n.shadowColor+")")),i&&0!==(512&e.o)===!0&&Ms(n),e.Qe()&&js(n)}function Ba(e,t,r,n){qa(e,t,e.areaBackground,!0,!0,r,n),e.areaBackground instanceof As&&e.areaBackground.type===Ys?(t.beginPath(),t.rect(n.x,n.y,n.width,n.height),t.jg(e.areaBackground)):t.fillRect(n.x,n.y,n.width,n.height)}function Ua(e,t,r,n){var i=e.cq(),o=r.x,a=r.y,s=r.width+i,l=r.height+i;qa(e,t,e.Ra,!0,!1,r,n),e.Ra instanceof As&&e.Ra.type===Ys?(t.beginPath(),t.rect(o-i/2,a-i/2,s,l),t.jg(e.Ra)):t.fillRect(o-i/2,a-i/2,s,l)}function za(e,t,r){for(var n=t.P.s,i=n.length,o=-1,a=0;a<i;a++)if(n[a]===e){o=a;break}if(-1!==(e=o))if(0===e)t.svg.prepend(r);else{for(;0!==e&&!t.L(e-1).Nd();)e--;0===e?t.svg.prepend(r):null!==(e=t.L(e-1).svg)?e.after(r):t.svg.appendChild(r)}}function qa(e,t,r,n,i,o,a){if(null!==r){var s=1,l=1;if("string"===typeof r)n?t.fillStyle=r:t.strokeStyle=r;else if(r.type===Ws)n?t.fillStyle=r.color:t.strokeStyle=r.color;else{var u=e.cq();if(s=o.width,l=o.height,i?(s=a.width,l=a.height):n||(s+=u,l+=u),(o=t instanceof Ts)&&r.te&&(r.type===Ks||r.tk===s&&r.Ys===l))var c=r.te;else{var h=0,d=0,f=0,p=0,m=0,y=0;if(y=m=0,i?(m=a.x,y=a.y):n||(m-=u/2,y-=u/2),h=r.start.x*s+r.start.offsetX,d=r.start.y*l+r.start.offsetY,f=r.end.x*s+r.end.offsetX,p=r.end.y*l+r.end.offsetY,h+=m,f+=m,d+=y,p+=y,r.type===Xs)c=t.createLinearGradient(h,d,f,p);else if(r.type===Ys)y=isNaN(r.endRadius)?Math.max(s,l)/2:r.endRadius,isNaN(r.startRadius)?(m=0,y=Math.max(s,l)/2):m=r.startRadius,c=t.createRadialGradient(h,d,m,f,p,y);else if(r.type===Ks)try{c=t.createPattern(r.pattern,"repeat")}catch(v){c=null}if(r.type!==Ks&&null!==(i=r.colorStops))for(i=i.iterator;i.next();)c.addColorStop(i.key,i.value);if(o&&(r.te=c,null!==c&&(r.tk=s,r.Ys=l),null===c&&r.type===Ks&&-1!==r.tk)){r.tk=-1;var g=e.diagram;null!==g&&-1===r.tk&&b((function(){g.redraw()}),600)}}n?t.fillStyle=c:t.strokeStyle=c}}}function Ga(e){if(0!==(2048&e.o)===!0){var t=e.Ab;if(t.reset(),!e.Gb.w()||!e.rc.w())return void $a(e,!1);if(t.translate(e.Gb.x-e.rc.x,e.Gb.y-e.rc.y),1!==e.scale||0!==e.angle){var r=e.naturalBounds;e.jo(t,r.x,r.y,r.width,r.height)}$a(e,!1),Ja(e,!0)}0!==(4096&e.o)===!0&&(null===(t=e.panel)?(e.rh.set(e.Ab),e.Fk=e.scale,Ja(e,!1)):null!==t.ke&&((r=e.rh).reset(),t.oe()?r.multiply(t.rh):null!==t.panel&&r.multiply(t.panel.rh),r.multiply(e.Ab),e.Fk=e.scale*t.Fk,Ja(e,!1)))}function Va(e){if(!ts(e)){var t=e.panel;null!==t?t.v():e.Qe()&&(null!==(t=e.diagram)&&(t.ze.add(e),e instanceof Wc&&e.vd(),t.Wb())),rs(e,!0)}}function Ha(e,t){var r=e.stretch,n=e.panel;return null!==n&&n.type===kl.Table?Wa(e,n.getRowDefinition(e.row),n.getColumnDefinition(e.column),t):null!==n&&n.type===kl.Auto&&n.sb()===e?Xa(e,ca,t):r===ma?null!==n?n.type===kl.Spot&&n.sb()===e?Xa(e,ca,t):Xa(e,(r=n.defaultStretch)===ma?ha:r,t):Xa(e,ha,t):Xa(e,r,t)}function Wa(e,t,r,n){var i=e.stretch;if(i!==ma)return Xa(e,i,n);var o=i=null;switch(t.stretch){case pa:case ca:o=!0}switch(r.stretch){case fa:case ca:i=!0}return t=e.panel.defaultStretch,null===i&&(i=t===fa||t===ca),null===o&&(o=t===pa||t===ca),Xa(e,!0===i&&!0===o?ca:!0===i?fa:!0===o?pa:ha,n)}function Xa(e,t,r){if(r)return t;if(t===ha)return ha;if((r=e.desiredSize).w())return ha;if(e=e.angle,!isNaN(r.width))if(90!==e&&270!==e){if(t===fa)return ha;if(t===ca)return pa}else{if(t===pa)return ha;if(t===ca)return fa}if(!isNaN(r.height))if(90!==e&&270!==e){if(t===pa)return ha;if(t===ca)return fa}else{if(t===fa)return ha;if(t===ca)return pa}return t}function Ya(e,t){e.o=t?512|e.o:-513&e.o}function Ka(e){return 0!==(1024&e.o)}function Za(e,t){e.o=t?1024|e.o:-1025&e.o}function $a(e,t){e.o=t?2048|e.o:-2049&e.o}function Ja(e,t){e.o=t?4096|e.o:-4097&e.o}function Qa(e){return 0!==(8192&e.o)}function es(e,t){e.o=t?8192|e.o:-8193&e.o}function ts(e){return 0!==(16384&e.o)}function rs(e,t){e.o=t?16384|e.o:-16385&e.o}function ns(e){var t=e.part;if(t instanceof Wc&&(null!==e.portId||e===t.port)){var r=t.diagram;null===r||r.undoManager.isUndoingRedoing||Zc(t,e)}}function is(e){var t=e.diagram;null===t||t.undoManager.isUndoingRedoing||(e instanceof kl?e instanceof Wc?e.vd():e.nm(e,(function(e){ns(e)})):ns(e))}function os(e,t){for(var r=1;r<arguments.length;++r);r=arguments;var n=null,i=null;if("function"===typeof e)i=e;else if("string"===typeof e){var o=us.I(e);"function"===typeof o?j(n=o(r=C(arguments)))||w('GraphObject.make invoked object builder "'+e+'", but it did not return an Object'):i=y.go[e]}if(null===n&&(void 0!==i&&null!==i&&i.constructor||w("GraphObject.make requires a class function or GoJS class name or name of an object builder, not: "+e),n=new i),i=1,n instanceof Mi&&1<r.length){o=n;var a=r[1];("string"===typeof a||a instanceof HTMLDivElement)&&(Ei(o,a),i++)}for(;i<r.length;i++)void 0===(o=r[i])?w("Undefined value at argument "+i+" for object being constructed by GraphObject.make: "+n):as(n,o);return n}function as(e,t){if("string"===typeof t)if(e instanceof Su)e.text=t;else if(e instanceof cu)e.figure=t;else if(e instanceof ec)e.source=t;else if(e instanceof kl)null!==(t=tu.I(t))&&(e.type=t);else if(e instanceof As){var r=z(As,t);null!==r?e.type=r:w("Unknown Brush type as an argument to GraphObject.make: "+t)}else e instanceof Vt?null!==(t=z(Vt,t))&&(e.type=t):e instanceof Qt&&(null!==(t=z(Qt,t))&&(e.type=t));else if(t instanceof Aa)e instanceof kl||w("A GraphObject can only be added to a Panel, not to: "+e),e.add(t);else if(t instanceof iu){var n;t.isRow&&"function"===typeof e.getRowDefinition?n=e.getRowDefinition(t.index):t.isRow||"function"!==typeof e.getColumnDefinition||(n=e.getColumnDefinition(t.index)),n instanceof iu?ou(n,t):w("A RowColumnDefinition can only be added to an object that implements getRowDefinition/getColumnDefinition, not to: "+e)}else if(t instanceof U)"function"===typeof e.rb&&e.rb(t);else if(t instanceof sl)e.type=t;else if(t instanceof Bf)e instanceof Aa||e instanceof iu?e.bind(t):w("A Binding can only be applied to a GraphObject or RowColumnDefinition, not to: "+e);else if(t instanceof yi)e instanceof Aa?e.Cv(t):w("An AnimationTrigger can only be applied to a GraphObject, not to: "+e);else if(t instanceof Jt)e instanceof Vt&&e.type===Vt.m?e.figures.add(t):w("A PathFigure can only be added to a Path Geometry, not to: "+e);else if(t instanceof Qt)e instanceof Jt?e.segments.add(t):w("A PathSegment can only be added to a PathFigure, not to: "+e);else if(t instanceof Pd)e instanceof Mi||e instanceof dh?e.layout=t:w("A Layout can only be assigned to a Diagram or a Group, not to: "+e);else if(Array.isArray(t))for(r=0;r<t.length;r++)as(e,t[r]);else if("object"===typeof t&&null!==t)if(e instanceof As){for(var i in r=new G,t)n=parseFloat(i),isNaN(n)?r[i]=t[i]:e.addColorStop(n,t[i]);to(e,r)}else if(e instanceof iu){for(r in void 0!==t.row?((void 0===(i=t.row)||null===i||1/0===i||isNaN(i)||0>i)&&w("Must specify non-negative integer row for RowColumnDefinition "+t+", not: "+i),e.isRow=!0,e.index=i):void 0!==t.column&&((void 0===(i=t.column)||null===i||1/0===i||isNaN(i)||0>i)&&w("Must specify non-negative integer column for RowColumnDefinition "+t+", not: "+i),e.isRow=!1,e.index=i),i=new G,t)"row"!==r&&"column"!==r&&(i[r]=t[r]);to(e,i)}else to(e,t);else w('Unknown initializer "'+t+'" for object being constructed by GraphObject.make: '+e)}function ss(e,t){us.add(e,t)}function ls(e,t,r){void 0===r&&(r=null);var n=e[1];if("function"===typeof r?r(n):"string"===typeof n)return e.splice(1,1),n;if(void 0===t)throw Error("no "+("function"===typeof r?"satisfactory":"string")+" argument for GraphObject builder "+e[0]);return t}ua.className="DraggingInfo",wa.className="DraggingNodeInfoPair",Sa.prototype.reset=function(){this.isGridSnapEnabled=!1,this.isGridSnapRealtime=!0,this.gridSnapCellSize=new Ee(NaN,NaN).freeze(),this.gridSnapCellSpot=Je,this.gridSnapOrigin=new pe(NaN,NaN).freeze(),this.groupsSnapMembers=this.dragsTree=this.dragsLink=!1,this.dragsMembers=this.groupsAlwaysMove=!0},Sa.className="DraggingOptions",h(ka,Mi),ka.prototype.reset=function(){Mi.prototype.reset.call(this),_a(this)},ka.className="Palette",h(ja,Mi),ja.prototype.computePixelRatio=function(){return 1},ja.prototype.redraw=function(){if(this.m&&1<=this.updateDelay){this.m=!1;var e=this.xa,t=this.jb;if(null!==e&&null!==t){if(ro(this),null===this.ml){var r=new Ps(null);r.width=e.width,r.height=e.height,this.ml=r}try{this.xa=this.ml,this.jb=this.xa.context,this.jb.Qc(!0),this.jb.setTransform(1,0,0,1,0,0),this.jb.clearRect(0,0,this.xa.width,this.xa.height),Ma(this)}finally{this.xa=e,this.jb=t}}}Mi.prototype.redraw.call(this)},ja.prototype.cc=function(){if(null===this.Ka&&w("No div specified"),null===this.xa&&w("No canvas specified"),!(this.xa instanceof ms)&&(xc(this.box),this.Cc)){var e=this.observed;if(null!==e&&!e.animationManager.defaultAnimation.isAnimating&&e.mi){ro(this);var t=this.xa;(e=this.jb).Qc(!0),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height),1>this.updateDelay?Ma(this):null!==this.ml&&(e.drawImage(this.ml.La,0,0),(t=this.Ab).reset(),1!==this.scale&&t.scale(this.scale),0===this.position.x&&0===this.position.y||t.translate(-this.position.x,-this.position.y),e.scale(this.Pb,this.Pb),e.transform(t.m11,t.m12,t.m21,t.m22,t.dx,t.dy),e.vc());for(var r=(t=this.Wa.s).length,n=0;n<r;n++)t[n].cc(e,this);this.Cc=this.pd=!1}}},ja.prototype.computeBounds=function(){var e=this.observed;if(null===e)return He;var t=e.documentBounds.copy();return t.Zc(e.viewportBounds),t},ja.prototype.invalidateViewport=function(){!0!==this.Cc&&(this.Cc=!0,this.Wb())},ja.prototype.onViewportBoundsChanged=function(e,t,r,n){this.vb||(this.pd=!0,this.N(),this.Ae=!0,this.Xa(),Ca(this),this.jd.scale=r,this.jd.position.x=e.x,this.jd.position.y=e.y,this.jd.bounds.assign(e),this.jd.Ax=n,this.R("ViewportBoundsChanged",this.jd,e))},d.Object.defineProperties(ja.prototype,{observed:{get:function(){return this.V},set:function(e){var t=this.V;if(e instanceof ja&&w("Overview.observed Diagram may not be an Overview itself: "+e),t!==e){if(null!==t&&(this.remove(this.box),t.Yl("ViewportBoundsChanged",this.Mf),t.Yl("DocumentBoundsChanged",this.Sd),t.Yl("InvalidateDraw",this.Ha),t.Yl("AnimationFinished",this.Lf)),this.V=e,null!==e&&(e.zj("ViewportBoundsChanged",this.Mf),e.zj("DocumentBoundsChanged",this.Sd),e.zj("InvalidateDraw",this.Ha),e.zj("AnimationFinished",this.Lf),this.add(this.box)),this.Xa(),null===e){this.ml=null;var r=this.xa,n=this.jb;r&&n&&(n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,r.width,r.height))}else this.Ha(null),Ca(this),this.N();this.g("observed",t,e)}}},box:{get:function(){return this.j},set:function(e){var t=this.j;t!==e&&(this.j=e,this.remove(t),this.add(this.j),Ca(this),this.g("box",t,e))}},drawsTemporaryLayers:{get:function(){return this.F},set:function(e){this.F!==e&&(this.F=e,this.redraw())}},drawsGrid:{get:function(){return this.u},set:function(e){this.u!==e&&(this.u=e,this.redraw())}},updateDelay:{get:function(){return this.ga},set:function(e){0>e&&(e=0),this.ga!==e&&(this.ga=e)}}}),ja.className="Overview",h(Pa,Pr),Pa.prototype.canStart=function(){if(!this.isEnabled)return!1;var e=this.diagram;if(null===e||!e.allowMove||!e.allowSelect)return!1;var t=e.observed;if(null===t)return!1;var r=e.lastInput;return!(!r.left||e.currentTool!==this&&(!this.isBeyondDragSize()||r.isTouchEvent&&r.timestamp-e.firstInput.timestamp<this.delay))&&(null===this.findDraggablePart()&&(r=t.viewportBounds,this.j=new pe(r.width/2,r.height/2),e=e.firstInput.documentPoint,t.position=new pe(e.x-this.j.x,e.y-this.j.y)),!0)},Pa.prototype.doActivate=function(){this.j=null,Pr.prototype.doActivate.call(this)},Pa.prototype.doUpdateCursor=function(){var e=this.diagram,t=e.box;null!==t&&t.cursor&&(e.currentCursor=t.cursor)},Pa.prototype.moveParts=function(){var e=this.diagram,t=e.observed;if(null!==t){var r=e.box;if(null!==r){if(null===this.j){var n=e.firstInput.documentPoint;r=r.location,this.j=new pe(n.x-r.x,n.y-r.y)}e=e.lastInput.documentPoint,t.position=new pe(e.x-this.j.x,e.y-this.j.y)}}},Pa.className="OverviewDraggingTool",Ta.prototype.toString=function(){return"CommandHandler"},Ta.prototype.Te=function(e){this.H=e},Ta.prototype.doKeyDown=function(){var e=this.diagram,t=e.lastInput,r=F?t.meta:t.control,n=t.shift,i=t.alt,o=t.key;!r||"C"!==o&&"Insert"!==o?r&&"X"===o||n&&"Del"===o?this.canCutSelection()&&this.cutSelection():r&&"V"===o||n&&"Insert"===o?this.canPasteSelection()&&this.pasteSelection():r&&"Y"===o||i&&n&&"Backspace"===o?this.canRedo()&&this.redo():r&&"Z"===o||i&&"Backspace"===o?this.canUndo()&&this.undo():"Del"===o||"Backspace"===o?this.canDeleteSelection()&&this.deleteSelection():r&&"A"===o?this.canSelectAll()&&this.selectAll():"Esc"===o?this.canStopCommand()&&this.stopCommand():"Up"===o?e.allowVerticalScroll&&(r?e.scroll("pixel","up"):e.scroll("line","up")):"Down"===o?e.allowVerticalScroll&&(r?e.scroll("pixel","down"):e.scroll("line","down")):"Left"===o?e.allowHorizontalScroll&&(r?e.scroll("pixel","left"):e.scroll("line","left")):"Right"===o?e.allowHorizontalScroll&&(r?e.scroll("pixel","right"):e.scroll("line","right")):"PageUp"===o?n&&e.allowHorizontalScroll?e.scroll("page","left"):e.allowVerticalScroll&&e.scroll("page","up"):"PageDown"===o?n&&e.allowHorizontalScroll?e.scroll("page","right"):e.allowVerticalScroll&&e.scroll("page","down"):"Home"===o?r&&e.allowVerticalScroll?e.scroll("document","up"):!r&&e.allowHorizontalScroll&&e.scroll("document","left"):"End"===o?r&&e.allowVerticalScroll?e.scroll("document","down"):!r&&e.allowHorizontalScroll&&e.scroll("document","right"):" "===o?this.canScrollToPart()&&this.scrollToPart():"Subtract"===o?this.canDecreaseZoom()&&this.decreaseZoom():"Add"===o?this.canIncreaseZoom()&&this.increaseZoom():r&&"0"===o?this.canResetZoom()&&this.resetZoom():n&&"Z"===o?this.canZoomToFit()&&this.zoomToFit():r&&!n&&"G"===o?this.canGroupSelection()&&this.groupSelection():r&&n&&"G"===o?this.canUngroupSelection()&&this.ungroupSelection():"F2"===o||t.event&&"F2"===t.event.key?this.canEditTextBlock()&&this.editTextBlock():"ContextMenu"===o||t.event&&"ContextMenu"===t.event.key?this.canShowContextMenu()&&this.showContextMenu():t.bubbles=!0:this.canCopySelection()&&this.copySelection()},Ta.prototype.doKeyUp=function(){this.diagram.lastInput.bubbles=!0},Ta.prototype.stopCommand=function(){var e=this.diagram,t=e.currentTool;t instanceof br&&e.allowSelect&&e.clearSelection(),null!==t&&t.doCancel()},Ta.prototype.canStopCommand=function(){return!0},Ta.prototype.selectAll=function(){var e=this.diagram;e.N();try{e.currentCursor="wait",e.R("ChangingSelection",e.selection);for(var t=e.parts;t.next();)t.value.isSelected=!0;for(var r=e.nodes;r.next();)r.value.isSelected=!0;for(var n=e.links;n.next();)n.value.isSelected=!0}finally{e.R("ChangedSelection",e.selection),e.currentCursor=""}},Ta.prototype.canSelectAll=function(){return this.diagram.allowSelect},Ta.prototype.deleteSelection=function(){var e=this.diagram;try{e.currentCursor="wait",e.R("ChangingSelection",e.selection),e.Ea("Delete"),e.R("SelectionDeleting",e.selection);for(var t=new J,r=e.selection.iterator;r.next();)qc(t,r.value,!0,this.deletesTree?1/0:0,!!this.deletesConnectedLinks&&null,(function(e){return e.canDelete()}));e.Bs(t,!0),e.R("SelectionDeleted",t)}finally{e.eb("Delete"),e.R("ChangedSelection",e.selection),e.currentCursor=""}},Ta.prototype.canDeleteSelection=function(){var e=this.diagram;return!(e.isReadOnly||e.isModelReadOnly||!e.allowDelete||0===e.selection.count)},Ta.prototype.copySelection=function(){var e=this.diagram,t=new J;for(e=e.selection.iterator;e.next();)qc(t,e.value,!0,this.copiesTree?1/0:0,this.copiesConnectedLinks,(function(e){return e.canCopy()}));this.copyToClipboard(t)},Ta.prototype.canCopySelection=function(){var e=this.diagram;return!(!e.allowCopy||!e.allowClipboard||0===e.selection.count)},Ta.prototype.cutSelection=function(){this.copySelection(),this.deleteSelection()},Ta.prototype.canCutSelection=function(){var e=this.diagram;return!(e.isReadOnly||e.isModelReadOnly||!e.allowCopy||!e.allowDelete||!e.allowClipboard||0===e.selection.count)},Ta.prototype.copyToClipboard=function(e){var t=this.diagram,r=null;if(null===e)Uo=null,zo="";else{r=t.model;var n=!1,i=!1,o=null;try{r.Pl()&&(n=r.Hj,r.Hj=this.copiesParentKey),r.Tj()&&(i=r.Gj,r.Gj=this.copiesGroupKey),o=t.Ij(e,null,!0)}finally{r.Pl()&&(r.Hj=n),r.Tj()&&(r.Gj=i),(r=new Z).addAll(o),Uo=r,zo=t.model.dataFormat}}t.R("ClipboardChanged",r)},Ta.prototype.pasteFromClipboard=function(){var e=new J,t=Uo;if(null===t)return e;var r=this.diagram;if(zo!==r.model.dataFormat)return e;var n=r.model,i=!1,o=!1,a=null;try{n.Pl()&&(i=n.Hj,n.Hj=this.copiesParentKey),n.Tj()&&(o=n.Gj,n.Gj=this.copiesGroupKey),a=r.Ij(t,r,!1)}finally{for(n.Pl()&&(n.Hj=i),n.Tj()&&(n.Gj=o),t=a.iterator;t.next();)r=t.value,n=t.key,r.location.w()||(n.location.w()?r.location=n.location:!r.position.w()&&n.position.w()&&(r.position=n.position)),e.add(r)}return e},Ta.prototype.pasteSelection=function(e){void 0===e&&(e=null);var t=this.diagram;try{t.currentCursor="wait",t.R("ChangingSelection",t.selection),t.Ea("Paste");var r=this.pasteFromClipboard();0<r.count&&t.clearSelection(!0);for(var n=r.iterator;n.next();)n.value.isSelected=!0;if(null!==e){var i=t.computePartsBounds(t.selection);if(i.w())so(t,this.computeEffectiveCollection(t.selection,t.Tm),new pe(e.x-i.centerX,e.y-i.centerY),t.Tm,!1)}t.R("ClipboardPasted",r)}finally{t.eb("Paste"),t.R("ChangedSelection",t.selection),t.currentCursor=""}},Ta.prototype.canPasteSelection=function(){var e=this.diagram;return!(e.isReadOnly||e.isModelReadOnly||!e.allowInsert||!e.allowClipboard||null===Uo||0===Uo.count||zo!==e.model.dataFormat)},Ta.prototype.undo=function(){this.diagram.undoManager.undo()},Ta.prototype.canUndo=function(){var e=this.diagram;return!e.isReadOnly&&!e.isModelReadOnly&&(e.allowUndo&&e.undoManager.canUndo())},Ta.prototype.redo=function(){this.diagram.undoManager.redo()},Ta.prototype.canRedo=function(){var e=this.diagram;return!e.isReadOnly&&!e.isModelReadOnly&&(e.allowUndo&&e.undoManager.canRedo())},Ta.prototype.decreaseZoom=function(e){void 0===e&&(e=1/this.zoomFactor);var t=this.diagram;t.autoScale===qo&&((e=t.scale*e)<t.minScale||e>t.maxScale||(t.scale=e))},Ta.prototype.canDecreaseZoom=function(e){void 0===e&&(e=1/this.zoomFactor);var t=this.diagram;return t.autoScale===qo&&(!((e=t.scale*e)<t.minScale||e>t.maxScale)&&t.allowZoom)},Ta.prototype.increaseZoom=function(e){void 0===e&&(e=this.zoomFactor);var t=this.diagram;t.autoScale===qo&&((e=t.scale*e)<t.minScale||e>t.maxScale||(t.scale=e))},Ta.prototype.canIncreaseZoom=function(e){void 0===e&&(e=this.zoomFactor);var t=this.diagram;return t.autoScale===qo&&(!((e=t.scale*e)<t.minScale||e>t.maxScale)&&t.allowZoom)},Ta.prototype.resetZoom=function(e){void 0===e&&(e=this.defaultScale);var t=this.diagram;e<t.minScale||e>t.maxScale||(t.scale=e)},Ta.prototype.canResetZoom=function(e){void 0===e&&(e=this.defaultScale);var t=this.diagram;return!(e<t.minScale||e>t.maxScale)&&t.allowZoom},Ta.prototype.zoomToFit=function(){var e=this.diagram,t=e.animationManager;t.zc(),e.redraw();var r=e.position,n=e.scale;Wn(t,"Zoom To Fit"),this.isZoomToFitRestoreEnabled&&n===this.vu&&!isNaN(this.Ct)&&e.documentBounds.C(this.tu)?(e.scale=this.Ct,e.position=this.lw,this.vu=NaN,this.tu=He):(this.Ct=n,this.lw=r.copy(),e.zoomToFit(),this.vu=e.scale,this.tu=e.documentBounds.copy()),Xn(t)},Ta.prototype.canZoomToFit=function(){return this.diagram.allowZoom},Ta.prototype.scrollToPart=function(e){void 0===e&&(e=null);var t=this.diagram;if(t.Va(),null===e){try{null!==this.Zf&&(this.Zf.next()?e=this.Zf.value:this.Zf=null)}catch(l){this.Zf=null}null===e&&(0<t.highlighteds.count?this.Zf=t.highlighteds.iterator:0<t.selection.count&&(this.Zf=t.selection.iterator),null!==this.Zf&&this.Zf.next()&&(e=this.Zf.value))}if(null!==e){var r=t.animationManager;Wn(r,"Scroll To Part");var n=this.scrollToPartPause;if(0<n){var i=Ea(this,e,[e]);if(1===i.length)t.Ea(),t.Wr(e.actualBounds),t.eb("Scroll To Part");else{var o=function(){t.Ea();for(var e=i.pop();0<i.length&&e instanceof Wc&&e.isTreeExpanded&&(!(e instanceof dh)||e.isSubGraphExpanded);)e=i.pop();0<i.length?(e instanceof vc&&t.ov(e.actualBounds),e instanceof Wc&&!e.isTreeExpanded&&(e.isTreeExpanded=!0),e instanceof dh&&!e.isSubGraphExpanded&&(e.isSubGraphExpanded=!0)):(e instanceof vc&&t.Wr(e.actualBounds),t.Yl("LayoutCompleted",a)),t.eb("Scroll To Part")},a=function(){b(o,(r.isEnabled?r.duration:0)+n)};t.zj("LayoutCompleted",a),o()}}else{var s=t.position.copy();t.Wr(e.actualBounds),s.ab(t.position)&&r.zc()}}},Ta.prototype.canScrollToPart=function(e){return void 0===e&&(e=null),(null===e||e instanceof vc)&&((0!==(e=this.diagram).selection.count||0!==e.highlighteds.count)&&(e.allowHorizontalScroll&&e.allowVerticalScroll))},Ta.prototype.collapseTree=function(e){void 0===e&&(e=null);var t=this.diagram;try{t.Ea("Collapse Tree"),Wn(t.animationManager,"Collapse Tree");var r=new Z;if(null!==e&&e.isTreeExpanded)e.collapseTree(),r.add(e);else if(null===e)for(var n=t.selection.iterator;n.next();){var i=n.value;i instanceof Wc&&i.isTreeExpanded&&(i.collapseTree(),r.add(i))}t.R("TreeCollapsed",r)}finally{t.eb("Collapse Tree")}},Ta.prototype.canCollapseTree=function(e){void 0===e&&(e=null);var t=this.diagram;if(t.isReadOnly)return!1;if(null!==e){if(!(e instanceof Wc&&e.isTreeExpanded))return!1;if(0<e.Ko().count)return!0}else for(e=t.selection.iterator;e.next();)if((t=e.value)instanceof Wc&&t.isTreeExpanded&&0<t.Ko().count)return!0;return!1},Ta.prototype.expandTree=function(e){void 0===e&&(e=null);var t=this.diagram;try{t.Ea("Expand Tree"),Wn(t.animationManager,"Expand Tree");var r=new Z;if(null===e||e.isTreeExpanded){if(null===e)for(var n=t.selection.iterator;n.next();){var i=n.value;i instanceof Wc&&!i.isTreeExpanded&&(i.expandTree(),r.add(i))}}else e.expandTree(),r.add(e);t.R("TreeExpanded",r)}finally{t.eb("Expand Tree")}},Ta.prototype.canExpandTree=function(e){void 0===e&&(e=null);var t=this.diagram;if(t.isReadOnly)return!1;if(null!==e){if(!(e instanceof Wc)||e.isTreeExpanded)return!1;if(0<e.Ko().count)return!0}else for(e=t.selection.iterator;e.next();)if((t=e.value)instanceof Wc&&!t.isTreeExpanded&&0<t.Ko().count)return!0;return!1},Ta.prototype.groupSelection=function(){var e=this.diagram,t=e.model;if(t.Uj()){var r=this.archetypeGroupData;if(null!==r){var n=null;try{e.currentCursor="wait",e.R("ChangingSelection",e.selection),e.Ea("Group");for(var i=new Z,o=e.selection.iterator;o.next();){var a=o.value;a.Uc()&&a.canGroup()&&i.add(a)}for(var s=new Z,l=i.iterator;l.next();){var u=l.value;o=!1;for(var c=i.iterator;c.next();)if(u.Md(c.value)){o=!0;break}o||s.add(u)}if(0<s.count){var h=s.first().containingGroup;if(null!==h)for(;null!==h;){i=!1;for(var d=s.iterator;d.next();)if(!d.value.Md(h)){i=!0;break}if(!i)break;h=h.containingGroup}if(r instanceof dh)Vl(r),null!==(n=r.copy())&&e.add(n);else if(t.Uu(r)){var f=t.copyNodeData(r);j(f)&&(t.uf(f),n=e.fi(f))}if(null!==n){null!==h&&this.isValidMember(h,n)&&(n.containingGroup=h);for(var p=s.iterator;p.next();){var m=p.value;this.isValidMember(n,m)&&(m.containingGroup=n)}e.clearSelection(!0),n.isSelected=!0}}e.R("SelectionGrouped",n)}finally{e.eb("Group"),e.R("ChangedSelection",e.selection),e.currentCursor=""}}}},Ta.prototype.canGroupSelection=function(){var e=this.diagram;if(e.isReadOnly||e.isModelReadOnly||!e.allowInsert||!e.allowGroup||!e.model.Uj()||null===this.archetypeGroupData)return!1;for(e=e.selection.iterator;e.next();){var t=e.value;if(t.Uc()&&t.canGroup())return!0}return!1},Ta.prototype.isValidMember=function(e,t){if(null===t||e===t||t instanceof vh)return!1;if(null!==e){if(e===t||e.Md(t))return!1;var r=e.memberValidation;if(null!==r&&!r(e,t)||null===e.data&&null!==t.data||null!==e.data&&null===t.data)return!1}return null===(r=this.memberValidation)||r(e,t)},Ta.prototype.ungroupSelection=function(e){void 0===e&&(e=null);var t=this.diagram,r=t.model;if(r.Uj())try{t.currentCursor="wait",t.R("ChangingSelection",t.selection),t.Ea("Ungroup");var n=new Z;if(null!==e)n.add(e);else for(var i=t.selection.iterator;i.next();){var o=i.value;o instanceof dh&&o.canUngroup()&&n.add(o)}var a=new Z;if(0<n.count){t.clearSelection(!0);for(var s=n.iterator;s.next();){var l=s.value;l.expandSubGraph();var u=l.containingGroup,c=null!==u&&null!==u.data?r.va(u.data):void 0;a.addAll(l.memberParts);for(var h=a.iterator;h.next();){var d=h.value;if(d.isSelected=!0,!(d instanceof vh)){var f=d.data;null!==f?r.gp(f,c):d.containingGroup=u}}t.remove(l)}}t.R("SelectionUngrouped",n,a)}finally{t.eb("Ungroup"),t.R("ChangedSelection",t.selection),t.currentCursor=""}},Ta.prototype.canUngroupSelection=function(e){void 0===e&&(e=null);var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowDelete||!t.allowUngroup||!t.model.Uj())return!1;if(null!==e){if(!(e instanceof dh))return!1;if(e.canUngroup())return!0}else for(e=t.selection.iterator;e.next();)if((t=e.value)instanceof dh&&t.canUngroup())return!0;return!1},Ta.prototype.addTopLevelParts=function(e,t){var r=!0;for(e=Oa(e).iterator;e.next();){var n=e.value;null!==n.containingGroup&&(!t||this.isValidMember(null,n)?n.containingGroup=null:r=!1)}return r},Ta.prototype.collapseSubGraph=function(e){void 0===e&&(e=null);var t=this.diagram;try{t.Ea("Collapse SubGraph"),Wn(t.animationManager,"Collapse SubGraph");var r=new Z;if(null!==e&&e.isSubGraphExpanded)e.collapseSubGraph(),r.add(e);else if(null===e)for(var n=t.selection.iterator;n.next();){var i=n.value;i instanceof dh&&i.isSubGraphExpanded&&(i.collapseSubGraph(),r.add(i))}t.R("SubGraphCollapsed",r)}finally{t.eb("Collapse SubGraph")}},Ta.prototype.canCollapseSubGraph=function(e){void 0===e&&(e=null);var t=this.diagram;if(t.isReadOnly)return!1;if(null!==e)return!!(e instanceof dh&&e.isSubGraphExpanded);for(e=t.selection.iterator;e.next();)if((t=e.value)instanceof dh&&t.isSubGraphExpanded)return!0;return!1},Ta.prototype.expandSubGraph=function(e){void 0===e&&(e=null);var t=this.diagram;try{t.Ea("Expand SubGraph"),Wn(t.animationManager,"Expand SubGraph");var r=new Z;if(null===e||e.isSubGraphExpanded){if(null===e)for(var n=t.selection.iterator;n.next();){var i=n.value;i instanceof dh&&!i.isSubGraphExpanded&&(i.expandSubGraph(),r.add(i))}}else e.expandSubGraph(),r.add(e);t.R("SubGraphExpanded",r)}finally{t.eb("Expand SubGraph")}},Ta.prototype.canExpandSubGraph=function(e){void 0===e&&(e=null);var t=this.diagram;if(t.isReadOnly)return!1;if(null!==e)return e instanceof dh&&!e.isSubGraphExpanded;for(e=t.selection.iterator;e.next();)if((t=e.value)instanceof dh&&!t.isSubGraphExpanded)return!0;return!1},Ta.prototype.editTextBlock=function(e){void 0===e&&(e=null);var t=this.diagram,r=t.toolManager.findTool("TextEditing");if(null!==r){if(null===e){e=null;for(var n=t.selection.iterator;n.next();){var i=n.value;if(i.canEdit()){e=i;break}}if(null===e)return;e=e.Il((function(e){return e instanceof Su&&e.editable}))}null!==e&&(t.currentTool=null,r.textBlock=e,t.currentTool=r)}},Ta.prototype.canEditTextBlock=function(e){void 0===e&&(e=null);var t=this.diagram;if(t.isReadOnly||t.isModelReadOnly||!t.allowTextEdit||null===t.toolManager.findTool("TextEditing"))return!1;if(null!==e){if(!(e instanceof Su))return!1;if(null!==(e=e.part)&&e.canEdit())return!0}else for(t=t.selection.iterator;t.next();)if((e=t.value).canEdit()&&null!==(e=e.Il((function(e){return e instanceof Su&&e.editable}))))return!0;return!1},Ta.prototype.showContextMenu=function(e){var t=this.diagram,r=t.toolManager.findTool("ContextMenu");if(null!==r&&(void 0===e&&(e=0<t.selection.count?t.selection.first():t),null!==(e=r.findObjectWithContextMenu(e)))){var n=t.lastInput,i=null;e instanceof Aa?i=e.ja(rt):t.viewportBounds.ca(n.documentPoint)||(i=new pe((i=t.viewportBounds).x+i.width/2,i.y+i.height/2)),null!==i&&(n.viewPoint=t.ip(i),n.documentPoint=i,n.left=!1,n.right=!0,n.up=!0),t.currentTool=r,_n(r,!1,e)}},Ta.prototype.canShowContextMenu=function(e){var t=this.diagram,r=t.toolManager.findTool("ContextMenu");return null!==r&&(void 0===e&&(e=0<t.selection.count?t.selection.first():t),null!==r.findObjectWithContextMenu(e))},Ta.prototype.computeEffectiveCollection=function(e,t){var r=this.diagram,n=r.toolManager.findTool("Dragging"),i=r.currentTool===n;if(void 0===t&&(t=i?n.dragOptions:r.Tm),n=new fe,null===e)return n;for(var o=e.iterator;o.next();)ao(r,n,o.value,i,t);if(null!==r.draggedLink&&t.dragsLink)return n;for(o=e.iterator;o.next();)(e=o.value)instanceof vh&&(null===(t=e.fromNode)||n.contains(t)?null===(t=e.toNode)||n.contains(t)||n.remove(e):n.remove(e));return n},d.Object.defineProperties(Ta.prototype,{diagram:{get:function(){return this.H}},copiesClipboardData:{get:function(){return this.m},set:function(e){this.m=e}},copiesConnectedLinks:{get:function(){return this.u},set:function(e){this.u=e}},deletesConnectedLinks:{get:function(){return this.Ha},set:function(e){this.Ha=e}},copiesTree:{get:function(){return this.ga},set:function(e){this.ga=e}},deletesTree:{get:function(){return this.ob},set:function(e){this.ob=e}},copiesParentKey:{get:function(){return this.V},set:function(e){this.V=e}},copiesGroupKey:{get:function(){return this.F},set:function(e){this.F=e}},archetypeGroupData:{get:function(){return this.j},set:function(e){this.j=e}},memberValidation:{get:function(){return this.gj},set:function(e){this.gj=e}},defaultScale:{get:function(){return this.diagram.defaultScale},set:function(e){this.diagram.defaultScale=e}},zoomFactor:{get:function(){return this.Fb},set:function(e){1<e||w("zoomFactor must be larger than 1.0, not: "+e),this.Fb=e}},isZoomToFitRestoreEnabled:{get:function(){return this.hb},set:function(e){this.hb=e}},scrollToPartPause:{get:function(){return this.pb},set:function(e){this.pb=e}}}),Ta.className="CommandHandler",Ti=function(){return new Ta},Aa.prototype.cloneProtected=function(e){e.o=6144|this.o,e.qb=this.qb,e.Ra=this.Ra,e.pa.assign(this.pa),e.ad=this.ad.J(),null!==this.Jb?e.Jb=this.Jb.copy():e.Jb=null,e.Aa=this.Aa,e.Ib=this.Ib,e.Fg=this.Fg.J(),e.rc.assign(this.rc),e.Gb.assign(this.Gb),e.ac.assign(this.ac),e.Un=this.Un,null!==this.ba&&(e.ba=this.ba.copy()),e.Hb=this.Hb.J(),e.mk=this.mk.J(),e.co=this.co,e.wg=this.wg,null!==this.Ua&&(e.Ua=this.Ua.copy()),null!==this.A&&(e.A=this.A.jc?this.A:this.A.copy()),null!==this.yh&&(e.yh=C(this.yh)),null!==this.ib&&(e.ib=this.ib.copy())},Aa.prototype.Ow=function(e){var t=this.yh;if(M(t)){for(var r=0;r<t.length;r++)if(t[r]===e)return}else this.yh=t=[];t.push(e)},Aa.prototype.xf=function(e){e.Vn=null,e.Ig=null,e.v()},Aa.prototype.clone=function(){var e=new this.constructor;if(this.cloneProtected(e),null!==this.yh)for(var t=0;t<this.yh.length;t++){var r=this.yh[t];e[r]=this[r]}return e},Aa.prototype.copy=function(){return this.clone()},(t=Aa.prototype).rb=function(e){e.classType===vh?0===e.name.indexOf("Orient")?this.segmentOrientation=e:w("Unknown Link enum value for GraphObject.segmentOrientation property: "+e):e.classType===Aa&&(this.stretch=e)},t.toString=function(){return A(this.constructor)+"#"+te(this)},t.oh=function(){null!==this.A&&(this.A.jc=!0)},t.Sc=function(){if(null===this.ba){var e=new ds;e.Ui=$e,e.wj=$e,e.Si=10,e.uj=10,e.Ti=0,e.vj=0,this.ba=e}},t.cb=function(e,t,r,n,i,o,a){var s=this.part;if(null!==s&&(s.ck(e,t,r,n,i,o,a),r===this&&e===dr&&Ka(this)&&Na(this,s,t),o=this.diagram,null===this.animationTriggers||null===o||!o.mi||o.undoManager.isUndoingRedoing||o.animationManager.Am||null!==(e=this.animationTriggers.get(t))&&o.animationManager.isEnabled&&!o.animationManager.isTicking&&(null===this.eo&&(this.eo=new fe),a=0===o.undoManager.transactionLevel,e.startCondition===xi?a=!0:e.startCondition===wi&&(a=!1),a?(function(e,t){null!==(e=e.pk)&&(e.duration&&(t.duration=e.duration),e.finished&&(t.finished=e.finished),e.easing&&(t.easing=e.easing))}(e,o=new si),null!==(a=this.eo.get(e))&&a.stop(),this.eo.add(e,o),o.qu=this,o.Gw=e,o.add(this,t,n,i),o.start()):(Wn(o.animationManager,"Trigger"),o.animationManager.defaultAnimation.add(this,t,n,i))),this instanceof kl&&r===s&&0!==(16777216&s.o)&&null!==s.data))for(n=(r=this.P.s).length,i=0;i<n;i++)(s=r[i])instanceof kl&&El(s,(function(e){null!==e.data&&0!==(16777216&e.o)&&e.Ma(t)}))},t.cs=function(e){return this.bindingId===e?this:null},t.g=function(e,t,r){this.cb(dr,e,this,t,r)},t.Ce=function(e,t,r,n){var i=this.rc;if(i.h(e,t,r,n),1!==this.Aa||0!==this.Ib){null===this.Jb&&(this.Jb=new zt);var o=this.Jb;o.reset(),this.jo(o,e,t,r,n),o.jp(i)}},t.mx=function(e,t,r){if(!1===this.pickable)return!1;var n=this.naturalBounds;return t=e.yf(t),r?be(e.x,e.y,0,0,0,n.height)<=t||be(e.x,e.y,0,n.height,n.width,n.height)<=t||be(e.x,e.y,n.width,n.height,n.width,0)<=t||be(e.x,e.y,n.width,0,0,0)<=t:e.td(0,0)<=t&&e.td(0,n.height)<=t&&e.td(n.width,0)<=t&&e.td(n.width,n.height)<=t},t.oe=function(){return!0},t.ca=function(e){var t=pe.alloc();t.assign(e),this.transform.Ga(t);var r=this.actualBounds;if(!r.w())return pe.free(t),!1;var n=this.diagram;if(null!==n&&n.pq){var i=n.Ll("extraTouchThreshold"),o=n.Ll("extraTouchArea"),a=o/2,s=this.naturalBounds,l=1/(n=this.Af()*n.scale);if(s.width*n<i&&s.height*n<i)return e=Ge(r.x-a*l,r.y-a*l,r.width+o*l,r.height+o*l,t.x,t.y),pe.free(t),e}return i=!1,(this instanceof Vc||this instanceof cu?Ge(r.x-5,r.y-5,r.width+10,r.height+10,t.x,t.y):r.ca(t))&&(i=!(this.ib&&!this.ib.ca(t))&&(!(null===this.areaBackground||!r.ca(t))||(!(null===this.Ra||!this.ac.ca(e))||this.ah(e)))),pe.free(t),i},t.ah=function(e){var t=this.naturalBounds;return Ge(0,0,t.width,t.height,e.x,e.y)},t.Me=function(e){if(0===this.angle)return this.actualBounds.Me(e);var t=this.naturalBounds;t=Ne.allocAt(0,0,t.width,t.height);var r=this.transform,n=!1,i=pe.allocAt(e.x,e.y);return t.ca(r.Ld(i))&&(i.h(e.x,e.bottom),t.ca(r.Ld(i))&&(i.h(e.right,e.bottom),t.ca(r.Ld(i))&&(i.h(e.right,e.y),t.ca(r.Ld(i))&&(n=!0)))),pe.free(i),Ne.free(t),n},t.$g=function(e,t){if(void 0===t)return e.Me(this.actualBounds);var r=this.naturalBounds,n=!1,i=pe.allocAt(0,0);return e.ca(t.Ga(i))&&(i.h(0,r.height),e.ca(t.Ga(i))&&(i.h(r.width,r.height),e.ca(t.Ga(i))&&(i.h(r.width,0),e.ca(t.Ga(i))&&(n=!0)))),pe.free(i),n},t.Tc=function(e,t){if(void 0===t&&(t=this.transform,0===this.angle))return e.Tc(this.actualBounds);var r=this.naturalBounds,n=pe.allocAt(0,0),i=pe.allocAt(0,r.height),o=pe.allocAt(r.width,r.height),a=pe.allocAt(r.width,0),s=!1;if(e.ca(t.Ga(n))||e.ca(t.Ga(i))||e.ca(t.Ga(o))||e.ca(t.Ga(a)))s=!0;else{r=Ne.allocAt(0,0,r.width,r.height);var l=pe.allocAt(e.x,e.y);r.ca(t.Ld(l))?s=!0:(l.h(e.x,e.bottom),r.ca(t.Ld(l))?s=!0:(l.h(e.right,e.bottom),r.ca(t.Ld(l))?s=!0:(l.h(e.right,e.y),r.ca(t.Ld(l))&&(s=!0)))),pe.free(l),Ne.free(r),!s&&(Gt.ns(e,n,i)||Gt.ns(e,i,o)||Gt.ns(e,o,a)||Gt.ns(e,a,n))&&(s=!0)}return pe.free(n),pe.free(i),pe.free(o),pe.free(a),s},t.ja=function(e,t){if(void 0===t&&(t=new pe),e instanceof Dt){var r=this.naturalBounds;t.h(e.x*r.width+e.offsetX,e.y*r.height+e.offsetY)}else t.set(e);return this.ke.Ga(t),t},t.ji=function(e){void 0===e&&(e=new Ne);var t=this.naturalBounds,r=this.ke,n=pe.allocAt(0,0).transform(r);return e.h(n.x,n.y,0,0),n.h(t.width,0).transform(r),qe(e,n.x,n.y,0,0),n.h(t.width,t.height).transform(r),qe(e,n.x,n.y,0,0),n.h(0,t.height).transform(r),qe(e,n.x,n.y,0,0),pe.free(n),e},t.ii=function(){var e=this.ke;return 1===e.m11&&0===e.m12?e=0:0>(e=180*Math.atan2(e.m12,e.m11)/Math.PI)&&(e+=360),e},t.Af=function(){if(0!==(4096&this.o)===!1)return this.Fk;var e=this.Aa;return null!==this.panel?e*this.panel.Af():e},t.js=function(e,t){return void 0===t&&(t=new pe),t.assign(e),this.ke.Ld(t),t},t.ks=function(e,t,r){return this.Qj(e.x,e.y,t.x,t.y,r)},t.Qj=function(e,t,r,n,i){var o=this.transform,a=1/(o.m11*o.m22-o.m12*o.m21),s=o.m22*a,l=-o.m12*a,u=-o.m21*a,c=o.m11*a,h=a*(o.m21*o.dy-o.m22*o.dx),d=a*(o.m12*o.dx-o.m11*o.dy);return null!==this.areaBackground?(o=this.actualBounds,Gt.Cf(o.left,o.top,o.right,o.bottom,e,t,r,n,i)):(a=e*s+t*u+h,e=e*l+t*c+d,t=r*s+n*u+h,r=r*l+n*c+d,i.h(0,0),n=this.naturalBounds,r=Gt.Cf(0,0,n.width,n.height,a,e,t,r,i),i.transform(o),r)},Aa.prototype.measure=function(e,t,r,n){if(!1!==Qa(this)){var i=this.Fg,o=i.right+i.left;i=i.top+i.bottom,e=Math.max(e-o,0),t=Math.max(t-i,0),r=Math.max((r||0)-o,0),n=Math.max((n||0)-i,0),o=this.angle,i=this.desiredSize;var a=this.cq();90===o||270===o?(e=isFinite(i.height)?i.height+a:e,t=isFinite(i.width)?i.width+a:t):(e=isFinite(i.width)?i.width+a:e,t=isFinite(i.height)?i.height+a:t),i=r||0,a=n||0;var s=this instanceof kl;switch(Ha(this,!0)){case ha:a=i=0,s&&(t=e=1/0);break;case ca:isFinite(e)&&e>r&&(i=e),isFinite(t)&&t>n&&(a=t);break;case fa:isFinite(e)&&e>r&&(i=e),a=0,s&&(t=1/0);break;case pa:isFinite(t)&&t>n&&(a=t),i=0,s&&(e=1/0)}s=this.maxSize;var l=this.minSize;i>s.width&&l.width<s.width&&(i=s.width),a>s.height&&l.height<s.height&&(a=s.height),r=Math.max(i/this.scale,l.width),n=Math.max(a/this.scale,l.height),s.width<r&&(r=Math.min(l.width,r)),s.height<n&&(n=Math.min(l.height,n)),e=Math.min(s.width,e),t=Math.min(s.height,t),e=Math.max(r,e),t=Math.max(n,t),90!==o&&270!==o||(o=e,e=t,t=o,o=r,r=n,n=o),this.rc.ka(),this.Sl(e,t,r,n),this.rc.freeze(),this.rc.w()||w("Non-real measuredBounds has been set. Object "+this+", measuredBounds: "+this.rc.toString()),es(this,!1)}},Aa.prototype.Sl=function(){},Aa.prototype.Qe=function(){return!1},Aa.prototype.arrange=function(e,t,r,n,i){this.Pk();var o=Ne.alloc();o.assign(this.Gb),this.Gb.ka(),!1===ts(this)?this.Gb.h(e,t,r,n):this.Zg(e,t,r,n),this.Gb.freeze(),this.ib=void 0===i?null:i,r=!1,void 0!==i?r=!0:(null!==(i=this.panel)&&Dl(i)&&(i=i.panel),null!==i&&(i=i.ac,n=this.measuredBounds,null!==this.areaBackground&&(n=this.Gb),r=t+n.height,n=e+n.width,r=!(0<=e+.05&&n<=i.width+.05&&0<=t+.05&&r<=i.height+.05),this instanceof Su&&(e=this.naturalBounds,this.Eq>e.height||this.Cb>e.width))&&(r=!0)),this.o=r?256|this.o:-257&this.o,this.Gb.w()||w("Non-real actualBounds has been set. Object "+this+", actualBounds: "+this.Gb.toString()),this.Tl(o,this.Gb),rs(this,!1),Ne.free(o)},(t=Aa.prototype).Zg=function(){},t.Tl=function(e,t){var r=this.part;null!==r&&null!==r.diagram&&(r.selectionObject!==this&&r.resizeObject!==this&&r.rotateObject!==this||Rc(r,!0),this.N(),Fe(e,t)||(r.jh(),this.Ln(r)))},t.Ln=function(e){null!==this.portId&&(Rc(e,!0),e instanceof Wc&&Zc(e,this))},t.cc=function(e,t){if(!function(e,t,r){if(!(t instanceof ys))return!1;if(!e.visible||0===e.opacity||e.Qe()&&!e.isVisible())return null!==e.svg&&null!==e.svg.parentNode&&e.svg.remove(),!0;if(e.Qe()&&e.isShadowed){var n=e.shadowOffset;t.xv(n.x*r.scale*e.scale*r.Pb,n.y*r.scale*e.scale*r.Pb,e.shadowBlur),Ms(t),t.shadowColor=e.shadowColor}n=e.panel;var i=e.ik(t);if(e.fk(t,r,i))return null!==e.svg.parentElement?(e.Qe()&&(t.pi=e.svg),!0):(e.Qe()?(null!==t.pi?t.pi.after(e.svg):t.Lj.prepend(e.svg),t.pi=e.svg):n&&za(e,n,e.svg),!0);e instanceof Su&&(t.font=e.font),t.sd=null;var o=e.transform,a=e instanceof kl;0!==(4096&e.o)===!0&&Ga(e);var s=e.Gb;if(t.lc.ia=[1,0,0,1,0,0],t.m=!1,i&&(t.m=!0,e instanceof kl&&Dl(e)?ks(t,1,0,0,1,0,0):ks(t,o.m11,o.m12,o.m21,o.m22,o.dx,o.dy),a&&(e.svg=t.Od)),i=e.naturalBounds,null!==e.areaBackground){var l=o.copy().Ol();t.lc.ia=[l.m11,l.m12,l.m21,l.m22,l.dx,l.dy],Ba(e,t,i,s),t.lc.ia=[1,0,0,1,0,0],t.sd.Vd=t.Od,t.sd.prepend(t.Od)}return a||t.m||(t.lc.ia=[o.m11,o.m12,o.m21,o.m22,o.dx,o.dy]),null!==e.background&&(e instanceof kl&&Dl(e)?(t.lc.ia=[o.m11,o.m12,o.m21,o.m22,o.dx,o.dy],Ua(e,t,i,s),t.lc.ia=[1,0,0,1,0,0]):Ua(e,t,i,s),t.sd.Ra=t.Od,t.sd.prepend(t.Od)),o=Ia(e,r,t,t.sd),e.bh(t,r),a&&t.ih.pop(),t.m&&t.ih.pop(),i=t.zv.$r,l=a?e.svg:t.sd,a||null===e.svg||l===e.svg?(e.svg=l,null!==i&&null===l&&(_s(t),t.ih.pop()),null===l||(e.Uo(t,n,s,l),Fa(e,l,r,t,o),1!==t.globalAlpha&&l.setAttributeNS(null,"opacity",t.globalAlpha.toString()),e.Qe()?(t.pi?t.pi.after(l):t.Lj.prepend(l),t.pi=l):null!==n&&za(e,n,l),null!==i&&i(e,l)),!0):(e.svg.replaceWith(l),e.svg=l,null!==l&&e.Uo(t,n,s,l),!0)}(this,e,t)&&this.visible){var r=this.opacity;if(0!==r){var n=1;1!==r&&(n=e.globalAlpha,e.globalAlpha=n*r);var i=this instanceof kl&&Dl(this),o=this.Gb;if(i){var a=this.Gb,s=this.ac,l=this.areaBackground,u=this.Ra;null===l&&null===u||e.vc(),null!==l&&(qa(this,e,l,!0,!0,s,a),l instanceof As&&l.type===Ys?(e.beginPath(),e.rect(a.x,a.y,a.width,a.height),e.jg(l)):e.fillRect(a.x,a.y,a.width,a.height)),null!==u&&(qa(this,e,u,!0,!1,s,a),u instanceof As&&u.type===Ys?(e.beginPath(),e.rect(a.x,a.y,a.width,a.height),e.jg(u)):e.fillRect(a.x,a.y,a.width,a.height)),this.bh(e,t)}if(!i&&(i||0!==o.width&&0!==o.height&&!isNaN(o.x)&&!isNaN(o.y))){i=this.transform,a=this.panel,0!==(4096&this.o)===!0&&Ga(this),s=!1;var c,h=0;if((l=this.part)&&t.Df("drawShadows")&&(s=l.isShadowed)&&(u=l.shadowOffset,h=Math.max(u.y,u.x)*t.scale*t.Pb),u=this.Qe(),!(c=t.Xi||!u)){var d,f=this.naturalBounds,p=(c=this.rh).m11,m=c.m21,y=c.dx,g=c.m12,v=c.m22,b=c.dy,x=d=0;c=d*p+x*m+y;var w=d*g+x*v+b,S=(d=f.width+h)*p+(x=0)*m+y;d=d*g+x*v+b,x=Math.min(c,S);var k=Math.min(w,d),_=Math.max(c+0,S)-x,j=Math.max(w+0,d)-k;c=x,w=k,S=(d=f.width+h)*p+(x=f.height+h)*m+y,d=d*g+x*v+b,x=Math.min(c,S),k=Math.min(w,d),_=Math.max(c+_,S)-x,j=Math.max(w+j,d)-k,c=x,w=k,S=(d=0)*p+(x=f.height+h)*m+y,d=d*g+x*v+b,x=Math.min(c,S),k=Math.min(w,d),_=Math.max(c+_,S)-x,j=Math.max(w+j,d)-k,c=x,w=k,f=(h=t.viewportBounds).x,p=h.y,c=!(c>h.width+f||f>_+c||w>h.height+p||p>j+w)}if(c){if(c=0!==(256&this.o),e.clipInsteadOfFill&&(c=!1),this instanceof Su&&(e.font=this.font),c){if(w=a.oe()?a.naturalBounds:a.actualBounds,null!==this.ib?(_=(f=this.ib).x,j=f.y,h=f.width,f=f.height):(_=Math.max(o.x,w.x),j=Math.max(o.y,w.y),h=Math.min(o.right,w.right)-_,f=Math.min(o.bottom,w.bottom)-j),_>o.width+o.x||o.x>w.width+w.x)return void(1!==r&&(e.globalAlpha=n));e.save(),e.beginPath(),e.rect(_,j,h,f),e.clip()}if(u){if(!l.isVisible())return void(1!==r&&(e.globalAlpha=n));s&&(w=l.shadowOffset,e.xv(w.x*t.scale*this.scale*t.Pb,w.y*t.scale*this.scale*t.Pb,l.shadowBlur),Ms(e),e.shadowColor=l.shadowColor)}s&&!0===this.shadowVisible?Ms(e):s&&!1===this.shadowVisible&&js(e),l=this.naturalBounds,null!==this.areaBackground&&(e.vc(),Ba(this,e,l,o)),e.transform(i.m11,i.m12,i.m21,i.m22,i.dx,i.dy),s&&(null!==a&&0!==(512&a.o)||null!==a&&(a.type===kl.Auto||a.type===kl.Spot)&&a.sb()!==this)&&null===this.shadowVisible&&js(e),null!==this.Ra&&(e.vc(),Ua(this,e,l,o)),s&&(null!==this.Ra||null!==this.areaBackground||null!==a&&0!==(512&a.o)||null!==a&&(a.type===kl.Auto||a.type===kl.Spot)&&a.sb()!==this)?(Ya(this,!0),null===this.shadowVisible&&js(e)):Ya(this,!1),this.bh(e,t),s&&0!==(512&this.o)===!0&&Ms(e),u&&s&&js(e),c&&(e.restore(),e.Qc(this instanceof kl)),i.ps()||(t=1/(i.m11*i.m22-i.m12*i.m21),e.transform(i.m22*t,-i.m12*t,-i.m21*t,i.m11*t,t*(i.m21*i.dy-i.m22*i.dx),t*(i.m12*i.dx-i.m11*i.dy)))}}1!==r&&(e.globalAlpha=n)}}},t.wv=function(){},t.Uo=function(e,t,r,n){var i=0!==(256&this.o);e.clipInsteadOfFill&&(i=!1),i?(t=t.oe()?t.naturalBounds:t.actualBounds,e=Math.min(r.right,t.right)-Math.max(r.x,t.x),r=Math.min(r.bottom,t.bottom)-Math.max(r.y,t.y),null!==this.ib&&(e=(r=this.ib).width,r=r.height),n.setAttributeNS(null,"clip-path","path('M 0,0 L "+e+" 0 L "+e+" "+r+" L 0 "+r+" z')")):n.removeAttributeNS(null,"clip-path")},t.bh=function(){},t.fk=function(e,t,r){var n=this.svg;if(null===n)return!1;if(this.Uh)return this.Uh=!1;if(!this.visible)return n.remove(),!1;if("g"!==n.nodeName&&r||"g"===n.nodeName&&!r)return!1;r=this.transform,this instanceof kl&&Dl(this)||n.setAttributeNS(null,"transform","matrix("+r.m11+", "+r.m12+", "+r.m21+", "+r.m22+", "+r.dx+", "+r.dy+")");var i=e.globalAlpha.toString();if("1"===i?n.removeAttribute("opacity"):n.setAttributeNS(null,"opacity",i),e.lc.ia=[1,0,0,1,0,0],null!==this.areaBackground||void 0!==n.Vd){if(i=n.Vd,null===this.areaBackground)n.Vd.remove(),n.Vd=void 0;else{var o=r.copy().Ol();e.lc.ia=[o.m11,o.m12,o.m21,o.m22,o.dx,o.dy],Ba(this,e,this.naturalBounds,this.actualBounds),e.lc.ia=[1,0,0,1,0,0],n.Vd?n.Vd.replaceWith(e.Od):n.prepend(e.Od),n.Vd=e.Od}i&&Cs(e,i)}return null===this.background&&void 0===n.Ra||(i=n.Ra,null===this.background?(Cs(e,n.Ra),n.Ra.remove(),n.Ra=void 0):(this instanceof kl&&Dl(this)&&(e.lc.ia=[r.m11,r.m12,r.m21,r.m22,r.dx,r.dy]),Ua(this,e,this.naturalBounds,this.actualBounds),n.Ra?(Cs(e,n.Ra),n.Ra.replaceWith(e.Od)):n.prepend(e.Od),n.Ra=e.Od),i&&Cs(e,i)),this.Uo(e,this.panel,this.actualBounds,n),Fa(this,n,t,e,r=Ia(this,t,e,n)),!0},t.ik=function(e){if(null!==this.background||null!==this.areaBackground)return!0;var t=0!==(256&this.o);return e.clipInsteadOfFill&&(t=!1),!!t},t.ng=function(e){if(e instanceof kl)e:{if(this!==e&&null!==e)for(var t=this.panel;null!==t;){if(t===e){e=!0;break e}t=t.panel}e=!1}else e=!1;return e},t.Nd=function(){if(!this.visible)return!1;var e=this.panel;return null===e||e.Nd()},t.Ff=function(){for(var e=this instanceof kl?this:this.panel;null!==e&&e.isEnabled;)e=e.panel;return null===e},t.jo=function(e,t,r,n,i){if(1!==this.Aa&&e.scale(this.Aa),0!==this.Ib){var o=pe.alloc();o.vi(t,r,n,i,rt),e.rotate(this.Ib,o.x,o.y),pe.free(o)}},t.v=function(e){if(!Qa(this)){void 0===e&&(e=!1),es(this,!0),rs(this,!0);var t=this.panel;null===t||e||t.v()}},t.Sj=function(){Qa(this)||(es(this,!0),rs(this,!0))},t.Pk=function(){0!==(2048&this.o)===!1&&($a(this,!0),Ja(this,!0))},t.Su=function(){Ja(this,!0)},t.N=function(){var e=this.part;null!==e&&e.N()},t.Ej=function(){this.svg=null},t.ti=function(e){this.Ie=e,null!==this.svg&&this.svg.remove()},t.tv=function(){},t.sv=function(e){return this.pa=e,Va(this),!0},t.jm=function(e,t){this.pa.x===e&&this.pa.y===t||(this.pa.h(e,t),this.Pk())},t.cq=function(){return 0},t.bind=function(e,t,r,n){var i=null;return(i="string"===typeof e?new Bf(e,t,r,n):e).rd=this,null!==(e=this.dh())&&Gl(e)&&w("Cannot add a Binding to a template that has already been copied: "+i),null===this.localBindings&&(this.localBindings=new Z),this.localBindings.add(i),this},t.set=function(e){return Object.assign(this,e),this},t.yu=function(e){return as(this,e),this},t.apply=function(e){return e(this),this},t.km=function(e){return to(this,e),this},t.hz=function(){return this.dh()},t.dh=function(){for(var e=this instanceof kl?this:this.panel;null!==e;){if(null!==e.allBindings)return e;e=e.panel}return null},t.Cv=function(e){return e.rd=this,null===this.animationTriggers&&(this.animationTriggers=new fe),this.animationTriggers.add(e.propertyName,e),this},d.Object.defineProperties(Aa.prototype,{bindingId:{get:function(){return null!==this.A?this.A.sp:-1},set:function(e){this.bindingId!==e&&(null===this.A&&(this.A=new cs),this.A.sp=e)}},localBindings:{get:function(){return null!==this.A?this.A.pe:null},set:function(e){this.localBindings!==e&&(null===this.A&&(this.A=new cs),this.A.pe=e)}},srcBindings:{get:function(){return null!==this.A?this.A.tm:null},set:function(e){this.srcBindings!==e&&(null===this.A&&(this.A=new cs),this.A.tm=e)}},shadowVisible:{get:function(){return null!==this.A?this.A.zi:null},set:function(e){var t=this.shadowVisible;t!==e&&(La(this),this.A.zi=e,this.N(),this.g("shadowVisible",t,e))}},enabledChanged:{get:function(){return null!==this.A?this.A.Fb:null},set:function(e){var t=this.enabledChanged;t!==e&&(La(this),this.A.Fb=e,this.g("enabledChanged",t,e))}},segmentOrientation:{get:function(){return null!==this.Ua?this.Ua.ir:Hh},set:function(e){var t=this.segmentOrientation;t!==e&&(null===this.Ua&&(this.Ua=new hs),this.Ua.ir=e,this.v(),this.g("segmentOrientation",t,e),e===Hh&&(this.angle=0))}},segmentIndex:{get:function(){return null!==this.Ua?this.Ua.u:-1/0},set:function(e){e=Math.round(e);var t=this.segmentIndex;t!==e&&(null===this.Ua&&(this.Ua=new hs),this.Ua.u=e,this.v(),this.g("segmentIndex",t,e))}},segmentFraction:{get:function(){return null!==this.Ua?this.Ua.m:0},set:function(e){isNaN(e)||0>e?e=0:1<e&&(e=1);var t=this.segmentFraction;t!==e&&(null===this.Ua&&(this.Ua=new hs),this.Ua.m=e,this.v(),this.g("segmentFraction",t,e))}},segmentOffset:{get:function(){return null!==this.Ua?this.Ua.F:re},set:function(e){var t=this.segmentOffset;t.C(e)||(e=e.J(),null===this.Ua&&(this.Ua=new hs),this.Ua.F=e,this.v(),this.g("segmentOffset",t,e))}},stretch:{get:function(){return null!==this.A?this.A.dg:ma},set:function(e){var t=this.stretch;t!==e&&(La(this),this.A.dg=e,this.v(),this.g("stretch",t,e))}},name:{get:function(){return null!==this.A?this.A.wa:""},set:function(e){var t=this.name;t!==e&&(La(this),this.A.wa=e,null!==this.part&&(this.part.Nh=null),this.g("name",t,e))}},opacity:{get:function(){return this.qb},set:function(e){var t=this.qb;t!==e&&((0>e||1<e)&&k(e,"0 <= value <= 1",Aa,"opacity"),this.qb=e,this.g("opacity",t,e),e=this.diagram,t=this.part,null!==e&&null!==t&&e.N(Mc(t,t.actualBounds)))}},visible:{get:function(){return 0!==(1&this.o)},set:function(e){var t=0!==(1&this.o);t!==e&&(this.o^=1,this.g("visible",t,e),null!==(t=this.panel)?t.v():this.Qe()&&this.Vb(e),this.N(),is(this))}},pickable:{get:function(){return 0!==(2&this.o)},set:function(e){var t=0!==(2&this.o);t!==e&&(this.o^=2,this.g("pickable",t,e))}},fromLinkableDuplicates:{get:function(){return 0!==(4&this.o)},set:function(e){var t=0!==(4&this.o);t!==e&&(this.o^=4,this.g("fromLinkableDuplicates",t,e))}},fromLinkableSelfNode:{get:function(){return 0!==(8&this.o)},set:function(e){var t=0!==(8&this.o);t!==e&&(this.o^=8,this.g("fromLinkableSelfNode",t,e))}},toLinkableDuplicates:{get:function(){return 0!==(16&this.o)},set:function(e){var t=0!==(16&this.o);t!==e&&(this.o^=16,this.g("toLinkableDuplicates",t,e))}},toLinkableSelfNode:{get:function(){return 0!==(32&this.o)},set:function(e){var t=0!==(32&this.o);t!==e&&(this.o^=32,this.g("toLinkableSelfNode",t,e))}},isPanelMain:{get:function(){return 0!==(64&this.o)},set:function(e){var t=0!==(64&this.o);t!==e&&(this.o^=64,this.v(),this.g("isPanelMain",t,e))}},isActionable:{get:function(){return 0!==(128&this.o)},set:function(e){var t=0!==(128&this.o);t!==e&&(this.o^=128,this.g("isActionable",t,e))}},areaBackground:{get:function(){return null!==this.A?this.A.Vd:null},set:function(e){var t=this.areaBackground;t!==e&&(null!==e&&Vs(e,"GraphObject.areaBackground"),e instanceof As&&e.freeze(),La(this),this.A.Vd=e,this.N(),this.g("areaBackground",t,e))}},background:{get:function(){return this.Ra},set:function(e){var t=this.Ra;t!==e&&(null!==e&&Vs(e,"GraphObject.background"),e instanceof As&&e.freeze(),this.Ra=e,this.N(),this.g("background",t,e))}},part:{get:function(){if(this.Qe())return this;if(null!==this.Ig)return this.Ig;var e;for(e=this.panel;e;){if(e instanceof vc)return this.Ig=e;e=e.panel}return null}},svg:{get:function(){return this.V},set:function(e){this.V=e}},panel:{get:function(){return this.Ie}},layer:{get:function(){var e=this.part;return null!==e?e.layer:null}},diagram:{get:function(){var e=this.part;return null!==e?e.diagram:null}},position:{get:function(){return this.pa},set:function(e){var t=e.x,r=e.y,n=this.pa,i=n.x;n=n.y,(i===t||isNaN(i)&&isNaN(t))&&(n===r||isNaN(n)&&isNaN(r))?this.tv():(e=e.copy(),this.sv(e,i,n)&&this.g("position",new pe(i,n),e))}},actualBounds:{get:function(){return this.Gb}},scale:{get:function(){return this.Aa},set:function(e){var t=this.Aa;t!==e&&(0>=e&&w("GraphObject.scale for "+this+" must be greater than zero, not: "+e),this.Aa=e,this.v(),this.g("scale",t,e))}},angle:{get:function(){return this.Ib},set:function(e){var t=this.Ib;t!==e&&(0>(e%=360)&&(e+=360),t!==e&&(this.Ib=e,is(this),this.v(),this.g("angle",t,e)))}},desiredSize:{get:function(){return this.ad},set:function(e){var t=e.width,r=e.height,n=this.ad,i=n.width,o=n.height;(i===t||isNaN(i)&&isNaN(t))&&(o===r||isNaN(o)&&isNaN(r))||(this.ad=e=e.J(),this.v(),this instanceof cu&&this.nc(),this.g("desiredSize",n,e),Ka(this)&&(null!==(e=this.part)&&(Na(this,e,"width"),Na(this,e,"height"))))}},width:{get:function(){return this.ad.width},set:function(e){var t=this.ad.width;t===e||isNaN(t)&&isNaN(e)||(t=this.ad,this.ad=e=new Ee(e,this.ad.height).freeze(),this.v(),this instanceof cu&&this.nc(),this.g("desiredSize",t,e),Ka(this)&&(null!==(e=this.part)&&Na(this,e,"width")))}},height:{get:function(){return this.ad.height},set:function(e){var t=this.ad.height;t===e||isNaN(t)&&isNaN(e)||(t=this.ad,this.ad=e=new Ee(this.ad.width,e).freeze(),this.v(),this instanceof cu&&this.nc(),this.g("desiredSize",t,e),Ka(this)&&(null!==(e=this.part)&&Na(this,e,"height")))}},minSize:{get:function(){return null!==this.A?this.A.u:Se},set:function(e){var t=this.minSize;t.C(e)||(e=e.copy(),isNaN(e.width)&&(e.width=0),isNaN(e.height)&&(e.height=0),e.freeze(),La(this),this.A.u=e,this.v(),this.g("minSize",t,e))}},maxSize:{get:function(){return null!==this.A?this.A.m:Ce},set:function(e){var t=this.maxSize;t.C(e)||(e=e.copy(),isNaN(e.width)&&(e.width=1/0),isNaN(e.height)&&(e.height=1/0),e.freeze(),La(this),this.A.m=e,this.v(),this.g("maxSize",t,e))}},measuredBounds:{get:function(){return this.rc}},naturalBounds:{get:function(){return this.ac}},margin:{get:function(){return this.Fg},set:function(e){"number"===typeof e&&(e=new Ye(e));var t=this.Fg;t.C(e)||(this.Fg=e=e.J(),this.v(),this.g("margin",t,e))}},transform:{get:function(){return 0!==(2048&this.o)===!0&&Ga(this),this.Ab}},ke:{get:function(){return 0!==(4096&this.o)===!0&&Ga(this),this.rh}},animationTriggers:{get:function(){return null!==this.A?this.A.hb:null},set:function(e){this.animationTriggers!==e&&(La(this),this.A.hb=e)}},reshapingBehavior:{get:function(){return null!==this.A?this.A.Mf:ha},set:function(e){this.reshapingBehavior!==e&&(La(this),this.A.Mf=e)}},alignment:{get:function(){return this.Hb},set:function(e){var t=this.Hb;t.C(e)||(e.Jc()&&!e.Tb()&&w("GraphObject.alignment for "+this+" must be a real Spot or Spot.Default, not: "+e),this.Hb=e=e.J(),Va(this),this.g("alignment",t,e))}},column:{get:function(){return this.wg},set:function(e){e=Math.round(e);var t=this.wg;t!==e&&(0>e&&k(e,">= 0",Aa,"column"),this.wg=e,this.v(),this.g("column",t,e),null!==this.svg&&this.svg.remove())}},columnSpan:{get:function(){return null!==this.A?this.A.pb:1},set:function(e){e=Math.round(e);var t=this.columnSpan;t!==e&&(1>e&&k(e,">= 1",Aa,"columnSpan"),La(this),this.A.pb=e,this.v(),this.g("columnSpan",t,e))}},row:{get:function(){return this.co},set:function(e){e=Math.round(e);var t=this.co;t!==e&&(0>e&&k(e,">= 0",Aa,"row"),this.co=e,this.v(),this.g("row",t,e),null!==this.svg&&this.svg.remove())}},rowSpan:{get:function(){return null!==this.A?this.A.yi:1},set:function(e){e=Math.round(e);var t=this.rowSpan;t!==e&&(1>e&&k(e,">= 1",Aa,"rowSpan"),La(this),this.A.yi=e,this.v(),this.g("rowSpan",t,e))}},spanAllocation:{get:function(){return null!==this.A?this.A.Ai:null},set:function(e){var t=this.spanAllocation;t!==e&&(La(this),this.A.Ai=e,this.v(),this.g("spanAllocation",t,e))}},alignmentFocus:{get:function(){return this.mk},set:function(e){var t=this.mk;t.C(e)||(this.mk=e=e.J(),this.v(),this.g("alignmentFocus",t,e))}},portId:{get:function(){return this.Un},set:function(e){var t=this.Un;if(t!==e){var r=this.part;null===r||r instanceof Wc||w("Cannot set portID on a Link: "+e),null!==t&&null!==r&&ih(r,this),this.Un=e,null!==e&&null!==r&&(r.Oe=!0,nh(r,this)),this.g("portId",t,e)}}},toSpot:{get:function(){return null!==this.ba?this.ba.wj:$e},set:function(e){var t=this.toSpot;t.C(e)||(e=e.J(),this.Sc(),this.ba.wj=e,this.g("toSpot",t,e),ns(this))}},toEndSegmentLength:{get:function(){return null!==this.ba?this.ba.uj:10},set:function(e){var t=this.toEndSegmentLength;t!==e&&(0>e&&k(e,">= 0",Aa,"toEndSegmentLength"),this.Sc(),this.ba.uj=e,this.g("toEndSegmentLength",t,e),ns(this))}},toShortLength:{get:function(){return null!==this.ba?this.ba.vj:0},set:function(e){var t=this.toShortLength;t!==e&&(this.Sc(),this.ba.vj=e,this.g("toShortLength",t,e),ns(this))}},toLinkable:{get:function(){return null!==this.ba?this.ba.Lr:null},set:function(e){var t=this.toLinkable;t!==e&&(this.Sc(),this.ba.Lr=e,this.g("toLinkable",t,e))}},toMaxLinks:{get:function(){return null!==this.ba?this.ba.Mr:1/0},set:function(e){var t=this.toMaxLinks;t!==e&&(0>e&&k(e,">= 0",Aa,"toMaxLinks"),this.Sc(),this.ba.Mr=e,this.g("toMaxLinks",t,e))}},fromSpot:{get:function(){return null!==this.ba?this.ba.Ui:$e},set:function(e){var t=this.fromSpot;t.C(e)||(e=e.J(),this.Sc(),this.ba.Ui=e,this.g("fromSpot",t,e),ns(this))}},fromEndSegmentLength:{get:function(){return null!==this.ba?this.ba.Si:10},set:function(e){var t=this.fromEndSegmentLength;t!==e&&(0>e&&k(e,">= 0",Aa,"fromEndSegmentLength"),this.Sc(),this.ba.Si=e,this.g("fromEndSegmentLength",t,e),ns(this))}},fromShortLength:{get:function(){return null!==this.ba?this.ba.Ti:0},set:function(e){var t=this.fromShortLength;t!==e&&(this.Sc(),this.ba.Ti=e,this.g("fromShortLength",t,e),ns(this))}},fromLinkable:{get:function(){return null!==this.ba?this.ba.$p:null},set:function(e){var t=this.fromLinkable;t!==e&&(this.Sc(),this.ba.$p=e,this.g("fromLinkable",t,e))}},fromMaxLinks:{get:function(){return null!==this.ba?this.ba.aq:1/0},set:function(e){var t=this.fromMaxLinks;t!==e&&(0>e&&k(e,">= 0",Aa,"fromMaxLinks"),this.Sc(),this.ba.aq=e,this.g("fromMaxLinks",t,e))}},cursor:{get:function(){return null!==this.A?this.A.j:""},set:function(e){var t=this.cursor;t!==e&&(La(this),this.A.j=e,this.g("cursor",t,e))}},click:{get:function(){return null!==this.A?this.A.uh:null},set:function(e){var t=this.click;t!==e&&(La(this),this.A.uh=e,this.g("click",t,e))}},doubleClick:{get:function(){return null!==this.A?this.A.Ah:null},set:function(e){var t=this.doubleClick;t!==e&&(La(this),this.A.Ah=e,this.g("doubleClick",t,e))}},contextClick:{get:function(){return null!==this.A?this.A.wh:null},set:function(e){var t=this.contextClick;t!==e&&(La(this),this.A.wh=e,this.g("contextClick",t,e))}},mouseEnter:{get:function(){return null!==this.A?this.A.Ih:null},set:function(e){var t=this.mouseEnter;t!==e&&(La(this),this.A.Ih=e,this.g("mouseEnter",t,e))}},mouseLeave:{get:function(){return null!==this.A?this.A.Lh:null},set:function(e){var t=this.mouseLeave;t!==e&&(La(this),this.A.Lh=e,this.g("mouseLeave",t,e))}},mouseOver:{get:function(){return null!==this.A?this.A.Mh:null},set:function(e){var t=this.mouseOver;t!==e&&(La(this),this.A.Mh=e,this.g("mouseOver",t,e))}},mouseHover:{get:function(){return null!==this.A?this.A.Kh:null},set:function(e){var t=this.mouseHover;t!==e&&(La(this),this.A.Kh=e,this.g("mouseHover",t,e))}},mouseHold:{get:function(){return null!==this.A?this.A.Jh:null},set:function(e){var t=this.mouseHold;t!==e&&(La(this),this.A.Jh=e,this.g("mouseHold",t,e))}},mouseDragEnter:{get:function(){return null!==this.A?this.A.Lf:null},set:function(e){var t=this.mouseDragEnter;t!==e&&(La(this),this.A.Lf=e,this.g("mouseDragEnter",t,e))}},mouseDragLeave:{get:function(){return null!==this.A?this.A.Sd:null},set:function(e){var t=this.mouseDragLeave;t!==e&&(La(this),this.A.Sd=e,this.g("mouseDragLeave",t,e))}},mouseDrop:{get:function(){return null!==this.A?this.A.Hh:null},set:function(e){var t=this.mouseDrop;t!==e&&(La(this),this.A.Hh=e,this.g("mouseDrop",t,e))}},actionDown:{get:function(){return null!==this.A?this.A.V:null},set:function(e){var t=this.actionDown;t!==e&&(La(this),this.A.V=e,this.g("actionDown",t,e))}},actionMove:{get:function(){return null!==this.A?this.A.ga:null},set:function(e){var t=this.actionMove;t!==e&&(La(this),this.A.ga=e,this.g("actionMove",t,e))}},actionUp:{get:function(){return null!==this.A?this.A.Ha:null},set:function(e){var t=this.actionUp;t!==e&&(La(this),this.A.Ha=e,this.g("actionUp",t,e))}},actionCancel:{get:function(){return null!==this.A?this.A.F:null},set:function(e){var t=this.actionCancel;t!==e&&(La(this),this.A.F=e,this.g("actionCancel",t,e))}},toolTip:{get:function(){return null!==this.A?this.A.Xh:null},set:function(e){var t=this.toolTip;t!==e&&(La(this),this.A.Xh=e,this.g("toolTip",t,e))}},contextMenu:{get:function(){return null!==this.A?this.A.xh:null},set:function(e){var t=this.contextMenu;t!==e&&(La(this),this.A.xh=e,this.g("contextMenu",t,e))}}}),Aa.prototype.trigger=Aa.prototype.Cv,Aa.prototype.findBindingPanel=Aa.prototype.dh,Aa.prototype.findTemplateBinder=Aa.prototype.hz,Aa.prototype.setProperties=Aa.prototype.km,Aa.prototype.apply=Aa.prototype.apply,Aa.prototype.attach=Aa.prototype.yu,Aa.prototype.set=Aa.prototype.set,Aa.prototype.isEnabledObject=Aa.prototype.Ff,Aa.prototype.isVisibleObject=Aa.prototype.Nd,Aa.prototype.isContainedBy=Aa.prototype.ng,Aa.prototype.getNearestIntersectionPoint=Aa.prototype.ks,Aa.prototype.getLocalPoint=Aa.prototype.js,Aa.prototype.getDocumentScale=Aa.prototype.Af,Aa.prototype.getDocumentAngle=Aa.prototype.ii,Aa.prototype.getDocumentBounds=Aa.prototype.ji,Aa.prototype.getDocumentPoint=Aa.prototype.ja,Aa.prototype.intersectsRect=Aa.prototype.Tc,Aa.prototype.containedInRect=Aa.prototype.$g,Aa.prototype.containsRect=Aa.prototype.Me,Aa.prototype.containsPoint=Aa.prototype.ca,Aa.prototype.raiseChanged=Aa.prototype.g,Aa.prototype.raiseChangedEvent=Aa.prototype.cb,Aa.prototype.addCopyProperty=Aa.prototype.Ow;var us=null;function cs(){this.jc=!1,this.wa="",this.sp=-1,this.ob=this.tm=this.pe=null,this.j="",this.hb=this.Ai=this.Fb=this.xh=this.Xh=this.F=this.Ha=this.ga=this.V=this.Hh=this.Sd=this.Lf=this.Jh=this.Kh=this.Mh=this.Lh=this.Ih=this.wh=this.Ah=this.uh=null,this.u=Se,this.m=Ce,this.dg=ma,this.pb=this.yi=1,this.Mf=ha,this.Mc=this.zi=this.Vd=null,this.Lc="category"}function hs(){this.u=-1/0,this.m=0,this.F=re,this.ir=Hh,this.j=this.V="None"}function ds(){this.wj=this.Ui=St,this.vj=this.Ti=this.uj=this.Si=NaN,this.Lr=this.$p=null,this.Mr=this.aq=1/0}function fs(){this.ia=[1,0,0,1,0,0]}function ps(e){this.type=e,this.r2=this.y2=this.x2=this.r1=this.y1=this.x1=0,this.Zw=[],this.pattern=null}function ms(e,t,r){this.ownerDocument=e=void 0===t?y.document:t,this.Tz="http://www.w3.org/2000/svg",void 0!==e&&(this.La=this.Pd("svg",{width:"1px",height:"1px",viewBox:"0 0 1 1"}),this.La.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/svg"),this.La.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink")),this.$r=null,this.context=new ys(this,r)}function ys(e,t){this.zv=e,this.svg=e.La,this.stack=[],this.ih=[],this.fillStyle="#000000",this.font="10px sans-serif",this.globalAlpha=1,this.lineCap="butt",this.lineDashOffset=0,this.lineJoin="miter",this.lineWidth=1,this.miterLimit=10,this.shadowBlur=0,this.shadowColor="rgba(0, 0, 0, 0)",this.shadowOffsetY=this.shadowOffsetX=0,this.Dl=!1,this.strokeStyle="#000000",this.textAlign="start",this.clipInsteadOfFill=!1,this.Pg=this.tr=this.sr=0,this.sd=this.Od=null,this.path=[],this.Ul={},this.vt=!1,this.Sg=null,this.sj=0,this.lc=new fs,this.j=_s(this),this.Lj=_s(this,"gojs-diagram"),this.Xr=this.pi=null;var r=se++,n=this.Pd("clipPath",{id:"mainClip"+r});n.appendChild(this.Pd("rect",{x:0,y:0,width:e.width,height:e.height})),this.pw=n,this.svg.appendChild(this.j),this.j.appendChild(this.Lj),this.svg.appendChild(n),this.j.setAttributeNS(null,"clip-path","url(#mainClip"+r+")"),this.Vz={},this.isTemporary=!!t}function gs(e,t,r,n,i,o,a){void 0===e.Lj?ks(e,t,r,n,i,o,a):e.Lj.setAttribute("transform","matrix("+t+", "+r+", "+n+", "+i+", "+o+", "+a+")")}function vs(e,t,r,n){"fill"===t?bs(e,r):"stroke"===t&&ws(e,r),null!==n&&(e=n.ia,r.transform="matrix("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")")}function bs(e,t){e.fillStyle instanceof ps?t.fill=Ss(e,e.fillStyle):/^rgba\(/.test(e.fillStyle)?(e=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(e.fillStyle),t.fill="rgb("+e[1]+","+e[2]+","+e[3]+")",t["fill-opacity"]=e[4]):t.fill=e.fillStyle}function xs(e,t,r){r=r?"fill":"stroke",e.fillStyle instanceof ps?t.setAttributeNS(null,"fill",Ss(e,e.fillStyle)):/^rgba\(/.test(e.fillStyle)?(e=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(e.fillStyle),t.setAttributeNS(null,r,"rgb("+e[1]+","+e[2]+","+e[3]+")"),t.setAttributeNS(null,r+"-opacity",e[4])):t.setAttributeNS(null,r,e.fillStyle)}function ws(e,t){if(e.strokeStyle instanceof ps)t.stroke=Ss(e,e.strokeStyle);else if(/^rgba\(/.test(e.strokeStyle)){var r=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(e.strokeStyle);t.stroke="rgb("+r[1]+","+r[2]+","+r[3]+")",t["stroke-opacity"]=r[4]}else t.stroke=e.strokeStyle;t["stroke-width"]=e.lineWidth,t["stroke-linecap"]=e.lineCap,t["stroke-linejoin"]=e.lineJoin,t["stroke-miterlimit"]=e.miterLimit,e.vt&&(t["stroke-dasharray"]=e.Sg.toString(),t["stroke-dashoffset"]=e.sj)}function Ss(e,t){var r="GRAD"+se++;if("linear"===t.type)var n=e.Pd("linearGradient",{x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2,id:r,gradientUnits:"userSpaceOnUse"});else{if("radial"!==t.type)throw Error("invalid gradient");n=e.Pd("radialGradient",{x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2,r1:t.r1,r2:t.r2,id:r})}var i=t.Zw;t=i.length;for(var o=[],a=0;a<t;a++){var s=i[a],l=s.color;s={offset:s.offset,"stop-color":l},/^rgba\(/.test(l)&&(l=/^\s*rgba\s*\(([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\s*,\s*([^,\s]+)\)\s*$/i.exec(l),s["stop-color"]="rgb("+l[1]+","+l[2]+","+l[3]+")",s["stop-opacity"]=l[4]),o.push(s)}for(o.sort((function(e,t){return e.offset>t.offset?1:-1})),i=0;i<t;i++)n.appendChild(e.Pd("stop",o[i]));return e.svg.appendChild(n),"url(#"+r+")"}function ks(e,t,r,n,i,o,a){var s=new fs;s.ia=[t,r,n,i,o,a],vs(e,"g",t={},s),s=e.addElement("g",t),e.ih.push(s)}function _s(e,t){var r={};return t&&(r.class=t),t=e.addElement("g",r),e.ih.push(t),t}function js(e){e.Dl=!1,e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=0}function Ms(e){e.Dl=!0,e.shadowOffsetX=e.sr,e.shadowOffsetY=e.tr,e.shadowBlur=e.Pg}function Cs(e,t){null!==(t=t.getAttribute("fill"))&&(1!==(t=t.split("#")).length&&(null!==(t=e.svg.getElementById(t[1].slice(0,-1)))&&1===e.svg.innerHTML.match(new RegExp(t.id,"g")).length&&t.remove()))}function Ps(e,t,r,n){this.ownerDocument=t=void 0===t?y.document:t,this.$r=null,(t=t.createElement("canvas")).tabIndex=0,this.La=t,this.La.innerHTML="This text is displayed if your browser does not support the Canvas HTML element.",this.context=new Ts(t,r,n),t.H=e}function Ts(e,t,r){this.Z=e.getContext?e.getContext("2d",t):null,null===this.Z&&w("Browser does not support HTML Canvas Element"),this.Vs=this.Xs=this.Ws="",this.Em=!1,this.Pg=this.tr=this.sr=0,this.Dl=!1,this.Al=new zt,this.isTemporary=!!r}Aa.className="GraphObject",us=new fe,ss("Button",(function(){function e(e,t){return null!==e.diagram.ec(e.documentPoint,(function(e){for(;null!==e.panel&&!e.isActionable;)e=e.panel;return e}),(function(e){return e===t}))}var t=os(kl,kl.Auto,{isActionable:!0,enabledChanged:function(e,t){if(e instanceof kl){var r=e.fb("ButtonBorder");null!==r&&(r.fill=t?e._buttonFillNormal:e._buttonFillDisabled)}},cursor:"pointer",_buttonFillNormal:"#F5F5F5",_buttonStrokeNormal:"#BDBDBD",_buttonFillOver:"#E0E0E0",_buttonStrokeOver:"#9E9E9E",_buttonFillPressed:"#BDBDBD",_buttonStrokePressed:"#9E9E9E",_buttonFillDisabled:"#E5E5E5"},os(cu,{name:"ButtonBorder",figure:"RoundedRectangle",spot1:new Dt(0,0,2.76142374915397,2.761423749153969),spot2:new Dt(1,1,-2.76142374915397,-2.761423749153969),parameter1:2,parameter2:2,fill:"#F5F5F5",stroke:"#BDBDBD"}));return t.mouseEnter=function(e,t){if(t.Ff()&&t instanceof kl&&(e=t.fb("ButtonBorder"))instanceof cu){var r=t._buttonFillOver;t._buttonFillNormal=e.fill,e.fill=r,r=t._buttonStrokeOver,t._buttonStrokeNormal=e.stroke,e.stroke=r}},t.mouseLeave=function(e,t){t.Ff()&&t instanceof kl&&((e=t.fb("ButtonBorder"))instanceof cu&&(e.fill=t._buttonFillNormal,e.stroke=t._buttonStrokeNormal))},t.actionDown=function(e,t){if(t.Ff()&&t instanceof kl&&null!==t._buttonFillPressed&&0===e.button){var r=t.fb("ButtonBorder");if(r instanceof cu){var n=(e=e.diagram).skipsUndoManager;e.skipsUndoManager=!0;var i=t._buttonFillPressed;t._buttonFillOver=r.fill,r.fill=i,i=t._buttonStrokePressed,t._buttonStrokeOver=r.stroke,r.stroke=i,e.skipsUndoManager=n}}},t.actionUp=function(t,r){if(r.Ff()&&r instanceof kl&&null!==r._buttonFillPressed&&0===t.button){var n=r.fb("ButtonBorder");if(n instanceof cu){var i=t.diagram,o=i.skipsUndoManager;i.skipsUndoManager=!0,e(t,r)?(n.fill=r._buttonFillOver,n.stroke=r._buttonStrokeOver):(n.fill=r._buttonFillNormal,n.stroke=r._buttonStrokeNormal),i.skipsUndoManager=o}}},t.actionCancel=function(t,r){if(r.Ff()&&r instanceof kl&&null!==r._buttonFillPressed){var n=r.fb("ButtonBorder");if(n instanceof cu){var i=t.diagram,o=i.skipsUndoManager;i.skipsUndoManager=!0,e(t,r)?(n.fill=r._buttonFillOver,n.stroke=r._buttonStrokeOver):(n.fill=r._buttonFillNormal,n.stroke=r._buttonStrokeNormal),i.skipsUndoManager=o}}},t.actionMove=function(t,r){if(r.Ff()&&r instanceof kl&&null!==r._buttonFillPressed){var n=t.diagram;if(0===n.firstInput.button&&(n.currentTool.standardMouseOver(),e(t,r)&&(t=r.fb("ButtonBorder"))instanceof cu)){var i=n.skipsUndoManager;n.skipsUndoManager=!0;var o=r._buttonFillPressed;t.fill!==o&&(t.fill=o),o=r._buttonStrokePressed,t.stroke!==o&&(t.stroke=o),n.skipsUndoManager=i}}},t})),ss("TreeExpanderButton",(function(){var e=os("Button",{_treeExpandedFigure:"MinusLine",_treeCollapsedFigure:"PlusLine"},os(cu,{name:"ButtonIcon",figure:"MinusLine",stroke:"#424242",strokeWidth:2,desiredSize:je},new Bf("figure","isTreeExpanded",(function(e,t){return t=t.panel,e?t._treeExpandedFigure:t._treeCollapsedFigure})).Xo()),{visible:!1},new Bf("visible","isTreeLeaf",(function(e){return!e})).Xo());return e.click=function(e,t){if((t=t.part)instanceof Vc&&(t=t.adornedPart),t instanceof Wc){var r=t.diagram;if(null!==r){if(r=r.commandHandler,t.isTreeExpanded){if(!r.canCollapseTree(t))return}else if(!r.canExpandTree(t))return;e.handled=!0,t.isTreeExpanded?r.collapseTree(t):r.expandTree(t)}}},e})),ss("SubGraphExpanderButton",(function(){var e=os("Button",{_subGraphExpandedFigure:"MinusLine",_subGraphCollapsedFigure:"PlusLine"},os(cu,{name:"ButtonIcon",figure:"MinusLine",stroke:"#424242",strokeWidth:2,desiredSize:je},new Bf("figure","isSubGraphExpanded",(function(e,t){return t=t.panel,e?t._subGraphExpandedFigure:t._subGraphCollapsedFigure})).Xo()));return e.click=function(e,t){if((t=t.part)instanceof Vc&&(t=t.adornedPart),t instanceof dh){var r=t.diagram;if(null!==r){if(r=r.commandHandler,t.isSubGraphExpanded){if(!r.canCollapseSubGraph(t))return}else if(!r.canExpandSubGraph(t))return;e.handled=!0,t.isSubGraphExpanded?r.collapseSubGraph(t):r.expandSubGraph(t)}}},e})),ss("ToolTip",(function(){return os(Vc,kl.Auto,{isShadowed:!0,shadowColor:"rgba(0, 0, 0, .4)",shadowOffset:new pe(0,3),shadowBlur:5},os(cu,{name:"Border",figure:"RoundedRectangle",parameter1:1,parameter2:1,fill:"#F5F5F5",stroke:"#F0F0F0",spot1:new Dt(0,0,4,6),spot2:new Dt(1,1,-4,-4)}))})),ss("ContextMenu",(function(){return os(Vc,kl.Vertical,{background:"#F5F5F5",isShadowed:!0,shadowColor:"rgba(0, 0, 0, .4)",shadowOffset:new pe(0,3),shadowBlur:5},new Bf("background","",(function(e){return null!==e.adornedPart&&null!==e.placeholder?null:"#F5F5F5"})))})),ss("ContextMenuButton",(function(){var e=os("Button");e.stretch=fa;var t=e.fb("ButtonBorder");return t instanceof cu&&(t.figure="Rectangle",t.strokeWidth=0,t.spot1=new Dt(0,0,2,3),t.spot2=new Dt(1,1,-2,-2)),e})),ss("PanelExpanderButton",(function(e){var t=ls(e,"COLLAPSIBLE"),r=os("Button",{_buttonExpandedFigure:"M0 0 M0 6 L4 2 8 6 M8 8",_buttonCollapsedFigure:"M0 0 M0 2 L4 6 8 2 M8 8",_buttonFillNormal:"rgba(0, 0, 0, 0)",_buttonStrokeNormal:null,_buttonFillOver:"rgba(0, 0, 0, .2)",_buttonStrokeOver:null,_buttonFillPressed:"rgba(0, 0, 0, .4)",_buttonStrokePressed:null},os(cu,{name:"ButtonIcon",strokeWidth:2},new Bf("geometryString","visible",(function(e){return e?r._buttonExpandedFigure:r._buttonCollapsedFigure})).Xo(t)));return(e=r.fb("ButtonBorder"))instanceof cu&&(e.stroke=null,e.fill="rgba(0, 0, 0, 0)"),r.click=function(e,r){var n=r.diagram;if(null!==n&&!n.isReadOnly){var i=r.dh();null===i&&(i=r.part),null!==i&&(null!==(r=i.fb(t))&&(e.handled=!0,n.Ea("Collapse/Expand Panel"),r.visible=!r.visible,n.eb("Collapse/Expand Panel")))}},r})),ss("CheckBoxButton",(function(e){var t=ls(e);return(e=os("Button",{desiredSize:new Ee(14,14)},os(cu,{name:"ButtonIcon",geometryString:"M0 0 M0 8.85 L4.9 13.75 16.2 2.45 M16.2 16.2",strokeWidth:2,stretch:ca,geometryStretch:da,visible:!1},""!==t?new Bf("visible",t).Fx():[]))).click=function(e,r){if(r instanceof kl){var n=e.diagram;if(!(null===n||n.isReadOnly||""!==t&&n.model.isReadOnly)){e.handled=!0;var i=r.fb("ButtonIcon");n.Ea("checkbox"),i.visible=!i.visible,"function"===typeof r._doClick&&r._doClick(e,r),n.eb("checkbox")}}},e})),ss("CheckBox",(function(e){e=os("CheckBoxButton",e=ls(e),{name:"Button",isActionable:!1,margin:new Ye(0,1,0,0)});var t=os(kl,"Horizontal",e,{isActionable:!0,cursor:e.cursor,margin:new Ye(1),_buttonFillNormal:e._buttonFillNormal,_buttonStrokeNormal:e._buttonStrokeNormal,_buttonFillOver:e._buttonFillOver,_buttonStrokeOver:e._buttonStrokeOver,_buttonFillPressed:e._buttonFillPressed,_buttonStrokePressed:e._buttonStrokePressed,_buttonFillDisabled:e._buttonFillDisabled,mouseEnter:e.mouseEnter,mouseLeave:e.mouseLeave,actionDown:e.actionDown,actionUp:e.actionUp,actionCancel:e.actionCancel,actionMove:e.actionMove,click:e.click,_buttonClick:e.click});return e.mouseEnter=null,e.mouseLeave=null,e.actionDown=null,e.actionUp=null,e.actionCancel=null,e.actionMove=null,e.click=null,t})),Aa.None=ha=new U(Aa,"None",0),Aa.Default=ma=new U(Aa,"Default",0),Aa.Vertical=pa=new U(Aa,"Vertical",4),Aa.Horizontal=fa=new U(Aa,"Horizontal",5),Aa.Fill=ca=new U(Aa,"Fill",3),Aa.Uniform=da=new U(Aa,"Uniform",1),Aa.UniformToFill=ya=new U(Aa,"UniformToFill",2),Aa.FlipVertical=ga=new U(Aa,"FlipVertical",1),Aa.FlipHorizontal=va=new U(Aa,"FlipHorizontal",2),Aa.FlipBoth=ba=new U(Aa,"FlipBoth",3),Aa.make=os,Aa.getBuilders=function(){var e,t=new fe;for(e in us)if(e!==e.toLowerCase()){var r=us.I(e);"function"===typeof r&&t.add(e,r)}return t.freeze(),t},Aa.defineBuilder=ss,Aa.build=function(e,t,r){for(var n=[],i=2;i<arguments.length;++i)n[i-2]=arguments[i];if("function"===typeof(i=us.I(e))&&(n=i([e].concat(n)))instanceof Aa)return t&&n.set(t),n;w('GraphObject.build invoked object builder "'+e+'", but it did not return an Object')},Aa.takeBuilderArgument=ls,cs.prototype.copy=function(){var e=new cs;return e.wa=this.wa,e.sp=this.sp,e.pe=this.pe,e.ob=this.ob,e.j=this.j,e.uh=this.uh,e.Ah=this.Ah,e.wh=this.wh,e.Ih=this.Ih,e.Lh=this.Lh,e.Mh=this.Mh,e.Kh=this.Kh,e.Jh=this.Jh,e.Lf=this.Lf,e.Sd=this.Sd,e.Hh=this.Hh,e.V=this.V,e.ga=this.ga,e.Ha=this.Ha,e.F=this.F,e.Xh=this.Xh,e.xh=this.xh,e.Fb=this.Fb,e.Ai=this.Ai,e.hb=this.hb,e.u=this.u.J(),e.m=this.m.J(),e.dg=this.dg,e.yi=this.yi,e.pb=this.pb,e.Mf=this.Mf,e.Vd=this.Vd,e.zi=this.zi,e.Mc=this.Mc,e.Lc=this.Lc,e},hs.prototype.copy=function(){var e=new hs;return e.u=this.u,e.m=this.m,e.F=this.F.J(),e.ir=this.ir,e.V=this.V,e.j=this.j,e},hs.className="LinkElementSettings",ds.prototype.copy=function(){var e=new ds;return e.Ui=this.Ui.J(),e.wj=this.wj.J(),e.Si=this.Si,e.uj=this.uj,e.Ti=this.Ti,e.vj=this.vj,e.$p=this.$p,e.Lr=this.Lr,e.aq=this.aq,e.Mr=this.Mr,e},ds.className="LinkSettings",fs.prototype.copy=function(){var e=new fs;return e.ia[0]=this.ia[0],e.ia[1]=this.ia[1],e.ia[2]=this.ia[2],e.ia[3]=this.ia[3],e.ia[4]=this.ia[4],e.ia[5]=this.ia[5],e},fs.prototype.translate=function(e,t){this.ia[4]+=this.ia[0]*e+this.ia[2]*t,this.ia[5]+=this.ia[1]*e+this.ia[3]*t},fs.prototype.scale=function(e,t){this.ia[0]*=e,this.ia[1]*=e,this.ia[2]*=t,this.ia[3]*=t},fs.prototype.rotate=function(e,t,r){if(360<=e?e-=360:0>e&&(e+=360),0!==e){if(this.translate(t,r),90===e){e=0;var n=1}else 180===e?(e=-1,n=0):270===e?(e=0,n=-1):(n=e*Math.PI/180,e=Math.cos(n),n=Math.sin(n));var i=this.ia[1]*e+this.ia[3]*n,o=this.ia[0]*-n+this.ia[2]*e,a=this.ia[1]*-n+this.ia[3]*e;this.ia[0]=this.ia[0]*e+this.ia[2]*n,this.ia[1]=i,this.ia[2]=o,this.ia[3]=a,this.translate(-t,-r)}},fs.className="STransform",ps.prototype.addColorStop=function(e,t){this.Zw.push({offset:e,color:t})},ps.className="SGradient",ms.prototype.resize=function(e,t,r,n){return(this.width!==e||this.height!==t)&&(this.width=e,this.height=t,this.style.width=r+"px",this.style.height=n+"px",this.La.setAttributeNS(null,"width",r+"px"),this.La.setAttributeNS(null,"height",n+"px"),this.La.setAttributeNS(null,"viewBox","0 0 "+r+" "+n),this.context.pw.firstElementChild.setAttributeNS(null,"width",r+"px"),this.context.pw.firstElementChild.setAttributeNS(null,"height",n+"px"),!0)},ms.prototype.Pd=function(e,t,r){if(e=this.ownerDocument.createElementNS(this.Tz,e),j(t))for(var n in t)e.setAttributeNS("href"===n?"http://www.w3.org/1999/xlink":"",n,t[n]);return void 0!==r&&(e.textContent=r),e},ms.prototype.getBoundingClientRect=function(){return this.La.getBoundingClientRect()},ms.prototype.focus=function(){this.La.focus()},ms.prototype.gx=function(){this.ownerDocument=null},d.Object.defineProperties(ms.prototype,{width:{get:function(){return this.La.width.baseVal.value},set:function(e){this.La.setAttribute("width",e+"px")}},height:{get:function(){return this.La.height.baseVal.value},set:function(e){this.La.setAttribute("height",e+"px")}},style:{get:function(){return this.La.style}}}),ms.className="SVGSurface",(t=ys.prototype).arc=function(e,t,r,n,i,o,a,s){var l=2*Math.PI,u=l-1e-6,c=r*Math.cos(n),h=r*Math.sin(n),d=e+c,f=t+h,p=o?0:1;n=o?n-i:i-n,(1e-6<Math.abs(a-d)||1e-6<Math.abs(s-f))&&this.path.push(["L",d,+f]),0>n&&(n=n%l+l),n>u?(this.path.push(["A",r,r,0,1,p,e-c,t-h]),this.path.push(["A",r,r,0,1,p,d,f])):1e-6<n&&this.path.push(["A",r,r,0,+(n>=Math.PI),p,e+r*Math.cos(i),t+r*Math.sin(i)])},t.beginPath=function(){this.path=[],this.Ul={stroke:"none",fill:"none"}},t.Ne=function(e){this.addPath(this.path,this.lc,e||0)},t.bezierCurveTo=function(e,t,r,n,i,o){this.path.push(["C",e,t,r,n,i,o])},t.clearRect=function(){},t.clip=function(){this.Ul.clipPath=!0},t.closePath=function(){this.path.push(["z"])},t.createLinearGradient=function(e,t,r,n){var i=new ps("linear");return i.x1=e,i.y1=t,i.x2=r,i.y2=n,i},t.createPattern=function(e){var t="";e instanceof HTMLCanvasElement&&(t=e.toDataURL()),e instanceof HTMLImageElement&&(t=e.getAttribute("src"));var r=this.Vz;if(r[t])return"url(#"+r[t]+")";var n="PATTERN"+se++,i={x:0,y:0,width:e.width,height:e.height,href:t};return(e=this.Pd("pattern",{width:e.width,height:e.height,id:n,patternUnits:"userSpaceOnUse"})).appendChild(this.Pd(ia,i)),this.svg.appendChild(e),r[t]=n,"url(#"+n+")"},t.createRadialGradient=function(e,t,r,n,i,o){var a=new ps("radial");return a.x1=e,a.y1=t,a.r1=r,a.x2=n,a.y2=i,a.r2=o,a},t.drawImage=function(e,t,r,n,i,o,a,s,l){o="",e instanceof HTMLCanvasElement&&(o=e.toDataURL()),e instanceof HTMLImageElement&&(o=e.getAttribute("src")),a=e instanceof HTMLImageElement?e.naturalWidth:e.width;var u=e instanceof HTMLImageElement?e.naturalHeight:e.height;void 0===n&&(s=n=a,l=i=u),n=n||0,i=i||0,e={x:0,y:0,width:(s=s||0)||a||n,height:(l=l||0)||u||i,href:o},Gt.$(n,s)&&Gt.$(i,l)?-1===o.toLowerCase().indexOf(".svg")&&-1===o.toLowerCase().indexOf("data:image/svg")&&(e.preserveAspectRatio="xMidYMid slice"):e.preserveAspectRatio="none",0===t&&0===r&&n===a&&i===u||(s="CLIP"+se++,(l=this.Pd("clipPath",{id:s})).appendChild(this.Pd("rect",{x:t,y:r,width:n,height:i})),this.svg.appendChild(l),e["clip-path"]="url(#"+s+")"),vs(this,ia,e,this.lc),this.addElement(ia,e)},t.fill=function(e){e&&(this.Ul["fill-rule"]="evenodd"),bs(this,this.Ul)},t.jg=function(e,t){this.clipInsteadOfFill?this.clip():this.fill(t)},t.fillRect=function(e,t,r,n){vs(this,"fill",e={x:(e=[e,t,r,n])[0],y:e[1],width:e[2],height:e[3]},this.lc),this.addElement("rect",e)},t.ix=function(e,t,r,n){vs(this,"fill",e={x:e,y:t,width:r,height:n},this.lc),bs(this,e),this.svg.prepend(this.Pd("rect",e))},t.fillText=function(e,t,r){e=[e,t,r],"left"===(t=this.textAlign)?t="start":"right"===t?t="end":"center"===t&&(t="middle"),vs(this,"fill",t={x:e[1],y:e[2],style:"font: "+this.font,"text-anchor":t},this.lc),this.addElement("text",t,e[0])},t.lineTo=function(e,t){this.path.push(["L",e,t])},t.moveTo=function(e,t){this.path.push(["M",e,t])},t.quadraticCurveTo=function(e,t,r,n){this.path.push(["Q",e,t,r,n])},t.rect=function(e,t,r,n){this.path.push(["M",e,t],["L",e+r,t],["L",e+r,t+n],["L",e,t+n],["z"])},t.restore=function(){this.lc=this.stack.pop(),this.path=this.stack.pop();var e=this.stack.pop();this.fillStyle=e.fillStyle,this.font=e.font,this.globalAlpha=e.globalAlpha,this.lineCap=e.lineCap,this.lineDashOffset=e.lineDashOffset,this.lineJoin=e.lineJoin,this.lineWidth=e.lineWidth,this.miterLimit=e.miterLimit,this.shadowBlur=e.shadowBlur,this.shadowColor=e.shadowColor,this.shadowOffsetX=e.shadowOffsetX,this.shadowOffsetY=e.shadowOffsetY,this.strokeStyle=e.strokeStyle,this.textAlign=e.textAlign},t.save=function(){this.stack.push({fillStyle:this.fillStyle,font:this.font,globalAlpha:this.globalAlpha,lineCap:this.lineCap,lineDashOffset:this.lineDashOffset,lineJoin:this.lineJoin,lineWidth:this.lineWidth,miterLimit:this.miterLimit,shadowBlur:this.shadowBlur,shadowColor:this.shadowColor,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,strokeStyle:this.strokeStyle,textAlign:this.textAlign});for(var e=[],t=0;t<this.path.length;t++)e.push(this.path[t]);this.stack.push(e),this.stack.push(this.lc.copy())},t.setTransform=function(e,t,r,n,i,o){1===e&&0===t&&0===r&&1===n&&0===i&&0===o||ks(this,e,t,r,n,i,o)},t.scale=function(e,t){this.lc.scale(e,t)},t.translate=function(e,t){this.lc.translate(e,t)},t.transform=function(){},t.vc=function(){},t.stroke=function(){ws(this,this.Ul)},t.ek=function(){this.clipInsteadOfFill||this.stroke()},t.Pd=function(e,t,r){return this.zv.Pd(e,t,r)},t.addElement=function(e,t,r){return e=this.Pd(e,t,r),null!==this.sd?this.sd.appendChild(e):this.sd=e,this.Od=e},t.addPath=function(e,t,r){for(var n=[],i=0;i<e.length;i++){var o=C(e[i]),a=[o.shift()];if("A"===a[0])a.push(o.shift()+","+o.shift(),o.shift(),o.shift()+","+o.shift(),o.shift()+","+o.shift());else for(;o.length;)a.push(o.shift()+","+o.shift());n.push(a.join(" "))}if(n=n.join(" "),(e=this.Ul).clipPath)0<this.ih.length&&this.ih[this.ih.length-1].setAttributeNS(null,"clip-path",'path("'+n+'")');else if(e.d=n,vs(this,"",e,t),null!==this.Xr)if("g"!==(t=this.Xr).nodeName)for(var s in e)"transform"!==s&&t.setAttributeNS(null,s,e[s]);else for(var l in s=t.getElementsByTagName("path"),e)"transform"!==l&&s[r].setAttributeNS(null,l,e[l]);else this.addElement("path",e)},t.xv=function(e,t,r){this.sr=e,this.tr=t,this.Pg=r},t.bs=function(e,t){this.vt=!0,this.Sg=e,this.sj=t},t.Yr=function(){this.vt=!1},t.Qc=function(){},t.Sx=function(){},ys.prototype.rotate=function(e){this.lc.rotate(57.2958*e,0,0)},ys.prototype.getImageData=function(){return null},ys.prototype.measureText=function(){return null},ys.prototype.As=function(e){null!==e.svg&&e.svg.parentNode===this.Lj&&e.svg.remove()},ys.className="SVGContext",Mi.prototype.vs=function(e){this.nj.contains("SVG")||this.Tr("SVG",new ms(this,y.document));var t=new ms(this,y.document,!0);void 0===e&&(e=new G);var r=this;return Ro(this,(function(e,n){return e=null!==(e=Do(r,e,"SVG",t))?e.svg:null,"function"===typeof n?(n(e),null):e}),e)},Mi.prototype.makeSvg=Mi.prototype.vs,Mi.prototype.Xu=function(e){return this.vs(e)},Mi.prototype.makeSVG=Mi.prototype.Xu,Ps.prototype.resize=function(e,t,r,n){return(this.width!==e||this.height!==t)&&(this.width=e,this.height=t,this.style.width=r+"px",this.style.height=n+"px",!0)},Ps.prototype.toDataURL=function(e,t){return this.La.toDataURL(e,t)},Ps.prototype.getBoundingClientRect=function(){return this.La.getBoundingClientRect()},Ps.prototype.focus=function(){this.La.focus()},Ps.prototype.gx=function(){this.ownerDocument=this.La.H=null},d.Object.defineProperties(Ps.prototype,{width:{get:function(){return this.La.width},set:function(e){this.La.width=e}},height:{get:function(){return this.La.height},set:function(e){this.La.height=e}},style:{get:function(){return this.La.style}}}),Ps.className="CanvasSurface",(t=Ts.prototype).Sx=function(e){this.Z.imageSmoothingEnabled=e},t.arc=function(e,t,r,n,i,o){this.Z.arc(e,t,r,n,i,o)},t.beginPath=function(){this.Z.beginPath()},t.Ne=function(){},t.bezierCurveTo=function(e,t,r,n,i,o){this.Z.bezierCurveTo(e,t,r,n,i,o)},t.clearRect=function(e,t,r,n){this.vc(),this.Z.clearRect(e,t,r,n)},t.clip=function(){this.Z.clip()},t.closePath=function(){this.Z.closePath()},t.createLinearGradient=function(e,t,r,n){return this.Z.createLinearGradient(e,t,r,n)},t.createPattern=function(e,t){return this.Z.createPattern(e,t)},t.createRadialGradient=function(e,t,r,n,i,o){return this.Z.createRadialGradient(e,t,r,n,i,o)},t.drawImage=function(e,t,r,n,i,o,a,s,l){void 0===n?this.Z.drawImage(e,t,r):this.Z.drawImage(e,t,r,n,i,o,a,s,l)},t.fill=function(e){this.Z.fill(e?"evenodd":"nonzero")},t.fillRect=function(e,t,r,n){this.Z.fillRect(e,t,r,n)},t.ix=function(e,t,r,n){this.Z.fillRect(e,t,r,n)},t.fillText=function(e,t,r){this.Z.fillText(e,t,r)},t.getImageData=function(e,t,r,n){return this.Z.getImageData(e,t,r,n)},t.lineTo=function(e,t){this.Z.lineTo(e,t)},t.measureText=function(e){return this.Z.measureText(e)},t.moveTo=function(e,t){this.Z.moveTo(e,t)},t.quadraticCurveTo=function(e,t,r,n){this.Z.quadraticCurveTo(e,t,r,n)},t.rect=function(e,t,r,n){this.Z.rect(e,t,r,n)},t.restore=function(){this.Z.restore()},t.save=function(){this.vc(),this.Z.save()},Ts.prototype.rotate=function(e){this.Al.rotate(57.2958*e,0,0)},(t=Ts.prototype).setTransform=function(e,t,r,n,i,o){this.Al.setTransform(e,t,r,n,i,o)},t.scale=function(e,t){this.Al.scale(e,t)},t.translate=function(e,t){this.Al.translate(e,t)},t.stroke=function(){this.Z.stroke()},t.transform=function(e,t,r,n,i,o){if(1!==e||0!==t||0!==r||1!==n||0!==i||0!==o){var a=this.Al,s=a.m11*e+a.m21*t;e=a.m12*e+a.m22*t,t=a.m11*r+a.m21*n,r=a.m12*r+a.m22*n,a.dx=a.m11*i+a.m21*o+a.dx,a.dy=a.m12*i+a.m22*o+a.dy,a.m11=s,a.m12=e,a.m21=t,a.m22=r}},t.vc=function(){var e=this.Al;this.Z.setTransform(e.m11,e.m12,e.m21,e.m22,e.dx,e.dy)},t.jg=function(e,t){if(e instanceof As&&e.type===Ys){var r=e.tk;(e=e.Ys)>r?(this.scale(r/e,1),this.translate((e-r)/2,0)):r>e&&(this.scale(1,e/r),this.translate(0,(r-e)/2)),this.Em?this.clip():this.fill(t),e>r?(this.translate(-(e-r)/2,0),this.scale(1/(r/e),1)):r>e&&(this.translate(0,-(r-e)/2),this.scale(1,1/(e/r)))}else this.Em?this.clip():this.fill(t)},t.ek=function(){this.Em||this.stroke()},t.xv=function(e,t,r){this.sr=e,this.tr=t,this.Pg=r},t.bs=function(e,t){var r=this.Z;void 0!==r.setLineDash&&(r.setLineDash(e),r.lineDashOffset=t)},t.Yr=function(){var e=this.Z;void 0!==e.setLineDash&&(e.setLineDash(Es),e.lineDashOffset=0)},t.Qc=function(e){e&&(this.Ws=""),this.Vs=this.Xs=""},t.As=function(){},d.Object.defineProperties(Ts.prototype,{fillStyle:{get:function(){return this.Z.fillStyle},set:function(e){this.Vs!==e&&(this.Vs=this.Z.fillStyle=e)}},font:{get:function(){return this.Z.font},set:function(e){this.Ws!==e&&(this.Ws=this.Z.font=e)}},globalAlpha:{get:function(){return this.Z.globalAlpha},set:function(e){this.Z.globalAlpha=e}},lineCap:{get:function(){return this.Z.lineCap},set:function(e){this.Z.lineCap=e}},lineDashOffset:{get:function(){return this.Z.lineDashOffset},set:function(e){this.Z.lineDashOffset=e}},lineJoin:{get:function(){return this.Z.lineJoin},set:function(e){this.Z.lineJoin=e}},lineWidth:{get:function(){return this.Z.lineWidth},set:function(e){this.Z.lineWidth=e}},miterLimit:{get:function(){return this.Z.miterLimit},set:function(e){this.Z.miterLimit=e}},shadowBlur:{get:function(){return this.Z.shadowBlur},set:function(e){this.Z.shadowBlur=e}},shadowColor:{get:function(){return this.Z.shadowColor},set:function(e){this.Z.shadowColor=e}},shadowOffsetX:{get:function(){return this.Z.shadowOffsetX},set:function(e){this.Z.shadowOffsetX=e}},shadowOffsetY:{get:function(){return this.Z.shadowOffsetY},set:function(e){this.Z.shadowOffsetY=e}},strokeStyle:{get:function(){return this.Z.strokeStyle},set:function(e){this.Xs!==e&&(this.Xs=this.Z.strokeStyle=e)}},textAlign:{get:function(){return this.Z.textAlign},set:function(e){this.Z.textAlign=e}},imageSmoothingEnabled:{get:function(){return this.Z.imageSmoothingEnabled},set:function(e){this.Z.imageSmoothingEnabled=e}},clipInsteadOfFill:{get:function(){return this.Em},set:function(e){this.Em=e}}});var Es=Object.freeze([]);function Os(){this.F=this.m=this.u=this.j=0}function As(e,t){al||(Hs(),al=!0),Q(this),this._isFrozen=!1,void 0===e?(this.na=Ws,this.sk="black"):"string"===typeof e?(this.na=Ws,this.sk=e):(this.na=e,this.sk="black"),(e=this.na)===Xs?(this.Hd=Qe,this.Gk=ot):this.Gk=this.Hd=e===Ys?rt:$e,this.yr=0,this.Qp=NaN,this.te=this.Wq=this.se=null,this.Ys=this.tk=0,t&&Object.assign(this,t)}function Ls(e,t,r){return t=void 0===t||"number"!==typeof t?.2:t,r=void 0===r?Zs:r,Fs(e),Is(t,r)}function Ns(e,t,r){return t=void 0===t||"number"!==typeof t?.2:t,r=void 0===r?Zs:r,Fs(e),Is(-t,r)}function Rs(e,t,r){Fs(e),e=rl.j;var n=rl.u,i=rl.m,o=rl.F;return Fs(t),void 0===r&&(r=.5),"rgba("+Math.round((rl.j-e)*r+e)+", "+Math.round((rl.u-n)*r+n)+", "+Math.round((rl.m-i)*r+i)+", "+Math.round((rl.F-o)*r+o)+")"}function Ds(e){return!!e&&(e instanceof As?e.zx():(Fs(e),128>(299*rl.j+587*rl.u+114*rl.m)/1e3))}function Is(e,t){switch(t){case Zs:t=100*Us(rl.j);var r=100*Us(rl.u),n=100*Us(rl.m);return il.j=.4124564*t+.3575761*r+.1804375*n,il.u=.2126729*t+.7151522*r+.072175*n,il.m=.0193339*t+.119192*r+.9503041*n,il.F=rl.F,t=qs(il.j/el[0]),r=qs(il.u/el[1]),n=qs(il.m/el[2]),ol.j=116*r-16,ol.u=500*(t-r),ol.m=200*(r-n),ol.F=il.F,ol.j=Math.min(100,Math.max(0,ol.j+100*e)),t=(e=(ol.j+16)/116)-ol.m/200,il.j=el[0]*Gs(ol.u/500+e),il.u=el[1]*(ol.j>Qs*Js?Math.pow(e,3):ol.j/Qs),il.m=el[2]*Gs(t),il.F=ol.F,e=-.969266*il.j+1.8760108*il.u+.041556*il.m,t=.0556434*il.j+-.2040259*il.u+1.0572252*il.m,rl.j=255*zs((3.2404542*il.j+-1.5371385*il.u+-.4985314*il.m)/100),rl.u=255*zs(e/100),rl.m=255*zs(t/100),rl.F=il.F,rl.j=Math.round(rl.j),255<rl.j?rl.j=255:0>rl.j&&(rl.j=0),rl.u=Math.round(rl.u),255<rl.u?rl.u=255:0>rl.u&&(rl.u=0),rl.m=Math.round(rl.m),255<rl.m?rl.m=255:0>rl.m&&(rl.m=0),"rgba("+rl.j+", "+rl.u+", "+rl.m+", "+rl.F+")";case $s:return Bs(),nl.m=Math.min(100,Math.max(0,nl.m+100*e)),"hsla("+nl.j+", "+nl.u+"%, "+nl.m+"%, "+nl.F+")";default:w("Unknown color space: "+t)}}function Fs(e){al||(Hs(),al=!0);var t=tl;if(null!==t){t.clearRect(0,0,1,1),t.fillStyle="#000000";var r=t.fillStyle;t.fillStyle=e,t.fillStyle!==r?(t.fillRect(0,0,1,1),e=t.getImageData(0,0,1,1).data,rl.j=e[0],rl.u=e[1],rl.m=e[2],rl.F=e[3]/255):(t.fillStyle="#FFFFFF",t.fillStyle=e,rl.j=0,rl.u=0,rl.m=0,rl.F=1)}}function Bs(){var e=rl.j/255,t=rl.u/255,r=rl.m/255,n=Math.max(e,t,r),i=Math.min(e,t,r),o=n-i;if(i=(n+i)/2,0===o)var a=e=0;else{switch(n){case e:a=(t-r)/o%6;break;case t:a=(r-e)/o+2;break;case r:a=(e-t)/o+4}0>(a*=60)&&(a+=360),e=o/(1-Math.abs(2*i-1))}nl.j=Math.round(a),nl.u=Math.round(100*e),nl.m=Math.round(100*i),nl.F=rl.F}function Us(e){return.04045>=(e/=255)?e/12.92:Math.pow((e+.055)/1.055,2.4)}function zs(e){return.0031308>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055}function qs(e){return e>Js?Math.pow(e,1/3):(Qs*e+16)/116}function Gs(e){var t=e*e*e;return t>Js?t:(116*e-16)/Qs}function Vs(e,t){"string"!==typeof e&&(e instanceof As||w("Value for "+t+" must be a color string or a Brush, not "+e))}function Hs(){tl=Bo?new Ps(null,void 0,{willReadFrequently:!0}).context:null}Ts.className="CanvasSurfaceContext",Os.className="ColorNumbers",As.prototype.copy=function(){var e=new As;return e.na=this.na,e.sk=this.sk,e.Hd=this.Hd.J(),e.Gk=this.Gk.J(),e.yr=this.yr,e.Qp=this.Qp,null!==this.se&&(e.se=this.se.copy()),e.Wq=this.Wq,e},(t=As.prototype).freeze=function(){return this._isFrozen=!0,null!==this.se&&this.se.freeze(),this},t.ka=function(){return Object.isFrozen(this)&&w("cannot thaw constant: "+this),this._isFrozen=!1,null!==this.se&&this.se.ka(),this},t.rb=function(e){e.classType===As&&(this.type=e)},t.toString=function(){var e="Brush(";if(this.type===Ws)e+=this.color;else if(e=this.type===Xs?e+"Linear ":this.type===Ys?e+"Radial ":this.type===Ks?e+"Pattern ":e+"(unknown) ",e+=this.start+" "+this.end,null!==this.colorStops)for(var t=this.colorStops.iterator;t.next();)e+=" "+t.key+":"+t.value;return e+")"},t.addColorStop=function(e,t){return this._isFrozen&&S(this),("number"!==typeof e||!isFinite(e)||1<e||0>e)&&k(e,"0 <= loc <= 1",As,"addColorStop:loc"),null===this.se&&(this.se=new fe),this.se.add(e,t),this.na===Ws&&(this.type=Xs),this.te=null,this},t.Mz=function(e,t){if(this._isFrozen&&S(this),e=void 0===e||"number"!==typeof e?.2:e,t=void 0===t?Zs:t,this.type===Ws)Fs(this.color),this.color=Is(e,t);else if((this.type===Xs||this.type===Ys)&&null!==this.colorStops)for(var r=this.colorStops.iterator;r.next();)Fs(r.value),this.addColorStop(r.key,Is(e,t));return this},t.Oy=function(e,t){if(this._isFrozen&&S(this),e=void 0===e||"number"!==typeof e?.2:e,t=void 0===t?Zs:t,this.type===Ws)Fs(this.color),this.color=Is(-e,t);else if((this.type===Xs||this.type===Ys)&&null!==this.colorStops)for(var r=this.colorStops.iterator;r.next();)Fs(r.value),this.addColorStop(r.key,Is(-e,t));return this},t.zx=function(){if(this.type===Ws)return Ds(this.color);if((this.type===Xs||this.type===Ys)&&null!==this.colorStops){var e=this.colorStops;if(this.type===Ys)return Ds(e.first().value);if(null!==e.get(.5))return Ds(e.get(.5));if(2===e.count)return Ds(Rs((e=e.Fa())[0].value,e[1].value));for(var t=e.iterator,r=-1,n=-1,i=1,o=1;t.next();){var a=t.key,s=Math.abs(.5-t.key);i>o&&s<i?(r=a,i=s):o>=i&&s<o&&(n=a,o=s)}return r>n&&(o=r,r=n,n=o,o=i),i=n-r,Ds(Rs(e.get(r),e.get(n),1-o/i))}return!1},d.Object.defineProperties(As.prototype,{type:{get:function(){return this.na},set:function(e){this._isFrozen&&S(this,e),this.na=e,this.start.Jc()&&(e===Xs?this.start=Qe:e===Ys&&(this.start=rt)),this.end.Jc()&&(e===Xs?this.end=ot:e===Ys&&(this.end=rt)),this.te=null}},color:{get:function(){return this.sk},set:function(e){this._isFrozen&&S(this,e),this.sk=e,this.te=null}},start:{get:function(){return this.Hd},set:function(e){this._isFrozen&&S(this,e),this.Hd=e.J(),this.te=null}},end:{get:function(){return this.Gk},set:function(e){this._isFrozen&&S(this,e),this.Gk=e.J(),this.te=null}},startRadius:{get:function(){return this.yr},set:function(e){this._isFrozen&&S(this,e),0>e&&k(e,">= zero",As,"startRadius"),this.yr=e,this.te=null}},endRadius:{get:function(){return this.Qp},set:function(e){this._isFrozen&&S(this,e),0>e&&k(e,">= zero",As,"endRadius"),this.Qp=e,this.te=null}},colorStops:{get:function(){return this.se},set:function(e){this._isFrozen&&S(this,e),this.se=e,this.te=null}},pattern:{get:function(){return this.Wq},set:function(e){this._isFrozen&&S(this,e),this.Wq=e,this.te=null}}}),As.prototype.isDark=As.prototype.zx,As.prototype.darkenBy=As.prototype.Oy,As.prototype.lightenBy=As.prototype.Mz,As.prototype.addColorStop=As.prototype.addColorStop;var Ws,Xs,Ys,Ks,Zs,$s,Js=216/24389,Qs=24389/27,el=[95.047,100,108.883],tl=null,rl=new Os,nl=new Os,il=new Os,ol=new Os,al=!1;function sl(){this.wa="Base"}function ll(){this.wa="Base"}function ul(){this.wa="Base"}function cl(){this.wa="Base"}function hl(){this.wa="Base"}function dl(e,t,r){var n=null;if(e instanceof kl&&""!==e.We&&((n=e.fb(e.We))===e&&(n=null)),null!==n)for(r&&e.arrange(0,0,t.width,t.height),t.assign(n.actualBounds),n=n.panel;n!==e;)n.transform.jp(t),n=n.panel}function fl(){this.wa="Base"}function pl(){this.wa="Base",this.name="Table"}function ml(){this.wa="Base"}function yl(){this.wa="Base"}function gl(){this.wa="Base"}function vl(){this.wa="Base"}function bl(e,t,r,n){if(0>t)return e%t===r;if(e%t!==r)return!1;t=n.length;for(var i=0;i<t;i++)if(e%n[i]===r)return!1;return!0}function xl(){this.wa="Base"}function wl(e,t,r,n){if(!1!==Qa(n)){var i=n.strokeWidth;0===i&&e instanceof Vc&&e.type===kl.Link&&e.adornedObject instanceof cu&&(i=e.adornedObject.strokeWidth),i*=n.Aa,e instanceof vh&&null!==e.ta?(e=e.geometry.bounds,n.Ce(e.x-i/2,e.y-i/2,e.width+i,e.height+i)):e instanceof Vc&&null!==e.adornedPart.ta?(e=e.adornedPart.ta.bounds,n.Ce(e.x-i/2,e.y-i/2,e.width+i,e.height+i)):n.Ce(-i/2,-i/2,t+i,r+i),(i=n.desiredSize).w()||null===n.ta?n.ac.h(0,0,i.width,i.height):n.ac.assign(n.ta.bounds),es(n,!1)}}function Sl(){this.wa="Base"}function kl(e,t){if(Aa.call(this),this.na=null,void 0===e)this.na=kl.Position;else if("string"===typeof e){var r=tu.I(e);null!==r&&(this.na=r)}else e instanceof sl?this.na=e:e&&(this.na=kl.Position,t=e);null===this.na&&w("Panel type not specified or PanelLayout not loaded: "+e),this.o=4194304|this.o|(this.na===kl.Grid?1048576:0),this.P=new Z,this.yb=Lt,this.Qm=St,this.Rf=ma,this.Ug=null,this.We="",this.fg=new Ne(NaN,NaN,NaN,NaN),this.T=this.F=null,this.to=da,this.en=Me,this.fn=re,this.ub=this.ra=null,this.vn=NaN,this.ce=this.Dh=null,t&&Object.assign(this,t)}function _l(e,t){t.lineCap="butt";var r=0<e.rowCount?e.rowDefs:null,n=0<e.columnCount?e.colDefs:null;null!==r&&Ml(e,t,!0,r,!0),null!==n&&Ml(e,t,!1,n,!0),null!==r&&jl(e,t,!0,r),null!==n&&jl(e,t,!1,n),null!==r&&Ml(e,t,!0,r,!1),null!==n&&Ml(e,t,!1,n,!1)}function jl(e,t,r,n){for(var i=n.length,o=e.actualBounds,a=e.naturalBounds,s=!0,l=0;l<i;l++){var u=n[l];if(void 0!==u&&0!==u.actual)if(s)s=!1;else{if(r){if(u.position>a.height)continue}else if(u.position>a.width)continue;var c=u.separatorStrokeWidth;isNaN(c)&&(c=r?e.defaultRowSeparatorStrokeWidth:e.defaultColumnSeparatorStrokeWidth);var h=u.separatorStroke;if(null===h&&(h=r?e.defaultRowSeparatorStroke:e.defaultColumnSeparatorStroke),0!==c&&null!==h){qa(e,t,h,!1,!1,a,o),h=!1;var d=u.separatorDashArray;null===d&&(d=r?e.defaultRowSeparatorDashArray:e.defaultColumnSeparatorDashArray),null!==d&&(h=!0,t.bs(d,0)),t.beginPath(),d=u.position+c,r?d>a.height&&(c-=d-a.height):d>a.width&&(c-=d-a.width),u=u.position+c/2,t.lineWidth=c,c=e.yb,r?(u+=c.top,d=a.width-c.right,t.moveTo(c.left,u),t.lineTo(d,u)):(u+=c.left,d=a.height-c.bottom,t.moveTo(u,c.top),t.lineTo(u,d)),t.stroke(),t.Ne(),h&&t.Yr()}}}}function Ml(e,t,r,n,i){for(var o=n.length,a=e.actualBounds,s=e.naturalBounds,l=Cl(e,!0),u=Cl(e,!1),c=0;c<o;c++){var h=n[c];if(void 0!==h&&null!==h.background&&h.coversSeparators!==i&&0!==h.actual){var d=r?a.height:a.width;if(!(h.position>d)){var f=h.Rc(),p=h.separatorStrokeWidth;isNaN(p)&&(p=r?e.defaultRowSeparatorStrokeWidth:e.defaultColumnSeparatorStrokeWidth);var m=h.separatorStroke;null===m&&(m=r?e.defaultRowSeparatorStroke:e.defaultColumnSeparatorStroke),null!==m&&h.index!==(r?l:u)||(p=0),f-=p,(p=h.position+p)+(f+=h.actual)>d&&(f=d-p),0>=f||(d=e.yb,qa(e,t,h.background,!0,!1,s,a),r?t.fillRect(d.left,p+d.top,a.width-(d.left+d.right),f):t.fillRect(p+d.left,d.top,f,a.height-(d.top+d.bottom)))}}}}function Cl(e,t){for(var r=t?e.rowCount:e.columnCount,n=0;n<r;n++){var i=t?e.rowDefs[n]:e.colDefs[n];if(void 0!==i)return i.index}return 0}function Pl(e){return"LineV"===e||"BarV"===e}function Tl(e){return null!==e.part?e.part.locationObject:null}function El(e,t){Ol(e,e,t)}function Ol(e,t,r){r(t);for(var n=(t=t.P.s).length,i=0;i<n;i++){var o=t[i];o instanceof kl&&Ol(e,o,r)}}function Al(e,t){Ll(e,e,t)}function Ll(e,t,r){if(r(t),t instanceof kl)for(var n=(t=t.P.s).length,i=0;i<n;i++)Ll(e,t[i],r)}function Nl(e,t,r){if(r(t))return t;if(t instanceof kl)for(var n=(t=t.P.s).length,i=0;i<n;i++){var o=Nl(e,t[i],r);if(null!==o)return o}return null}function Rl(e){for(var t=(e=e.P.s).length,r=0,n=0;n<t;n++){var i=e[n];i instanceof kl?r=Math.max(r,Rl(i)):i instanceof cu&&(r=Math.max(r,i.eg/2*i.strokeMiterLimit*i.Af()))}return r}function Dl(e){return e.type===kl.TableRow||e.type===kl.TableColumn}function Il(e,t,r,n){for(var i=e.P.s,o=i.length;o--;){var a=i[o];if(a.visible){var s=a.actualBounds,l=e.naturalBounds;s.x>l.width||s.y>l.height||0>s.x+s.width||0>s.y+s.height||(a instanceof kl&&Il(a,t,r,n),null!==t&&(a=t(a)),null===a||null!==r&&!r(a)||n.add(a))}}}function Fl(e){var t=null;return e instanceof cu&&((t=e.spot1)===St&&(t=null),null!==(e=e.geometry)&&null===t&&(t=e.spot1)),null===t&&(t=Je),t}function Bl(e){var t=null;return e instanceof cu&&((t=e.spot2)===St&&(t=null),null!==(e=e.geometry)&&null===t&&(t=e.spot2)),null===t&&(t=at),t}function Ul(e,t){e.o=t?16777216|e.o:-16777217&e.o}function zl(e,t,r){var n=e.rowDefs;if(!(0>t)){if(n[t]=r instanceof iu?r:void 0,!r)for(t=n.length-1;0<=t&&void 0===n[t--];)n.length--;e.v()}}function ql(e,t,r){var n=e.colDefs;if(!(0>t)){if(n[t]=r instanceof iu?r:void 0,!r)for(t=n.length-1;0<=t&&void 0===n[t--];)n.length--;e.v()}}function Gl(e){return null!==(e=e.allBindings)&&e._isFrozen}function Vl(e){var t=e.allBindings;if(null===t)null!==e.data&&w("Template cannot have .data be non-null: "+e),e.allBindings=t=new Z;else if(t._isFrozen)return;var r=new Z;Ul(e,!1),e.nm(e,(function(e,n){n.oh();var i=n.localBindings;if(null!==i)for(Za(n,!1),i=i.iterator;i.next();){var o=i.value;o.mode===Gf&&Za(n,!0);var a=o.sourceName;null!==a&&("/"===a&&Ul(e,!0),null!==(a=Uf(o,e,n))&&(r.add(a),null===a.srcBindings&&(a.srcBindings=new Z),a.srcBindings.add(o))),t.add(o)}if(n instanceof kl&&n.type===kl.Table){if(0<n.rowCount)for(i=(e=n.rowDefs).length,o=0;o<i;o++)if(void 0!==(a=e[o])&&null!==a.Yd)for(var s=a.Yd.iterator;s.next();){var l=s.value;l.rd=a,l.po=2,l.sl=a.index,t.add(l)}if(0<n.columnCount)for(e=(n=n.colDefs).length,i=0;i<e;i++)if(void 0!==(o=n[i])&&null!==o.Yd)for(a=o.Yd.iterator;a.next();)(s=a.value).rd=o,s.po=1,s.sl=o.index,t.add(s)}}));for(var n=r.iterator;n.next();){var i=n.value;if(null!==i.srcBindings){Za(i,!0);for(var o=i.srcBindings.iterator;o.next();){var a=o.value;null===i.localBindings&&(i.localBindings=new Z),i.localBindings.add(a)}}i.srcBindings=null}for(n=t.iterator;n.next();)if(null!==(o=(i=n.value).rd)){i.rd=null;var s=i.targetProperty,l=s.indexOf(".");0<l&&o instanceof kl&&(a=s.substring(0,l),s=s.substr(l+1),null!==(l=o.fb(a))?(o=l,i.targetProperty=s):_('Warning: unable to find GraphObject named "'+a+'" for Binding: '+i.toString())),o instanceof iu?(a=te(o.panel),i.xi=void 0===a?-1:a,o.panel.bindingId=i.xi):o instanceof Aa?(a=te(o),i.xi=void 0===a?-1:a,o.bindingId=i.xi):w("Unknown type of binding target: "+o)}t.freeze(),e instanceof vc&&e.Uc()&&e.Va()}function Hl(e){if(e.type===kl.Spot||e.type===kl.Auto)return Math.min(e.P.length,1);if(e.type===kl.Link){for(var t=(e=e.P).length,r=0;r<t;r++){var n=e.L(r);if(!(n instanceof cu&&n.isPanelMain))break}return r}return e.type===kl.Table&&0<e.P.length&&((e=e.P.L(0)).isPanelMain&&e instanceof kl&&Dl(e))?1:0}function Wl(e,t){var r=Hl(e);if(null===t||0===t.length)for(;e.P.length>r;)e.mc(e.P.length-1,!1);else if(e.P.length<=r){r=t.length;for(var n=0;n<r;n++)Xl(e,t[n],n,!0)}else{n=r;for(var i=0;i<t.length;i++,n++){var o=t[i],a=n<e.P.length?e.P.L(n):null;if(a instanceof kl){if(a.data!==o){var s=Kl(e,a.data),l=Kl(e,o),u=l!==s;u||(s=Zl(e,s),u=Zl(e,l)!==s),u?(e.mc(n,!1),Xl(e,o,i,!1)):a.data=o}}else Xl(e,o,i,!1)}for(;n<e.P.length;)e.mc(n,!1);e.Ug=null,Yl(e,r,0),Qa(e)||e.v(),e.graduatedIntervals=null,e.Ff()||$l(e,e,!1),null!==(t=e.part)&&(t.Nh=null,t.Xf=NaN,e.Oe&&t instanceof Wc&&(t.Oe=!0),t.Oe&&t instanceof Wc&&(t.tc=null))}}function Xl(e,t,r,n){if(!(void 0===t||null===t||0>r)){var i=Kl(e,t);if(null!==(i=Zl(e,i))){if(Vl(i),0!==(16777216&(i=i.copy()).o)){var o=e.dh();null!==o&&Ul(o,!0)}"object"===typeof t&&(null===e.ce&&(e.ce=new fe),e.ce.add(t,i)),o=r+Hl(e),e.Eb(o,i),n&&(i.ub=t,Yl(e,o,r),i.ub=null),i.data=t}}}function Yl(e,t,r){for(e=e.P;t<e.length;){var n=e.L(t);if(n instanceof kl){var i=t,o=r;n.type===kl.TableRow?n.row=i:n.type===kl.TableColumn&&(n.column=i),n.itemIndex=o}t++,r++}}function Kl(e,t){if(null===t)return"";if("function"===typeof(e=e.itemCategoryProperty))e=e(t);else{if("string"!==typeof e||"object"!==typeof t)return"";if(""===e)return"";e=Rf(t,e)}return void 0===e?"":"string"===typeof e?e:void w("Panel.getCategoryForItemData found a non-string category for "+t+": "+e)}function Zl(e,t){var r=e.itemTemplateMap,n=null;return null!==r&&(n=r.I(t)),null===n&&(null!==r&&(n=r.I("")),null===n&&(Ql||(Ql=!0,_('No item template Panel found for category "'+t+'" on '+e),_("  Using default item template."),e=new kl,(t=new Su).bind(new Bf("text","",L)),e.add(t),eu=e),n=eu)),n}function $l(e,t,r){var n=t.enabledChanged;if(null!==n&&n(t,r),t instanceof kl){n=(t=t.P.s).length;for(var i=0;i<n;i++){var o=t[i];r&&o instanceof kl&&!o.isEnabled||$l(e,o,r)}}}function Jl(e,t){t.name=e,tu.add(e,t)}As.className="Brush",As.Solid=Ws=new U(As,"Solid",0),As.Linear=Xs=new U(As,"Linear",1),As.Radial=Ys=new U(As,"Radial",2),As.Pattern=Ks=new U(As,"Pattern",4),As.Lab=Zs=new U(As,"Lab",5),As.HSL=$s=new U(As,"HSL",6),As.randomColor=function(e,t){void 0===e&&(e=128),void 0===t&&(t=Math.max(e,255));var r=Math.abs(t-e);t=Math.floor(e+Math.random()*r).toString(16);var n=Math.floor(e+Math.random()*r).toString(16);return e=Math.floor(e+Math.random()*r).toString(16),2>t.length&&(t="0"+t),2>n.length&&(n="0"+n),2>e.length&&(e="0"+e),"#"+t+n+e},As.isValidColor=function(e){if("black"===e)return!0;if(""===e)return!1;al||(Hs(),al=!0);var t=tl;if(null===t)return!0;t.fillStyle="#000000";var r=t.fillStyle;return t.fillStyle=e,t.fillStyle!==r||(t.fillStyle="#FFFFFF",r=t.fillStyle,t.fillStyle=e,t.fillStyle!==r)},As.lighten=function(e){return Ls(e)},As.lightenBy=Ls,As.darken=function(e){return Ns(e)},As.darkenBy=Ns,As.mix=Rs,As.isDark=Ds,sl.prototype.measure=function(){},sl.prototype.Pz=function(e,t,r,n,i){e.measure(t,r,n,i)},sl.prototype.arrange=function(){},sl.prototype.Ey=function(e,t,r,n,i,o){e.arrange(t,r,n,i,o)},sl.prototype.Zz=function(e){e.Sj()},sl.prototype.cc=function(){},d.Object.defineProperties(sl.prototype,{name:{get:function(){return this.wa},set:function(e){this.wa=e}},classType:{get:function(){return kl}}}),sl.prototype.remeasureObject=sl.prototype.Zz,sl.prototype.arrangeElement=sl.prototype.Ey,sl.prototype.measureElement=sl.prototype.Pz,sl.className="PanelLayout",h(ll,sl),ll.prototype.measure=function(e,t,r,n,i,o,a){var s=n.length;e=Tl(e);for(var l=0;l<s;l++){var u=n[l];if(u.visible||u===e){var c=u.margin,h=c.right+c.left;c=c.top+c.bottom,u.measure(t,r,o,a);var d=u.measuredBounds;h=Math.max(d.width+h,0),c=Math.max(d.height+c,0),d=u.position.x;var f=u.position.y;isFinite(d)||(d=0),isFinite(f)||(f=0),u instanceof cu&&u.isGeometryPositioned&&(d-=u=u.strokeWidth/2,f-=u),qe(i,d,f,h,c)}}},ll.prototype.arrange=function(e,t,r){var n=t.length,i=e.padding;for(e=r.x-i.left,r=r.y-i.top,i=0;i<n;i++){var o=t[i],a=o.measuredBounds,s=o.margin,l=o.position.x,u=o.position.y;if(l=isNaN(l)?-e:l-e,u=isNaN(u)?-r:u-r,o instanceof cu&&o.isGeometryPositioned){var c=o.strokeWidth/2;l-=c,u-=c}o.visible&&o.arrange(l+s.left,u+s.top,a.width,a.height)}},h(ul,sl),ul.prototype.measure=function(e,t,r,n,i,o,a){var s=n.length;t=E(),o=Tl(e);for(var l=0;l<s;l++){var u=n[l];if(u.visible||u===o){var c=Ha(u,!1);if(c!==ha&&c!==fa)t.push(u);else{u.measure(1/0,r,0,a),c=u.margin,u=u.measuredBounds;var h=Math.max(u.height+c.top+c.bottom,0);i.width+=Math.max(u.width+c.right+c.left,0),i.height=Math.max(i.height,h)}}}for(n=t.length,e.desiredSize.height?r=Math.min(e.desiredSize.height,e.maxSize.height):0!==i.height&&(r=Math.min(i.height,e.maxSize.height)),e=0;e<n;e++)((l=t[e]).visible||l===o)&&(s=(c=l.margin).right+c.left,c=c.top+c.bottom,l.measure(1/0,r,0,a),l=l.measuredBounds,c=Math.max(l.height+c,0),i.width+=Math.max(l.width+s,0),i.height=Math.max(i.height,c));O(t)},ul.prototype.arrange=function(e,t,r){for(var n=t.length,i=e.padding,o=i.top,a=e.isOpposite,s=a?r.width:i.left,l=0;l<n;l++){var u=o,c=t[l];if(c.visible){var h=c.measuredBounds,d=c.margin,f=d.top+d.bottom,p=o+i.bottom,m=h.height,y=Ha(c,!1);(isNaN(c.desiredSize.height)&&y===ca||y===pa)&&(m=Math.max(r.height-f-p,0)),f=m+f+p,(p=c.alignment).Tb()&&(p=e.defaultAlignment),p.tb()||(p=rt),a&&(s-=h.width+d.left+d.right),c.arrange(s+p.offsetX+d.left,u+p.offsetY+d.top+(r.height*p.y-f*p.y),h.width,m),a||(s+=h.width+d.left+d.right)}}},h(cl,sl),cl.prototype.measure=function(e,t,r,n,i,o){var a=n.length;r=E();for(var s=Tl(e),l=0;l<a;l++){var u=n[l];if(u.visible||u===s){var c=Ha(u,!1);if(c!==ha&&c!==pa)r.push(u);else{var h=u.margin;c=h.right+h.left,h=h.top+h.bottom,u.measure(t,1/0,o,0),u=u.measuredBounds,Re(i,Math.max(i.width,Math.max(u.width+c,0)),i.height+Math.max(u.height+h,0))}}}if(0!==(n=r.length)){for(e.desiredSize.width?t=Math.min(e.desiredSize.width,e.maxSize.width):0!==i.width&&(t=Math.min(i.width,e.maxSize.width)),e=0;e<n;e++)((l=r[e]).visible||l===s)&&(a=(u=l.margin).right+u.left,u=u.top+u.bottom,l.measure(t,1/0,o,0),l=l.measuredBounds,u=Math.max(l.height+u,0),i.width=Math.max(i.width,Math.max(l.width+a,0)),i.height+=u);O(r)}},cl.prototype.arrange=function(e,t,r){for(var n=t.length,i=e.padding,o=i.left,a=e.isOpposite,s=a?r.height:i.top,l=0;l<n;l++){var u=o,c=t[l];if(c.visible){var h=c.measuredBounds,d=c.margin,f=d.left+d.right,p=o+i.right,m=h.width,y=Ha(c,!1);(isNaN(c.desiredSize.width)&&y===ca||y===fa)&&(m=Math.max(r.width-f-p,0)),f=m+f+p,(p=c.alignment).Tb()&&(p=e.defaultAlignment),p.tb()||(p=rt),a&&(s-=h.height+d.bottom+d.top),c.arrange(u+p.offsetX+d.left+(r.width*p.x-f*p.x),s+p.offsetY+d.top,m,h.height),a||(s+=h.height+d.bottom+d.top)}}},h(hl,sl),hl.prototype.measure=function(e,t,r,n,i,o,a){var s=n.length,l=e.sb(),u=l.margin,c=u.right+u.left,h=u.top+u.bottom;l.measure(t,r,o,a);var d=l.measuredBounds;o=d.width,a=d.height;var f=Math.max(o+c,0),p=Math.max(a+h,0),m=e.isClipping,y=Ne.allocAt(-u.left,-u.top,f,p),g=Ne.allocAt(0,0,o,a);dl(l,g,!0),o=g.width,a=g.height;for(var v=!0,b=Tl(e),x=0;x<s;x++){var w=n[x],S=t,k=r;if(w!==l&&(w.visible||w===b)){switch(f=(u=w.margin).right+u.left,p=u.top+u.bottom,d=Ha(w,!1)){case ca:S=o,k=a;break;case fa:S=o;break;case pa:k=a}w.measure(S,k,0,0),d=w.measuredBounds,f=Math.max(d.width+f,0),p=Math.max(d.height+p,0),(S=w.alignment).Tb()&&(S=e.defaultAlignment),S.tb()||(S=rt);var _=w.alignmentFocus;_.Tb()&&(_=rt),k=null,w instanceof kl&&""!==w.We&&((k=w.fb(w.We))===w&&(k=null));var j=g.x,M=g.y;if(null!==k){for(w.arrange(0,0,d.width,d.height),u=k.actualBounds,u=pe.allocAt(u.x+(_.x*u.width-_.offsetX),u.y+(_.y*u.height-_.offsetY)),k=k.panel;k!==w;)k.transform.Ga(u),k=k.panel;j+=S.x*o+S.offsetX-u.x,M+=S.y*a+S.offsetY-u.y,pe.free(u)}else j+=S.x*o+S.offsetX-(_.x*d.width+_.offsetX)-u.left,M+=S.y*a+S.offsetY-(_.y*d.height+_.offsetY)-u.top;v?(v=!1,i.h(j,M,f,p)):qe(i,j,M,f,p)}}switch(v?i.assign(y):m?i.Qu(g.x,g.y,g.width,g.height):qe(i,y.x,y.y,y.width,y.height),Ne.free(y),Ne.free(g),(d=l.stretch)===ma&&(d=Ha(l,!1)),d){case ha:return;case ca:if(!isFinite(t)&&!isFinite(r))return;break;case fa:if(!isFinite(t))return;break;case pa:if(!isFinite(r))return}for(o=(d=l.measuredBounds).width,a=d.height,f=Math.max(o+c,0),p=Math.max(a+h,0),u=l.margin,dl(l,g=Ne.allocAt(-u.left,-u.top,f,p),!0),o=g.width,a=g.height,t=0;t<s;t++)(r=n[t])===l||!r.visible&&r!==b||(f=(u=r.margin).right+u.left,p=u.top+u.bottom,d=r.measuredBounds,f=Math.max(d.width+f,0),p=Math.max(d.height+p,0),(c=r.alignment).Tb()&&(c=e.defaultAlignment),c.tb()||(c=rt),(r=r.alignmentFocus).Tb()&&(r=rt),v?(v=!1,i.h(c.x*o+c.offsetX-(r.x*d.width+r.offsetX)-u.left,c.y*a+c.offsetY-(r.y*d.height+r.offsetY)-u.top,f,p)):qe(i,c.x*o+c.offsetX-(r.x*d.width+r.offsetX)-u.left,c.y*a+c.offsetY-(r.y*d.height+r.offsetY)-u.top,f,p));v?i.assign(y):m?i.Qu(g.x,g.y,g.width,g.height):qe(i,y.x,y.y,y.width,y.height),Ne.free(g)},hl.prototype.arrange=function(e,t,r){var n=t.length,i=e.sb(),o=i.measuredBounds,a=o.width,s=o.height,l=e.padding;o=l.left,l=l.top;var u=o-r.x,c=l-r.y;for(i.arrange(u,c,a,s),dl(i,a=Ne.allocAt(0,0,a,s),!1),s=0;s<n;s++){var h=t[s];if(h!==i){var d=(u=h.measuredBounds).width,f=u.height;(c=h.alignment).Tb()&&(c=e.defaultAlignment),c.tb()||(c=rt);var p=h.alignmentFocus;if(p.Tb()&&(p=rt),u=null,h instanceof kl&&""!==h.We&&((u=h.fb(h.We))===h&&(u=null)),null!==u){var m=u.actualBounds;for(p=pe.allocAt(m.x+(p.x*m.width-p.offsetX),m.y+(p.y*m.height-p.offsetY)),u=u.panel;u!==h;)u.transform.Ga(p),u=u.panel;u=c.x*a.width+c.offsetX-p.x,c=c.y*a.height+c.offsetY-p.y,pe.free(p)}else u=c.x*a.width+c.offsetX-(p.x*d+p.offsetX),c=c.y*a.height+c.offsetY-(p.y*f+p.offsetY);u+=a.x-r.x,c+=a.y-r.y,h.visible&&h.arrange(o+u,l+c,d,f)}}Ne.free(a)},h(fl,sl),fl.prototype.measure=function(e,t,r,n,i,o,a){var s=n.length,l=e.sb(),u=l.margin,c=t,h=r,d=u.right+u.left,f=u.top+u.bottom;l.measure(t,r,o,a),u=l.measuredBounds;var p=0,m=null;l instanceof cu&&(p=(m=l).strokeWidth*m.scale);var y=Math.max(u.width+d,0);u=Math.max(u.height+f,0);var g=Fl(l),v=g.x*y+g.offsetX;g=g.y*u+g.offsetY;var b=Bl(l),x=b.x*y+b.offsetX;for(b=b.y*u+b.offsetY,isFinite(t)&&(c=Math.max(Math.abs(v-x)-p,0)),isFinite(r)&&(h=Math.max(Math.abs(g-b)-p,0)),(p=Ee.alloc()).h(0,0),e=Tl(e),b=0;b<s;b++)(g=n[b])===l||!g.visible&&g!==e||(y=(u=g.margin).right+u.left,v=u.top+u.bottom,g.measure(c,h,0,0),u=g.measuredBounds,y=Math.max(u.width+y,0),u=Math.max(u.height+v,0),p.h(Math.max(y,p.width),Math.max(u,p.height)));if(1===s)i.width=y,i.height=u,Ee.free(p);else{switch(g=Fl(l),s=n=0,(b=Bl(l)).x!==g.x&&b.y!==g.y&&(n=p.width/Math.abs(b.x-g.x),s=p.height/Math.abs(b.y-g.y)),Ee.free(p),p=0,null!==m&&(p=m.strokeWidth*m.scale,fu(m)===da&&(n=s=Math.max(n,s))),n+=Math.abs(g.offsetX)+Math.abs(b.offsetX)+p,s+=Math.abs(g.offsetY)+Math.abs(b.offsetY)+p,(m=l.stretch)===ma&&(m=Ha(l,!1)),m){case ha:a=o=0;break;case ca:isFinite(t)&&(n=t),isFinite(r)&&(s=r);break;case fa:isFinite(t)&&(n=t),a=0;break;case pa:o=0,isFinite(r)&&(s=r)}l.Sj(),l.measure(n,s,o,a),i.width=l.measuredBounds.width+d,i.height=l.measuredBounds.height+f}},fl.prototype.arrange=function(e,t){var r=t.length,n=e.sb(),i=n.measuredBounds,o=Ne.alloc();o.h(0,0,1,1);var a=n.margin,s=a.left;a=a.top;var l=e.padding,u=l.left;l=l.top,n.arrange(u+s,l+a,i.width,i.height);var c=Fl(n),h=Bl(n),d=c.y*i.height+c.offsetY,f=h.x*i.width+h.offsetX;for(h=h.y*i.height+h.offsetY,o.x=c.x*i.width+c.offsetX,o.y=d,qe(o,f,h,0,0),o.x+=s+u,o.y+=a+l,i=0;i<r;i++)(s=t[i])!==n&&(u=s.measuredBounds,a=s.margin,l=Math.max(u.width+a.right+a.left,0),c=Math.max(u.height+a.top+a.bottom,0),(d=s.alignment).Tb()&&(d=e.defaultAlignment),d.tb()||(d=rt),l=o.width*d.x+d.offsetX-l*d.x+a.left+o.x,a=o.height*d.y+d.offsetY-c*d.y+a.top+o.y,s.visible&&(Ge(o.x,o.y,o.width,o.height,l,a,u.width,u.height)?s.arrange(l,a,u.width,u.height):s.arrange(l,a,u.width,u.height,new Ne(o.x,o.y,o.width,o.height))));Ne.free(o)},h(pl,sl),pl.prototype.measure=function(e,t,r,n,i){for(var o=n.length,a=E(),s=E(),l=0;l<o;l++){var u=n[l],c=u instanceof kl?u:null;if(null!==c&&Dl(c)&&u.visible){s.push(c);for(var h=c.P.s,d=h.length,f=0;f<d;f++){var p=h[f];c.type===kl.TableRow?p.row=u.row:c.type===kl.TableColumn&&(p.column=u.column),a.push(p)}}else a.push(u)}0===(o=a.length)&&(e.getRowDefinition(0),e.getColumnDefinition(0));for(var m=[],y=0;y<o;y++){var g=a[y];g.visible&&(es(g,!0),rs(g,!0),m[g.row]||(m[g.row]=[]),m[g.row][g.column]||(m[g.row][g.column]=[]),m[g.row][g.column].push(g))}O(a);var v=E(),b=E(),x=E(),w={count:0},S={count:0},k=t,_=r,j=e.rowDefs,M=e.colDefs,C=null;o=j.length;for(var P=0;P<o;P++)void 0!==(C=j[P])&&(C.actual=0);o=M.length;for(var T=0;T<o;T++)void 0!==(C=M[T])&&(C.actual=0);for(var A=m.length,L=0,N=0;N<A;N++)m[N]&&(L=Math.max(L,m[N].length));var R=Math.min(e.topIndex,A-1),D=Math.min(e.leftIndex,L-1),I=0;A=m.length;for(var F=Tl(e),B=0;B<A;B++)if(m[B]){L=m[B].length;var U=e.getRowDefinition(B);U.actual=0;for(var z=U.kc=0;z<L;z++)if(m[B][z]){var q=e.getColumnDefinition(z);void 0===v[z]&&(q.actual=0,q.kc=0,v[z]=!0);for(var G=m[B][z],V=G.length,H=0;H<V;H++){var W=G[H];if(W.visible||W===F){var X=1<W.rowSpan||1<W.columnSpan;X&&(B<R||z<D||b.push(W));var Y=W.margin,K=Y.right+Y.left,Z=Y.top+Y.bottom,$=Wa(W,U,q,!1),J=W.desiredSize,Q=!isNaN(J.height),ee=!isNaN(J.width)&&Q;if(X||$===ha||ee||B<R||z<D||(void 0!==w[z]||$!==ca&&$!==fa||(w[z]=-1,w.count++),void 0!==S[B]||$!==ca&&$!==pa||(S[B]=-1,S.count++),x.push(W)),W.measure(1/0,1/0,0,0),!(B<R||z<D)){var te=W.measuredBounds,re=Math.max(te.width+K,0),ne=Math.max(te.height+Z,0);if(1===W.rowSpan&&($===ha||$===fa)){var ie=(C=e.getRowDefinition(B)).Rc();(I=Math.max(ne-C.actual,0))+ie>_&&(I=Math.max(_-ie,0));var oe=0===C.oa;C.kc=C.kc+I,C.actual=C.oa+I,_=Math.max(_-(I+(oe?ie:0)),0)}if(1===W.columnSpan&&($===ha||$===pa)){var ae=(C=e.getColumnDefinition(z)).Rc();(I=Math.max(re-C.actual,0))+ae>k&&(I=Math.max(k-ae,0));var se=0===C.oa;C.kc=C.kc+I,C.actual=C.oa+I,k=Math.max(k-(I+(se?ae:0)),0)}X&&W.Sj()}}}}}O(v);var le=0,ue=0;o=e.columnCount;for(var ce=0;ce<o;ce++){var he=M[ce];void 0!==he&&(le+=isNaN(he.Ec)?he.kc:he.Ec,0!==he.kc&&(le+=he.Rc()))}o=e.rowCount;for(var de=0;de<o;de++){var fe=j[de];void 0!==fe&&(ue+=isNaN(fe.Ec)?fe.kc:fe.Ec,0!==fe.kc&&(ue+=fe.Rc()))}k=Math.max(t-le,0);var pe=_=Math.max(r-ue,0),me=k;o=x.length;for(var ye=0;ye<o;ye++){var ge=x[ye],ve=e.getRowDefinition(ge.row),be=e.getColumnDefinition(ge.column),xe=ge.measuredBounds,we=ge.margin,Se=we.right+we.left,ke=we.top+we.bottom;w[ge.column]=0===be.kc&&void 0!==w[ge.column]?Math.max(xe.width+Se,w[ge.column]):null,S[ge.row]=0===ve.kc&&void 0!==S[ge.row]?Math.max(xe.height+ke,S[ge.row]):null}var _e,je=0,Me=0;for(_e in S)"count"!==_e&&(je+=S[_e]);for(_e in w)"count"!==_e&&(Me+=w[_e]);for(var Ce=Ee.alloc(),Pe=0;Pe<o;Pe++){var Te=x[Pe];if(Te.visible||Te===F){var Oe=e.getRowDefinition(Te.row),Ae=e.getColumnDefinition(Te.column),Le=0;isFinite(Ae.width)?Le=Ae.width:(Le=isFinite(k)&&null!==w[Te.column]?0===Me?Ae.actual+k:w[Te.column]/Me*me:null!==w[Te.column]?k:Ae.actual||k,Le=Math.max(0,Le-Ae.Rc()));var Ne=0;switch(isFinite(Oe.height)?Ne=Oe.height:(Ne=isFinite(_)&&null!==S[Te.row]?0===je?Oe.actual+_:S[Te.row]/je*pe:null!==S[Te.row]?_:Oe.actual||_,Ne=Math.max(0,Ne-Oe.Rc())),Ce.h(Math.max(Ae.minimum,Math.min(Le,Ae.maximum)),Math.max(Oe.minimum,Math.min(Ne,Oe.maximum))),$=Wa(Te,Oe,Ae,!1)){case fa:Ce.height=Math.max(Ce.height,Oe.actual+_);break;case pa:Ce.width=Math.max(Ce.width,Ae.actual+k)}var Re=Te.margin,De=Re.right+Re.left,Ie=Re.top+Re.bottom;Te.Sj(),Te.measure(Ce.width,Ce.height,Ae.minimum,Oe.minimum);var Fe=Te.measuredBounds,Be=Math.max(Fe.width+De,0),Ue=Math.max(Fe.height+Ie,0);isFinite(k)&&(Be=Math.min(Be,Ce.width)),isFinite(_)&&(Ue=Math.min(Ue,Ce.height));var ze=0;ze=Oe.actual,Oe.actual=Math.max(Oe.actual,Ue),Oe.kc=Math.max(Oe.kc,Ue),I=Oe.actual-ze,_=Math.max(_-I,0),null===S[Te.row]&&(pe=Math.max(pe-I,0)),ze=Ae.actual,Ae.actual=Math.max(Ae.actual,Be),Ae.kc=Math.max(Ae.kc,Be),I=Ae.actual-ze,k=Math.max(k-I,0),null===w[Te.column]&&(me=Math.max(me-I,0))}}O(x);var qe=Ee.alloc(),Ge=E(),Ve=E();if(0!==(o=b.length))for(var He=0;He<A;He++)if(m[He]){L=m[He].length;var We=e.getRowDefinition(He);Ge[He]=We.actual;for(var Xe=0;Xe<L;Xe++)if(m[He][Xe]){var Ye=e.getColumnDefinition(Xe);Ve[Xe]=Ye.actual}}for(var Ke=0;Ke<o;Ke++){var Ze=b[Ke];if(Ze.visible||Ze===F){var $e=e.getRowDefinition(Ze.row),Je=e.getColumnDefinition(Ze.column);switch(Ce.h(Math.max(Je.minimum,Math.min(t,Je.maximum)),Math.max($e.minimum,Math.min(r,$e.maximum))),$=Wa(Ze,$e,Je,!1)){case ca:0!==Ve[Je.index]&&(Ce.width=Math.min(Ce.width,Ve[Je.index])),0!==Ge[$e.index]&&(Ce.height=Math.min(Ce.height,Ge[$e.index]));break;case fa:0!==Ve[Je.index]&&(Ce.width=Math.min(Ce.width,Ve[Je.index]));break;case pa:0!==Ge[$e.index]&&(Ce.height=Math.min(Ce.height,Ge[$e.index]))}isFinite(Je.width)&&(Ce.width=Je.width),isFinite($e.height)&&(Ce.height=$e.height),qe.h(0,0);for(var Qe=Je.minimum,et=$e.minimum,tt=1;tt<Ze.rowSpan&&!(Ze.row+tt>=e.rowCount);tt++)C=e.getRowDefinition(Ze.row+tt),I=0,I=$===ca||$===pa?Math.max(C.minimum,0===Ge[Ze.row+tt]?C.maximum:Math.min(Ge[Ze.row+tt],C.maximum)):Math.max(C.minimum,isNaN(C.Ec)?C.maximum:Math.min(C.Ec,C.maximum)),qe.height+=I,et+=C.minimum;for(var rt=1;rt<Ze.columnSpan&&!(Ze.column+rt>=e.columnCount);rt++)C=e.getColumnDefinition(Ze.column+rt),I=0,I=$===ca||$===fa?Math.max(C.minimum,0===Ve[Ze.column+rt]?C.maximum:Math.min(Ve[Ze.column+rt],C.maximum)):Math.max(C.minimum,isNaN(C.Ec)?C.maximum:Math.min(C.Ec,C.maximum)),qe.width+=I,Qe+=C.minimum;Ce.width+=qe.width,Ce.height+=qe.height;var nt=Ze.margin,it=nt.right+nt.left,ot=nt.top+nt.bottom;Ze.measure(Ce.width,Ce.height,Qe,et);for(var at=Ze.measuredBounds,st=Math.max(at.width+it,0),lt=Math.max(at.height+ot,0),ut=0,ct=0;ct<Ze.rowSpan&&!(Ze.row+ct>=e.rowCount);ct++)ut+=(C=e.getRowDefinition(Ze.row+ct)).total||0;if(ut<lt){var ht=lt-ut,dt=lt-ut;if(null!==Ze.spanAllocation)for(var ft=Ze.spanAllocation,pt=0;pt<Ze.rowSpan&&!(0>=ht)&&!(Ze.row+pt>=e.rowCount);pt++){var mt=(C=e.getRowDefinition(Ze.row+pt)).oa||0,yt=ft(Ze,C,dt);C.actual=Math.min(C.maximum,mt+yt),C.oa!==mt&&(ht-=C.oa-mt)}for(;0<ht;){var gt=C.oa||0;if(isNaN(C.height)&&C.maximum>gt&&(C.actual=Math.min(C.maximum,gt+ht),C.oa!==gt&&(ht-=C.oa-gt)),0===C.index)break;C=e.getRowDefinition(C.index-1)}}for(var vt=0,bt=0;bt<Ze.columnSpan&&!(Ze.column+bt>=e.columnCount);bt++)vt+=(C=e.getColumnDefinition(Ze.column+bt)).total||0;if(vt<st){var xt=st-vt,wt=st-vt;if(null!==Ze.spanAllocation)for(var St=Ze.spanAllocation,kt=0;kt<Ze.columnSpan&&!(0>=xt)&&!(Ze.column+kt>=e.columnCount);kt++){var _t=(C=e.getColumnDefinition(Ze.column+kt)).oa||0,jt=St(Ze,C,wt);C.actual=Math.min(C.maximum,_t+jt),C.oa!==_t&&(xt-=C.oa-_t)}for(;0<xt;){var Mt=C.oa||0;if(isNaN(C.width)&&C.maximum>Mt&&(C.actual=Math.min(C.maximum,Mt+xt),C.oa!==Mt&&(xt-=C.oa-Mt)),0===C.index)break;C=e.getColumnDefinition(C.index-1)}}}}O(b),Ee.free(qe),Ee.free(Ce),void 0!==Ge&&O(Ge),void 0!==Ve&&O(Ve);var Ct=0,Pt=0,Tt=e.desiredSize,Et=e.maxSize;$=Ha(e,!0);var Ot=ue=le=0,At=0;o=e.columnCount;for(var Lt=0;Lt<o;Lt++)void 0!==M[Lt]&&(C=e.getColumnDefinition(Lt),isFinite(C.width)?(Ot+=C.width,Ot+=C.Rc()):au(C)===lu?(Ot+=C.oa,Ot+=C.Rc()):0!==C.oa&&(le+=C.oa,le+=C.Rc()));Ct=isFinite(Tt.width)?Math.min(Tt.width,Et.width):$!==ha&&isFinite(t)?t:le,Ct=Math.max(Ct,e.minSize.width),Ct=Math.max(Ct-Ot,0);for(var Nt=0===le?1:Math.max(Ct/le,1),Rt=0;Rt<o;Rt++)void 0!==M[Rt]&&(C=e.getColumnDefinition(Rt),isFinite(C.width)||au(C)===lu||(C.actual=C.oa*Nt),C.position=i.width,0!==C.oa&&(i.width+=C.oa,i.width+=C.Rc()));o=e.rowCount;for(var Dt=0;Dt<o;Dt++)void 0!==j[Dt]&&(C=e.getRowDefinition(Dt),isFinite(C.height)?(At+=C.height,At+=C.Rc()):au(C)===lu?(At+=C.oa,At+=C.Rc()):0!==C.oa&&(ue+=C.oa,ue+=C.Rc()));Pt=isFinite(Tt.height)?Math.min(Tt.height,Et.height):$!==ha&&isFinite(r)?r:ue,Pt=Math.max(Pt,e.minSize.height),Pt=Math.max(Pt-At,0);for(var It=0===ue?1:Math.max(Pt/ue,1),Ft=0;Ft<o;Ft++)void 0!==j[Ft]&&(C=e.getRowDefinition(Ft),isFinite(C.height)||au(C)===lu||(C.actual=C.oa*It),C.position=i.height,0!==C.oa&&(i.height+=C.oa,i.height+=C.Rc()));o=s.length;for(var Bt=0;Bt<o;Bt++){var Ut=s[Bt],zt=0,qt=0;Ut.type===kl.TableRow?(zt=i.width,qt=(C=e.getRowDefinition(Ut.row)).actual):(zt=(C=e.getColumnDefinition(Ut.column)).actual,qt=i.height),Ut.measuredBounds.h(0,0,zt,qt),es(Ut,!1)}O(s),e.inRowsCols=m},pl.prototype.arrange=function(e,t,r){var n=t.length,i=e.padding,o=i.left;i=i.top;var a=e.inRowsCols;if(null!==a){for(var s,l,u=a.length,c=0,h=0;h<u;h++)a[h]&&(c=Math.max(c,a[h].length));l=e.rowDefs,s=e.colDefs;var d=h=0,f=Math.min(e.topIndex,u-1);if(0<l.length){for(;f!==u&&(void 0===l[f]||0===l[f].oa);)f++;h=-l[f=Math.max(Math.min(f,u-1),0)].position}var p=Math.min(e.leftIndex,c-1);if(0<s.length){for(;p!==c&&(void 0===s[p]||0===s[p].oa);)p++;d=-s[p=Math.max(Math.min(p,c-1),0)].position}for(var m=0,y=0;m!==u&&void 0===l[m];)m++;for(;y!==u&&void 0===s[y];)y++;c=e.part,e.getRowDefinition(m),e.getColumnDefinition(y);for(var g=0;g<t.length;g++){var v=t[g];if(v instanceof kl&&v.visible&&Dl(v)){if(v.type===kl.TableRow){s=e.getRowDefinition(v.row);var b=e.getColumnDefinition(y)}else s=e.getRowDefinition(m),b=e.getColumnDefinition(v.column);l=s.position+h+i,0!==s.oa&&(l+=s.Eo(Math.max(m,f))),s=b.position+d+o,0!==b.oa&&(s+=b.Eo(Math.max(y,p))),b=v.measuredBounds,v.Pk(),v.actualBounds.ka();var x=v.actualBounds,w=Ne.allocAt(x.x,x.y,x.width,x.height);x.x=v.type===kl.TableRow?o:s,x.y=v.type===kl.TableColumn?i:l,x.width=b.width,x.height=b.height,v.actualBounds.freeze(),rs(v,!1),Fe(w,x)||null===c||(c.jh(),v.Ln(c)),Ne.free(w)}}for(g=Ee.alloc(),v=0;v<u;v++)if(a[v])for(c=a[v].length,l=(b=e.getRowDefinition(v)).position+h+i,0!==b.oa&&(l+=b.Eo(Math.max(m,f))),x=0;x<c;x++)if(a[v][x]){s=(w=e.getColumnDefinition(x)).position+d+o,0!==w.oa&&(s+=w.Eo(Math.max(y,p)));for(var S=a[v][x],k=S.length,_=0;_<k;_++){var j=S[_],M=j.measuredBounds;g.h(0,0);for(var C=1;C<j.rowSpan&&!(v+C>=e.rowCount);C++){var P=e.getRowDefinition(v+C);0!==P.oa&&(g.height+=P.total)}for(C=1;C<j.columnSpan&&!(x+C>=e.columnCount);C++)0!==(P=e.getColumnDefinition(x+C)).oa&&(g.width+=P.total);var T=w.oa+g.width,E=b.oa+g.height;C=s,P=l;var O=T,A=E,L=s,N=l,R=T,D=E;s+T>r.width&&(R=Math.max(r.width-s,0)),l+E>r.height&&(D=Math.max(r.height-l,0));var I=j.alignment;if(I.Tb()){(I=e.defaultAlignment).tb()||(I=rt);var F=I.x,B=I.y,U=I.offsetX;I=I.offsetY;var z=w.alignment,q=b.alignment;z.tb()&&(F=z.x,U=z.offsetX),q.tb()&&(B=q.y,I=q.offsetY)}else F=I.x,B=I.y,U=I.offsetX,I=I.offsetY;(isNaN(F)||isNaN(B))&&(B=F=.5,I=U=0),z=M.width,q=M.height;var G=j.margin,V=G.left+G.right,H=G.top+G.bottom,W=Wa(j,b,w,!1);!isNaN(j.desiredSize.width)||W!==ca&&W!==fa||(z=Math.max(T-V,0)),!isNaN(j.desiredSize.height)||W!==ca&&W!==pa||(q=Math.max(E-H,0)),T=j.maxSize,E=j.minSize,z=Math.min(T.width,z),q=Math.min(T.height,q),z=Math.max(E.width,z),T=(q=Math.max(E.height,q))+H,C+=O*F-(z+V)*F+U+G.left,P+=A*B-T*B+I+G.top,j.visible&&(Ge(L,N,R,D,C,P,M.width,M.height)?j.arrange(C,P,z,q):j.arrange(C,P,z,q,new Ne(L,N,R,D)))}}for(Ee.free(g),e=0;e<n;e++)null!==(o=(r=t[e])instanceof kl?r:null)&&Dl(o)&&(o=r.actualBounds,r.naturalBounds.ka(),r.naturalBounds.h(0,0,o.width,o.height),r.naturalBounds.freeze())}},h(ml,sl),ml.prototype.measure=function(){},ml.prototype.arrange=function(){},h(yl,sl),yl.prototype.measure=function(){},yl.prototype.arrange=function(){},h(gl,sl),gl.prototype.measure=function(e,t,r,n,i,o,a){1<n.length&&w("Viewbox Panel cannot contain more than one GraphObject."),(n=n[0]).Aa=1,n.Sj(),n.measure(1/0,1/0,o,a);var s=n.measuredBounds,l=n.margin,u=l.right+l.left;if(l=l.top+l.bottom,isFinite(t)||isFinite(r)){var c=n.scale,h=s.width;s=s.height;var d=Math.max(t-u,0),f=Math.max(r-l,0),p=1;e.viewboxStretch===da?0!==h&&0!==s&&(p=Math.min(d/h,f/s)):0!==h&&0!==s&&(p=Math.max(d/h,f/s)),0===p&&(p=1e-4),n.Aa*=p,c!==n.scale&&(es(n,!0),n.measure(1/0,1/0,o,a))}s=n.measuredBounds,i.width=isFinite(t)?t:Math.max(s.width+u,0),i.height=isFinite(r)?r:Math.max(s.height+l,0)},gl.prototype.arrange=function(e,t,r){var n=(t=t[0]).measuredBounds,i=t.margin,o=Math.max(n.width+(i.right+i.left),0);i=Math.max(n.height+(i.top+i.bottom),0);var a=t.alignment;a.Tb()&&(a=e.defaultAlignment),a.tb()||(a=rt),t.arrange(r.width*a.x-o*a.x+a.offsetX,r.height*a.y-i*a.y+a.offsetY,n.width,n.height)},h(vl,sl),vl.prototype.measure=function(){},vl.prototype.arrange=function(){},vl.prototype.cc=function(e,t,r){0>=(r=e.Af()*r.scale)&&(r=1);var n=e.gridCellSize,i=n.width;n=n.height;var o=e.naturalBounds,a=e.actualBounds,s=o.width,l=o.height,u=Math.ceil(s/i),c=Math.ceil(l/n),h=e.gridOrigin,d=h.x;h=h.y,t.save(),t.beginPath(),t.rect(0,0,s,l),t.clip(),t.Ne();for(var f=[],p=e.P.s,m=p.length,y=0;y<m;y++){var g=p[y],v=[];if(f.push(v),g.visible){var b=g.interval;if(!(0>b)){g=Pl(g.figure);for(var x=0;x<m;x++)if(x!==y){var w=p[x];w.visible&&Pl(w.figure)===g&&((w=w.interval)>b&&v.push(w))}}}}for(m=(p=e.P.s).length,y=0;y<m;y++){var S=p[y];if(S.visible&&(v=S.interval||1,!(2>i*(g=Math.abs(v))*r))){if(b=S.segmentIndex,isFinite(b)&&!isNaN(b)||(b=0),0>b&&(b=g-Math.min(-b,g)),b=Math.round(b%g),x=1,1!==(g=S.opacity)){if(0===g)continue;x=t.globalAlpha,t.globalAlpha=x*g}w=f[y];var k=!1,_=S.strokeDashArray;if(null!==_&&(k=!0,t.bs(_,S.strokeDashOffset)),"LineV"===S.figure&&null!==S.stroke&&0<S.strokeWidth){for(t.lineWidth=S.strokeWidth,qa(e,t,S.stroke,!1,!1,o,a),t.beginPath(),_=S=Math.floor((d-i)/i);_<=S+u;_++){var j=_*i+d;0<=j&&j<=s&&bl(_,v,b,w)&&(t.moveTo(j,0),t.lineTo(j,l))}t.stroke(),t.Ne()}else if("LineH"===S.figure&&null!==S.stroke&&0<S.strokeWidth){for(t.lineWidth=S.strokeWidth,qa(e,t,S.stroke,!1,!1,o,a),t.beginPath(),_=S=Math.floor((h-n)/n);_<=S+c;_++)0<=(j=_*n+h)&&j<=l&&bl(_,v,b,w)&&(t.moveTo(0,j),t.lineTo(s,j));t.stroke(),t.Ne()}else if("BarV"===S.figure&&null!==S.fill)for(qa(e,t,S.fill,!0,!1,o,a),S=S.width,isNaN(S)&&(S=i),j=_=Math.floor((d-i)/i);j<=_+u;j++){var M=j*i+d;0<=M+S&&M<=s&&bl(j,v,b,w)&&t.fillRect(M,0,S,l)}else if("BarH"===S.figure&&null!==S.fill)for(qa(e,t,S.fill,!0,!1,o,a),S=S.height,isNaN(S)&&(S=n),j=_=Math.floor((h-n)/n);j<=_+c;j++)0<=(M=j*n+h)+S&&M<=l&&bl(j,v,b,w)&&t.fillRect(0,M,s,S);k&&t.Yr(),1!==g&&(t.globalAlpha=x)}}t.restore(),t.Qc(!1)},h(xl,sl),xl.prototype.measure=function(e,t,r,n,i){var o=n.length;if(e instanceof Vc||e instanceof vh){var a=null,s=null;if(e instanceof vh&&(a=e),e instanceof Vc&&(a=(s=e).adornedPart,null===e.j&&(e.j=[])),a instanceof vh){var l=a;if(0===o)Re(e.naturalBounds,0,0),e.measuredBounds.h(0,0,0,0);else{var u=e instanceof Vc?null:a.path;t=a.routeBounds,(r=e.fg).h(0,0,t.width,t.height);var c=l.points,h=a.pointsCount;null!==s?s.Ql(!1):null!==a&&a.Ql(!1),s=t.width;var d=t.height,f=e.j;if(f.length=0,null!==u){wl(e,s,d,u);var p=u.measuredBounds;r.Zc(p),f.push(p)}p=zt.alloc();for(var m=pe.alloc(),y=pe.alloc(),g=0;g<o;g++){var v=n[g];if(v!==u)if(v.isPanelMain&&v instanceof cu){wl(e,s,d,v);var b=v.measuredBounds;r.Zc(b),f.push(b)}else if(2>h)v.measure(1/0,1/0,0,0),b=v.measuredBounds,r.Zc(b),f.push(b);else{var x=v.segmentIndex,w=v.segmentFraction,S=v.alignmentFocus;S.Jc()&&(S=rt);var k=v.segmentOrientation,_=v.segmentOffset;if(isNaN(x)){var j=l.ta;b=E(),j.Mu(w,b);var M=pe.allocAt(b[0],b[1]);if(M.add(l.i(0)),j.type===Vt.j?M.offset(-j.startX,-j.startY):null!==(j=j.figures.first())&&M.offset(-j.startX,-j.startY),j=b[2],k!==Hh){var C=l.computeAngle(v,k,j);v.Ib=C}C=M.x-t.x;var P=M.y-t.y;pe.free(M),O(b)}else if(x<-h||x>=h)b=pe.alloc(),l.rg(),l.computeMidPoint(b),j=l.midAngle,k!==Hh&&(C=l.computeAngle(v,k,j),v.Ib=C),C=b.x-t.x,P=b.y-t.y,pe.free(b);else{if(C=0,0<=x?(P=c.L(x),b=x<h-1?c.L(x+1):P):(C=h+x,P=c.L(C),b=0<C?c.L(C-1):P),P.ab(b)){0<=x?(j=0<x?c.L(x-1):P,C=x<h-2?c.L(x+2):b):(j=C<h-1?c.L(C+1):P,C=1<C?c.L(C-2):b),M=j.yf(P);var T=b.yf(C);j=M>T+10?0<=x?j.$a(P):P.$a(j):T>M+10?0<=x?b.$a(C):C.$a(b):0<=x?j.$a(C):C.$a(j)}else j=0<=x?P.$a(b):b.$a(P);k!==Hh&&(C=l.computeAngle(v,k,j),v.Ib=C),C=P.x+(b.x-P.x)*w-t.x,P=P.y+(b.y-P.y)*w-t.y}v.measure(1/0,1/0,0,0),b=v.measuredBounds,M=v.naturalBounds;var A=0;v instanceof cu&&(A=v.strokeWidth),T=M.width+A;var L=M.height+A;p.reset(),p.translate(-b.x,-b.y),p.scale(v.scale,v.scale),p.rotate(k===Hh?v.angle:j,T/2,L/2),k!==Qh&&k!==nd||p.rotate(90,T/2,L/2),k!==ed&&k!==id||p.rotate(-90,T/2,L/2),k===od&&(45<j&&135>j||225<j&&315>j)&&p.rotate(-j,T/2,L/2),M=new Ne(0,0,T,L),m.ui(M,S),p.Ga(m),S=-m.x+A/2*v.scale,v=-m.y+A/2*v.scale,y.assign(_),A=isNaN(_.x);var N=isNaN(_.y);if(A||N){T=T/2+3,L=L/2+3;var R=45<=j&&135>=j,D=225<=j&&315>=j;k===Hh&&(R||D)?(y.x=N?T:_.y,y.y=A?L:_.x,R?0<=x||isNaN(x)&&.5>w||!A||(y.y=-L):D&&((0<=x||isNaN(x)&&.5>w)&&A&&(y.y=-L),N&&(y.x=-T))):(A&&(y.x=0<=x||isNaN(x)&&.5>w?T:-T),N&&(y.y=-L),y.rotate(j))}else y.rotate(j);C+=y.x,P+=y.y,M.set(b),M.h(C+S,P+v,b.width,b.height),f.push(M),r.Zc(M)}}if(null!==a)for(n=a.labelNodes;n.next();)n.value.measure(1/0,1/0);e.fg=r,e.position.h(t.x+r.x,t.y+r.y),Re(i,r.width||0,r.height||0),zt.free(p),pe.free(m),pe.free(y)}}}},xl.prototype.arrange=function(e,t){var r=t.length;if(e instanceof Vc||e instanceof vh){var n=e,i=null;e instanceof Vc&&(n=(i=e).adornedPart);var o=e instanceof Vc?null:n.path,a=e.j;if(0!==a.length){var s=0;if(null!==o&&s<a.length){var l=a[s];s++,o.arrange(l.x-e.fg.x,l.y-e.fg.y,l.width,l.height)}for(l=0;l<r;l++){var u=t[l];if(u!==o&&s<a.length){var c=a[s];s++,u.arrange(c.x-e.fg.x,c.y-e.fg.y,c.width,c.height)}}}if(2<=(r=(t=n.points).count)&&e instanceof vh)for(o=e.labelNodes;o.next();){var h=e;s=(a=o.value).segmentIndex,l=a.segmentFraction;var d=a.alignmentFocus;if(u=a.segmentOrientation,c=a.segmentOffset,isNaN(s)){var f=h.ta,p=E();f.Mu(l,p);var m=pe.allocAt(p[0],p[1]);m.add(h.i(0)),f.type===Vt.j||(f=f.figures.first()),m.offset(-f.startX,-f.startY),f=p[2],u!==Hh&&(h=h.computeAngle(a,u,f),a.angle=h),h=m.x;var y=m.y;pe.free(m),O(p)}else if(s<-r||s>=r)y=p=pe.alloc(),(f=h).rg(),f.computeMidPoint(y),f=h.midAngle,u!==Hh&&(h=h.computeAngle(a,u,f),a.angle=h),h=p.x,y=p.y,pe.free(p);else{if(m=0,0<=s?(p=t.s[s],y=s<r-1?t.s[s+1]:p):(m=r+s,p=t.s[m],y=0<m?t.s[m-1]:p),p.ab(y)){0<=s?(f=0<s?t.s[s-1]:p,m=s<r-2?t.s[s+2]:y):(f=m<r-1?t.s[m+1]:p,m=1<m?t.s[m-2]:y);var g=f.yf(p),v=y.yf(m);f=g>v+10?0<=s?f.$a(p):p.$a(f):v>g+10?0<=s?y.$a(m):m.$a(y):0<=s?f.$a(m):m.$a(f)}else f=0<=s?p.$a(y):y.$a(p);u!==Hh&&(h=h.computeAngle(a,u,f),a.angle=h),h=p.x+(y.x-p.x)*l,y=p.y+(y.y-p.y)*l}if(d.rs())a.location=new pe(h,y);else{d.Jc()&&(d=rt),(p=zt.alloc()).reset(),p.scale(a.scale,a.scale),p.rotate(a.angle,0,0);var b=a.naturalBounds;m=Ne.allocAt(0,0,b.width,b.height),(g=pe.alloc()).ui(m,d),p.Ga(g),d=-g.x,v=-g.y;var x=b.width,w=b.height;(b=pe.alloc()).assign(c);var S=isNaN(c.x),k=isNaN(c.y);if(S||k){x=x/2+3,w=w/2+3;var _=45<=f&&135>=f,j=225<=f&&315>=f;u===Hh&&(_||j)?(b.x=k?x:c.y,b.y=S?w:c.x,_?0<=s||isNaN(s)&&.5>l||!S||(b.y=-w):j&&((0<=s||isNaN(s)&&.5>l)&&S&&(b.y=-w),k&&(b.x=-x))):(S&&(b.x=0<=s||isNaN(s)&&.5>l?x:-x),k&&(b.y=-w),b.rotate(f))}else b.rotate(f);h+=b.x,y+=b.y,p.jp(m),d+=m.x,v+=m.y,s=pe.allocAt(h+d,y+v),a.move(s),pe.free(s),pe.free(b),pe.free(g),Ne.free(m),zt.free(p)}}null!==i?i.Ql(!1):n.Ql(!1),n=jc(e),e.location.h(e.position.x+n.x,e.position.y+n.y),pe.free(n)}},h(Sl,sl),Sl.prototype.measure=function(e,t,r,n,i,o,a){var s=e.sb();e.graduatedBounds=[];var l=s.margin,u=l.right+l.left,c=l.top+l.bottom;s.measure(t,r,o,a);var h=s.measuredBounds,d=new Ne(-l.left,-l.top,Math.max(h.width+u,0),Math.max(h.height+c,0));e.graduatedBounds.push(d),i.assign(d);for(var f=s.geometry,p=s.strokeWidth,m=f.flattenedSegments,y=f.flattenedLengths,g=f.flattenedTotalLength,v=m.length,b=0,x=0,w=E(),S=0;S<v;S++){var k=m[S],_=[];x=b=0;for(var j=k.length,M=0;M<j;M+=2){var C=k[M],P=k[M+1];if(0!==M){var T=180*Math.atan2(P-x,C-b)/Math.PI;0>T&&(T+=360),_.push(T)}b=C,x=P}w.push(_)}if(null===e.graduatedIntervals){for(var A=[],L=e.P.s,N=L.length,R=0;R<N;R++){var D=L[R],I=[];if(A.push(I),D.visible){var F=D.interval;if(!(0>F))for(var B=0;B<N;B++)if(B!==R){var U=L[B];if(U.visible&&D.constructor===U.constructor){var z=U.interval;z>F&&I.push(z)}}}}e.graduatedIntervals=A}var q=e.graduatedIntervals,G=e.P.s,V=G.length,H=0,W=0,X=g;e.graduatedMarks=[];for(var Y,K=0;K<V;K++){var Z=G[K];if(Y=[],Z.visible&&Z!==s){var $=Math.abs(Z.interval),J=e.graduatedTickUnit;if(!(2>J*$*g/e.graduatedRange&&null===Z.graduatedSkip)){var Q=y[0][0],ee=0,te=0;W=g*Z.graduatedStart-1e-4,X=g*Z.graduatedEnd+1e-4;var re=J*$,ne=e.graduatedTickBase;if(ne<e.graduatedMin){var ie=(e.graduatedMin-ne)/re;ne+=(ie=0===ie%1?ie:Math.floor(ie+1))*re}else ne>e.graduatedMin+re&&(ne-=Math.floor((ne-e.graduatedMin)/re)*re);for(var oe=q[K],ae=ne,se=1e-6*e.graduatedMax,le=1;ne<=e.graduatedMax+se;le++){e:{for(var ue=oe.length,ce=0;ce<ue;ce++){var he=(ne-e.graduatedTickBase)%(oe[ce]*e.graduatedTickUnit),de=1e-6*e.graduatedTickUnit;if(he<de&&he>-de){var fe=!1;break e}}fe=!0}if(fe&&(ne>e.graduatedMax&&(ne=e.graduatedMax),null===Z.graduatedSkip||Z instanceof Su&&!Z.graduatedSkip(ne,Z)||Z instanceof cu&&!Z.graduatedSkip(ne,Z))&&((H=(ne-e.graduatedMin)*g/e.graduatedRange)>g&&(H=g),W<=H&&H<=X)){for(var me=w[ee][te],ye=y[ee][te];ee<y.length;){for(;H>Q&&te<y[ee].length-1;)te++,me=w[ee][te],Q+=ye=y[ee][te];if(H<=Q)break;te=0,me=w[++ee][te],Q+=ye=y[ee][te]}var ge=m[ee],ve=ge[2*te],be=ge[2*te+1],xe=(H-(Q-ye))/ye,we=new pe(ve+(ge[2*te+2]-ve)*xe+p/2-f.bounds.x,be+(ge[2*te+3]-be)*xe+p/2-f.bounds.y);we.scale(s.scale,s.scale);e:{var Se=me,ke=w[ee];if(!(.5005>xe&&.4995<xe)){var _e=Se;if(.5>xe?0<te?_e=ke[te-1]:Gt.$(ge[0],ge[ge.length-2])&&Gt.$(ge[1],ge[ge.length-1])&&(_e=ke[ke.length-1]):.5<xe&&(te+1<ke.length?_e=ke[te+1]:Gt.$(ge[0],ge[ge.length-2])&&Gt.$(ge[1],ge[ge.length-1])&&(_e=ke[0])),Se!==_e){var je=Math.abs(Se-_e);if(180<je&&(Se<_e?Se+=360:_e+=360,je=Math.abs(Se-_e)),5e-4>xe||.9995<xe){me=(Se+_e)/2%360;break e}if(10>je){var Me=1-Math.abs(.5-xe);me=(Se*Me+_e*(1-Me))%360;break e}}}me=Se}if(Z instanceof Su){var Ce="";null!==Z.graduatedFunction?Ce=null!==(Ce=Z.graduatedFunction(ne,Z))&&void 0!==Ce?Ce.toString():"":Ce=(+ne.toFixed(2)).toString(),""!==Ce&&Y.push({Wl:we,angle:me,text:Ce})}else Y.push({Wl:we,angle:me})}ne=ae+le*re}}}e.graduatedMarks.push(Y)}O(w);var Pe=e.graduatedMarks;if(null!==Pe)for(var Te=n.length,Ee=0;Ee<Te;Ee++){var Oe=n[Ee],Ae=Pe[Ee];if(Oe.visible&&Oe!==s&&0!==Ae.length){if(Oe instanceof cu){var Le=e,Re=i,De=Oe.alignmentFocus;De.Jc()&&(De=Qe);var Ie=Oe.angle;Oe.Ib=0,Oe.measure(1/0,1/0,0,0),Oe.Ib=Ie;var Fe=Oe.measuredBounds,Be=Fe.width,Ue=Fe.height,ze=Ne.allocAt(0,0,Be,Ue),Ge=pe.alloc();Ge.ui(ze,De),Ne.free(ze);for(var Ve=-Ge.x,He=-Ge.y,We=new Ne,Xe=Ae.length,Ye=0;Ye<Xe;Ye++)for(var Ke=Ae[Ye],Ze=Ke.Wl.x,$e=Ke.Wl.y,Je=Ke.angle,et=0;4>et;et++){switch(et){case 0:Ge.h(Ve,He);break;case 1:Ge.h(Ve+Be,He);break;case 2:Ge.h(Ve,He+Ue);break;case 3:Ge.h(Ve+Be,He+Ue)}Ge.rotate(Je+Oe.angle),Ge.offset(Ze,$e),0===Ye&&0===et?We.h(Ge.x,Ge.y,0,0):We.Ue(Ge),Ge.offset(-Ze,-$e),Ge.rotate(-Je-Oe.angle)}pe.free(Ge),null!==Le.graduatedBounds&&Le.graduatedBounds.push(We),qe(Re,We.x,We.y,We.width,We.height)}else if(Oe instanceof Su){var tt=e,rt=i;null===tt.temporaryTextBlock&&(tt.temporaryTextBlock=new Su);var nt=tt.temporaryTextBlock;_u(nt,Oe);var it=Oe.alignmentFocus;it.Jc()&&(it=Qe);for(var ot=Oe.segmentOrientation,at=Oe.segmentOffset,st=new Ne,lt=0,ut=0,ct=0,ht=0,dt=0,ft=Ae.length,pt=0;pt<ft;pt++){var mt=Ae[pt];lt=mt.Wl.x,ut=mt.Wl.y,ct=mt.angle,dt=ht=Oe.angle,ot!==Hh&&(dt=ot===Jh||ot===rd?ct+Oe.angle:ct,ht=vh.computeAngle(ot,dt)),nt.Ib=ht,nt.text=mt.text||"",nt.measure(1/0,1/0,0,0);var yt=nt.measuredBounds,gt=nt.naturalBounds,vt=gt.width,bt=gt.height,xt=zt.alloc();xt.reset(),xt.translate(-yt.x,-yt.y),xt.scale(nt.scale,nt.scale),xt.rotate(dt,vt/2,bt/2),ot!==Qh&&ot!==nd||xt.rotate(90,vt/2,bt/2),ot!==ed&&ot!==id||xt.rotate(-90,vt/2,bt/2),ot===od&&(45<ct&&135>ct||225<ct&&315>ct)&&xt.rotate(-ct,vt/2,bt/2);var wt=Ne.allocAt(0,0,vt,bt),St=pe.alloc();St.ui(wt,it),xt.Ga(St);var kt=-St.x,_t=-St.y,jt=pe.alloc();jt.assign(at),isNaN(jt.x)&&(jt.x=vt/2+3),isNaN(jt.y)&&(jt.y=-(bt/2+3)),jt.rotate(ct);var Mt=new Ne(lt+=jt.x+kt,ut+=jt.y+_t,yt.width,yt.height),Ct=new Ne(yt.x,yt.y,yt.width,yt.height),Pt=new Ne(gt.x,gt.y,gt.width,gt.height);mt.Jz=ht,mt.lineCount=nt.lineCount,mt.lines=[nt.Cb,nt.Eh,nt.$e,nt.He,nt.Nc,nt.Xb,nt.ve],mt.actualBounds=Mt,mt.measuredBounds=Ct,mt.naturalBounds=Pt,0===pt?st.assign(Mt):st.Zc(Mt),pe.free(jt),pe.free(St),Ne.free(wt),zt.free(xt)}null!==tt.graduatedBounds&&tt.graduatedBounds.push(st),qe(rt,st.x,st.y,st.width,st.height)}es(Oe,!1)}}},Sl.prototype.arrange=function(e,t,r){if(null!==e.graduatedBounds){var n=e.sb(),i=e.graduatedMarks;if(null!==i){var o=e.graduatedBounds,a=0,s=o[a];a++,null!==n&&n.arrange(s.x-r.x,s.y-r.y,s.width,s.height);for(var l=t.length,u=0;u<l;u++){var c=t[u];s=i[u],c.visible&&c!==n&&0!==s.length&&(s=o[a],a++,c.arrange(s.x-r.x,s.y-r.y,s.width,s.height))}e.graduatedBounds=null}}},Sl.prototype.cc=function(e,t,r){var n=r.Xi;r.Xi=!0;var i=e.naturalBounds,o=i.width,a=i.height;i=t instanceof ys,t.save(),t.beginPath(),t.rect(-1,-1,o+1,a+1),t.clip(),t.Ne(),(o=e.sb()).cc(t,r),0>=(a=e.Af()*r.scale)&&(a=1);for(var s=o.actualBounds,l=e.P.s,u=e.graduatedMarks,c=l.length,h=0;h<c;h++){var d=l[h],f=u[h],p=f.length;if(d.visible&&d!==o&&0!==f.length)if(d instanceof cu){if(!(2>e.graduatedTickUnit*d.interval*o.geometry.flattenedTotalLength/e.graduatedRange*a&&null===d.graduatedSkip)){var m=d.measuredBounds,y=d.strokeWidth*d.scale,g=d.alignmentFocus;g.Jc()&&(g=Qe);for(var v=0;v<p;v++){var b=f[v].Wl,x=f[v].angle,w=g,S=d.Ab;S.reset(),S.translate(b.x+s.x,b.y+s.y),S.rotate(x+d.angle,0,0),S.translate(-m.width*w.x+w.offsetX+y/2,-m.height*w.y+w.offsetY+y/2),S.scale(d.scale,d.scale),$a(d,!1),d.rh.set(d.Ab),d.Fk=d.scale,Ja(d,!1),d.cc(t,r),i&&(e.svg.appendChild(d.svg),d.svg=null),d.Ab.reset()}}}else if(d instanceof Su)for(null===e.temporaryTextBlock&&(e.temporaryTextBlock=new Su),_u(m=e.temporaryTextBlock,d),y=0;y<p;y++)(g=f[y]).actualBounds&&g.measuredBounds&&g.naturalBounds&&(m.bc=g.text||"",m.Ib=g.Jz||0,m.Dc=g.lineCount||0,void 0!==(v=g.lines)&&(m.Cb=v[0],m.Eh=v[1],m.$e=v[2],m.He=v[3],m.Nc=v[4],m.Xb=v[5],m.ve=v[6]),g.naturalBounds&&(m.ac=g.naturalBounds),g.actualBounds&&(v=g.actualBounds,m.arrange(v.x,v.y,v.width,v.height)),v=g.actualBounds,m.arrange(v.x,v.y,v.width,v.height),b=g.measuredBounds,g=g.naturalBounds,(x=m.Ab).reset(),x.translate(v.x+s.x,v.y+s.y),x.translate(-b.x,-b.y),m.jo(x,g.x,g.y,g.width,g.height),$a(m,!1),m.rh.set(m.Ab),m.Fk=m.scale,Ja(m,!1),m.Ig=d.part,m.Ie=d.panel,m.cc(t,r),m.Ie=null,m.Ig=null,i&&(e.svg.appendChild(m.svg),m.svg=null))}r.Xi=n,t.restore(),t.Qc(!0)},h(kl,Aa),kl.prototype.cloneProtected=function(e){Aa.prototype.cloneProtected.call(this,e),e.na=this.na,e.yb=this.yb.J(),e.Qm=this.Qm.J(),e.Rf=this.Rf,e.We=this.We,e.fg.assign(this.fg),null!==this.T&&(e.T=this.T.copy(e)),e.to=this.to,e.en=this.en.J(),e.fn=this.fn.J(),null!==this.ra&&(e.ra=this.ra.copy()),e.ub=this.ub,e.vn=this.vn,e.Dh=this.Dh},kl.prototype.xf=function(e){Aa.prototype.xf.call(this,e),e.P=this.P;for(var t=e.P.s,r=t.length,n=0;n<r;n++)t[n].Ie=e;e.Ug=null},kl.prototype.copy=function(){var e=Aa.prototype.copy.call(this);if(null!==e){for(var t=this.P.s,r=t.length,n=0;n<r;n++){var i=t[n].copy();i.ti(e),i.Ig=null;var o=e.P,a=o.count;if(o.Eb(a,i),null!==(o=e.part)){o.Nh=null,null!==i.portId&&o instanceof Wc&&(o.Oe=!0);var s=e.diagram;null!==s&&s.undoManager.isUndoingRedoing||o.cb(fr,"elements",e,null,i,null,a)}}return e}return null},(t=kl.prototype).toString=function(){return"Panel("+this.type.name+")#"+te(this)},t.Ln=function(e){Aa.prototype.Ln.call(this,e);for(var t=this.P.s,r=t.length,n=0;n<r;n++)t[n].Ln(e)},t.bh=function(e,t){if(this.na===kl.Grid)e.vc(),this.na.cc(this,e,t);else if(this.na===kl.Graduated)e.vc(),this.na.cc(this,e,t);else{if(this.na===kl.Table)if(e.vc(),e instanceof ys){var r=e.sd;e.sd=_s(e,"gojs-ts"),_l(this,e),e.ih.pop(),e.sd=r}else _l(this,e);(r=this.isClipping&&this.na===kl.Spot)&&e.save();for(var n=this.sb(),i=this.P.s,o=i.length,a=0;a<o;a++){var s=i[a];r&&s===n&&(e.clipInsteadOfFill=!0),s.cc(e,t),r&&s===n&&(e.clipInsteadOfFill=!1)}r&&(e.restore(),e.Qc(!0))}},t.fk=function(e,t,r){if(!Aa.prototype.fk.call(this,e,t,r))return!1;if(this.type===kl.Table)null!==(r=0!==(r=this.svg.getElementsByClassName("gojs-ts")).length?r[0]:null)&&(r.innerHTML=""),e.sd=r,_l(this,e),e.sd=null;else if(this.na===kl.Grid||this.na===kl.Graduated)return this.svg.remove(),!1;for(var n=(r=this.P.s).length,i=0;i<n;i++)r[i].cc(e,t);return!0},t.ik=function(){return!0},t.Uo=function(e,t,r,n){this.isClipping||Aa.prototype.Uo.call(this,e,t,r,n)},t.Qj=function(e,t,r,n,i){var o=this.oe(),a=this.transform,s=1/(a.m11*a.m22-a.m12*a.m21),l=a.m22*s,u=-a.m12*s,c=-a.m21*s,h=a.m11*s,d=s*(a.m21*a.dy-a.m22*a.dx),f=s*(a.m12*a.dx-a.m11*a.dy);if(null!==this.areaBackground)return a=this.actualBounds,Gt.Cf(a.left,a.top,a.right,a.bottom,e,t,r,n,i);if(null!==this.background)return o=e*l+t*c+d,s=e*u+t*h+f,e=r*l+n*c+d,l=r*u+n*h+f,i.h(0,0),r=this.naturalBounds,o=Gt.Cf(0,0,r.width,r.height,o,s,e,l,i),i.transform(a),o;o||(l=1,c=u=0,h=1,f=d=0),s=e*l+t*c+d,e=e*u+t*h+f,l=r*l+n*c+d,r=r*u+n*h+f,i.h(l,r),n=(l-s)*(l-s)+(r-e)*(r-e),u=!1,f=(h=this.P.s).length,c=pe.alloc(),d=null,t=1/0;var p=null,m=this.isClipping&&this.na===kl.Spot;m&&(p=pe.alloc(),(u=(d=this.sb()).Qj(s,e,l,r,p))&&(t=(s-p.x)*(s-p.x)+(e-p.y)*(e-p.y)));for(var y=0;y<f;y++){var g=h[y];g.visible&&g!==d&&g.Qj(s,e,l,r,c)&&(u=!0,(g=(s-c.x)*(s-c.x)+(e-c.y)*(e-c.y))<n&&(n=g,i.set(c)))}return m&&(t>n&&i.set(p),pe.free(p)),pe.free(c),o&&i.transform(a),u},t.Ej=function(){for(var e=this.P.s,t=e.length,r=0;r<t;r++)e[r].Ej();Aa.prototype.Ej.call(this)},t.v=function(e){if(!Qa(this)){Aa.prototype.v.call(this,e),e=null,this.na!==kl.Auto&&this.na!==kl.Link||(e=this.sb());for(var t=this.P.s,r=t.length,n=0;n<r;n++){var i=t[n];if((i===e||i.isPanelMain)&&i.v(!0),!i.desiredSize.w()){var o=Ha(i,!1);(i instanceof gh||i instanceof kl||i instanceof Su||o!==ha)&&i.v(!0)}}}},t.Sj=function(){if(!Qa(this)){es(this,!0),rs(this,!0);for(var e=this.P.s,t=e.length,r=0;r<t;r++)e[r].Sj()}},t.Pk=function(){if(0!==(2048&this.o)===!1){$a(this,!0),Ja(this,!0);for(var e=this.P.s,t=e.length,r=0;r<t;r++)e[r].Su()}},t.Su=function(){Ja(this,!0);for(var e=this.P.s,t=e.length,r=0;r<t;r++)e[r].Su()},t.Sl=function(e,t,r,n){var i=this.fg;i.h(0,0,0,0);var o=this.desiredSize,a=this.minSize;void 0===r&&(r=a.width,n=a.height),r=Math.max(r,a.width),n=Math.max(n,a.height);var s=this.maxSize;isNaN(o.width)||(e=Math.min(o.width,s.width)),isNaN(o.height)||(t=Math.min(o.height,s.height)),e=Math.max(r,e),t=Math.max(n,t);var l=this.yb;e=Math.max(e-l.left-l.right,0),t=Math.max(t-l.top-l.bottom,0);var u=this.P.s;0!==u.length&&this.na.measure(this,e,t,u,i,r,n),e=i.width+l.left+l.right,l=i.height+l.top+l.bottom,isFinite(o.width)&&(e=o.width),isFinite(o.height)&&(l=o.height),e=Math.min(s.width,e),l=Math.min(s.height,l),e=Math.max(a.width,e),l=Math.max(a.height,l),Re(i,e=Math.max(r,e),l=Math.max(n,l)),Re(this.naturalBounds,e,l),this.Ce(0,0,e,l)},t.sb=function(){if(null===this.Ug){var e=this.P.s,t=e.length;if(0===t)return null;for(var r=0;r<t;r++){var n=e[r];if(!0===n.isPanelMain)return this.Ug=n}this.Ug=e[0]}return this.Ug},t.Zg=function(e,t,r,n){var i=this.P.s;if(this.actualBounds.h(e,t,r,n),0!==i.length){if(!this.desiredSize.w()){e=Ha(this,!0);var o=this.measuredBounds;t=o.width,o=o.height;var a=this.Fg,s=a.left+a.right;switch(a=a.top+a.bottom,t===r&&o===n&&(e=ha),e){case ha:(t>r||o>n)&&(this.v(),this.measure(t>r?r:t,o>n?n:o,0,0));break;case ca:this.v(!0),this.measure(r+s,n+a,0,0);break;case fa:this.v(!0),this.measure(r+s,o+a,0,0);break;case pa:this.v(!0),this.measure(t+s,n+a,0,0)}}this.na.arrange(this,i,this.fg)}},t.ah=function(e){var t=this.naturalBounds,r=Tl(this);if(Ge(0,0,t.width,t.height,e.x,e.y)){for(var n=(t=this.P.s).length,i=pe.allocAt(0,0);n--;){var o=t[n];if((o.visible||o===r)&&(ve(i.set(e),o.transform),o.ca(i)))return pe.free(i),!0}return pe.free(i),null!==this.Ra||null!==this.areaBackground}return!1},t.cs=function(e){if(this.bindingId===e)return this;for(var t=this.P.s,r=t.length,n=0;n<r;n++){var i=t[n].cs(e);if(null!==i)return i}return null},t.nm=function(e,t){if(t(this,e),e instanceof kl)for(var r=(e=e.P.s).length,n=0;n<r;n++)this.nm(e[n],t)},t.Il=function(e){return Nl(this,this,e)},t.fb=function(e){if(this.name===e)return this;var t=this.P.s,r=t.length;null===this.Dh&&null===this.itemTemplateMap||(r=Hl(this));for(var n=0;n<r;n++){var i=t[n];if(i instanceof kl){var o=i.fb(e);if(null!==o)return o}if(i.name===e)return i}return null},t.oe=function(){return!(this.type===kl.TableRow||this.type===kl.TableColumn)},t.ec=function(e,t,r){if(!1===this.pickable)return null;if(void 0===t&&(t=null),void 0===r&&(r=null),ts(this))return null;var n=this.naturalBounds,i=1/this.Af(),o=this.oe(),a=o?e:ve(pe.allocAt(e.x,e.y),this.transform),s=this.diagram,l=10,u=5;if(null!==s&&(u=(l=s.Ll("extraTouchArea"))/2),Ge(-u*i,-u*i,n.width+l*i,n.height+l*i,a.x,a.y)){if(!this.isAtomic){var c=(i=this.P.s).length;if(s=pe.alloc(),u=(l=this.isClipping&&this.na===kl.Spot)?this.sb():null,l&&(u.oe()?ve(s.set(e),u.transform):s.set(e),!u.ca(s)))return pe.free(s),o||pe.free(a),null;for(var h=Tl(this);c--;){var d=i[c];if((d.visible||d===h)&&(d.oe()?ve(s.set(e),d.transform):s.set(e),!l||d!==u)){var f=null;if(d instanceof kl?f=d.ec(s,t,r):!0===d.pickable&&d.ca(s)&&(f=d),null!==f&&(null!==t&&(f=t(f)),null!==f&&(null===r||r(f))))return pe.free(s),o||pe.free(a),f}}pe.free(s)}return null===this.background&&null===this.areaBackground?(o||pe.free(a),null):(e=Ge(0,0,n.width,n.height,a.x,a.y)?this:null,o||pe.free(a),e)}return o||pe.free(a),null},t.gi=function(e,t,r,n){if(!1===this.pickable)return!1;void 0===t&&(t=null),void 0===r&&(r=null);var i=this.naturalBounds,o=this.oe(),a=o?e:ve(pe.allocAt(e.x,e.y),this.transform);if(i=Ge(0,0,i.width,i.height,a.x,a.y),Dl(this)||i){if(!this.isAtomic){for(var s=this.P.s,l=s.length,u=pe.alloc(),c=Tl(this);l--;){var h=s[l];if(h.visible||h===c){h.oe()?ve(u.set(e),h.transform):u.set(e);var d=h;(null!==(h=h instanceof kl?h:null)?h.gi(u,t,r,n):d.ca(u))&&!1!==d.pickable&&(null!==t&&(d=t(d)),null===d||null!==r&&!r(d)||n.add(d))}}pe.free(u)}return o||pe.free(a),i&&(null!==this.background||null!==this.areaBackground)}return o||pe.free(a),!1},t.zf=function(e,t,r,n,i,o){if(!1===this.pickable)return!1;void 0===t&&(t=null),void 0===r&&(r=null);var a=o;if(void 0===o&&(a=zt.alloc()).reset(),a.multiply(this.transform),this.$g(e,a))return Il(this,t,r,i),void 0===o&&zt.free(a),!0;if(this.Tc(e,a)){if(!this.isAtomic)for(var s=Tl(this),l=this.P.s,u=l.length;u--;){var c=l[u];if(c.visible||c===s){var h=c.actualBounds,d=this.naturalBounds;h.x>d.width||h.y>d.height||0>h.x+h.width||0>h.y+h.height||(h=c,c=c instanceof kl?c:null,(d=zt.alloc()).set(a),(null!==c?c.zf(e,t,r,n,i,d):Ra(h,e,n,d))&&(null!==t&&(h=t(h)),null===h||null!==r&&!r(h)||i.add(h)),zt.free(d))}}return void 0===o&&zt.free(a),n}return void 0===o&&zt.free(a),!1},t.kg=function(e,t,r,n,i,o){if(!1===this.pickable)return!1;void 0===r&&(r=null),void 0===n&&(n=null);var a=this.naturalBounds,s=this.oe(),l=s?e:ve(pe.allocAt(e.x,e.y),this.transform),u=s?t:ve(pe.allocAt(t.x,t.y),this.transform),c=l.yf(u),h=0<l.x&&l.x<a.width&&0<l.y&&l.y<a.height||be(l.x,l.y,0,0,0,a.height)<=c||be(l.x,l.y,0,a.height,a.width,a.height)<=c||be(l.x,l.y,a.width,a.height,a.width,0)<=c||be(l.x,l.y,a.width,0,0,0)<=c;if(a=l.td(0,0)<=c&&l.td(0,a.height)<=c&&l.td(a.width,0)<=c&&l.td(a.width,a.height)<=c,s||(pe.free(l),pe.free(u)),h){if(!this.isAtomic){l=pe.alloc(),u=pe.alloc(),c=Tl(this);for(var d=this.P.s,f=d.length;f--;){var p=d[f];if(p.visible||p===c){var m=p.actualBounds,y=this.naturalBounds;s&&(m.x>y.width||m.y>y.height||0>m.x+m.width||0>m.y+m.height)||(p.oe()?(m=p.transform,ve(l.set(e),m),ve(u.set(t),m)):(l.set(e),u.set(t)),m=p,(null!==(p=p instanceof kl?p:null)?p.kg(l,u,r,n,i,o):m.mx(l,u,i))&&(null!==r&&(m=r(m)),null===m||null!==n&&!n(m)||o.add(m)))}}pe.free(l),pe.free(u)}return i?h:a}return!1},t.add=function(e){for(var t=[],r=0;r<arguments.length;++r)t[r]=arguments[r];for(r=0;r<t.length;r++)this.Eb(this.P.count,t[r]);return this},t.L=function(e){return this.P.L(e)},t.Eb=function(e,t){t instanceof vc&&w("Cannot add a Part to a Panel: "+t+"; use a Panel instead"),(this===t||this.ng(t))&&(this===t&&w("Cannot make a Panel contain itself: "+this.toString()),w("Cannot make a Panel indirectly contain itself: "+this.toString()+" already contains "+t.toString()));var r=t.panel;if(null!==r&&r!==this&&w("Cannot add a GraphObject that already belongs to another Panel to this Panel: "+t.toString()+", already contained by "+r.toString()+", cannot be shared by this Panel: "+this.toString()),this.na!==kl.Grid||t instanceof cu||w("Can only add Shapes to a Grid Panel, not: "+t),this.na!==kl.Graduated||t instanceof cu||t instanceof Su||w("Can only add Shapes or TextBlocks to a Graduated Panel, not: "+t),t.ti(this),t.Ig=null,null!==this.itemArray){var n=t.data;null!==n&&"object"===typeof n&&(null===this.ce&&(this.ce=new fe),this.ce.add(n,t))}var i=this.P;if(n=-1,r===this){for(var o=-1,a=this.P.s,s=a.length,l=0;l<s;l++)if(a[l]===t){o=l;break}if(-1!==o){if(o===e||o+1>=i.count&&e>=i.count)return;i.nb(o),n=o}else w("element "+t.toString()+" has panel "+r.toString()+" but is not contained by it.")}(0>e||e>i.count)&&(e=i.count),i.Eb(e,t),(0===e||t.isPanelMain)&&(this.Ug=null),Qa(this)||this.v(),t.v(!1),(null!==t.portId||t instanceof kl&&!0===t.Oe)&&(this.Oe=!0),this.graduatedIntervals=null,this.Ff()||$l(this,t,!1),null!==(r=this.part)&&(r.Nh=null,r.Xf=NaN,this.Oe&&r instanceof Wc&&(r.Oe=!0),r.Oe&&r instanceof Wc&&(r.tc=null),null!==(i=this.diagram)&&i.undoManager.isUndoingRedoing||(-1!==n&&r.cb(pr,"elements",this,t,null,n,null),r.cb(fr,"elements",this,null,t,null,e)))},t.remove=function(e){for(var t=this.P.s,r=t.length,n=-1,i=0;i<r;i++)if(t[i]===e){n=i;break}-1!==n&&this.mc(n,!0)},t.nb=function(e){0<=e&&this.mc(e,!0)},t.mc=function(e,t){var r=this.P,n=r.L(e);if(n.Ig=null,n.ti(null),null!==this.ce){var i=n.data;"object"===typeof i&&this.ce.remove(i)}r.nb(e),es(this,!1),this.v(),this.Ug===n&&(this.Ug=null),this.graduatedIntervals=null;var o=this.part;null!==o&&(o.Nh=null,o.Xf=NaN,o.Sb(),o instanceof Wc&&(n instanceof kl?n.nm(n,(function(e,r){ih(o,r,t)})):ih(o,n,t)),null!==(r=this.diagram)&&r.undoManager.isUndoingRedoing||o.cb(pr,"elements",this,n,null,e,null))},kl.prototype.getRowDefinition=function(e){0>e&&k(e,">= 0",kl,"getRowDefinition:idx"),e=Math.round(e);var t=this.rowDefs;if(void 0===t[e]){var r=new iu;r.ti(this),r.isRow=!0,r.index=e,t[e]=r,this.cb(fr,"rowdefs",this,null,r,null,e)}return t[e]},kl.prototype.eA=function(e){if(0>e&&k(e,">= 0",kl,"removeRowDefinition:idx"),0!==this.rowCount){e=Math.round(e);var t=this.rowDefs,r=t[e];if(r){t[e]=void 0;for(var n=t.length-1;0<=n&&void 0===t[n--];)t.length--;this.cb(pr,"rowdefs",this,r,null,e,null),this.v()}}},kl.prototype.getColumnDefinition=function(e){0>e&&k(e,">= 0",kl,"getColumnDefinition:idx"),e=Math.round(e);var t=this.colDefs;if(void 0===t[e]){var r=new iu;r.ti(this),r.isRow=!1,r.index=e,t[e]=r,this.cb(fr,"coldefs",this,null,r,null,e)}return t[e]},kl.prototype.$z=function(e){if(0>e&&k(e,">= 0",kl,"removeColumnDefinition:idx"),0!==this.columnCount){e=Math.round(e);var t=this.colDefs,r=t[e];if(r){t[e]=void 0;for(var n=t.length-1;0<=n&&void 0===t[n--];)t.length--;this.cb(pr,"coldefs",this,r,null,e,null),this.v()}}},kl.prototype.addRowColumnDefinition=function(e){var t=null;return e.isRow?t=this.getRowDefinition(e.index):e.isRow||(t=this.getColumnDefinition(e.index)),t&&ou(t,e),this},(t=kl.prototype).fz=function(e){if(0>e||this.type!==kl.Table||0===this.rowCount)return-1;for(var t=0,r=this.rowDefs,n=r.length,i=this.topIndex;i<n;i++){var o=r[i];if(void 0!==o&&e<(t+=o.total))break}return i},t.Yy=function(e){if(0>e||this.type!==kl.Table||0===this.columnCount)return-1;for(var t=0,r=this.colDefs,n=r.length,i=this.leftIndex;i<n;i++){var o=r[i];if(void 0!==o&&e<(t+=o.total))break}return i},t.xz=function(e,t){if(void 0===t&&(t=new pe(NaN,NaN)),this.type!==kl.Graduated)return t.h(NaN,NaN),t;e=Math.min(Math.max(e,this.graduatedMin),this.graduatedMax);var r=this.sb();return r.geometry.Lu((e-this.graduatedMin)/this.graduatedRange,t),r.transform.Ga(t)},t.yz=function(e){if(this.type!==kl.Graduated)return NaN;var t=this.sb();return t.transform.Ld(e),t.geometry.qx(e)*this.graduatedRange+this.graduatedMin},t.My=function(e){void 0===e&&(e=!1);var t=this.copy();return Al(t,(function(e){e instanceof kl&&(e.allBindings=null,e.ub=null);var t=e.localBindings;null!==t&&(e.localBindings=null,t.each((function(t){e.bind(t.copy())}))),null!==(t=e.animationTriggers)&&(e.animationTriggers=null,t.each((function(t){e.Cv(t.value.copy())})))})),e&&Vl(t),t},t.Ma=function(e){var t=this.allBindings;if(null!==t)for(void 0===e&&(e=""),t=t.iterator;t.next();){var r=t.value,n=r.sourceProperty;if((""===e||""===n||n===e)&&(n=r.targetProperty,null!==r.converter||""!==n)){n=this.data;var i=r.sourceName;if(null!==i){if(""===i)n=this;else if("/"===i)n=this;else if("."===i)n=this;else if(".."===i)n=this;else if(null===(n=this.fb(i)))continue}else if(r.isToModel){if(null===(n=this.diagram))continue;n=n.model.modelData}var o=this,a=r.xi;if(-1!==a){if(null===(o=this.cs(a)))continue}else null!==r.rd&&(o=r.rd);if("/"===i?n=o.part:"."===i?n=o:".."===i&&(n=o.panel),0!==(i=r.po)){if(!(o instanceof kl))continue;1===i?o=o.getColumnDefinition(r.sl):2===i&&(o=o.getRowDefinition(r.sl))}void 0!==o&&r.Fv(o,n)}}},t.lx=function(e){return void 0===e||null===e||null===this.ce?null:this.ce.I(e)},t.hv=function(){for(var e=Hl(this);this.P.length>e;)this.mc(this.P.length-1,!1);Wl(this,this.itemArray)},d.Object.defineProperties(kl.prototype,{type:{get:function(){return this.na},set:function(e){var t=this.na;t!==e&&(this.na=e,this.isAtomic=this.na===kl.Grid,this.v(),this.g("type",t,e))}},elements:{get:function(){return this.P.iterator}},naturalBounds:{get:function(){return this.ac}},padding:{get:function(){return this.yb},set:function(e){"number"===typeof e?(0>e&&k(e,">= 0",kl,"padding"),e=new Ye(e)):(0>e.left&&k(e.left,">= 0",kl,"padding:value.left"),0>e.right&&k(e.right,">= 0",kl,"padding:value.right"),0>e.top&&k(e.top,">= 0",kl,"padding:value.top"),0>e.bottom&&k(e.bottom,">= 0",kl,"padding:value.bottom"));var t=this.yb;t.C(e)||(this.yb=e=e.J(),this.v(),this.g("padding",t,e))}},defaultAlignment:{get:function(){return this.Qm},set:function(e){var t=this.Qm;t.C(e)||(this.Qm=e=e.J(),this.v(),this.g("defaultAlignment",t,e))}},defaultStretch:{get:function(){return this.Rf},set:function(e){var t=this.Rf;t!==e&&(this.Rf=e,this.v(),this.g("defaultStretch",t,e))}},defaultSeparatorPadding:{get:function(){return null!==this.T?this.T.Kp:Lt},set:function(e){"number"===typeof e&&(e=new Ye(e));var t=this.defaultSeparatorPadding;t.C(e)||(e=e.J(),null===this.T&&(this.T=new nu),this.T.Kp=e,this.v(),this.g("defaultSeparatorPadding",t,e))}},defaultRowSeparatorStroke:{get:function(){return null!==this.T?this.T.ga:null},set:function(e){var t=this.defaultRowSeparatorStroke;t!==e&&(null===e||"string"===typeof e||e instanceof As)&&(e instanceof As&&e.freeze(),null===this.T&&(this.T=new nu),this.T.ga=e,this.N(),this.g("defaultRowSeparatorStroke",t,e))}},defaultRowSeparatorStrokeWidth:{get:function(){return null!==this.T?this.T.Ha:1},set:function(e){var t=this.defaultRowSeparatorStrokeWidth;t!==e&&isFinite(e)&&0<=e&&(null===this.T&&(this.T=new nu),this.T.Ha=e,this.v(),this.g("defaultRowSeparatorStrokeWidth",t,e))}},defaultRowSeparatorDashArray:{get:function(){return null!==this.T?this.T.V:null},set:function(e){var t=this.defaultRowSeparatorDashArray;if(t!==e){if(null!==e){for(var r=e.length,n=0,i=0;i<r;i++){var o=e[i];"number"===typeof o&&0<=o&&isFinite(o)||w("defaultRowSeparatorDashArray value "+o+" at index "+i+" must be a positive number or zero."),n+=o}if(0===n){if(null===t)return;e=null}}null===this.T&&(this.T=new nu),this.T.V=e,this.N(),this.g("defaultRowSeparatorDashArray",t,e)}}},defaultColumnSeparatorStroke:{get:function(){return null!==this.T?this.T.u:null},set:function(e){var t=this.defaultColumnSeparatorStroke;t!==e&&(null===e||"string"===typeof e||e instanceof As)&&(e instanceof As&&e.freeze(),null===this.T&&(this.T=new nu),this.T.u=e,this.N(),this.g("defaultColumnSeparatorStroke",t,e))}},defaultColumnSeparatorStrokeWidth:{get:function(){return null!==this.T?this.T.F:1},set:function(e){var t=this.defaultColumnSeparatorStrokeWidth;t!==e&&isFinite(e)&&0<=e&&(null===this.T&&(this.T=new nu),this.T.F=e,this.v(),this.g("defaultColumnSeparatorStrokeWidth",t,e))}},defaultColumnSeparatorDashArray:{get:function(){return null!==this.T?this.T.m:null},set:function(e){var t=this.defaultColumnSeparatorDashArray;if(t!==e){if(null!==e){for(var r=e.length,n=0,i=0;i<r;i++){var o=e[i];"number"===typeof o&&0<=o&&isFinite(o)||w("defaultColumnSeparatorDashArray value "+o+" at index "+i+" must be a positive number or zero."),n+=o}if(0===n){if(null===t)return;e=null}}null===this.T&&(this.T=new nu),this.T.m=e,this.N(),this.g("defaultColumnSeparatorDashArray",t,e)}}},inRowsCols:{get:function(){return null!==this.T?this.T.ob:null},set:function(e){null===this.T&&(this.T=new nu),this.T.ob=e}},viewboxStretch:{get:function(){return this.to},set:function(e){var t=this.to;t!==e&&(this.to=e,this.v(),this.g("viewboxStretch",t,e))}},gridCellSize:{get:function(){return this.en},set:function(e){var t=this.en;if(!t.C(e)){e.w()&&0!==e.width&&0!==e.height||w("Invalid Panel.gridCellSize: "+e),this.en=e.J();var r=this.diagram;null!==r&&this===r.grid&&yo(r),this.N(),this.g("gridCellSize",t,e)}}},gridOrigin:{get:function(){return this.fn},set:function(e){var t=this.fn;if(!t.C(e)){e.w()||w("Invalid Panel.gridOrigin: "+e),this.fn=e.J();var r=this.diagram;null!==r&&this===r.grid&&yo(r),this.N(),this.g("gridOrigin",t,e)}}},graduatedMin:{get:function(){return null!==this.ra?this.ra.eq:0},set:function(e){var t=this.graduatedMin;t!==e&&(null===this.ra&&(this.ra=new ru),this.ra.eq=e,this.v(),this.g("graduatedMin",t,e),Ka(this)&&(null!==(e=this.part)&&Na(this,e,"graduatedRange")))}},graduatedMax:{get:function(){return null!==this.ra?this.ra.F:100},set:function(e){var t=this.graduatedMax;t!==e&&(null===this.ra&&(this.ra=new ru),this.ra.F=e,this.v(),this.g("graduatedMax",t,e),Ka(this)&&(null!==(e=this.part)&&Na(this,e,"graduatedRange")))}},graduatedRange:{get:function(){return this.graduatedMax-this.graduatedMin}},graduatedTickUnit:{get:function(){return null!==this.ra?this.ra.ga:10},set:function(e){var t=this.graduatedTickUnit;t!==e&&0<e&&(null===this.ra&&(this.ra=new ru),this.ra.ga=e,this.v(),this.g("graduatedTickUnit",t,e))}},graduatedTickBase:{get:function(){return null!==this.ra?this.ra.V:0},set:function(e){var t=this.graduatedTickBase;t!==e&&(null===this.ra&&(this.ra=new ru),this.ra.V=e,this.v(),this.g("graduatedTickBase",t,e))}},graduatedMarks:{get:function(){return null!==this.ra?this.ra.u:null},set:function(e){null!==this.ra?this.ra.u=e:null!==e&&(this.ra=new ru,this.ra.u=e)}},graduatedBounds:{get:function(){return null!==this.ra?this.ra.j:null},set:function(e){null!==this.ra?this.ra.j=e:null!==e&&(this.ra=new ru,this.ra.j=e)}},graduatedIntervals:{get:function(){return null!==this.ra?this.ra.m:null},set:function(e){null!==this.ra?this.ra.m=e:null!==e&&(this.ra=new ru,this.ra.m=e)}},temporaryTextBlock:{get:function(){return null!==this.ra?this.ra.Wh:null},set:function(e){null!==this.ra?this.ra.Wh=e:null!==e&&(this.ra=new ru,this.ra.Wh=e)}},panelLayoutState:{get:function(){return this.F},set:function(e){this.F=e}},Oe:{get:function(){return 0!==(8388608&this.o)},set:function(e){0!==(8388608&this.o)!==e&&(this.o^=8388608)}},rowDefs:{get:function(){return null===this.T&&(this.T=new nu),this.T.Mc}},rowCount:{get:function(){return null===this.T?0:this.rowDefs.length}},colDefs:{get:function(){return null===this.T&&(this.T=new nu),this.T.Lc}},columnCount:{get:function(){return null===this.T?0:this.colDefs.length}},rowSizing:{get:function(){return null!==this.T?this.T.pb:uu},set:function(e){var t=this.rowSizing;t!==e&&(null===this.T&&(this.T=new nu),this.T.pb=e,this.v(),this.g("rowSizing",t,e))}},columnSizing:{get:function(){return null!==this.T?this.T.j:uu},set:function(e){var t=this.columnSizing;t!==e&&(null===this.T&&(this.T=new nu),this.T.j=e,this.v(),this.g("columnSizing",t,e))}},topIndex:{get:function(){return null!==this.T?this.T.Fb:0},set:function(e){var t=this.topIndex;t!==e&&((!isFinite(e)||0>e)&&w("Panel.topIndex must be greater than zero and a real number, not: "+e),null===this.T&&(this.T=new nu),this.T.Fb=e,this.v(),this.g("topIndex",t,e))}},leftIndex:{get:function(){return null!==this.T?this.T.hb:0},set:function(e){var t=this.leftIndex;t!==e&&((!isFinite(e)||0>e)&&w("Panel.leftIndex must be greater than zero and a real number, not: "+e),null===this.T&&(this.T=new nu),this.T.hb=e,this.v(),this.g("leftIndex",t,e))}},data:{get:function(){return this.ub},set:function(e){var t=this.ub;if(t!==e){var r=this instanceof vc&&!(this instanceof Vc);Vl(this),this.ub=e;var n=this.diagram;null!==n&&(r?(r=n.partManager,this instanceof vh?(null!==t&&r.Ye.remove(t),null!==e&&r.Ye.add(e,this)):this instanceof vc&&(null!==t&&r.Ze.remove(t),null!==e&&r.Ze.add(e,this))):null!==(r=this.panel)&&null!==r.ce&&(null!==t&&r.ce.remove(t),null!==e&&r.ce.add(e,this))),this.g("data",t,e),null!==n&&n.undoManager.isUndoingRedoing||null!==e&&this.Ma()}}},itemIndex:{get:function(){return this.vn},set:function(e){var t=this.vn;t!==e&&(this.vn=e,this.g("itemIndex",t,e))}},allBindings:{get:function(){return null!==this.A?this.A.ob:null},set:function(e){this.localBindings!==e&&(null===this.A&&(this.A=new cs),this.A.ob=e)}},itemArray:{get:function(){return this.Dh},set:function(e){var t=this.Dh;if(t!==e||null!==e&&function(e,t){for(var r=(e=e.P.s).length,n=t.length,i=0,o=null;i<r&&!((o=e[i])instanceof kl&&null!==o.data);)o=e[++i];if(r-i!==n)return!0;if(null===o)return 0<n;for(var a=0;i<r&&a<n;){if(!((o=e[i])instanceof kl)||o.data!==t[a])return!0;i++,a++}return!1}(this,e)){var r=this.diagram;t!==e&&(null!==r&&null!==t&&tf(r.partManager,this,r),this.Dh=e,null!==r&&null!==e&&ef(r.partManager,this)),this.g("itemArray",t,e),null!==r&&r.undoManager.isUndoingRedoing||Wl(this,e)}}},itemTemplate:{get:function(){return null===this.itemTemplateMap?null:this.itemTemplateMap.I("")},set:function(e){if(null===this.itemTemplateMap){if(null===e)return;this.itemTemplateMap=new fe}var t=this.itemTemplateMap.I("");t!==e&&((e instanceof vc||e.isPanelMain)&&w("Panel.itemTemplate must not be a Part or be Panel.isPanelMain: "+e),this.itemTemplateMap.add("",e),this.g("itemTemplate",t,e),null!==(e=this.diagram)&&e.undoManager.isUndoingRedoing||this.hv())}},itemTemplateMap:{get:function(){return null!==this.A?this.A.Mc:null},set:function(e){var t=this.itemTemplateMap;if(t!==e){for(var r=e.iterator;r.next(););La(this),this.A.Mc=e,this.g("itemTemplateMap",t,e),null!==(e=this.diagram)&&e.undoManager.isUndoingRedoing||this.hv()}}},itemCategoryProperty:{get:function(){return null!==this.A?this.A.Lc:"category"},set:function(e){var t=this.itemCategoryProperty;t!==e&&(La(this),this.A.Lc=e,this.g("itemCategoryProperty",t,e))}},isAtomic:{get:function(){return 0!==(1048576&this.o)},set:function(e){var t=0!==(1048576&this.o);t!==e&&(this.o^=1048576,this.g("isAtomic",t,e))}},isClipping:{get:function(){return 0!==(2097152&this.o)},set:function(e){var t=0!==(2097152&this.o);t!==e&&(this.o^=2097152,this instanceof dh&&(this.ib=null),this.v(),this.g("isClipping",t,e))}},isOpposite:{get:function(){return 0!==(33554432&this.o)},set:function(e){var t=0!==(33554432&this.o);t!==e&&(this.o^=33554432,this.v(),this.g("isOpposite",t,e))}},isEnabled:{get:function(){return 0!==(4194304&this.o)},set:function(e){var t=0!==(4194304&this.o);if(t!==e){var r=null===this.panel||this.panel.Ff();this.o^=4194304,this.g("isEnabled",t,e),null!==(t=this.diagram)&&t.undoManager.isUndoingRedoing||r&&$l(this,this,e)}}},alignmentFocusName:{get:function(){return this.We},set:function(e){var t=this.We;t!==e&&(this.We=e,this.v(),this.g("alignmentFocusName",t,e))}}}),d.Object.defineProperties(kl,{Position:{get:function(){return tu.I("Position")}},Horizontal:{get:function(){return tu.I("Horizontal")}},Vertical:{get:function(){return tu.I("Vertical")}},Spot:{get:function(){return tu.I("Spot")}},Auto:{get:function(){return tu.I("Auto")}},Table:{get:function(){return tu.I("Table")}},Viewbox:{get:function(){return tu.I("Viewbox")}},TableRow:{get:function(){return tu.I("TableRow")}},TableColumn:{get:function(){return tu.I("TableColumn")}},Link:{get:function(){return tu.I("Link")}},Grid:{get:function(){return tu.I("Grid")}},Graduated:{get:function(){return tu.I("Graduated")}}}),kl.prototype.rebuildItemElements=kl.prototype.hv,kl.prototype.findItemPanelForData=kl.prototype.lx,kl.prototype.updateTargetBindings=kl.prototype.Ma,kl.prototype.copyTemplate=kl.prototype.My,kl.prototype.graduatedValueForPoint=kl.prototype.yz,kl.prototype.graduatedPointForValue=kl.prototype.xz,kl.prototype.findColumnForLocalX=kl.prototype.Yy,kl.prototype.findRowForLocalY=kl.prototype.fz,kl.prototype.removeColumnDefinition=kl.prototype.$z,kl.prototype.removeRowDefinition=kl.prototype.eA,kl.prototype.removeAt=kl.prototype.nb,kl.prototype.remove=kl.prototype.remove,kl.prototype.insertAt=kl.prototype.Eb,kl.prototype.elt=kl.prototype.L,kl.prototype.add=kl.prototype.add,kl.prototype.findObject=kl.prototype.fb,kl.prototype.findInVisualTree=kl.prototype.Il,kl.prototype.walkVisualTreeFrom=kl.prototype.nm,kl.prototype.findMainElement=kl.prototype.sb;var Ql=!1,eu=null,tu=new fe;function ru(){this.eq=0,this.F=100,this.ga=10,this.V=0,this.Wh=this.m=this.j=this.u=null}function nu(){this.Mc=[],this.Lc=[],this.j=this.pb=uu,this.hb=this.Fb=0,this.Kp=Lt,this.Ha=1,this.V=this.ga=null,this.F=1,this.ob=this.m=this.u=null}function iu(e){Q(this),this.Ie=null,this.nq=!0,this.Ya=0,this.Ec=NaN,this.hj=0,this.fj=1/0,this.Hb=St,this.pa=this.kc=this.oa=0,this.Yd=null,this.ko=su,this.dg=ma,this.ho=this.$f=null,this.io=NaN,this.Ra=this.rj=null,this.Mm=!1,e&&(Object.assign(this,e),void 0!==e.column?(this.isRow=!1,this.index=e.column):void 0!==e.row&&(this.isRow=!0,this.index=e.row))}function ou(e,t){t.isRow?e.height=t.height:e.width=t.width,e.minimum=t.minimum,e.maximum=t.maximum,e.alignment=t.alignment,e.stretch=t.stretch,e.sizing=t.sizing,e.$f=null===t.separatorPadding?null:t.separatorPadding.J(),e.separatorStroke=t.separatorStroke,e.separatorStrokeWidth=t.separatorStrokeWidth,e.rj=null,t.separatorDashArray&&(e.rj=C(t.separatorDashArray)),e.background=t.background,e.coversSeparators=t.coversSeparators,e.Yd=t.Yd}function au(e){if(e.sizing===su){var t=e.Ie;return e.isRow?t.rowSizing:t.columnSizing}return e.sizing}kl.className="Panel",kl.definePanelLayout=Jl,Jl("Position",new ll),Jl("Vertical",new cl),Jl("Auto",new fl),Jl("Link",new xl),ru.prototype.copy=function(){var e=new ru;return e.eq=this.eq,e.F=this.F,e.ga=this.ga,e.V=this.V,e.u=this.u,e.j=this.j,e.m=this.m,e.Wh=this.Wh,e},ru.className="GradPanelSettings",nu.prototype.copy=function(e){for(var t=new nu,r=this.Mc,n=r.length,i=t.Mc,o=0;o<n;o++)if(void 0!==r[o]){var a=r[o].copy();a.ti(e),i[o]=a}for(n=(r=this.Lc).length,i=t.Lc,o=0;o<n;o++)void 0!==r[o]&&((a=r[o].copy()).ti(e),i[o]=a);return t.pb=this.pb,t.j=this.j,t.Fb=this.Fb,t.hb=this.hb,t.Kp=this.Kp.J(),t.Ha=this.Ha,t.ga=this.ga,t.V=this.V,t.F=this.F,t.u=this.u,t.m=this.m,t.ob=this.ob,t},nu.className="TablePanelSettings",iu.prototype.copy=function(){var e=new iu;return e.nq=this.nq,e.Ya=this.Ya,e.Ec=this.Ec,e.hj=this.hj,e.fj=this.fj,e.Hb=this.Hb,e.oa=this.oa,e.kc=this.kc,e.pa=this.pa,e.dg=this.dg,e.ko=this.ko,null===this.$f?e.$f=null:e.$f=this.$f.J(),e.ho=this.ho,e.io=this.io,e.rj=null,null!==this.rj&&(e.separatorDashArray=C(this.separatorDashArray)),e.Ra=this.Ra,e.Mm=this.Mm,e.Yd=this.Yd,e},(t=iu.prototype).rb=function(e){e.classType===iu&&(this.sizing=e)},t.toString=function(){return"RowColumnDefinition "+(this.isRow?"(Row ":"(Column ")+this.index+") #"+te(this)},t.ti=function(e){this.Ie=e},t.Eo=function(e){var t=0,r=this.Ie;if(this.index!==e&&(null===(e=this.separatorStroke)&&null!==r&&(e=this.isRow?r.defaultRowSeparatorStroke:r.defaultColumnSeparatorStroke),null!==e&&(t=this.separatorStrokeWidth,isNaN(t)&&(t=null!==r?this.isRow?r.defaultRowSeparatorStrokeWidth:r.defaultColumnSeparatorStrokeWidth:0))),null===(e=this.$f)){if(null===r)return t;e=r.defaultSeparatorPadding}return t+(this.isRow?e.top:e.left)},t.Rc=function(){var e=0,t=this.Ie,r=0,n=this.isRow;if(null!==t&&t.type===kl.Table)for(var i=n?t.rowDefs.length:t.colDefs.length,o=0;o<i;o++){var a=n?t.rowDefs[o]:t.colDefs[o];if(void 0!==a&&0!==a.oa){r=a.index;break}}if(this.index!==r&&(null===(r=this.separatorStroke)&&null!==t&&(r=n?t.defaultRowSeparatorStroke:t.defaultColumnSeparatorStroke),null!==r&&(e=this.separatorStrokeWidth,isNaN(e)&&(e=null!==t?n?t.defaultRowSeparatorStrokeWidth:t.defaultColumnSeparatorStrokeWidth:0))),null===(n=this.$f)){if(null===t)return e;n=t.defaultSeparatorPadding}return e+(this.isRow?n.top+n.bottom:n.left+n.right)},t.Lb=function(e,t,r){var n=this.Ie;if(null!==n&&(n.cb(dr,e,this,t,r,void 0,void 0),null!==this.Yd&&(null!==(t=n.diagram)&&!t.skipsModelSourceBindings&&(null!==(n=n.dh())&&null!==(t=n.data)))))for(r=this.Yd.iterator;r.next();)r.value.mp(this,t,e,n)},t.bind=function(e,t,r,n){var i=null;return(i="string"===typeof e?new Bf(e,t,r,n):e).rd=this,null!==(e=this.panel)&&(null!==(t=e.dh())&&Gl(t)&&w("Cannot add a Binding to a RowColumnDefinition that is already frozen: "+i+" on "+e)),null===this.Yd&&(this.Yd=new Z),this.Yd.add(i),this},d.Object.defineProperties(iu.prototype,{panel:{get:function(){return this.Ie}},isRow:{get:function(){return this.nq},set:function(e){this.nq=e}},index:{get:function(){return this.Ya},set:function(e){this.Ya=e}},height:{get:function(){return this.Ec},set:function(e){var t=this.Ec;t!==e&&(0>e&&k(e,">= 0",iu,"height"),this.Ec=e,this.actual=this.oa,null!==this.panel&&this.panel.v(),this.Lb("height",t,e))}},width:{get:function(){return this.Ec},set:function(e){var t=this.Ec;t!==e&&(0>e&&k(e,">= 0",iu,"width"),this.Ec=e,this.actual=this.oa,null!==this.panel&&this.panel.v(),this.Lb("width",t,e))}},minimum:{get:function(){return this.hj},set:function(e){var t=this.hj;t!==e&&((0>e||!isFinite(e))&&k(e,">= 0",iu,"minimum"),this.hj=e,this.actual=this.oa,null!==this.panel&&this.panel.v(),this.Lb("minimum",t,e))}},maximum:{get:function(){return this.fj},set:function(e){var t=this.fj;t!==e&&(0>e&&k(e,">= 0",iu,"maximum"),this.fj=e,this.actual=this.oa,null!==this.panel&&this.panel.v(),this.Lb("maximum",t,e))}},alignment:{get:function(){return this.Hb},set:function(e){var t=this.Hb;t.C(e)||(this.Hb=e.J(),null!==this.panel&&this.panel.v(),this.Lb("alignment",t,e))}},stretch:{get:function(){return this.dg},set:function(e){var t=this.dg;t!==e&&(this.dg=e,null!==this.panel&&this.panel.v(),this.Lb("stretch",t,e))}},separatorPadding:{get:function(){return this.$f},set:function(e){"number"===typeof e&&(e=new Ye(e));var t=this.$f;null!==e&&null!==t&&t.C(e)||(null!==e&&(e=e.J()),this.$f=e,null!==this.panel&&this.panel.v(),this.Lb("separatorPadding",t,e))}},separatorStroke:{get:function(){return this.ho},set:function(e){var t=this.ho;t!==e&&(null!==e&&Vs(e,"RowColumnDefinition.separatorStroke"),e instanceof As&&e.freeze(),this.ho=e,null!==this.panel&&this.panel.v(),this.Lb("separatorStroke",t,e))}},separatorStrokeWidth:{get:function(){return this.io},set:function(e){var t=this.io;t!==e&&(this.io=e,null!==this.panel&&this.panel.v(),this.Lb("separatorStrokeWidth",t,e))}},separatorDashArray:{get:function(){return this.rj},set:function(e){var t=this.rj;if(t!==e){if(null!==e){for(var r=e.length,n=0,i=0;i<r;i++){var o=e[i];"number"===typeof o&&0<=o&&isFinite(o)||w("separatorDashArray value "+o+" at index "+i+" must be a positive number or zero."),n+=o}if(0===n){if(null===t)return;e=null}}this.rj=e,null!==this.panel&&this.panel.N(),this.Lb("separatorDashArray",t,e)}}},background:{get:function(){return this.Ra},set:function(e){var t=this.Ra;t!==e&&(null!==e&&Vs(e,"RowColumnDefinition.background"),e instanceof As&&e.freeze(),this.Ra=e,null!==this.panel&&this.panel.N(),this.Lb("background",t,e))}},coversSeparators:{get:function(){return this.Mm},set:function(e){var t=this.Mm;t!==e&&(this.Mm=e,null!==this.panel&&this.panel.N(),this.Lb("coversSeparators",t,e))}},sizing:{get:function(){return this.ko},set:function(e){var t=this.ko;t!==e&&(this.ko=e,null!==this.panel&&this.panel.v(),this.Lb("sizing",t,e))}},actual:{get:function(){return this.oa},set:function(e){this.oa=isNaN(this.Ec)?Math.max(Math.min(this.fj,e),this.hj):Math.max(Math.min(this.fj,this.Ec),this.hj)}},measured:{get:function(){return this.kc},set:function(e){this.kc=e}},total:{get:function(){return this.oa+this.Rc()}},position:{get:function(){return this.pa},set:function(e){this.pa=e}}}),iu.prototype.computeEffectiveSpacing=iu.prototype.Rc,iu.prototype.computeEffectiveSpacingTop=iu.prototype.Eo;var su=new U(iu,"Default",0),lu=new U(iu,"None",1),uu=new U(iu,"ProportionalExtra",2);function cu(e,t){Aa.call(this),this.Jd=this.ta=null,this.Ym="None",this.uc=this.Ri="black",this.eg=1,this.Na=this.Sg=null,this.Rn=this.Qn=NaN,this.fa=null,"string"===typeof e?this.figure=e:e&&Object.assign(this,e),t&&Object.assign(this,t)}function hu(e){null===e.Na?e.Na=new wu:e.Na.jc&&(e.Na=e.Na.copy())}function du(e,t,r,n){var i=r.length;if(!(4>i)){var o=n.measuredBounds,a=Math.max(1,o.width);o=o.height;for(var s,l,u,c,h,d,f=r[0],p=r[1],m=0,y=E(),g=2;g<i;g+=2)0===(u=(s=r[g])-f)&&(u=.001),c=(f=(l=r[g+1])-p)/u,h=Math.atan2(f,u),d=Math.sqrt(u*u+f*f),y.push([u,h,c,d]),m+=d,f=s,p=l;f=r[0],p=r[1],u=n.measuredBounds.width,n instanceof cu&&(u-=n.strokeWidth),1>u&&(u=1),i=r=u,l=0!==(s=a/2),u=(d=y[g=0])[0],h=d[1],c=d[2],d=d[3];for(var v=0;.1<=m;){if(0===v&&(l?(i=r,i-=s,m-=s,l=!1):i=r,0===i&&(i=1)),i>m)return void O(y);i>d?(v=i-d,i=d):v=0;var b=Math.sqrt(i*i/(1+c*c));if(0>u&&(b=-b),f+=b,p+=c*b,e.translate(f,p),e.rotate(h),e.translate(-a/2,-o/2),0===v&&n.bh(e,t),e.translate(a/2,o/2),e.rotate(-h),e.translate(-f,-p),m-=i,d-=i,0!==v){if(++g===y.length)return void O(y);u=(d=y[g])[0],h=d[1],c=d[2],d=d[3],i=v}}O(y)}}function fu(e){var t=e.geometryStretch;return null!==e.Jd?t===ma?ca:t:t===ma?xu[e.figure].defaultStretch:t}function pu(e,t,r,n,i){return(t=(e=r.x-e)*e+(t=r.y-t)*t)<n?(i.x=r.x,i.y=r.y,t):n}function mu(e,t,r,n,i,o,a,s,l){if(Gt.$(e,r)&&Gt.$(t,n)||Gt.$(i,a)&&Gt.$(o,s))return!1;var u=!1,c=(i-a)*(t-n)-(o-s)*(e-r);return 0!==c&&(l.x=((i*s-o*a)*(e-r)-(i-a)*(e*n-t*r))/c,l.y=((i*s-o*a)*(t-n)-(o-s)*(e*n-t*r))/c,(e>r?e-r:r-e)<(t>n?t-n:n-t)?(e=t<n?t:n,t=t<n?n:t,(l.y>e||Gt.$(l.y,e))&&(l.y<t||Gt.$(l.y,t))&&(u=!0)):(t=e<r?e:r,e=e<r?r:e,(l.x>t||Gt.$(l.x,t))&&(l.x<e||Gt.$(l.x,e))&&(u=!0)),u)}function yu(e,t,r,n){if(!e.ks(t,r,n))return!1;e=t.x,t=t.y;var i=r.x,o=r.y;return r=n.x,n=n.y,e===i?(t<o?(e=t,t=o):e=o,n>=e&&n<=t):(e<i?(n=e,e=i):n=i,r>=n&&r<=e)}function gu(e){var t=e.diagram;null!==t&&t.undoManager.isUndoingRedoing||(e.segmentOrientation=Jh,"None"!==e.toArrow?(e.segmentIndex=-1,e.alignmentFocus=Tt):"None"!==e.fromArrow&&(e.segmentIndex=0,e.alignmentFocus=new Dt(1-Tt.x,Tt.y)))}function vu(e){var t=bu[e];if(void 0===t){var r=e.toLowerCase();if("none"===r)return"None";if(void 0===(t=bu[r])){var n,i=null;for(n in Gt.rm)if(n.toLowerCase()===r){i=n;break}if(null!==i)return e=Vt.parse(Gt.rm[i],!1),bu[i]=e,r!==i&&(bu[r]=i),i}}return"string"===typeof t?t:t instanceof Vt?e:null}iu.className="RowColumnDefinition",iu.Default=su,iu.None=lu,iu.ProportionalExtra=uu,h(cu,Aa),cu.prototype.cloneProtected=function(e){Aa.prototype.cloneProtected.call(this,e),e.ta=this.ta,e.Jd=this.Jd,e.Ym=this.Ym,e.Ri=this.Ri,e.uc=this.uc,e.eg=this.eg,null!==this.Sg&&(e.Sg=C(this.Sg)),null!==this.Na&&(e.Na=this.Na.jc?this.Na:this.Na.copy()),e.Qn=this.Qn,e.Rn=this.Rn,null!==this.fa&&(e.fa=this.fa.copy())},(t=cu.prototype).oh=function(){Aa.prototype.oh.call(this),null!==this.Na&&(this.Na.jc=!0)},t.rb=function(e){e===ha||e===da||e===ya||e===ma?this.geometryStretch=e:Aa.prototype.rb.call(this,e)},t.toString=function(){return"Shape("+("None"!==this.figure?this.figure:"None"!==this.toArrow?this.toArrow:this.fromArrow)+")#"+te(this)},t.bh=function(e,t){var r=this.uc,n=this.Ri;if(null!==r||null!==n){var i=this.ta;if(null!==i){e.vc();var o=this.actualBounds,a=this.naturalBounds;null!==n&&qa(this,e,n,!0,!1,a,o);var s=this.part,l=this.eg;if(null===r||0!==l||null===s||!this.isPanelMain&&s.sb()!==this||(l=s.type===kl.Link&&s instanceof Vc&&"Selection"===s.category&&s.adornedObject instanceof cu&&s.adornedPart.sb()===s.adornedObject?s.adornedObject.strokeWidth:0),0===l&&(r=null),null!==r&&0!==l&&(qa(this,e,r,!1,!1,a,o),e.lineWidth=l,e.lineJoin=this.strokeJoin,e.lineCap=this.strokeCap,e.miterLimit=this.strokeMiterLimit),o=!1,s&&t.Df("drawShadows")&&(o=s.isShadowed),!1===e.Dl&&(o=!1),s=!0,null===r||null!==n&&"transparent"!==n||(s=!1),a=!1,null!==(l=this.strokeDashArray)&&(a=!0,e.bs(l,this.strokeDashOffset)),i.type===Vt.j)e.beginPath(),e.moveTo(i.startX,i.startY),e.lineTo(i.endX,i.endY),null!==r&&e.ek(),e.Ne();else if(i.type===Vt.u){var u=i.startX;l=i.startY;var c=i.endX,h=i.endY;i=Math.min(u,c);var d=Math.min(l,h);u=Math.abs(c-u),l=Math.abs(h-l),e.beginPath(),e.rect(i,d,u,l),null!==n&&e.jg(n),null!==r&&(s&&o&&js(e),e.ek(),s&&o&&Ms(e)),e.Ne()}else if(i.type===Vt.F)u=i.startX,l=i.startY,c=i.endX,h=i.endY,i=Math.abs(c-u)/2,d=Math.abs(h-l)/2,u=Math.min(u,c)+i,l=Math.min(l,h)+d,e.beginPath(),e.moveTo(u,l-d),e.bezierCurveTo(u+Gt.sg*i,l-d,u+i,l-Gt.sg*d,u+i,l),e.bezierCurveTo(u+i,l+Gt.sg*d,u+Gt.sg*i,l+d,u,l+d),e.bezierCurveTo(u-Gt.sg*i,l+d,u-i,l+Gt.sg*d,u-i,l),e.bezierCurveTo(u-i,l-Gt.sg*d,u-Gt.sg*i,l-d,u,l-d),e.closePath(),null!==n&&e.jg(n),null!==r&&(s&&o&&js(e),e.ek(),s&&o&&Ms(e)),e.Ne();else if(i.type===Vt.m)for(l=(i=i.figures).length,d=0;d<l;d++){u=i.s[d],e.beginPath(),e.moveTo(u.startX,u.startY),h=(c=u.segments.s).length;for(var f=null,p=0;p<h;p++){var m=c[p];switch(m.type){case rr:e.moveTo(m.endX,m.endY);break;case nr:e.lineTo(m.endX,m.endY);break;case ir:e.bezierCurveTo(m.point1X,m.point1Y,m.point2X,m.point2Y,m.endX,m.endY);break;case or:e.quadraticCurveTo(m.point1X,m.point1Y,m.endX,m.endY);break;case ar:if(m.radiusX===m.radiusY){var y=Math.PI/180;e.arc(m.point1X,m.point1Y,m.radiusX,m.startAngle*y,(m.startAngle+m.sweepAngle)*y,0>m.sweepAngle,null!==f?f.endX:u.startX,null!==f?f.endY:u.startY)}else if(0===(y=(f=er(m,u)).length))e.lineTo(m.centerX,m.centerY);else for(var g=0;g<y;g++){var v=f[g];0===g&&e.lineTo(v[0],v[1]),e.bezierCurveTo(v[2],v[3],v[4],v[5],v[6],v[7])}break;case sr:if(g=y=0,null!==f&&f.type===ar){if(0===(v=(f=er(f,u)).length)){e.lineTo(m.endX,m.endY);break}null!==(f=f[v-1]||null)&&(y=f[6],g=f[7])}else y=null!==f?f.endX:u.startX,g=null!==f?f.endY:u.startY;if(0===(y=(f=tr(m,u,y,g)).length)){e.lineTo(m.endX,m.endY);break}for(g=0;g<y;g++)v=f[g],e.bezierCurveTo(v[2],v[3],v[4],v[5],v[6],v[7]);break;default:w("Segment not of valid type: "+m.type)}m.isClosed&&e.closePath(),f=m}c=u.isFilled,o?u.isShadowed?(!0===c&&"transparent"!==n&&null!==n&&e.jg(n,u.isEvenOdd),null!==r&&(c&&s&&js(e),e.ek(),c&&s&&Ms(e))):(js(e),c&&"transparent"!==n&&null!==n&&e.jg(n,u.isEvenOdd),null!==r&&e.ek(),Ms(e)):(c&&null!==n&&e.jg(n,u.isEvenOdd),null!==r&&e.ek()),e.Ne(d)}if(a&&e.Yr(),null!==this.pathPattern){if((r=this.pathPattern).measure(1/0,1/0),n=r.measuredBounds,r.arrange(0,0,n.width,n.height),o=this.geometry,e.save(),e.beginPath(),n=E(),o.type===Vt.j)n.push(o.startX),n.push(o.startY),n.push(o.endX),n.push(o.endY),du(e,t,n,r);else if(o.type===Vt.m)for(o=o.figures.iterator;o.next();){for(s=o.value,n.length=0,n.push(s.startX),n.push(s.startY),l=a=s.startX,d=i=s.startY,c=(u=s.segments.s).length,h=0;h<c;h++){switch((p=u[h]).type){case rr:du(e,t,n,r),n.length=0,n.push(p.endX),n.push(p.endY),l=a=p.endX,d=i=p.endY;break;case nr:n.push(p.endX),n.push(p.endY),a=p.endX,i=p.endY;break;case ir:Gt.Le(a,i,p.point1X,p.point1Y,p.point2X,p.point2Y,p.endX,p.endY,.5,n),a=p.endX,i=p.endY;break;case or:Gt.Yo(a,i,p.point1X,p.point1Y,p.endX,p.endY,.5,n),a=p.endX,i=p.endY;break;case ar:if(0===(f=(m=er(p,s)).length)){n.push(p.centerX),n.push(p.centerY),a=p.centerX,i=p.centerY;break}for(y=0;y<f;y++)g=m[y],Gt.Le(a,i,g[2],g[3],g[4],g[5],g[6],g[7],.5,n),a=g[6],i=g[7];break;case sr:if(0===(f=(m=tr(p,s,a,i)).length)){n.push(p.endX),n.push(p.endY),a=p.endX,i=p.endY;break}for(y=0;y<f;y++)g=m[y],Gt.Le(a,i,g[2],g[3],g[4],g[5],g[6],g[7],.5,n),a=g[6],i=g[7];break;default:w("Segment not of valid type: "+p.type)}p.isClosed&&(n.push(l),n.push(d),du(e,t,n,r))}du(e,t,n,r)}else if(o.type===Vt.u)n.push(o.startX),n.push(o.startY),n.push(o.endX),n.push(o.startY),n.push(o.endX),n.push(o.endY),n.push(o.startX),n.push(o.endY),n.push(o.startX),n.push(o.startY),du(e,t,n,r);else if(o.type===Vt.F){if((i=new Jt).startX=o.endX,i.startY=(o.startY+o.endY)/2,(a=new Qt(ar)).startAngle=0,a.sweepAngle=360,a.centerX=(o.startX+o.endX)/2,a.centerY=(o.startY+o.endY)/2,a.radiusX=Math.abs(o.startX-o.endX)/2,a.radiusY=Math.abs(o.startY-o.endY)/2,i.add(a),0===(s=(o=er(a,i)).length))n.push(a.centerX),n.push(a.centerY);else for(a=i.startX,i=i.startY,l=0;l<s;l++)d=o[l],Gt.Le(a,i,d[2],d[3],d[4],d[5],d[6],d[7],.5,n),a=d[6],i=d[7];du(e,t,n,r)}O(n),e.restore(),e.Qc(!1)}}}},t.fk=function(e,t,r){return!(!Aa.prototype.fk.call(this,e,t,r)||null===this.uc&&null===this.Ri||null===this.ta||null!==this.pathPattern)&&(e.Xr=this.svg,this.bh(e,t),e.Xr=null,!0)},t.ik=function(e){return null!==this.geometry&&1<this.geometry.figures.length||null!==this.pathPattern||Aa.prototype.ik.call(this,e)},t.wv=function(e,t){if("g"!==e.nodeName)e.setAttributeNS(null,"filter",t);else{e=e.getElementsByTagName("path");for(var r=0;r<e.length;r++)e[r].setAttributeNS(null,"filter",t)}},t.ja=function(e,t){if(void 0===t&&(t=new pe),e instanceof Dt){e.Jc()&&w("getDocumentPoint Spot must be a real, specific Spot, not: "+e.toString());var r=this.naturalBounds,n=this.strokeWidth;t.h(e.x*(r.width+n)-n/2+r.x+e.offsetX,e.y*(r.height+n)-n/2+r.y+e.offsetY)}else t.set(e);return this.ke.Ga(t),t},t.ji=function(e){void 0===e&&(e=new Ne);var t=this.naturalBounds,r=this.ke;t=Ne.allocAt(t.x,t.y,t.width,t.height);var n=this.strokeWidth;return t.yc(n/2,n/2),n=pe.allocAt(t.x,t.y).transform(r),e.h(n.x,n.y,0,0),n.h(t.right,t.y).transform(r),qe(e,n.x,n.y,0,0),n.h(t.right,t.bottom).transform(r),qe(e,n.x,n.y,0,0),n.h(t.x,t.bottom).transform(r),qe(e,n.x,n.y,0,0),Ne.free(t),pe.free(n),e},t.ah=function(e,t){var r=this.geometry;if(null===r||null===this.fill&&null===this.stroke)return!1;var n=r.bounds,i=this.strokeWidth/2;r.type!==Vt.j||t||(i+=2);var o=Ne.alloc();if(o.assign(n),o.yc(i+2,i+2),!o.ca(e))return Ne.free(o),!1;if(n=i+1e-4,r.type===Vt.j)return null!==this.stroke&&(n=(r.endX-r.startX)*(e.x-r.startX)+(r.endY-r.startY)*(e.y-r.startY),!(0>(r.startX-r.endX)*(e.x-r.endX)+(r.startY-r.endY)*(e.y-r.endY)||0>n)&&(Ne.free(o),Gt.Ub(r.startX,r.startY,r.endX,r.endY,i,e.x,e.y)));if(r.type===Vt.u){t=r.startX;var a=r.startY,s=r.endX;if(r=r.endY,o.x=Math.min(t,s),o.y=Math.min(a,r),o.width=Math.abs(s-t),o.height=Math.abs(r-a),null===this.fill){if(o.yc(-n,-n),o.ca(e))return Ne.free(o),!1;o.yc(n,n)}return null!==this.stroke&&o.yc(i,i),e=o.ca(e),Ne.free(o),e}if(r.type===Vt.F){a=r.startX,i=r.startY,s=r.endX;var l=r.endY;if(r=Math.min(a,s),t=Math.min(i,l),a=Math.abs(s-a)/2,i=Math.abs(l-i)/2,r=e.x-(r+a),t=e.y-(t+i),null===this.fill){if(i-=n,0>=(a-=n)||0>=i||1>=r*r/(a*a)+t*t/(i*i))return Ne.free(o),!1;a+=n,i+=n}return null!==this.stroke&&(a+=n,i+=n),Ne.free(o),!(0>=a||0>=i)&&1>=r*r/(a*a)+t*t/(i*i)}if(r.type===Vt.m)return Ne.free(o),null===this.fill?Kt(r,e.x,e.y,i):Xt(r,e,i,1<this.strokeWidth,t);w("Unknown Geometry type: "+r.type)},t.Sl=function(e,t,r,n){var i=this.desiredSize,o=this.eg;if(e=Math.max(e,0),t=Math.max(t,0),null!==this.Jd)var a=this.geometry.bounds;else{var s=this.figure,l=xu[s];if(void 0===l){var u=Gt.Ve[s];"string"===typeof u&&(u=Gt.Ve[u]),"function"===typeof u?(l=u(null,100,100),xu[s]=l):w("Unsupported Figure: "+s)}a=l.bounds}s=a.width,l=a.height,u=a.width;var c=a.height;switch(Ha(this,!0)){case ha:n=r=0;break;case ca:u=Math.max(e-o,0),c=Math.max(t-o,0);break;case fa:u=Math.max(e-o,0),n=0;break;case pa:r=0,c=Math.max(t-o,0)}isFinite(i.width)&&(u=i.width),isFinite(i.height)&&(c=i.height),a=this.maxSize;var h=this.minSize;switch(r=Math.max(r-o,h.width),n=Math.max(n-o,h.height),u=Math.min(a.width,u),c=Math.min(a.height,c),u=isFinite(u)?Math.max(r,u):Math.max(s,r),c=isFinite(c)?Math.max(n,c):Math.max(l,n),r=fu(this)){case ha:break;case ca:s=u,l=c;break;case da:r=Math.min(u/s,c/l),isFinite(r)||(r=1),s*=r,l*=r;break;default:w(r+" is not a valid geometryStretch.")}null!==this.Jd?(0===s&&(s=.001),0===l&&(l=.001),n=s/(a=(r=null!==this.Jd?this.Jd:this.ta).bounds).width,a=l/a.height,isFinite(n)||(n=1),isFinite(a)||(a=1),this.ta=1===n&&1===a?r:r.copy().scale(n,a)):null!==this.ta&&Gt.$(this.ta.Nk,e-o)&&Gt.$(this.ta.Mk,t-o)||(this.ta=cu.makeGeometry(this,s,l)),a=this.ta.bounds,1/0===e||1/0===t?this.Ce(a.x-o/2,a.y-o/2,0===e&&0===s?0:a.width+o,0===t&&0===l?0:a.height+o):this.Ce(-o/2,-o/2,u+o,c+o),i.w()?this.ac.h(0,0,i.width,i.height):this.ac.assign(a)},t.Zg=function(e,t,r,n){Da(this,e,t,r,n)},t.ks=function(e,t,r){return this.Qj(e.x,e.y,t.x,t.y,r)},t.Qj=function(e,t,r,n,i){var o=this.transform,a=1/(o.m11*o.m22-o.m12*o.m21),s=o.m22*a,l=-o.m12*a,u=-o.m21*a,c=o.m11*a,h=a*(o.m21*o.dy-o.m22*o.dx),d=a*(o.m12*o.dx-o.m11*o.dy);o=e*s+t*u+h,a=e*l+t*c+d,s=r*s+n*u+h,l=r*l+n*c+d,h=this.eg/2,null===(u=this.ta)&&(this.measure(1/0,1/0),u=this.ta);var f=u.bounds;if(c=!1,u.type===Vt.j)if(1.5>=this.strokeWidth)c=Gt.Re(u.startX,u.startY,u.endX,u.endY,o,a,s,l,i);else{if(u.startX===u.endX?(n=h,c=0):(t=(u.endY-u.startY)/(u.endX-u.startX),n=(c=h/Math.sqrt(1+t*t))*t),t=E(),e=new pe,Gt.Re(u.startX+n,u.startY+c,u.endX+n,u.endY+c,o,a,s,l,e)&&t.push(e),e=new pe,Gt.Re(u.startX-n,u.startY-c,u.endX-n,u.endY-c,o,a,s,l,e)&&t.push(e),e=new pe,Gt.Re(u.startX+n,u.startY+c,u.startX-n,u.startY-c,o,a,s,l,e)&&t.push(e),e=new pe,Gt.Re(u.endX+n,u.endY+c,u.endX-n,u.endY-c,o,a,s,l,e)&&t.push(e),0===(s=t.length))return O(t),!1;for(c=!0,l=1/0,n=0;n<s;n++)(r=((e=t[n]).x-o)*(e.x-o)+(e.y-a)*(e.y-a))<l&&(l=r,i.x=e.x,i.y=e.y);O(t)}else if(u.type===Vt.u)c=Gt.Cf(f.x-h,f.y-h,f.x+f.width+h,f.y+f.height+h,o,a,s,l,i);else if(u.type===Vt.F){e:if(0===(t=Ne.allocAt(f.x,f.y,f.width,f.height).yc(h,h)).width)c=Gt.Re(t.x,t.y,t.x,t.y+t.height,o,a,s,l,i);else if(0===t.height)c=Gt.Re(t.x,t.y,t.x+t.width,t.y,o,a,s,l,i);else{if(e=t.width/2,u=t.height/2,n=t.x+e,c=t.y+u,r=9999,o!==s&&(r=(a-l)/(o-s)),9999>Math.abs(r)){if(0>e*e*r*r+u*u-(l=a-c-r*(o-n))*l){i.x=NaN,i.y=NaN,c=!1;break e}s=(-e*e*r*l+e*u*(h=Math.sqrt(e*e*r*r+u*u-l*l)))/(u*u+e*e*r*r)+n,e=(-e*e*r*l-e*u*h)/(u*u+e*e*r*r)+n,u=r*(s-n)+l+c,l=r*(e-n)+l+c,Math.abs((o-s)*(o-s))+Math.abs((a-u)*(a-u))<Math.abs((o-e)*(o-e))+Math.abs((a-l)*(a-l))?(i.x=s,i.y=u):(i.x=e,i.y=l)}else{if(s=u*u,0>(s-=s/(e*e)*(l=o-n)*l)){i.x=NaN,i.y=NaN,c=!1;break e}s=c+(l=Math.sqrt(s)),l=c-l,Math.abs(s-a)<Math.abs(l-a)?(i.x=o,i.y=s):(i.x=o,i.y=l)}c=!0}Ne.free(t)}else if(u.type===Vt.m){d=pe.alloc();var p=s-o,m=l-a,y=p*p+m*m,g=o,v=a;if(0<y&&f.contains(g,v)&&(d.x=g,d.y=v,this.ca(d)))for(0!==p&&.5>Math.abs(p)?(m*=.5/p,p=.5):0!==m&&.5>Math.abs(m)&&(p*=.5/m,m=.5),g-=p,v-=m;f.contains(g,v);)g-=p,v-=m;for(i.x=s,i.y=l,m=0;m<u.figures.count;m++)for(var b=u.figures.s[m],x=b.isFilled?g:o,S=b.isFilled?v:a,k=b.segments,_=f=b.startX,j=p=b.startY,M=0;M<k.count;M++){var C=k.s[M],P=C.type,T=C.endX,A=C.endY,L=!1;switch(P){case rr:_=T,j=A;break;case nr:L=mu(f,p,T,A,x,S,s,l,d);break;case ir:L=Gt.Ao(f,p,C.point1X,C.point1Y,C.point2X,C.point2Y,T,A,x,S,s,l,.6,d);break;case or:L=Gt.Ao(f,p,f+2/3*(C.point1X-f),p+2/3*(C.point1Y-p),T+2/3*(C.point1X-T),A+2/3*(C.point1Y-A),T,A,x,S,s,l,.6,d);break;case ar:case sr:var N=(P=C.type===ar?er(C,b):tr(C,b,f,p)).length;if(0===N){L=mu(f,p,C.type===ar?C.centerX:C.endX,C.type===ar?C.centerY:C.endY,x,S,s,l,d);break}for(A=null,T=0;T<N;T++){if(A=P[T],0===T&&mu(f,p,A[0],A[1],x,S,s,l,d)){var R=pu(x,S,d,y,i);R<y&&(y=R,c=!0)}Gt.Ao(A[0],A[1],A[2],A[3],A[4],A[5],A[6],A[7],x,S,s,l,.6,d)&&((R=pu(x,S,d,y,i))<y&&(y=R,c=!0))}T=A[6],A=A[7];break;default:w("Unknown Segment type: "+P)}f=T,p=A,L&&((L=pu(x,S,d,y,i))<y&&(y=L,c=!0)),C.isClosed&&(mu(f,p,T=_,A=j,x,S,s,l,d)&&((C=pu(x,S,d,y,i))<y&&(y=C,c=!0)))}o=r-e,a=n-t,0!==(s=Math.sqrt(o*o+a*a))&&(o/=s,a/=s),i.x-=o*h,i.y-=a*h,pe.free(d)}else w("Unknown Geometry type: "+u.type);return!!c&&(this.transform.Ga(i),!0)},t.$g=function(e,t){if(void 0===t)return e.Me(this.actualBounds);var r=this.ta;null===r&&(this.measure(1/0,1/0),r=this.ta),r=r.bounds;var n=this.strokeWidth/2,i=!1,o=pe.alloc();return o.h(r.x-n,r.y-n),e.ca(t.Ga(o))&&(o.h(r.x-n,r.bottom+n),e.ca(t.Ga(o))&&(o.h(r.right+n,r.bottom+n),e.ca(t.Ga(o))&&(o.h(r.right+n,r.y-n),e.ca(t.Ga(o))&&(i=!0)))),pe.free(o),i},t.Tc=function(e,t){if(this.$g(e,t)||void 0===t&&(t=this.transform,e.Me(this.actualBounds)))return!0;var r=zt.alloc();r.set(t),r.Ol();var n=e.left,i=e.right,o=e.top;e=e.bottom;var a=pe.alloc();if(a.h(n,o),r.Ga(a),this.ah(a,!0))return pe.free(a),!0;if(a.h(i,o),r.Ga(a),this.ah(a,!0))return pe.free(a),!0;if(a.h(n,e),r.Ga(a),this.ah(a,!0))return pe.free(a),!0;if(a.h(i,e),r.Ga(a),this.ah(a,!0))return pe.free(a),!0;var s=pe.alloc(),l=pe.alloc();return r.set(t),r.Yu(this.transform),r.Ol(),s.x=i,s.y=o,s.transform(r),a.x=n,a.y=o,a.transform(r),t=!1,yu(this,a,s,l)?t=!0:(a.x=i,a.y=e,a.transform(r),yu(this,a,s,l)?t=!0:(s.x=n,s.y=e,s.transform(r),yu(this,a,s,l)?t=!0:(a.x=n,a.y=o,a.transform(r),yu(this,a,s,l)&&(t=!0)))),pe.free(a),zt.free(r),pe.free(s),pe.free(l),t},t.mx=function(e,t,r){function n(e,t){for(var r=e.length,n=0;n<r;n+=2)if(t.td(e[n],e[n+1])>i)return!0;return!1}if(r&&null!==this.fill&&this.ah(e,!0))return!0;var i=e.yf(t),o=i;if(1.5<this.strokeWidth&&(i=this.strokeWidth/2+Math.sqrt(i),i*=i),null===(t=this.ta)&&(this.measure(1/0,1/0),null===(t=this.ta)))return!1;if(!r){var a=t.bounds,s=a.x,l=a.y,u=a.x+a.width;if(a=a.y+a.height,xe(e.x,e.y,s,l)<=i&&xe(e.x,e.y,u,l)<=i&&xe(e.x,e.y,s,a)<=i&&xe(e.x,e.y,u,a)<=i)return!0}if(s=t.startX,l=t.startY,u=t.endX,a=t.endY,t.type===Vt.j){if(r=(s-u)*(e.x-u)+(l-a)*(e.y-a),be(e.x,e.y,s,l,u,a)<=(0<=(u-s)*(e.x-s)+(a-l)*(e.y-l)&&0<=r?i:o))return!0}else{if(t.type===Vt.u)return t=!1,r&&(t=be(e.x,e.y,s,l,s,a)<=i||be(e.x,e.y,s,l,u,l)<=i||be(e.x,e.y,u,l,u,a)<=i||be(e.x,e.y,s,a,u,a)<=i),t;if(t.type===Vt.F){t=e.x-(s+u)/2,o=e.y-(l+a)/2;var c=Math.abs(u-s)/2,h=Math.abs(a-l)/2;if(0===c||0===h)return be(e.x,e.y,s,l,u,a)<=i;if(!r)return!(xe(t,o,-c,0)>=i||xe(t,o,0,-h)>=i||xe(t,o,0,h)>=i||xe(t,o,c,0)>=i);if((e=Gt.Sy(c,h,t,o))*e<=i)return!0}else if(t.type===Vt.m){if(o=(u=t.bounds).x,s=u.y,l=u.x+u.width,u=u.y+u.height,e.x>l&&e.x<o&&e.y>u&&e.y<s&&be(e.x,e.y,o,s,o,u)>i&&be(e.x,e.y,o,s,l,s)>i&&be(e.x,e.y,l,u,o,u)>i&&be(e.x,e.y,l,u,l,s)>i)return!1;if(o=Math.sqrt(i),!r){for(r=t.figures,t=0;t<r.count;t++){if(a=(o=r.s[t]).startX,c=o.startY,e.td(a,c)>i)return!1;for(l=(s=o.segments.s).length,u=0;u<l;u++)switch(h=s[u],h.type){case rr:case nr:if(a=h.endX,c=h.endY,e.td(a,c)>i)return!1;break;case ir:var d=E();if(Gt.Le(a,c,h.point1X,h.point1Y,h.point2X,h.point2Y,h.endX,h.endY,.8,d),a=n(d,e),O(d),a)return!1;if(a=h.endX,c=h.endY,e.td(a,c)>i)return!1;break;case or:if(d=E(),Gt.Yo(a,c,h.point1X,h.point1Y,h.endX,h.endY,.8,d),a=n(d,e),O(d),a)return!1;if(a=h.endX,c=h.endY,e.td(a,c)>i)return!1;break;case ar:case sr:var f=(d=h.type===ar?er(h,o):tr(h,o,a,c)).length;if(0===f){if(a=h.type===ar?h.centerX:h.endX,c=h.type===ar?h.centerY:h.endY,e.td(a,c)>i)return!1;break}h=null;for(var p=E(),m=0;m<f;m++)if(h=d[m],p.length=0,Gt.Le(h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],.8,p),n(p,e))return O(p),!1;O(p),null!==h&&(a=h[6],c=h[7]);break;default:w("Unknown Segment type: "+h.type)}}return!0}if(null===this.fill?Kt(t,e.x,e.y,o):Xt(t,e,o,!0,!1))return!0}}return!1},t.nc=function(){this.ta=null},t.cq=function(){return this.eg},cu.makeGeometry=function(e,t,r){if("None"!==e.toArrow)var n=bu[e.toArrow];else"None"!==e.fromArrow?n=bu[e.fromArrow]:("string"===typeof(n=Gt.Ve[e.figure])&&(n=Gt.Ve[n]),void 0===n&&w("Unknown Shape.figure: "+e.figure),(n=n(e,t,r)).Nk=t,n.Mk=r);if(null===n){var i=Gt.Ve.Rectangle;"function"===typeof i&&(n=i(e,t,r))}return n},d.Object.defineProperties(cu.prototype,{geometry:{get:function(){return null!==this.ta?this.ta:this.Jd},set:function(e){var t=this.ta,r=this.Jd;if(t!==e){this.Jd=this.ta=null!==e?e.freeze():null;var n=this.part;null!==n&&(n.Xf=NaN),this.v(),this.g("geometry",t||r,e),Ka(this)&&(null!==(e=this.part)&&Na(this,e,"geometryString"))}}},geometryString:{get:function(){return null===this.geometry?"":this.geometry.toString()},set:function(e){var t=(e=Vt.parse(e)).normalize();this.geometry=e,this.position=e=pe.allocAt(-t.x,-t.y),pe.free(e)}},isGeometryPositioned:{get:function(){return 0!==(1048576&this.o)},set:function(e){var t=0!==(1048576&this.o);t!==e&&(this.o^=1048576,this.v(),this.g("isGeometryPositioned",t,e))}},fill:{get:function(){return this.Ri},set:function(e){var t=this.Ri;t!==e&&(null!==e&&Vs(e,"Shape.fill"),e instanceof As&&e.freeze(),this.Ri=e,this.N(),this.g("fill",t,e))}},stroke:{get:function(){return this.uc},set:function(e){var t=this.uc;t!==e&&(null!==e&&Vs(e,"Shape.stroke"),e instanceof As&&e.freeze(),this.uc=e,this.N(),this.g("stroke",t,e))}},strokeWidth:{get:function(){return this.eg},set:function(e){var t=this.eg;if(t!==e)if(0<=e){this.eg=e,this.v();var r=this.part;null!==r&&(r.Xf=NaN),this.g("strokeWidth",t,e)}else k(e,"value >= 0",cu,"strokeWidth:value")}},strokeCap:{get:function(){return null!==this.Na?this.Na.zr:"butt"},set:function(e){var t=this.strokeCap;t!==e&&("string"!==typeof e||"butt"!==e&&"round"!==e&&"square"!==e?k(e,'"butt", "round", or "square"',cu,"strokeCap"):(hu(this),this.Na.zr=e,this.N(),this.g("strokeCap",t,e)))}},strokeJoin:{get:function(){return null!==this.Na?this.Na.Ar:"miter"},set:function(e){var t=this.strokeJoin;t!==e&&("string"!==typeof e||"miter"!==e&&"bevel"!==e&&"round"!==e?k(e,'"miter", "bevel", or "round"',cu,"strokeJoin"):(hu(this),this.Na.Ar=e,this.N(),this.g("strokeJoin",t,e)))}},strokeMiterLimit:{get:function(){return null!==this.Na?this.Na.Br:10},set:function(e){var t=this.strokeMiterLimit;if(t!==e&&1<=e){hu(this),this.Na.Br=e,this.N();var r=this.part;null!==r&&(r.Xf=NaN),this.g("strokeMiterLimit",t,e)}}},strokeDashArray:{get:function(){return this.Sg},set:function(e){var t=this.Sg;if(t!==e){if(null!==e){for(var r=e.length,n=0,i=0;i<r;i++){var o=e[i];0<=o&&isFinite(o)||w("strokeDashArray:value "+o+" at index "+i+" must be a positive number or zero."),n+=o}if(0===n){if(null===t)return;e=null}}this.Sg=e,this.N(),this.g("strokeDashArray",t,e)}}},strokeDashOffset:{get:function(){return null!==this.Na?this.Na.sj:0},set:function(e){var t=this.strokeDashOffset;t!==e&&0<=e&&(hu(this),this.Na.sj=e,this.N(),this.g("strokeDashOffset",t,e))}},figure:{get:function(){return this.Ym},set:function(e){var t=this.Ym;if(t!==e){var r=Gt.Ve[e];"function"===typeof r?r=e:(r=Gt.Ve[e.toLowerCase()])||w("Unknown Shape.figure: "+e),t!==r&&(null!==(e=this.part)&&(e.Xf=NaN),this.Ym=r,this.Jd=null,this.nc(),this.v(),this.g("figure",t,r))}}},toArrow:{get:function(){return null!==this.Ua?this.Ua.V:"None"},set:function(e){var t=this.toArrow;if(!0===e?e="Standard":!1===e&&(e=""),t!==e){var r=vu(e);null===r?w("Unknown Shape.toArrow: "+e):t!==r&&(null===this.Ua&&(this.Ua=new hs),this.Ua.V=r,this.Jd=null,this.nc(),this.v(),gu(this),this.g("toArrow",t,r))}}},fromArrow:{get:function(){return null!==this.Ua?this.Ua.j:"None"},set:function(e){var t=this.fromArrow;if(!0===e?e="Standard":!1===e&&(e=""),t!==e){var r=vu(e);null===r?w("Unknown Shape.fromArrow: "+e):t!==r&&(null===this.Ua&&(this.Ua=new hs),this.Ua.j=r,this.Jd=null,this.nc(),this.v(),gu(this),this.g("fromArrow",t,r))}}},spot1:{get:function(){return null!==this.Na?this.Na.bg:St},set:function(e){var t=this.spot1;t.C(e)||(e=e.J(),hu(this),this.Na.bg=e,this.v(),this.g("spot1",t,e))}},spot2:{get:function(){return null!==this.Na?this.Na.cg:St},set:function(e){var t=this.spot2;t.C(e)||(e=e.J(),hu(this),this.Na.cg=e,this.v(),this.g("spot2",t,e))}},parameter1:{get:function(){return this.Qn},set:function(e){var t=this.Qn;t!==e&&(this.Qn=e,this.nc(),this.v(),this.g("parameter1",t,e))}},parameter2:{get:function(){return this.Rn},set:function(e){var t=this.Rn;t!==e&&(this.Rn=e,this.nc(),this.v(),this.g("parameter2",t,e))}},naturalBounds:{get:function(){return this.ac}},pathPattern:{get:function(){return null!==this.Na?this.Na.Vq:null},set:function(e){var t=this.pathPattern;t!==e&&(hu(this),this.Na.Vq=e,this.N(),this.g("pathPattern",t,e))}},geometryStretch:{get:function(){return null!==this.Na?this.Na.bq:ma},set:function(e){var t=this.geometryStretch;t!==e&&(hu(this),this.Na.bq=e,this.v(),this.g("geometryStretch",t,e))}},interval:{get:function(){return null!==this.fa?this.fa.Ok:1},set:function(e){var t=this.interval;if(t!==(e=Math.round(e))&&0!==e&&isFinite(e)){null===this.fa&&(this.fa=new Qu),this.fa.Ok=e;var r=this.diagram;null!==r&&this.panel===r.grid&&yo(r),this.v(),null!==(r=this.panel)&&(r.graduatedIntervals=null),this.g("interval",t,e)}}},graduatedStart:{get:function(){return null!==this.fa?this.fa.u:0},set:function(e){var t=this.graduatedStart;t!==e&&(0>e?e=0:1<e&&(e=1),null===this.fa&&(this.fa=new Qu),this.fa.u=e,this.v(),this.g("graduatedStart",t,e))}},graduatedEnd:{get:function(){return null!==this.fa?this.fa.j:1},set:function(e){var t=this.graduatedEnd;t!==e&&(0>e?e=0:1<e&&(e=1),null===this.fa&&(this.fa=new Qu),this.fa.j=e,this.v(),this.g("graduatedEnd",t,e))}},graduatedSkip:{get:function(){return null!==this.fa?this.fa.m:null},set:function(e){var t=this.graduatedSkip;t!==e&&(null===this.fa&&(this.fa=new Qu),this.fa.m=e,this.v(),this.g("graduatedSkip",t,e))}}}),cu.prototype.intersectsRect=cu.prototype.Tc,cu.prototype.containedInRect=cu.prototype.$g,cu.prototype.getNearestIntersectionPoint=cu.prototype.ks,cu.prototype.getDocumentBounds=cu.prototype.ji,cu.prototype.getDocumentPoint=cu.prototype.ja;var bu=new G,xu=new G;function wu(){this.jc=!1,this.zr="butt",this.Ar="miter",this.Br=10,this.sj=0,this.Vq=null,this.bq=ma,this.cg=this.bg=St}function Su(e,t){return Aa.call(this),$u||(Zu=Bo?new Ps(null).context:null,$u=!0),this.o|=2097152,this.bc="",this.uc="black",this.we="13px sans-serif",this.Eq=this.Cb=this.Dc=0,this.da=this.fa=this.Dm=this.Ht=this.It=null,this.Eh=0,this.$e=null,this.He=0,this.ve=this.Xb=this.Nc=null,"string"===typeof e?this.text=e:e&&Object.assign(this,e),t&&Object.assign(this,t),this}function ku(e){null===e.da?e.da=new Ju:e.da.jc&&(e.da=e.da.copy())}function _u(e,t){e.o=6144|t.o,e.qb=t.opacity,e.Ra=t.background,e.areaBackground=t.areaBackground,e.ad=t.desiredSize.J(),e.minSize=t.minSize.J(),e.maxSize=t.maxSize.J(),null!==t.Jb?e.Jb=t.Jb.copy():e.Jb=null,e.Aa=t.scale,e.Ib=t.angle,e.stretch=t.stretch,e.Fg=t.margin.J(),e.Hb=t.alignment.J(),e.mk=t.alignmentFocus.J(),e.segmentFraction=t.segmentFraction,e.segmentOffset=t.segmentOffset.J(),e.segmentOrientation=t.segmentOrientation,null!==t.ib&&(e.ib=t.ib.copy()),e.shadowVisible=t.shadowVisible,e.bc=t.bc,e.uc=t.uc,e.we=t.we,null!==e.fa&&(e.fa=t.fa.copy()),null!==t.da&&(e.da=t.da.jc?t.da:t.da.copy()),e.Eh=t.Eh}function ju(e,t,r){null===e.ve?(e.ve=t,e.Cb=r):(null!==e.Xb&&null!==e.Nc||(e.Xb=[],e.Nc=[],e.Xb.push(e.ve),e.Nc.push(e.Cb)),e.Xb.push(t),e.Nc.push(r))}function Mu(e,t,r,n){var i=e.formatting===zu;i&&(t=t.trim());var o=0,a=e.we,s=e.spacingAbove+e.spacingBelow;s=Math.max(0,Tu(e)+s);var l=e.overflow===Uu?Eu(a):0;if(e.Dc>=e.maxLines)null!==n&&n.h(0,s);else if(a=t,e.wrap===Ru){e.He=1;var u=Pu(t);if(0===l||u<=r)e.Cb=Math.max(e.Cb,u),ju(e,t,e.Cb),null!==n&&n.h(u,s);else{for(u=Pu((o=Cu(e,a))+(t=Cu(e,a=a.substr(o.length))));0<t.length&&u<=r;)u=(o+=t)+(t=Cu(e,a=a.substr(t.length))),i&&(u=u.trim()),u=Pu(u);for(i&&(t=t.trim()),o+=t,r=Math.max(1,r-l);Pu(o)>r&&1<o.length;)o=o.substr(0,o.length-1);var c=Pu(o+=Yu);e.Cb=c,ju(e,o,c),null!==n&&n.h(c,s)}}else{for(l=0,0===a.length&&(l=1,ju(e,a,0));0<a.length;){for(t=Cu(e,a),a=a.substr(t.length);Pu(t)>r;){var h=1;for(u=Pu(t.substr(0,h)),c=0;u<=r;)h++,c=u,u=Pu(t.substr(0,h));if(1===h){var d=u;o=Math.max(o,u)}else d=c,o=Math.max(o,c);if(1>--h&&(h=1),ju(e,t.substr(0,h),d),l++,t=t.substr(h),e.Dc+l>e.maxLines)break}for(u=Pu(t+(c=Cu(e,a)));0<c.length&&u<=r;)u=(t+=c)+(c=Cu(e,a=a.substr(c.length))),i&&(u=u.trim()),u=Pu(u);if(i&&(t=t.trim()),""!==t&&("\xad"===t[t.length-1]&&(t=t.substring(0,t.length-1)+"\u2010"),0===c.length?(h=u,o=Math.max(o,u)):(h=c=Pu(t),o=Math.max(o,c)),ju(e,t,h),l++,e.Dc+l>e.maxLines))break}e.He=Math.min(e.maxLines,l),e.Cb=Math.max(e.Cb,o),null!==n&&n.h(e.Cb,s*e.He)}}function Cu(e,t){if(e.wrap===Fu)return t.substr(0,1);for(var r=t.length,n=0,i=Gu;n<r&&!i.test(t.charAt(n));)n++;for(e.formatting===qu&&(r=Math.min(r,n+1));n<r&&i.test(t.charAt(n));)n++;return n>=t.length?t:t.substr(0,n)}function Pu(e){return null===Zu?8*e.length:Zu.measureText(e).width}function Tu(e){if(null!==e.$e)return e.$e;var t=e.we;if(null===Zu){var r=16;return e.$e=r}return void 0!==Vu[t]&&5e3>Hu?r=Vu[t]:(r=1.3*Zu.measureText("M").width,Vu[t]=r,Hu++),e.$e=r}function Eu(e){if(null===Zu)return 6;if(void 0!==Wu[e]&&5e3>Xu)var t=Wu[e];else t=Zu.measureText(Yu).width,Wu[e]=t,Xu++;return t}function Ou(e,t){var r=e.bc.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),n=e.spacingAbove+e.spacingBelow;if(n=Math.max(0,Tu(e)+n),0===r.length)return e.Cb=0,e.Dc=1,n;if(!e.isMultiline){var i=r.indexOf("\n",0);0<=i&&(r=r.substr(0,i))}i=0;for(var o,a=e.Dc=0,s=!1;!s;){if(-1===(o=r.indexOf("\n",a))&&(o=r.length,s=!0),a<=o){if(a=r.substr(a,o-a),e.wrap!==Ru){e.He=0;var l=Ee.alloc();Mu(e,a,t,l),i+=l.height,Ee.free(l),e.Dc+=e.He}else Mu(e,a,t,null),i+=n,e.Dc++;e.Dc===e.maxLines&&(s=!0)}a=o+1}return e.Eq=i}cu.className="Shape",cu.getFigureGenerators=function(){var e,t=new fe;for(e in Gt.Ve)e!==e.toLowerCase()&&t.add(e,Gt.Ve[e]);return t.freeze(),t},cu.defineFigureGenerator=function(e,t){var r=e.toLowerCase(),n=Gt.Ve;n[e]=t,n[r]=e},cu.getArrowheadGeometries=function(){var e=new fe;for(n in Gt.rm)if(void 0===bu[n]){var t=Vt.parse(Gt.rm[n],!1);bu[n]=t,(t=n.toLowerCase())!==n&&(bu[t]=n)}for(var r in bu)if(r!==r.toLowerCase()){var n=bu[r];n instanceof Vt&&e.add(r,n)}return e.freeze(),e},cu.defineArrowheadGeometry=function(e,t){var r=null;r="string"===typeof t?Vt.parse(t,!1):t,"none"!==(t=e.toLowerCase())&&e!==t||w("Shape.defineArrowheadGeometry name must not be empty or None or all-lower-case: "+e);var n=bu;n[e]=r,n[t]=e},wu.prototype.copy=function(){var e=new wu;return e.zr=this.zr,e.Ar=this.Ar,e.Br=this.Br,e.sj=this.sj,e.Vq=this.Vq,e.bq=this.bq,e.bg=this.bg.J(),e.cg=this.cg.J(),e},h(Su,Aa),Su.prototype.cloneProtected=function(e){Aa.prototype.cloneProtected.call(this,e),e.bc=this.bc,e.uc=this.uc,e.we=this.we,e.Dc=this.Dc,e.Cb=this.Cb,e.Eq=this.Eq,e.It=this.It,e.Ht=this.Ht,e.Dm=this.Dm,null!==this.fa&&(e.fa=this.fa.copy()),null!==this.da&&(e.da=this.da.jc?this.da:this.da.copy()),e.Eh=this.Eh,e.$e=this.$e,e.He=this.He,e.Nc=this.Nc,e.Xb=this.Xb,e.ve=this.ve},(t=Su.prototype).oh=function(){Aa.prototype.oh.call(this),null!==this.da&&(this.da.jc=!0)},t.rb=function(e){e.classType===Su?this.wrap=e:Aa.prototype.rb.call(this,e)},t.toString=function(){return 22<this.bc.length?'TextBlock("'+this.bc.substring(0,20)+'"...)':'TextBlock("'+this.bc+'")'},t.v=function(){Aa.prototype.v.call(this),this.Ht=this.It=null},t.bh=function(e,t){if(null!==this.uc&&0!==this.bc.length&&null!==this.we){var r=this.naturalBounds,n=this.actualBounds,i=r.width,o=r.height,a=Tu(this),s=e.textAlign=this.textAlign,l=t.pn;"start"===s?s=l?"right":"left":"end"===s&&(s=l?"left":"right"),l=this.isUnderline;var u=this.isStrikethrough;qa(this,e,this.uc,!0,!1,r,n),(l||u)&&qa(this,e,this.uc,!1,!1,r,n),n=0,r=!1;var c=this.ke,h=c.dx-(a*c.m21+c.dx);c=c.dy-(a*c.m22+c.dy);var d=t.scale;switch(8>(h*h+c*c)*d*d&&(r=!0),t.jb!==e&&(r=!1),t.jb instanceof ys&&(r=!1),!1===t.Df("textGreeking")&&(r=!1),t=this.spacingAbove,h=this.spacingBelow,this.flip){case va:e.translate(i,0),e.scale(-1,1);break;case ga:e.translate(0,o),e.scale(1,-1);break;case ba:e.translate(i,o),e.scale(-1,-1)}if(e.vc(),o>(d=(t+a+h)*(c=this.Dc))&&(n=(n=this.verticalAlignment).y*o-n.y*d+n.offsetY),1===c&&null!==this.ve)(h=this.Cb)>i&&(h=i),this.Mj(this.ve,e,0,n+t,i,a,h,r,s,l,u);else if(null!==this.Nc&&null!==this.Xb)for(d=0;d<c;d++){var f=this.Nc[d];f>i&&(f=i),n+=t,this.Mj(this.Xb[d],e,0,n,i,a,f,r,s,l,u),n+=a+h}switch(this.flip){case va:e.scale(-1,1),e.translate(-i,0);break;case ga:e.scale(1,-1),e.translate(0,-o);break;case ba:e.scale(-1,-1),e.translate(-i,-o)}}},t.Mj=function(e,t,r,n,i,o,a,s,l,u,c){var h=0;if(s)"left"===l?h=0:"right"===l?h=i-a:"center"===l&&(h=(i-a)/2),t.fillRect(r+h,n+.25*o,a,1);else{if("left"===l?h=0:"right"===l?h=i:"center"===l&&(h=i/2),i=null!==Lu?Lu(this,o):.75*o,t.fillText(e,r+h,n+i),0===(e=o/20|0)&&(e=1),"right"===l?h-=a:"center"===l&&(h-=a/2),u){l=r+h,u=n+(s=null!==Nu?Nu(this,o):.8*o),i=r+h+a,s=n+s;var d=e;t.beginPath(),t.lineWidth=d,t.moveTo(l,u),t.lineTo(i,s),t.stroke(),t.Ne(),t instanceof ys&&t.Od.classList.add("gojs-td")}c&&(c=n+o-o/2.2|0,0!==e%2&&(c+=.5),n=r+h,o=c,r=r+h+a,a=c,h=e,t.beginPath(),t.lineWidth=h,t.moveTo(n,o),t.lineTo(r,a),t.stroke(),t.Ne(),t instanceof ys&&t.Od.classList.add("gojs-td"))}},t.fk=function(e,t,r){if(!Aa.prototype.fk.call(this,e,t,r))return!1;if(qa(this,e,this.uc,!0,!1,this.naturalBounds,this.actualBounds),r){if(0===this.svg.getElementsByTagName("text").length)return!0;for(t=this.svg.getElementsByClassName("gojs-td"),r=0;r<t.length;r++)xs(e,t[r],!1)}else(t=this.svg).innerHTML=this.text,xs(e,t,!0);return!0},t.ik=function(e){return!!(1<this.lineCount||this.isUnderline||this.isStrikethrough)||Aa.prototype.ik.call(this,e)},t.wv=function(e,t){if("g"!==e.nodeName)e.setAttributeNS(null,"filter",t);else{e=e.getElementsByTagName("text");for(var r=0;r<e.length;r++)e[r].setAttributeNS(null,"filter",t)}},t.Sl=function(e,t,r,n){var i=this.Dc;this.Eh=e;var o,a=this.we;if(null!==Zu&&Ku!==a&&(Ku=Zu.font=a),this.Cb=this.He=0,this.ve=this.Xb=this.Nc=this.$e=null,isNaN(this.desiredSize.width)){if(0===(a=this.bc.replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length)a=0;else if(this.isMultiline){for(var s=o=0,l=!1;!l;){var u=a.indexOf("\n",s);-1===u&&(u=a.length,l=!0),s=a.substr(s,u-s),this.formatting===zu&&(s=s.trim()),o=Math.max(o,Pu(s)),s=u+1}a=o}else 0<=(o=a.indexOf("\n",0))&&(a=a.substr(0,o)),a=Pu(a);a=Math.min(a,e/this.scale),a=Math.max(8,a)}else a=this.desiredSize.width;if(null!==this.panel&&(a=Math.min(a,this.panel.maxSize.width)),o=Ou(this,a),l=o=isNaN(this.desiredSize.height)?Math.min(o,t/this.scale):this.desiredSize.height,0!==this.Cb&&null!==this.Nc&&null!==this.Xb&&this.overflow===Uu&&(t=this.we,t=this.overflow===Uu?Eu(t):0,u=this.spacingAbove+this.spacingBelow,u=Math.max(0,Tu(this)+u),!((l=Math.min(this.maxLines-1,Math.max(Math.floor(l/u+.01)-1,0)))+1>=this.Xb.length))){for(u=this.Xb[l],t=Math.max(1,e-t);Pu(u)>t&&1<u.length;)u=u.substr(0,u.length-1);t=Pu(u+=Yu),this.Xb[l]=u,this.Xb=this.Xb.slice(0,l+1),this.Nc[l]=t,this.Nc=this.Nc.slice(0,l+1),this.He=this.Xb.length,this.Cb=Math.max(this.Cb,t),this.Dc=this.He,1===this.Dc&&(this.ve=this.Xb[0])}(this.wrap===Du||isNaN(this.desiredSize.width))&&(a=isNaN(e)?this.Cb:Math.min(e,this.Cb),isNaN(this.desiredSize.width)&&(a=Math.max(8,a))),a=Math.max(r,a),o=Math.max(n,o),Re(this.ac,a,o),this.Ce(0,0,a,o),null!==this.svg&&i!==this.Dc&&(this.Uh=!0)},t.Zg=function(e,t,r,n){Da(this,e,t,r,n)},d.Object.defineProperties(Su.prototype,{font:{get:function(){return this.we},set:function(e){var t=this.we;t!==e&&(this.we=e,this.$e=null,this.v(),this.g("font",t,e))}},text:{get:function(){return this.bc},set:function(e){var t=this.bc;t!==(e=null!==e&&void 0!==e?e.toString():"")&&(this.bc=e,this.v(),this.g("text",t,e),this.Uh=!0)}},textAlign:{get:function(){return null!==this.da?this.da.Gr:"start"},set:function(e){var t=this.textAlign;t===e||"start"!==e&&"end"!==e&&"left"!==e&&"right"!==e&&"center"!==e||(ku(this),this.da.Gr=e,this.N(),this.g("textAlign",t,e))}},flip:{get:function(){return null!==this.da?this.da.Uf:ha},set:function(e){var t=this.flip;t!==e&&(ku(this),this.da.Uf=e,this.N(),this.g("flip",t,e))}},verticalAlignment:{get:function(){return null!==this.da?this.da.Qr:jt},set:function(e){var t=this.verticalAlignment;t.C(e)||(e=e.J(),ku(this),this.da.Qr=e,Va(this),this.g("verticalAlignment",t,e))}},naturalBounds:{get:function(){if(!this.ac.w()){var e=Ee.alloc();Mu(this,this.bc,999999,e);var t=e.width;Ee.free(e),e=Ou(this,t);var r=this.desiredSize;isNaN(r.width)||(t=r.width),isNaN(r.height)||(e=r.height),Re(this.ac,t,e)}return this.ac}},isMultiline:{get:function(){return 0!==(2097152&this.o)},set:function(e){var t=0!==(2097152&this.o);t!==e&&(this.o^=2097152,this.v(),this.g("isMultiline",t,e))}},isUnderline:{get:function(){return 0!==(4194304&this.o)},set:function(e){var t=0!==(4194304&this.o);t!==e&&(this.o^=4194304,this.Uh=!0,this.N(),this.g("isUnderline",t,e))}},isStrikethrough:{get:function(){return 0!==(8388608&this.o)},set:function(e){var t=0!==(8388608&this.o);t!==e&&(this.o^=8388608,this.Uh=!0,this.N(),this.g("isStrikethrough",t,e))}},wrap:{get:function(){return null!==this.da?this.da.Sr:Iu},set:function(e){var t=this.wrap;t!==e&&(ku(this),this.da.Sr=e,this.v(),this.g("wrap",t,e))}},overflow:{get:function(){return null!==this.da?this.da.Tq:Bu},set:function(e){var t=this.overflow;t!==e&&(ku(this),this.da.Tq=e,this.v(),this.g("overflow",t,e))}},stroke:{get:function(){return this.uc},set:function(e){var t=this.uc;t!==e&&(null!==e&&Vs(e,"TextBlock.stroke"),e instanceof As&&e.freeze(),this.uc=e,this.N(),this.g("stroke",t,e))}},lineCount:{get:function(){return this.Dc}},lineHeight:{get:function(){return Tu(this)}},editable:{get:function(){return 0!==(1048576&this.o)},set:function(e){var t=0!==(1048576&this.o);t!==e&&(this.o^=1048576,this.g("editable",t,e))}},textEditor:{get:function(){return null!==this.da?this.da.Ir:null},set:function(e){var t=this.textEditor;t!==e&&(ku(this),this.da.Ir=e,this.g("textEditor",t,e))}},errorFunction:{get:function(){return null!==this.da?this.da.zd:null},set:function(e){var t=this.errorFunction;t!==e&&(ku(this),this.da.zd=e,this.g("errorFunction",t,e))}},interval:{get:function(){return null!==this.fa?this.fa.Ok:1},set:function(e){var t=this.interval;if(t!==(e=Math.round(e))&&0!==e&&isFinite(e)){null===this.fa&&(this.fa=new Qu),this.fa.Ok=e,this.v();var r=this.panel;null!==r&&(r.graduatedIntervals=null),this.g("interval",t,e)}}},graduatedStart:{get:function(){return null!==this.fa?this.fa.u:0},set:function(e){var t=this.graduatedStart;t!==e&&(0>e?e=0:1<e&&(e=1),null===this.fa&&(this.fa=new Qu),this.fa.u=e,this.v(),this.g("graduatedStart",t,e))}},graduatedEnd:{get:function(){return null!==this.fa?this.fa.j:1},set:function(e){var t=this.graduatedEnd;t!==e&&(0>e?e=0:1<e&&(e=1),null===this.fa&&(this.fa=new Qu),this.fa.j=e,this.v(),this.g("graduatedEnd",t,e))}},graduatedFunction:{get:function(){return null!==this.fa?this.fa.F:null},set:function(e){var t=this.graduatedFunction;t!==e&&(null===this.fa&&(this.fa=new Qu),this.fa.F=e,this.v(),this.g("graduatedFunction",t,e))}},graduatedSkip:{get:function(){return null!==this.fa?this.fa.m:null},set:function(e){var t=this.graduatedSkip;t!==e&&(null===this.fa&&(this.fa=new Qu),this.fa.m=e,this.v(),this.g("graduatedSkip",t,e))}},textValidation:{get:function(){return null!==this.da?this.da.tj:null},set:function(e){var t=this.textValidation;t!==e&&(ku(this),this.da.tj=e,this.g("textValidation",t,e))}},textEdited:{get:function(){return null!==this.da?this.da.Hr:null},set:function(e){var t=this.textEdited;t!==e&&(ku(this),this.da.Hr=e,this.g("textEdited",t,e))}},spacingAbove:{get:function(){return null!==this.da?this.da.vr:0},set:function(e){var t=this.spacingAbove;t!==e&&(ku(this),this.da.vr=e,this.v(),this.g("spacingAbove",t,e))}},spacingBelow:{get:function(){return null!==this.da?this.da.wr:0},set:function(e){var t=this.spacingBelow;t!==e&&(ku(this),this.da.wr=e,this.v(),this.g("spacingBelow",t,e))}},formatting:{get:function(){return null!==this.da?this.da.Zp:zu},set:function(e){var t=this.formatting;t!==e&&(ku(this),this.da.Zp=e,this.v(),this.g("formatting",t,e))}},maxLines:{get:function(){return null!==this.da?this.da.Cq:1/0},set:function(e){var t=this.maxLines;t!==e&&(0>=(e=Math.floor(e))&&k(e,"> 0",Su,"maxLines"),ku(this),this.da.Cq=e,this.v(),this.g("maxLines",t,e))}},metrics:{get:function(){return{arrSize:null!==this.Nc?this.Nc:[this.Cb],arrText:null!==this.Xb?this.Xb:[this.ve],maxLineWidth:this.Cb,fontHeight:this.$e}}},choices:{get:function(){return this.Dm},set:function(e){var t=this.Dm;t!==e&&(this.Dm=e,this.g("choices",t,e))}}});var Au,Lu=null,Nu=null,Ru=new U(Su,"None",0),Du=new U(Su,"WrapFit",1),Iu=new U(Su,"WrapDesiredSize",2),Fu=new U(Su,"WrapBreakAll",3),Bu=new U(Su,"OverflowClip",0),Uu=new U(Su,"OverflowEllipsis",1),zu=new U(Su,"FormatTrim",0),qu=new U(Su,"FormatNone",0),Gu=/[ \u200b\u00ad]/,Vu=new G,Hu=0,Wu=new G,Xu=0,Yu="...",Ku="",Zu=null,$u=!1;function Ju(){this.jc=!1,this.zd=null,this.Uf=ha,this.Zp=zu,this.Cq=1/0,this.Tq=Bu,this.wr=this.vr=0,this.Gr="start",this.tj=this.Ir=this.Hr=null,this.Qr=jt,this.Sr=Iu}function Qu(){this.Ok=1,this.u=0,this.j=1,this.m=this.F=null}function ec(e,t){Aa.call(this),this.Ag=null,this.mo="",this.Rg=We,this.Ik=ca,this.Tg=this.zd=null,this.Hk=rt,this.Uf=ha,this.rl=null,this.mn=!1,this.an=!0,this.Wk=!1,this.nl=null,"string"===typeof e?this.source=e:e&&Object.assign(this,e),t&&Object.assign(this,t)}function tc(e){void 0===e&&(e=""),""!==e?Au[e]&&(delete Au[e],nc--):(Au=new G,nc=0)}function rc(e,t){t.my||(t.yq=function(r){t.lq=!0,t.gn=!1;var n=t.xg.copy();if(null!==n&&void 0!==n){for(n=n.iterator;n.next();){var i=n.value;i.N();var o=t.getAttribute("src")||"",a=i.Jg.I(o);if(null!==a)for(var s=a.length,l=0;l<s;l++)o=a[l],i.Tn.add(o),o.Uh=!0,i.Wb(),t.dn&&(void 0===t.$t&&(t.$t=r),null!==o.Tg&&o.Tg(o,r))}t.xg.clear()}e.desiredSize.w()||(es(e,!1),e.v())},t.Rp=function(e){t.gn=e;var r=t.xg.copy();if(null!==r&&void 0!==r){for(r=r.iterator;r.next();){var n=r.value,i=t.getAttribute("src")||"",o=n.Jg.I(i);if(null!==o){n=o.length,i=E();for(var a=0;a<n;a++)i.push(o[a]);if(t.dn)for(a=0;a<n;a++)null!==(o=i[a]).zd&&o.zd(o,e);O(i)}}t.xg.clear()}},t.addEventListener("load",t.yq),t.addEventListener("error",t.Rp),t.my=!0)}Su.className="TextBlock",Ju.prototype.copy=function(){var e=new Ju;return e.zd=this.zd,e.Uf=this.Uf,e.Zp=this.Zp,e.Cq=this.Cq,e.Tq=this.Tq,e.vr=this.vr,e.wr=this.wr,e.Gr=this.Gr,e.Hr=this.Hr,e.Ir=this.Ir,e.tj=this.tj,e.Qr=this.Qr,e.Sr=this.Sr,e},Su.getEllipsis=function(){return Yu},Su.setEllipsis=function(e){Yu=e,Wu=new G,Xu=0},Su.getBaseline=function(){return Lu},Su.setBaseline=function(e){Lu=e},Su.getUnderline=function(){return Nu},Su.setUnderline=function(e){Nu=e},Su.isValidFont=function(e){if($u||(Zu=Bo?new Ps(null).context:null,$u=!0),null===Zu)return!0;var t=Zu.font;if(e===t||"10px sans-serif"===e)return!0;Zu.font="10px sans-serif",Zu.font=e;var r=Zu.font;if("10px sans-serif"!==r)return Zu.font=t,!0;Zu.font="19px serif";var n=Zu.font;return Zu.font=e,r=Zu.font,Zu.font=t,r!==n},Su.FormatNone=qu,Su.FormatTrim=zu,Su.None=Ru,Su.OverflowClip=Bu,Su.OverflowEllipsis=Uu,Su.WrapBreakAll=Fu,Su.WrapDesiredSize=Iu,Su.WrapFit=Du,Qu.prototype.copy=function(){var e=new Qu;return e.Ok=this.Ok,e.u=this.u,e.j=this.j,e.F=this.F,e.m=this.m,e},Qu.className="GradElementSettings",h(ec,Aa),ec.prototype.cloneProtected=function(e){Aa.prototype.cloneProtected.call(this,e),e.mo=this.mo,e.element=this.Ag,e.Rg=this.Rg.J(),e.Ik=this.Ik,e.Uf=this.Uf,e.zd=this.zd,e.Tg=this.Tg,e.Hk=this.Hk.J(),e.an=this.an,e.nl=this.nl},ec.prototype.rb=function(e){e===ha||e===da||e===ya?this.imageStretch=e:Aa.prototype.rb.call(this,e)},ec.prototype.toString=function(){return"Picture("+this.source+")#"+te(this)},ec.prototype.Yz=function(){if(""!==this.source){tc(this.source);var e=this.source;this.source="",this.source=e}},ec.prototype.redraw=function(){this.N()},ec.prototype.bh=function(e,t){var r=this.Ag;if(null!==r){var n=r.getAttribute("src");if(!(r instanceof HTMLImageElement&&(null===n||""===n)||r.gn instanceof Event&&e instanceof Ts)){var i=e instanceof ys;n=this.naturalBounds;var o=0,a=0,s=this.mn,l=s?+r.width:r.naturalWidth;if(s=s?+r.height:r.naturalHeight,void 0===l&&r.videoWidth&&(l=r.videoWidth),void 0===s&&r.videoHeight&&(s=r.videoHeight),l=l||n.width,s=s||n.height,0!==l&&0!==s){var u=l,c=s;this.sourceRect.w()&&(o=this.Rg.x,a=this.Rg.y,l=this.Rg.width,s=this.Rg.height);var h=l,d=s,f=this.Ik,p=this.Hk;switch(f){case ha:if(this.sourceRect.w())break;h>=n.width&&(o=o+p.offsetX+(h*p.x-n.width*p.x)),d>=n.height&&(a=a+p.offsetY+(d*p.y-n.height*p.y)),l=Math.min(n.width,h),s=Math.min(n.height,d);break;case ca:h=n.width,d=n.height;break;case da:case ya:f===da?(h*=f=Math.min(n.height/d,n.width/h),d*=f):f===ya&&(d*=f=Math.max(n.height/d,n.width/h),(h*=f)>=n.width&&(o=(o+p.offsetX+(h*p.x-n.width*p.x)/h)*l),d>=n.height&&(a=(a+p.offsetY+(d*p.y-n.height*p.y)/d)*s),l*=1/(h/n.width),s*=1/(d/n.height),h=n.width,d=n.height)}var m=h*(f=this.Af()*t.scale)*d*f,y=l*s/m,g=r.__goCache;f=null;var v=ic;if(!i){if(r.lq&&void 0!==g&&4<m&&y>v*v)for(null===g.di&&(ac(g,4,u,c,r),ac(g,16,u,c,r)),u=(i=g.di).length,c=0;c<u&&i[c].ratio*i[c].ratio<y;c++)f=i[c];if(!t.Um){if(null===this.rl)if(null===this.Ag)this.rl=!1;else{i=new Ps(null).context;try{i.drawImage(this.Ag,0,0)}catch(b){this.an=!1}try{i.getImageData(0,0,1,1).data[3]&&(this.rl=!1),this.rl=!1}catch(b){this.rl=!0}}if(this.rl)return}}switch(i=h<n.width?p.offsetX+(n.width*p.x-h*p.x):0,p=d<n.height?p.offsetY+(n.height*p.y-d*p.y):0,this.flip){case va:e.translate(Math.min(n.width,h),0),e.scale(-1,1);break;case ga:e.translate(0,Math.min(n.height,d)),e.scale(1,-1);break;case ba:e.translate(Math.min(n.width,h),Math.min(n.height,d)),e.scale(-1,-1)}if(e.vc(),t.Df("pictureRatioOptimization")&&!t.Xi&&void 0!==g&&null!==f&&1!==f.ratio){e.save(),t=f.ratio;try{e.drawImage(f.source,o/t,a/t,Math.min(f.source.width,l/t),Math.min(f.source.height,s/t),i,p,Math.min(n.width,h),Math.min(n.height,d))}catch(b){this.an=!1}e.restore()}else try{e.drawImage(r,o,a,l,s,i,p,Math.min(n.width,h),Math.min(n.height,d))}catch(b){this.an=!1}switch(this.flip){case va:e.scale(-1,1),e.translate(-Math.min(n.width,h),0);break;case ga:e.scale(1,-1),e.translate(0,-Math.min(n.height,d));break;case ba:e.scale(-1,-1),e.translate(-Math.min(n.width,h),-Math.min(n.height,d))}}}}},ec.prototype.Sl=function(e,t,r,n){var i=this.desiredSize,o=Ha(this,!0),a=this.Ag,s=this.mn,l=0,u=0;(s||!this.Wk&&a&&a.complete)&&(this.Wk=!0),null===a?(isFinite(i.width)||(e=0),isFinite(i.height)||(t=0)):(l=s?+a.width:a.naturalWidth,u=s?+a.height:a.naturalHeight),isFinite(i.width)||o===ca||o===fa?(isFinite(e)||(this.sourceRect.w()?e=this.sourceRect.width:null!==a&&(e=l)),r=0):null!==a&&!1!==this.Wk&&(e=this.sourceRect.w()?this.sourceRect.width:l),isFinite(i.height)||o===ca||o===pa?(isFinite(t)||(this.sourceRect.w()?t=this.sourceRect.height:null!==a&&(t=u)),n=0):null!==a&&!1!==this.Wk&&(t=this.sourceRect.w()?this.sourceRect.height:u),isFinite(i.width)&&(e=i.width),isFinite(i.height)&&(t=i.height),i=this.maxSize,o=this.minSize,r=Math.max(r||0,o.width),n=Math.max(n||0,o.height),e=Math.min(i.width,e),t=Math.min(i.height,t),e=Math.max(r,e),t=Math.max(n,t),null===a||a.complete||(isFinite(e)||(e=0),isFinite(t)||(t=0)),Re(this.ac,e,t),this.Ce(0,0,e,t)},ec.prototype.Zg=function(e,t,r,n){Da(this,e,t,r,n)},d.Object.defineProperties(ec.prototype,{element:{get:function(){return this.Ag},set:function(e){var t=this.Ag;if(t!==e){this.mn=e instanceof HTMLCanvasElement;var r=e instanceof HTMLImageElement;null===e||r||e instanceof HTMLVideoElement||this.mn||w("Picture.element must be an instance of Image, Canvas, or Video, not: "+e);var n=this.diagram;null!==n&&xo(n,this),this.Ag=e,null!==e&&r&&void 0===e.xg&&(e.xg=new J),null!==n&&r&&bo(n,this),null!==e&&(this.mn||!0===e.complete?(e.dn&&(e.gn instanceof Event&&null!==this.zd?this.zd(this,e.gn):!0===e.lq&&!e.gn&&null!==this.Tg&&e.$t&&this.Tg(this,e.$t)),e.lq=!0,this.desiredSize.w()||(es(this,!1),this.v())):r&&rc(this,e)),this.g("element",t,e),this.N()}}},source:{get:function(){return this.mo},set:function(e){var t=this.mo;if(t!==e){this.mo=e;var r=Au;if(Bo){var n=null;if(void 0!==r[e])n=r[e];else if(""!==e){30<nc&&(tc(),r=Au),(n=x("img")).dn=!0,rc(this,n);var i=this.nl;null!==i&&(n.crossOrigin=i(this)),n.src=e,r[e]=n,nc++}this.element=n,null!==n&&void 0===n.__goCache&&(n.__goCache=new oc),this.v(),this.N()}this.g("source",t,e)}}},sourceCrossOrigin:{get:function(){return this.nl},set:function(e){if(this.nl!==e&&(this.nl=e,null!==this.element)){var t=this.element.getAttribute("src");null===e&&"string"===typeof t?this.element.crossOrigin=null:null!==e&&(this.element.crossOrigin=e(this)),this.element.src=t}}},sourceRect:{get:function(){return this.Rg},set:function(e){var t=this.Rg;t.C(e)||(this.Rg=e=e.J(),this.N(),this.g("sourceRect",t,e))}},imageStretch:{get:function(){return this.Ik},set:function(e){var t=this.Ik;t!==e&&(this.Ik=e,this.N(),this.g("imageStretch",t,e))}},flip:{get:function(){return this.Uf},set:function(e){var t=this.Uf;t!==e&&(this.Uf=e,this.N(),this.g("flip",t,e))}},imageAlignment:{get:function(){return this.Hk},set:function(e){var t=this.Hk;t.C(e)||(this.Hk=e=e.J(),this.N(),this.g("imageAlignment",t,e))}},errorFunction:{get:function(){return this.zd},set:function(e){var t=this.zd;t!==e&&(this.zd=e,this.g("errorFunction",t,e))}},successFunction:{get:function(){return this.Tg},set:function(e){var t=this.Tg;t!==e&&(this.Tg=e,this.g("successFunction",t,e))}},naturalBounds:{get:function(){return this.ac}}}),ec.prototype.redraw=ec.prototype.redraw,ec.prototype.reloadSource=ec.prototype.Yz;var nc=0,ic=4;function oc(){this.di=null}function ac(e,t,r,n,i){null===e.di&&(e.di=[]);var o=new Ps(null),a=o.context,s=1/t;o.width=r/t,o.height=n/t,0!==o.width&&0!==o.height&&(t=new sc(o.La,t),r=1,0<e.di.length&&(i=(r=e.di[e.di.length-1]).source,r=r.ratio),a.setTransform(s*r,0,0,s*r,0,0),a.vc(),a.drawImage(i,0,0),e.di.push(t))}function sc(e,t){this.source=e,this.ratio=t}function lc(){this.gs=new Vt,this.ic=null}function uc(e,t,r,n,i,o){e.ic=new Jt,e.ic.startX=t,e.ic.startY=r,e.ic.isFilled=n,e.ic.isEvenOdd=o||!1,e.gs.figures.add(e.ic),void 0!==i&&(e.ic.isShadowed=i)}function cc(e){var t=e.ic.segments.length;0<t&&e.ic.segments.L(t-1).close()}function hc(e,t,r,n,i,o,a){var s;void 0===s&&(s=!1);var l=new Qt(ir);l.point1X=t,l.point1Y=r,l.point2X=n,l.point2Y=i,l.endX=o,l.endY=a,s&&l.close(),e.ic.segments.add(l)}function dc(e,t,r,n,i){var o;void 0===o&&(o=!1);var a=new Qt(or);a.point1X=t,a.point1Y=r,a.endX=n,a.endY=i,o&&a.close(),e.ic.segments.add(a)}function fc(e,t,r,n,i,o,a,s){var l;void 0===l&&(l=!1),t=new Qt(sr,a,s,t,r,n,i,o),l&&t.close(),e.ic.segments.add(t)}function pc(e){var t=mc;return null!==t?(mc=null,t.reset(e),t):((t=new lc).reset(e),t)}ec.className="Picture",Au=new G,ec.clearCache=tc,oc.className="PictureCacheArray",sc.className="PictureCacheInstance",lc.prototype.reset=function(e){null!==e?(e.ka(),this.gs=e,e.figures.clear()):this.gs=new Vt,this.ic=null},lc.prototype.moveTo=function(e,t,r){void 0===r&&(r=!1);var n=new Qt(rr);n.endX=e,n.endY=t,r&&n.close(),this.ic.segments.add(n)},lc.prototype.lineTo=function(e,t,r){void 0===r&&(r=!1);var n=new Qt(nr);n.endX=e,n.endY=t,r&&n.close(),this.ic.segments.add(n)},lc.prototype.arcTo=function(e,t,r,n,i,o,a){void 0===o&&(o=0),void 0===a&&(a=!1);var s=new Qt(ar);s.startAngle=e,s.sweepAngle=t,s.centerX=r,s.centerY=n,s.radiusX=i,s.radiusY=0!==o?o:i,a&&s.close(),this.ic.segments.add(s)};var mc=null;function yc(e,t){var r=e.toLowerCase(),n=Gt.Ve;n[e]=t,n[r]=e}function gc(){this.jc=!1,this.kr=this.Ep=this.sq=null,this.mr="",this.Zq=this.hq=this.lr=null,this.ar="",this.$q=Pe,this.br=null,this.cr="",this.er=St,this.zq="",this.Aq=Je,this.Iq=ne,this.Dq=ie,this.Op=null,this.vq=127,this.rr=oe,this.qr="gray",this.Pg=4}function vc(e,t){void 0===e||e instanceof sl||"string"===typeof e?kl.call(this,e):(kl.call(this),e&&(t=e)),this.G=2408959,this.Qf="",this.O=null,this.Eg="",this.Nf=this.Og=null,this.bc="",this.vh=this.aj=null,this.ge=new pe(NaN,NaN).freeze(),this.jf=null,this.wo=NaN,this.ow=-1,this.ly=new Ne,this.Nh=null,this.Xf=NaN,t&&Object.assign(this,t)}function bc(e){null===e.O?e.O=new gc:e.O.jc&&(e.O=e.O.copy())}function xc(e){0!==(16384&e.G)!==!1&&(e.updateAdornments(),e.G&=-16385)}function wc(e,t){e.aj=t,null!==e.svg&&e.svg.remove()}function Sc(e){if(!1===Lc(e)){Nc(e,!0),e.Pk();var t=e.diagram;null!==t&&(t.ze.add(e),t.Wb())}}function kc(e){if(e.G|=2097152,!1!==Lc(e)){var t=e.position,r=e.location;r.w()&&t.w()||Pc(e,t,r),r=e.Gb;var n=Ne.alloc().assign(r);r.ka(),r.x=t.x,r.y=t.y,r.freeze(),e.Tl(n,r),Ne.free(n),Nc(e,!1)}}function _c(e,t,r,n){void 0===n&&(n=new pe),r=r.Jc()?rt:r;var i=t.naturalBounds;if(n.h(i.width*r.x+r.offsetX,i.height*r.y+r.offsetY),null===t||t===e)return n;for(t.transform.Ga(n),t=t.panel;null!==t&&t!==e;)t.transform.Ga(n),t=t.panel;return null!==e.Jb&&e.Jb.Ga(n),n.offset(-e.rc.x,-e.rc.y),n}function jc(e){var t=pe.alloc(),r=e.locationObject,n=r.naturalBounds,i=r instanceof cu?r.strokeWidth:0;if(t.vi(0,0,n.width+i,n.height+i,e.locationSpot),r!==e)for(t.offset(-i/2,-i/2),r.transform.Ga(t),r=r.panel;null!==r&&r!==e;)r.transform.Ga(t),r=r.panel;return null!==e.Jb&&e.Jb.Ga(t),t.offset(-e.rc.x,-e.rc.y),t}function Mc(e,t){var r=e.ly;isNaN(e.Xf)&&(e.Xf=Rl(e));var n=e.Xf,i=2*n;if(!e.isShadowed)return r.h(t.x-1-n,t.y-1-n,t.width+2+i,t.height+2+i),r;n=t.x,i=t.y;var o=t.width;t=t.height;var a=e.shadowBlur;return o+=a,t+=a,n-=a/2,i-=a/2,0<(e=e.shadowOffset).x?o+=e.x:(n+=e.x,o-=e.x),0<e.y?t+=e.y:(i+=e.y,t-=e.y),r.h(n-1,i-1,o+2,t+2),r}function Cc(e,t,r,n,i){null===t||e instanceof Vc||(t=t.animationManager).zb&&Kn(t,e,new pe(n,i),r)}function Pc(e,t,r){var n=jc(e),i=e.diagram,o=r.w(),a=t.w();o&&a?0!==(2097152&e.G)?Tc(e,t,r,i,n):Ec(e,t,r,i,n):o?Tc(e,t,r,i,n):a&&Ec(e,t,r,i,n),e.G|=2097152,pe.free(n),e.Pk()}function Tc(e,t,r,n,i){var o=t.x,a=t.y;t.h(r.x-i.x,r.y-i.y),null!==n&&((n=(r=n.animationManager).defaultAnimation.isAnimating)||!r.zb||e instanceof Vc||Kn(r,e,new pe(o,a),t),n||t.x===o&&t.y===a||e.g("position",new pe(o,a),t.copy()))}function Ec(e,t,r,n,i){var o=r.copy();r.h(t.x+i.x,t.y+i.y),r.C(o)||null===n||e.g("location",o,r.copy())}function Oc(e,t,r){Rc(e,!1),e instanceof Wc&&Lo(r,e),e.layer.isTemporary||t||r.Xa(),t=e.Gb;var n=r.viewportBounds;n.w()?Dc(e)?(ze(t,n)||e.wd(!1),e.updateAdornments()):e.isVisible()&&t.Tc(n)?(e.wd(!0),e.updateAdornments()):e.Sb():r.pd=!0}function Ac(e,t,r,n){t.constructor===e.constructor||Gc||(Gc=!0,_('Should not change the class of the Part when changing category from "'+r+'" to "'+n+'"'),_("  Old class: "+A(e.constructor)+", new class: "+A(t.constructor)+", part: "+e.toString())),e.Cj();var i=e.data;r=e.layerName;var o=e.isSelected,a=e.isHighlighted,s=!0,l=!0,u=!1;e instanceof Wc&&(s=e.isTreeLeaf,l=e.isTreeExpanded,u=e.wasTreeExpanded),t.xf(e),t.cloneProtected(e),e.Qf=n,e.v(),e.N(),n=!0,null!==(t=e.diagram)&&(n=t.skipsUndoManager,t.skipsUndoManager=!0),e.ub=i,e.G=o?4096|e.G:-4097&e.G,e.G=a?524288|e.G:-524289&e.G,e instanceof Wc&&(e.U=s?4|e.U:-5&e.U,e.U=l?1|e.U:-2&e.U,e.U=u?2|e.U:-3&e.U),null!==i&&e.Ma(),(i=e.layerName)!==r&&(e.Eg=r,e.layerName=i),null!==t&&(t.skipsUndoManager=n),e.Uc()&&e.D(64)}function Lc(e){return 0!==(32768&e.G)}function Nc(e,t){e.G=t?32768|e.G:-32769&e.G}function Rc(e,t){e.G=t?65536|e.G:-65537&e.G}function Dc(e){return 0!==(131072&e.G)}function Ic(e,t){e.G=t?1048576|e.G:-1048577&e.G}function Fc(e,t){var r=t.containingGroup;return null!==r?1+Fc(e,r):t instanceof Wc&&null!==(t=t.labeledLink)?Fc(e,t):0}function Bc(e,t){var r=t.containingGroup;return null!==r||t instanceof Wc&&null!==(r=t.labeledLink)?Bc(e,r):t}function Uc(e,t,r){if(t===r||null===r)return!1;var n=t.containingGroup;return!(null===n||n!==r&&!Uc(e,n,r))||t instanceof Wc&&null!==(t=t.labeledLink)&&Uc(e,t,r)}function zc(e){return!!e.isVisible()&&(null===(e=e.layer)||!e.isTemporary)}function qc(e,t,r,n,i,o){if(void 0===o&&(o=null),!(e.contains(t)||null!==o&&!o(t)||t instanceof Vc))if(e.add(t),t instanceof Wc){if(r&&t instanceof dh)for(var a=t.memberParts;a.next();)qc(e,a.value,r,n,i,o);if(!1!==i)for(a=t.linksConnected;a.next();){var s=a.value;if(!e.contains(s)){var l=s.fromNode,u=s.toNode;l=null===l||e.contains(l),u=null===u||e.contains(u),(i?l&&u:l||u)&&qc(e,s,r,n,i,o)}}if(1<n)for(t=t.Ku();t.next();)qc(e,t.value,r,n-1,i,o)}else if(t instanceof vh)for(t=t.labelNodes;t.next();)qc(e,t.value,r,n,i,o)}lc.className="StreamGeometryContext",yc("Rectangle",(function(e,t,r){e="r"+t+","+r;var n=Gt.Jf[e];return void 0!==n||((n=new Vt(Vt.u)).endX=t,n.endY=r,Gt.Kf<Gt.sm&&(Gt.Jf[e]=n,Gt.Kf++)),n})),yc("Square",(function(e,t,r){e="s"+t+","+r;var n=Gt.Jf[e];return void 0!==n||((n=new Vt(Vt.u)).endX=t,n.endY=r,n.defaultStretch=da,Gt.Kf<Gt.sm&&(Gt.Jf[e]=n,Gt.Kf++)),n})),yc("RoundedRectangle",(function(e,t,r){e=e?e.parameter1:NaN,(isNaN(e)||0>e)&&(e=5),e=Math.min(e,t/3);var n="rr"+t+","+r+","+(e=Math.min(e,r/3)),i=Gt.Jf[n];if(void 0!==i)return i;var o=e*Gt.sg;return i=(new Vt).add(new Jt(e,0,!0).add(new Qt(nr,t-e,0)).add(new Qt(ir,t,e,t-o,0,t,o)).add(new Qt(nr,t,r-e)).add(new Qt(ir,t-e,r,t,r-o,t-o,r)).add(new Qt(nr,e,r)).add(new Qt(ir,0,r-e,o,r,0,r-o)).add(new Qt(nr,0,e)).add(new Qt(ir,e,0,0,o,o,0).close())),1<o&&(i.spot1=new Dt(0,0,o,o),i.spot2=new Dt(1,1,-o,-o)),Gt.Kf<Gt.sm&&(Gt.Jf[n]=i,Gt.Kf++),i})),yc("Border","RoundedRectangle"),yc("Ellipse",(function(e,t,r){e="e"+t+","+r;var n=Gt.Jf[e];return void 0!==n||((n=new Vt(Vt.F)).endX=t,n.endY=r,n.spot1=Ot,n.spot2=At,Gt.Kf<Gt.sm&&(Gt.Jf[e]=n,Gt.Kf++)),n})),yc("Circle",(function(e,t,r){e="c"+t+","+r;var n=Gt.Jf[e];return void 0!==n||((n=new Vt(Vt.F)).endX=t,n.endY=r,n.spot1=Ot,n.spot2=At,n.defaultStretch=da,Gt.Kf<Gt.sm&&(Gt.Jf[e]=n,Gt.Kf++)),n})),yc("TriangleRight",(function(e,t,r){return(new Vt).add(new Jt(0,0).add(new Qt(nr,t,.5*r)).add(new Qt(nr,0,r).close())).mm(0,.25,.5,.75)})),yc("TriangleDown",(function(e,t,r){return(new Vt).add(new Jt(0,0).add(new Qt(nr,t,0)).add(new Qt(nr,.5*t,r).close())).mm(.25,0,.75,.5)})),yc("TriangleLeft",(function(e,t,r){return(new Vt).add(new Jt(t,r).add(new Qt(nr,0,.5*r)).add(new Qt(nr,t,0).close())).mm(.5,.25,1,.75)})),yc("TriangleUp",(function(e,t,r){return(new Vt).add(new Jt(t,r).add(new Qt(nr,0,r)).add(new Qt(nr,.5*t,0).close())).mm(.25,.5,.75,1)})),yc("Triangle","TriangleUp"),yc("Diamond",(function(e,t,r){return(new Vt).add(new Jt(.5*t,0).add(new Qt(nr,0,.5*r)).add(new Qt(nr,.5*t,r)).add(new Qt(nr,t,.5*r).close())).mm(.25,.25,.75,.75)})),yc("LineH",(function(e,t,r){return(e=new Vt(Vt.j)).startX=0,e.startY=r/2,e.endX=t,e.endY=r/2,e})),yc("LineV",(function(e,t,r){return(e=new Vt(Vt.j)).startX=t/2,e.startY=0,e.endX=t/2,e.endY=r,e})),yc("None","Rectangle"),yc("BarH","Rectangle"),yc("BarV","Rectangle"),yc("MinusLine","LineH"),yc("PlusLine",(function(e,t,r){return(new Vt).add(new Jt(0,r/2,!1).add(new Qt(nr,t,r/2)).add(new Qt(rr,t/2,0)).add(new Qt(nr,t/2,r)))})),yc("XLine",(function(e,t,r){return(new Vt).add(new Jt(0,r,!1).add(new Qt(nr,t,0)).add(new Qt(rr,0,0)).add(new Qt(nr,t,r)))})),yc("LineRight",(function(e,t,r){return(new Vt).add(new Jt(.25*t,0,!1).add(new Qt(nr,.75*t,.5*r)).add(new Qt(nr,.25*t,r)))})),yc("LineDown",(function(e,t,r){return(new Vt).add(new Jt(0,.25*r,!1).add(new Qt(nr,.5*t,.75*r)).add(new Qt(nr,t,.25*r)))})),yc("LineLeft",(function(e,t,r){return(new Vt).add(new Jt(.75*t,0,!1).add(new Qt(nr,.25*t,.5*r)).add(new Qt(nr,.75*t,r)))})),yc("LineUp",(function(e,t,r){return(new Vt).add(new Jt(0,.75*r,!1).add(new Qt(nr,.5*t,.25*r)).add(new Qt(nr,t,.75*r)))})),Gt.rm={"":"",Standard:"F1 m 0,0 l 8,4 -8,4 2,-4 z",Backward:"F1 m 8,0 l -2,4 2,4 -8,-4 z",Triangle:"F1 m 0,0 l 8,4.62 -8,4.62 z",BackwardTriangle:"F1 m 8,4 l 0,4 -8,-4 8,-4 0,4 z",Boomerang:"F1 m 0,0 l 8,4 -8,4 4,-4 -4,-4 z",BackwardBoomerang:"F1 m 8,0 l -8,4 8,4 -4,-4 4,-4 z",SidewaysV:"m 0,0 l 8,4 -8,4 0,-1 6,-3 -6,-3 0,-1 z",BackwardV:"m 8,0 l -8,4 8,4 0,-1 -6,-3 6,-3 0,-1 z",OpenTriangle:"m 0,0 l 8,4 -8,4",BackwardOpenTriangle:"m 8,0 l -8,4 8,4",OpenTriangleLine:"m 0,0 l 8,4 -8,4 m 8.5,0 l 0,-8",BackwardOpenTriangleLine:"m 8,0 l  -8,4 8,4 m -8.5,0 l 0,-8",OpenTriangleTop:"m 0,0 l 8,4 m 0,4",BackwardOpenTriangleTop:"m 8,0 l -8,4 m 0,4",OpenTriangleBottom:"m 0,8 l 8,-4",BackwardOpenTriangleBottom:"m 0,4 l 8,4",HalfTriangleTop:"F1 m 0,0 l 0,4 8,0 z m 0,8",BackwardHalfTriangleTop:"F1 m 8,0 l 0,4 -8,0 z m 0,8",HalfTriangleBottom:"F1 m 0,4 l 0,4 8,-4 z",BackwardHalfTriangleBottom:"F1 m 8,4 l 0,4 -8,-4 z",ForwardSemiCircle:"m 4,0 b 270 180 0 4 4",BackwardSemiCircle:"m 4,8 b 90 180 0 -4 4",Feather:"m 0,0 l 3,4 -3,4",BackwardFeather:"m 3,0 l -3,4 3,4",DoubleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardDoubleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4",TripleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardTripleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4 m 3,-8 l -3,4 3,4",ForwardSlash:"m 0,8 l 5,-8",BackSlash:"m 0,0 l 5,8",DoubleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8",DoubleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8",TripleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8 m -2,8 l 4,-8",TripleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8 m -2,-8 l 4,8",Fork:"m 0,4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4",LineFork:"m 0,0 l 0,8 m 0,-4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardLineFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4 m 8,-8 l 0,8",CircleFork:"F1 m 6,4 b 0 360 -3 0 3 z m 0,0 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 6,0 b 0 360 -3 0 3",CircleLineFork:"F1 m 6,4 b 0 360 -3 0 3 z m 1,-4 l 0,8 m 0,-4 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleLineFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 0,-4 l 0,8 m 7,-4 b 0 360 -3 0 3",Circle:"F1 m 8,4 b 0 360 -4 0 4 z",Block:"F1 m 0,0 l 0,8 8,0 0,-8 z",StretchedDiamond:"F1 m 0,3 l 5,-3 5,3 -5,3 -5,-3 z",Diamond:"F1 m 0,4 l 4,-4 4,4 -4,4 -4,-4 z",Chevron:"F1 m 0,0 l 5,0 3,4 -3,4 -5,0 3,-4 -3,-4 z",StretchedChevron:"F1 m 0,0 l 8,0 3,4 -3,4 -8,0 3,-4 -3,-4 z",NormalArrow:"F1 m 0,2 l 4,0 0,-2 4,4 -4,4 0,-2 -4,0 z",X:"m 0,0 l 8,8 m 0,-8 l -8,8",TailedNormalArrow:"F1 m 0,0 l 2,0 1,2 3,0 0,-2 2,4 -2,4 0,-2 -3,0 -1,2 -2,0 1,-4 -1,-4 z",DoubleTriangle:"F1 m 0,0 l 4,4 -4,4 0,-8 z  m 4,0 l 4,4 -4,4 0,-8 z",BigEndArrow:"F1 m 0,0 l 5,2 0,-2 3,4 -3,4 0,-2 -5,2 0,-8 z",ConcaveTailArrow:"F1 m 0,2 h 4 v -2 l 4,4 -4,4 v -2 h -4 l 2,-2 -2,-2 z",RoundedTriangle:"F1 m 0,1 a 1,1 0 0 1 1,-1 l 7,3 a 0.5,1 0 0 1 0,2 l -7,3 a 1,1 0 0 1 -1,-1 l 0,-6 z",SimpleArrow:"F1 m 1,2 l -1,-2 2,0 1,2 -1,2 -2,0 1,-2 5,0 0,-2 2,2 -2,2 0,-2 z",AccelerationArrow:"F1 m 0,0 l 0,8 0.2,0 0,-8 -0.2,0 z m 2,0 l 0,8 1,0 0,-8 -1,0 z m 3,0 l 2,0 2,4 -2,4 -2,0 0,-8 z",BoxArrow:"F1 m 0,0 l 4,0 0,2 2,0 0,-2 2,4 -2,4 0,-2 -2,0 0,2 -4,0 0,-8 z",TriangleLine:"F1 m 8,4 l -8,-4 0,8 8,-4 z m 0.5,4 l 0,-8",CircleEndedArrow:"F1 m 10,4 l -2,-3 0,2 -2,0 0,2 2,0 0,2 2,-3 z m -4,0 b 0 360 -3 0 3 z",DynamicWidthArrow:"F1 m 0,3 l 2,0 2,-1 2,-2 2,4 -2,4 -2,-2 -2,-1 -2,0 0,-2 z",EquilibriumArrow:"m 0,3 l 8,0 -3,-3 m 3,5 l -8,0 3,3",FastForward:"F1 m 0,0 l 3.5,4 0,-4 3.5,4 0,-4 1,0 0,8 -1,0 0,-4 -3.5,4 0,-4 -3.5,4 0,-8 z",Kite:"F1 m 0,4 l 2,-4 6,4 -6,4 -2,-4 z",HalfArrowTop:"F1 m 0,0 l 4,4 4,0 -8,-4 z m 0,8",HalfArrowBottom:"F1 m 0,8 l 4,-4 4,0 -8,4 z",OpposingDirectionDoubleArrow:"F1 m 0,4 l 2,-4 0,2 4,0 0,-2 2,4 -2,4 0,-2 -4,0 0,2 -2,-4 z",PartialDoubleTriangle:"F1 m 0,0 4,3 0,-3 4,4 -4,4 0,-3 -4,3 0,-8 z",LineCircle:"F1 m 0,0 l 0,8 m 7 -4 b 0 360 -3 0 3 z",DoubleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",TripleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",CircleLine:"F1 m 6 4 b 0 360 -3 0 3 z m 1,-4 l 0,8",DiamondCircle:"F1 m 8,4 l -4,4 -4,-4 4,-4 4,4 m 8,0 b 0 360 -4 0 4 z",PlusCircle:"F1 m 8,4 b 0 360 -4 0 4 l -8 0 z m -4 -4 l 0 8",OpenRightTriangleTop:"m 8,0 l 0,4 -8,0 m 0,4",OpenRightTriangleBottom:"m 8,8 l 0,-4 -8,0",Line:"m 0,0 l 0,8",DoubleLine:"m 0,0 l 0,8 m 2,0 l 0,-8",TripleLine:"m 0,0 l 0,8 m 2,0 l 0,-8 m 2,0 l 0,8",PentagonArrow:"F1 m 8,4 l -4,-4 -4,0 0,8 4,0 4,-4 z"},gc.prototype.copy=function(){var e=new gc;return e.sq=this.sq,e.Ep=this.Ep,e.kr=this.kr,e.mr=this.mr,e.lr=this.lr,e.hq=this.hq,e.Zq=this.Zq,e.ar=this.ar,e.$q=this.$q.J(),e.br=this.br,e.cr=this.cr,e.er=this.er.J(),e.zq=this.zq,e.Aq=this.Aq.J(),e.Iq=this.Iq.J(),e.Dq=this.Dq.J(),e.Op=this.Op,e.vq=this.vq,e.rr=this.rr.J(),e.qr=this.qr,e.Pg=this.Pg,e},h(vc,kl),vc.prototype.cloneProtected=function(e){kl.prototype.cloneProtected.call(this,e),e.G=-4097&this.G|49152,e.Qf=this.Qf,null!==this.O&&(e.O=this.O.jc?this.O:this.O.copy()),e.Eg=this.Eg,e.Nf=null,e.bc=this.bc,e.ge.assign(this.ge),e.wo=this.wo},(t=vc.prototype).xf=function(e){kl.prototype.xf.call(this,e),e.jh(),e.Og=null,e.jf=null,e.Nh=null},t.toString=function(){var e=A(this.constructor)+"#"+te(this);return null!==this.data&&(e+="("+L(this.data)+")"),e},t.oh=function(){kl.prototype.oh.call(this),null!==this.O&&(this.O.jc=!0)},t.ck=function(e,t,r,n,i,o,a){var s=this.diagram;null!==s&&(e===fr&&"elements"===t?i instanceof kl?El(i,(function(e){ef(s.partManager,e),vo(s,e)})):bo(s,i):e===pr&&"elements"===t&&(i instanceof kl?El(i,(function(e){tf(s.partManager,e,s)})):xo(s,i)),s.cb(e,t,r,n,i,o,a))},t.Ma=function(e){if(kl.prototype.Ma.call(this,e),null!==this.data){for(var t=this.P.s,r=t.length,n=0;n<r;n++){var i=t[n];i instanceof kl&&El(i,(function(e){null!==e.data&&e.Ma()}))}for(t=this.adornments;t.next();)t.value.Ma(e)}},vc.prototype.updateRelationshipsFromData=function(){var e;null!==this.data&&(null===(e=this.diagram)||void 0===e||e.partManager.updateRelationshipsFromData(this))},vc.prototype.Nj=function(e){var t=this.Nf;return null===t?null:t.I(e)},vc.prototype.Wg=function(e,t){if(null!==t){var r=null,n=this.Nf;if(null!==n&&(r=n.I(e)),r!==t){if(null!==r){var i=r.diagram;null!==i&&i.remove(r)}null===n&&(this.Nf=n=new fe),t.Qf!==e&&(t.category=e),n.add(e,t),null!==(e=this.diagram)&&(e.add(t),null!==(e=t.adornedObject)&&(null!==(e=e.dh())&&(t.data=e.data)))}}},vc.prototype.Gf=function(e){var t=this.Nf;if(null!==t){var r=t.I(e);if(null!==r){var n=r.diagram;null!==n&&n.remove(r)}t.remove(e),0===t.count&&(this.Nf=null)}},vc.prototype.Cj=function(){var e=this.Nf;if(null!==e){var t=E();for(e=e.iterator;e.next();)t.push(e.key);e=t.length;for(var r=0;r<e;r++)this.Gf(t[r]);O(t)}},vc.prototype.updateAdornments=function(){var e=this.diagram;if(null!==e){for(var t=this.adornments;t.next();){var r=t.value;r.v(),r.placeholder&&r.placeholder.v()}e:{if(this.isSelected&&this.selectionAdorned&&(null!==(t=this.selectionObject)&&this.actualBounds.w()&&this.isVisible()&&t.Nd()&&t.actualBounds.w())){if(null===(r=this.Nj("Selection"))){if(null===(r=this.selectionAdornmentTemplate)&&(r=this.kh()?e.linkSelectionAdornmentTemplate:this instanceof dh?e.groupSelectionAdornmentTemplate:e.nodeSelectionAdornmentTemplate),!(r instanceof Vc))break e;Vl(r),null!==(r=r.copy())&&(this.kh()&&this.selectionObject===this.path&&(r.type=kl.Link),r.adornedObject=t)}if(null!==r){r.type===kl.Link&&r.v(),this.Wg("Selection",r);break e}}this.Gf("Selection")}for(function(e,t){t.toolManager.mouseDownTools.each((function(t){t.isEnabled&&t.updateAdornments(e)})),t.toolManager.updateAdornments(e)}(this,e),t=this.adornments;t.next();)t.value.Ma()}},vc.prototype.Sb=function(){var e=this.diagram;null!==e&&(e.pd=!0,0!==(16384&this.G)!==!0&&(this.G|=16384))},vc.prototype.Ce=function(e,t,r,n){var i=this.rc;i.h(e,t,r,n),null===this.Jb&&(this.Jb=new zt);var o=this.Jb;o.reset(),this.jo(o,e,t,r,n),this.Jb=o,o.ps()||o.jp(i)},vc.prototype.jo=function(e,t,r,n,i){if(1!==this.Aa&&e.scale(this.Aa),0!==this.Ib){var o=rt;this.locationSpot.tb()&&(o=this.locationSpot);var a=pe.alloc();if(this.locationObject!==this)for(r=(t=this.locationObject).naturalBounds,a.vi(r.x,r.y,r.width,r.height,o),null!==t.Jb&&t.Jb.Ga(a),a.offset(-t.measuredBounds.x,-t.measuredBounds.y),o=t.panel;null!==o&&o!==this;)null!==o.Jb&&o.Jb.Ga(a),a.offset(-o.measuredBounds.x,-o.measuredBounds.y),o=o.panel;else a.vi(t,r,n,i,o);e.rotate(this.Ib,a.x,a.y),pe.free(a)}},vc.prototype.move=function(e,t){!0===t?this.location=e:this.position=e},vc.prototype.moveTo=function(e,t,r){e=pe.allocAt(e,t),this.move(e,r),pe.free(e)},vc.prototype.isVisible=function(){if(!this.visible)return!1;var e=this.layer;if(null!==e){if(!e.visible)return!1;if(null!==(e=e.diagram)&&e.animationManager.bv(this))return!0}return!!(null===(e=this.containingGroup)||e.isSubGraphExpanded&&e.isVisible())},vc.prototype.Vb=function(e){var t=this.diagram;e?(this.D(4),this.Sb(),null!==t&&t.ze.add(this)):(this.D(8),this.Cj()),this.jh(),null!==t&&(t.Xa(),t.N())},vc.prototype.fb=function(e){if(this.name===e)return this;var t=this.Nh;if(null===t&&(this.Nh=t=new fe),null!==t.I(e))return t.I(e);var r=kl.prototype.fb.call(this,e);return null!==r?(t.set(e,r),r):(t.set(e,null),null)},vc.prototype.ji=function(e){return void 0===e&&(e=new Ne),e.assign(this.actualBounds)},vc.prototype.Va=function(){this.measure(1/0,1/0),this.arrange()},vc.prototype.arrange=function(){if(!1===ts(this))kc(this);else{rs(this,!1);var e=this.Gb,t=Ne.alloc();t.assign(e);var r=Dc(this);this.Zg(0,0,this.rc.width,this.rc.height);var n=this.position;Pc(this,n,this.location),e.ka(),e.x=n.x,e.y=n.y,e.freeze(),this.Tl(t,e),t.C(e)?this.wd(r):!this.Uc()||Gt.B(t.width,e.width)&&Gt.B(t.height,e.height)||0<=this.ow&&this.D(16),Ne.free(t),Nc(this,!1)}},(t=vc.prototype).Tl=function(e,t){var r=this.diagram;if(null!==r){var n=!1;if(!1===r.Wi&&e.w()){var i=Ne.alloc();i.assign(r.documentBounds),i.yv(r.padding),e.x>i.x&&e.y>i.y&&e.right<i.right&&e.bottom<i.bottom&&t.x>i.x&&t.y>i.y&&t.right<i.right&&t.bottom<i.bottom&&(n=!0),Ne.free(i)}0!==(65536&this.G)!==!0&&e.C(t)||Oc(this,n,r),r.N(),!e.w()&&!t.w()||Fe(e,t)||(this instanceof Wc&&!r.undoManager.isUndoingRedoing&&this.vd(),this.jh())}},t.sv=function(e,t,r){if(this.kh()||!e.w())return!1;var n=this.diagram;return null!==n&&Cc(this,n,e,t,r),this.pa=e,this.G&=-2097153,!this.ge.w()||null!==n&&!n.animationManager.isTicking&&n.undoManager.isUndoingRedoing||(n=this.ge,this.ge=new pe(n.x+(e.x-t),n.y+(e.y-r)),this.g("location",n,this.ge.copy())),!1===Lc(this)&&!1===ts(this)&&(Sc(this),kc(this)),!0},t.jm=function(e,t,r){var n=this.ge,i=this.pa;if(r){if(n.x===e&&n.y===t)return;Lc(this)||ts(this)?i.h(NaN,NaN):i.h(i.x+e-n.x,i.y+t-n.y),n.h(e,t)}else{if(i.x===e&&i.y===t)return;n.h(n.x+e-i.x,n.y+t-i.y),i.h(e,t)}Sc(this)},t.tv=function(){this.G&=-2097153,Sc(this)},t.oi=function(){return!0},t.Uc=function(){return!0},t.kh=function(){return!1},t.Qe=function(){return!0},vc.prototype.canCopy=function(){if(!this.copyable)return!1;var e=this.layer;return null===e||!!e.allowCopy&&(null===(e=e.diagram)||!!e.allowCopy)},vc.prototype.canDelete=function(){if(!this.deletable)return!1;var e=this.layer;return null===e||!!e.allowDelete&&(null===(e=e.diagram)||!!e.allowDelete)},vc.prototype.canEdit=function(){if(!this.textEditable)return!1;var e=this.layer;return null===e||!!e.allowTextEdit&&(null===(e=e.diagram)||!!e.allowTextEdit)},vc.prototype.canGroup=function(){if(!this.groupable)return!1;var e=this.layer;return null===e||!!e.allowGroup&&(null===(e=e.diagram)||!!e.allowGroup)},vc.prototype.canMove=function(){if(!this.movable)return!1;var e=this.layer;return null===e||!!e.allowMove&&(null===(e=e.diagram)||!!e.allowMove)},vc.prototype.canReshape=function(){if(!this.reshapable)return!1;var e=this.layer;return null===e||!!e.allowReshape&&(null===(e=e.diagram)||!!e.allowReshape)},vc.prototype.canResize=function(){if(!this.resizable)return!1;var e=this.layer;return null===e||!!e.allowResize&&(null===(e=e.diagram)||!!e.allowResize)},vc.prototype.canRotate=function(){if(!this.rotatable)return!1;var e=this.layer;return null===e||!!e.allowRotate&&(null===(e=e.diagram)||!!e.allowRotate)},vc.prototype.canSelect=function(){if(!this.selectable)return!1;var e=this.layer;return null===e||!!e.allowSelect&&(null===(e=e.diagram)||!!e.allowSelect)},(t=vc.prototype).wd=function(e){this.G=e?131072|this.G:-131073&this.G},t.jh=function(){var e=this.containingGroup;null!==e&&(e.v(),null!==e.placeholder&&e.placeholder.v(),e.vd())},t.N=function(){var e=this.diagram;null!==e&&!ts(this)&&!Lc(this)&&this.isVisible()&&this.Gb.w()&&e.N(Mc(this,this.Gb))},t.v=function(){kl.prototype.v.call(this);var e=this.diagram;null!==e&&(e.ze.add(this),this instanceof Wc&&null!==this.labeledLink&&Va(this.labeledLink),e.Wb(!0))},t.Po=function(e){e||null!==(e=this.vh)&&fh(e,this)},t.Qo=function(e){e||null!==(e=this.vh)&&ph(e,this)},t.Jj=function(){var e=this.data;if(null!==e){var t=this.diagram;null!==t&&(null!==(t=t.model)&&t.$l(e))}},t.gz=function(){return Fc(this,this)},t.kz=function(){return Bc(this,this)},t.Md=function(e){return e instanceof dh&&Uc(this,this,e)},t.jx=function(e){if(null===e)return null;if(this===e)return this.containingGroup;for(var t=this;null!==t;){if(t instanceof dh&&Ic(t,!0),t instanceof Wc){var r=t.labeledLink;null!==r&&(t=r)}t=t.containingGroup}for(r=null,t=e;null!==t;){if(0!==(1048576&t.G)){r=t;break}t instanceof Wc&&(null!==(e=t.labeledLink)&&(t=e)),t=t.containingGroup}for(t=this;null!==t;)t instanceof dh&&Ic(t,!1),t instanceof Wc&&(null!==(e=t.labeledLink)&&(t=e)),t=t.containingGroup;return r},vc.prototype.canLayout=function(){if(!this.isLayoutPositioned||!this.isVisible())return!1;var e=this.layer;return!(null!==e&&e.isTemporary||this instanceof Wc&&this.isLinkLabel)},vc.prototype.D=function(e){if(void 0===e&&(e=16777215),this.isLayoutPositioned&&0!==(e&this.layoutConditions)){var t=this.layer;null!==t&&t.isTemporary||this instanceof Wc&&this.isLinkLabel?t=!1:t=null===(t=this.diagram)||!t.undoManager.isUndoingRedoing}else t=!1;if(t)if(null!==(t=this.vh)){var r=t.layout;null!==r?r.D():t.D(e)}else null!==(e=this.diagram)&&(null!==(e=e.layout)&&e.D())},d.Object.defineProperties(vc.prototype,{key:{get:function(){var e=this.diagram;if(null!==e)return e.model.va(this.data)}},adornments:{get:function(){return null===this.Nf?W:this.Nf.iteratorValues}},layer:{get:function(){return this.aj}},diagram:{get:function(){var e=this.aj;return null===e||void 0===e?null:e.diagram}},layerName:{get:function(){return this.Eg},set:function(e){var t=this.Eg;if(t!==e){var r=this.diagram;if((null===r||null!==r.Oj(e)&&!r.partManager.addsToTemporaryLayer)&&(this.Eg=e,null!==r&&r.Xa(),this.g("layerName",t,e),null!==(t=this.layer)&&t.name!==e&&(null!==(r=t.diagram)&&(null!==(e=r.Oj(e))&&e!==t)))){var n=t.mc(-1,this,!0);if(0<=n&&r.cb(pr,"parts",t,this,null,n,!0),n=e.li(99999999,this,!0),t.visible!==e.visible&&this.Vb(e.visible),0<=n&&r.cb(fr,"parts",e,null,this,!0,n),null!==(n=this.layerChanged)){var i=r.aa;r.aa=!0,n(this,t,e),r.aa=i}}}}},layerChanged:{get:function(){return null!==this.O?this.O.sq:null},set:function(e){var t=this.layerChanged;t!==e&&(bc(this),this.O.sq=e,this.g("layerChanged",t,e))}},zOrder:{get:function(){return this.wo},set:function(e){var t=this.wo;if(t!==e){this.wo=e;var r=this.layer;null!==r&&ji(r,-1,this),this.g("zOrder",t,e),null!==(e=this.diagram)&&e.N()}}},locationObject:{get:function(){if(null===this.jf){var e=this.locationObjectName;""!==e?(e=this.fb(e),this.jf=null!==e?e:this):this instanceof Vc&&this.type!==kl.Link&&null!==this.placeholder?this.jf=this.placeholder:this.jf=this}return this.jf.visible?this.jf:this}},minLocation:{get:function(){return null!==this.O?this.O.Iq:ne},set:function(e){var t=this.minLocation;t.C(e)||(e=e.J(),bc(this),this.O.Iq=e,this.g("minLocation",t,e))}},maxLocation:{get:function(){return null!==this.O?this.O.Dq:ie},set:function(e){var t=this.maxLocation;t.C(e)||(e=e.J(),bc(this),this.O.Dq=e,this.g("maxLocation",t,e))}},locationObjectName:{get:function(){return null!==this.O?this.O.zq:""},set:function(e){var t=this.locationObjectName;t!==e&&(bc(this),this.O.zq=e,this.jf=null,this.v(),this.g("locationObjectName",t,e))}},locationSpot:{get:function(){return null!==this.O?this.O.Aq:Je},set:function(e){var t=this.locationSpot;t.C(e)||(e=e.J(),bc(this),this.O.Aq=e,this.v(),this.g("locationSpot",t,e))}},location:{get:function(){return this.ge},set:function(e){var t=e.x,r=e.y,n=this.ge;if(!(n.x===t||isNaN(n.x)&&isNaN(t))||!(n.y===r||isNaN(n.y)&&isNaN(r))){if(t=e=e.copy(),this.kh())t=!1;else{if(this.ge=t,this.G|=2097152,!1===ts(this)&&(Sc(this),(r=this.pa).w())){var i=this.diagram;if(null===i||i.animationManager.isTicking||!i.undoManager.isUndoingRedoing){var o=r.copy();r.h(r.x+(t.x-n.x),r.y+(t.y-n.y)),Cc(this,i,r,o.x,o.y),this.g("position",o,r.copy())}}t=!0}t&&this.g("location",n,e.copy())}}},category:{get:function(){return this.Qf},set:function(e){var t=this.Qf;if(t!==e){null!==this.svg&&(this.svg.remove(),this.Uh=!0);var r=this.diagram,n=this.data,i=null;if(null!==r&&null!==n&&!(this instanceof Vc)){var o=r.model.undoManager;o.isEnabled&&!o.isUndoingRedoing&&(i=this.clone()).P.addAll(this.P)}this.Qf=e,this.g("category",t,e),null===r||null===n||this instanceof Vc?this instanceof Vc&&(null!==(i=this.adornedPart)&&(null!==(e=i.Nf)&&e.remove(t),i.Wg(this.category,this))):(o=r.model).undoManager.isUndoingRedoing||(this.kh()?(r.partManager.setLinkCategoryForData(n,e),null!==(r=r.partManager.findLinkTemplateForCategory(e))&&(Vl(r),null!==(r=r.copy())&&Ac(this,r,t,e))):(null!==o&&o.gm(n,e),null!==(r=$d(r.partManager,n,e))&&(Vl(r),null===(r=r.copy())||r instanceof vh||(n=this.location.copy(),Ac(this,r,t,e),this.location.w()||(this.location=n)))),null!==i&&((t=this.clone()).P.addAll(this.P),this.g("self",i,t)))}}},self:{get:function(){return this},set:function(e){Ac(this,e,this.category,e.category)}},copyable:{get:function(){return 0!==(1&this.G)},set:function(e){var t=0!==(1&this.G);t!==e&&(this.G^=1,this.g("copyable",t,e))}},deletable:{get:function(){return 0!==(2&this.G)},set:function(e){var t=0!==(2&this.G);t!==e&&(this.G^=2,this.g("deletable",t,e))}},textEditable:{get:function(){return 0!==(4&this.G)},set:function(e){var t=0!==(4&this.G);t!==e&&(this.G^=4,this.g("textEditable",t,e),this.Sb())}},groupable:{get:function(){return 0!==(8&this.G)},set:function(e){var t=0!==(8&this.G);t!==e&&(this.G^=8,this.g("groupable",t,e))}},movable:{get:function(){return 0!==(16&this.G)},set:function(e){var t=0!==(16&this.G);t!==e&&(this.G^=16,this.g("movable",t,e))}},selectionAdorned:{get:function(){return 0!==(32&this.G)},set:function(e){var t=0!==(32&this.G);t!==e&&(this.G^=32,this.g("selectionAdorned",t,e),this.Sb())}},isInDocumentBounds:{get:function(){return 0!==(64&this.G)},set:function(e){var t=0!==(64&this.G);if(t!==e){this.G^=64;var r=this.diagram;null!==r&&r.Xa(),this.g("isInDocumentBounds",t,e)}}},isLayoutPositioned:{get:function(){return 0!==(128&this.G)},set:function(e){var t=0!==(128&this.G);t!==e&&(this.G^=128,this.g("isLayoutPositioned",t,e),this.D(e?4:8))}},selectable:{get:function(){return 0!==(256&this.G)},set:function(e){var t=0!==(256&this.G);t!==e&&(this.G^=256,this.g("selectable",t,e),this.Sb())}},reshapable:{get:function(){return 0!==(512&this.G)},set:function(e){var t=0!==(512&this.G);t!==e&&(this.G^=512,this.g("reshapable",t,e),this.Sb())}},resizable:{get:function(){return 0!==(1024&this.G)},set:function(e){var t=0!==(1024&this.G);t!==e&&(this.G^=1024,this.g("resizable",t,e),this.Sb())}},rotatable:{get:function(){return 0!==(2048&this.G)},set:function(e){var t=0!==(2048&this.G);t!==e&&(this.G^=2048,this.g("rotatable",t,e),this.Sb())}},isSelected:{get:function(){return 0!==(4096&this.G)},set:function(e){var t=0!==(4096&this.G);if(t!==e){var r=this.diagram;if(!e||this.canSelect()&&!(null!==r&&r.selection.count>=r.maxSelectionCount)){this.G^=4096;var n=!1;if(null!==r){n=r.skipsUndoManager,r.skipsUndoManager=!0;var i=r.selection;i.ka(),e?i.add(this):i.remove(this),i.freeze()}this.g("isSelected",t,e),this.Sb(),null!==(e=this.selectionChanged)&&e(this),null!==r&&(r.Wb(),r.skipsUndoManager=n)}}}},isHighlighted:{get:function(){return 0!==(524288&this.G)},set:function(e){var t=0!==(524288&this.G);if(t!==e){this.G^=524288;var r=this.diagram;null!==r&&((r=r.highlighteds).ka(),e?r.add(this):r.remove(this),r.freeze()),this.g("isHighlighted",t,e),this.N(),null!==(e=this.highlightedChanged)&&e(this)}}},isShadowed:{get:function(){return 0!==(8192&this.G)},set:function(e){var t=0!==(8192&this.G);t!==e&&(this.G^=8192,this.g("isShadowed",t,e),this.N())}},isAnimated:{get:function(){return 0!==(262144&this.G)},set:function(e){var t=0!==(262144&this.G);t!==e&&(this.G^=262144,this.g("isAnimated",t,e))}},highlightedChanged:{get:function(){return null!==this.O?this.O.hq:null},set:function(e){var t=this.highlightedChanged;t!==e&&(bc(this),this.O.hq=e,this.g("highlightedChanged",t,e))}},selectionObjectName:{get:function(){return null!==this.O?this.O.mr:""},set:function(e){var t=this.selectionObjectName;t!==e&&(bc(this),this.O.mr=e,this.Og=null,this.g("selectionObjectName",t,e))}},selectionAdornmentTemplate:{get:function(){return null!==this.O?this.O.kr:null},set:function(e){var t=this.selectionAdornmentTemplate;t!==e&&(bc(this),this.O.kr=e,this.g("selectionAdornmentTemplate",t,e))}},selectionObject:{get:function(){if(null===this.Og){var e=this.selectionObjectName;null!==e&&""!==e?(e=this.fb(e),this.Og=null!==e?e:this):this instanceof vh?(e=this.path,this.Og=null!==e?e:this):this.Og=this}return this.Og}},selectionChanged:{get:function(){return null!==this.O?this.O.lr:null},set:function(e){var t=this.selectionChanged;t!==e&&(bc(this),this.O.lr=e,this.g("selectionChanged",t,e))}},resizeAdornmentTemplate:{get:function(){return null!==this.O?this.O.Zq:null},set:function(e){var t=this.resizeAdornmentTemplate;t!==e&&(bc(this),this.O.Zq=e,this.g("resizeAdornmentTemplate",t,e))}},resizeObjectName:{get:function(){return null!==this.O?this.O.ar:""},set:function(e){var t=this.resizeObjectName;t!==e&&(bc(this),this.O.ar=e,this.g("resizeObjectName",t,e))}},resizeObject:{get:function(){var e=this.resizeObjectName;return""!==e&&null!==(e=this.fb(e))?e:this}},resizeCellSize:{get:function(){return null!==this.O?this.O.$q:Pe},set:function(e){var t=this.resizeCellSize;t.C(e)||(e=e.J(),bc(this),this.O.$q=e,this.g("resizeCellSize",t,e))}},rotateAdornmentTemplate:{get:function(){return null!==this.O?this.O.br:null},set:function(e){var t=this.rotateAdornmentTemplate;t!==e&&(bc(this),this.O.br=e,this.g("rotateAdornmentTemplate",t,e))}},rotateObjectName:{get:function(){return null!==this.O?this.O.cr:""},set:function(e){var t=this.rotateObjectName;t!==e&&(bc(this),this.O.cr=e,this.g("rotateObjectName",t,e))}},rotateObject:{get:function(){var e=this.rotateObjectName;return""!==e&&null!==(e=this.fb(e))?e:this}},rotationSpot:{get:function(){return null!==this.O?this.O.er:St},set:function(e){var t=this.rotationSpot;t.C(e)||(e=e.J(),bc(this),this.O.er=e,this.g("rotationSpot",t,e))}},text:{get:function(){return this.bc},set:function(e){var t=this.bc;t!==e&&(this.bc=e,this.g("text",t,e))}},containingGroup:{get:function(){return this.vh},set:function(e){if(this.Uc()){var t=this.vh;if(t!==e){null===e||this!==e&&!e.Md(this)||(this===e&&w("Cannot make a Group a member of itself: "+this.toString()),w("Cannot make a Group indirectly contain itself: "+this.toString()+" already contains "+e.toString())),this.D(2);var r=this.diagram;if(null!==t?ph(t,this):this instanceof dh&&null!==r&&r.Yh.remove(this),this.vh=e,null!==e?fh(e,this):this instanceof dh&&null!==r&&r.Yh.add(this),this.D(1),null!==r&&r.aa){var n=this.data,i=r.model;if(null!==n&&i.Uj()){var o=i.va(null!==e?e.data:null);i.gp(n,o)}}if(null!==(n=this.containingGroupChanged)&&(i=!0,null!==r&&(i=r.aa,r.aa=!0),n(this,t,e),null!==r&&(r.aa=i)),this instanceof dh)for(qc(r=new J,this,!0,0,!0),r=r.iterator;r.next();)if((n=r.value)instanceof Wc)for(n=n.linksConnected;n.next();)bh(n.value);if(this instanceof Wc){for(r=this.linksConnected;r.next();)bh(r.value);null!==(r=this.labeledLink)&&bh(r)}this.g("containingGroup",t,e),null!==e&&(null!==(t=e.layer)&&ji(t,-1,e))}}else w("cannot set the Part.containingGroup of a Link or Adornment")}},containingGroupChanged:{get:function(){return null!==this.O?this.O.Ep:null},set:function(e){var t=this.containingGroupChanged;t!==e&&(bc(this),this.O.Ep=e,this.g("containingGroupChanged",t,e))}},isTopLevel:{get:function(){return!(null!==this.containingGroup||this instanceof Wc&&null!==this.labeledLink)}},layoutConditions:{get:function(){return null!==this.O?this.O.vq:127},set:function(e){var t=this.layoutConditions;t!==e&&(bc(this),this.O.vq=e,this.g("layoutConditions",t,e))}},dragComputation:{get:function(){return null!==this.O?this.O.Op:null},set:function(e){var t=this.dragComputation;t!==e&&(bc(this),this.O.Op=e,this.g("dragComputation",t,e))}},shadowOffset:{get:function(){return null!==this.O?this.O.rr:oe},set:function(e){var t=this.shadowOffset;t.C(e)||(e=e.J(),bc(this),this.O.rr=e,this.N(),this.g("shadowOffset",t,e))}},shadowColor:{get:function(){return null!==this.O?this.O.qr:"gray"},set:function(e){var t=this.shadowColor;t!==e&&(bc(this),this.O.qr=e,this.N(),this.g("shadowColor",t,e))}},shadowBlur:{get:function(){return null!==this.O?this.O.Pg:4},set:function(e){var t=this.shadowBlur;t!==e&&(bc(this),this.O.Pg=e,this.N(),this.g("shadowBlur",t,e))}}}),vc.prototype.invalidateLayout=vc.prototype.D,vc.prototype.findCommonContainingGroup=vc.prototype.jx,vc.prototype.isMemberOf=vc.prototype.Md,vc.prototype.findTopLevelPart=vc.prototype.kz,vc.prototype.findSubGraphLevel=vc.prototype.gz,vc.prototype.ensureBounds=vc.prototype.Va,vc.prototype.getDocumentBounds=vc.prototype.ji,vc.prototype.findObject=vc.prototype.fb,vc.prototype.moveTo=vc.prototype.moveTo,vc.prototype.invalidateAdornments=vc.prototype.Sb,vc.prototype.clearAdornments=vc.prototype.Cj,vc.prototype.removeAdornment=vc.prototype.Gf,vc.prototype.addAdornment=vc.prototype.Wg,vc.prototype.findAdornment=vc.prototype.Nj,vc.prototype.updateTargetBindings=vc.prototype.Ma;var Gc=!1;function Vc(e,t){void 0===e||e instanceof sl||"string"===typeof e?vc.call(this,e):(vc.call(this),e&&(t=e)),this.G&=-257,this.Eg="Adornment",this.qe=null,this.tw=0,this.Nw=!1,this.j=this.Za=null,t&&Object.assign(this,t)}function Hc(){this.jc=!1,this.Nr=this.ej=this.xq=this.wq=null,this.rp=Nt,this.Yq=ch,this.Cr=this.gj=this.Gq=this.Fq=null}function Wc(e,t){void 0===e||e instanceof sl||"string"===typeof e?vc.call(this,e):(vc.call(this),e&&(t=e)),this.U=13,this.ya=null,this.kb=new Z,this.tc=this.Xe=this.Tk=null,this.$h=!1,t&&Object.assign(this,t)}function Xc(e){null===e.ya?e.ya=new Hc:e.ya.jc&&(e.ya=e.ya.copy())}function Yc(e,t){null!==t&&(null===e.Xe&&(e.Xe=new J),e.Xe.add(t))}function Kc(e,t,r,n){if(null===t||null===e.Xe)return null;for(var i=e.Xe.iterator;i.next();){var o=i.value;if(o.ws===e&&o.Zu===t&&o.Kx===r&&o.Lx===n||o.ws===t&&o.Zu===e&&o.Kx===n&&o.Lx===r)return o}return null}function Zc(e,t){for(e=e.linksConnected;e.next();){var r=e.value;r.fromPort!==t&&r.toPort!==t||($c(r.fromPort),$c(r.toPort),r.bb())}}function $c(e){if(null!==e){var t=e.Vn;null!==t&&t.Nl(),null===(t=(e=e.part).containingGroup)||e.isVisible()||$c(t.port)}}function Jc(e,t,r,n){if(null!==t&&!r.has(t)){r.add(t);var i=!0,o=e.diagram;null!==o&&(i=o.isTreePathToChildren),t.linksConnected.each((function(o){o.isTreeLink?(i?o.fromNode===t:o.toNode===t)&&Jc(e,i?o.toNode:o.fromNode,r,n):n.add(o)}))}}function Qc(e,t,r){$c(r);var n=e.kb.contains(t);if(n||e.kb.add(t),!n||t.fromNode===t.toNode){var i=e.linkConnected;if(null!==i){var o=!0,a=e.diagram;null!==a&&(o=a.aa,a.aa=!0),i(e,t,r),null!==a&&(a.aa=o)}}!n&&t.isTreeLink&&(r=t.fromNode,t=t.toNode,null!==r&&null!==t&&r!==t&&(n=!0,null!==(e=e.diagram)&&(n=e.isTreePathToChildren),o=n?r:t,(i=n?t:r).$h||(i.$h=o),!o.isTreeLeaf||null!==e&&e.undoManager.isUndoingRedoing||(n?r===o&&(o.isTreeLeaf=!1):t===o&&(o.isTreeLeaf=!1))))}function eh(e,t,r){$c(r);var n=e.kb.remove(t),i=null;if(n||t.toNode===t.fromNode){var o=e.linkDisconnected;if(i=e.diagram,null!==o){var a=!0;null!==i&&(a=i.aa,i.aa=!0),o(e,t,r),null!==i&&(i.aa=a)}}n&&t.isTreeLink&&(r=!0,null!==i&&(r=i.isTreePathToChildren),e=r?t.toNode:t.fromNode,t=r?t.fromNode:t.toNode,null!==e&&(e.$h=!1),null===t||t.isTreeLeaf||(0===t.kb.count?(t.$h=null,null!==i&&i.undoManager.isUndoingRedoing||(t.isTreeLeaf=!0)):th(t)))}function th(e){if(e.$h=!1,0!==e.kb.count){var t=!0,r=e.diagram;if(null===r||!r.undoManager.isUndoingRedoing){for(null!==r&&(t=r.isTreePathToChildren),r=e.kb.iterator;r.next();){var n=r.value;if(n.isTreeLink)if(t){if(n.fromNode===e)return void(e.isTreeLeaf=!1)}else if(n.toNode===e)return void(e.isTreeLeaf=!1)}e.isTreeLeaf=!0}}}function rh(e){null===e.tc?e.tc=new fe:e.tc.clear(),e.nm(e,(function(e,t){nh(e,t)})),0===e.tc.count&&e.tc.add("",e)}function nh(e,t){var r=t.portId;null!==r&&null!==e.tc&&e.tc.add(r,t)}function ih(e,t,r){var n=t.portId;if(null!==n&&(null!==e.tc&&e.tc.remove(n),null!==(t=e.diagram)&&r)){for(r=null,e=e.findLinksConnected(n);e.next();)n=e.value,null===r&&(r=E()),r.push(n);if(null!==r){for(e=0;e<r.length;e++)t.remove(r[e]);O(r)}}}function oh(e,t){return null===(t=t.lg())?0:1+oh(e,t)}function ah(e,t,r,n,i,o,a){if(1<n)for(var s=r?e.Io():e.Kd();s.next();){var l=s.value;l.isTreeLink&&(null===(l=l.No(e))||l===e||t.contains(l)||(t.add(l),ah(l,t,r,n-1,i,o,a)))}else sh(e,t,r,i,o,a)}function sh(e,t,r,n,i,o){for(var a=i===e||e.isTreeExpanded,s=r?e.Io():e.Kd();s.next();){var l=s.value;if(l.isTreeLink&&(null!==(l=l.No(e))&&l!==e)){var u=t.contains(l);u||t.add(l),a&&(o&&n.yj(l,i),l.jh(),l.Vb(!1)),l.isTreeExpanded&&(l.wasTreeExpanded=l.isTreeExpanded,u||sh(l,t,r,n,i,o))}}e.isTreeExpanded=!1}function lh(e,t,r,n,i,o,a){for(var s=o!==e&&e.isTreeExpanded,l=r?e.Io():e.Kd();l.next();){var u=l.value;u.isTreeLink&&(s||u.xd||u.bb(),null!==(u=u.No(e))&&u!==e&&!t.contains(u)&&(t.add(u),s||(u.Vb(!0),u.jh(),a&&i.Aj(u,o)),2<n||u.wasTreeExpanded))&&(u.wasTreeExpanded=!1,lh(u,t,r,n-1,i,o,a))}e.isTreeExpanded=!0}vc.className="Part",vc.LayoutNone=0,vc.LayoutAdded=1,vc.LayoutRemoved=2,vc.LayoutShown=4,vc.LayoutHidden=8,vc.LayoutNodeSized=16,vc.LayoutGroupLayout=32,vc.LayoutNodeReplaced=64,vc.LayoutStandard=127,vc.LayoutAll=16777215,h(Vc,vc),Vc.prototype.toString=function(){var e=this.adornedPart;return"Adornment("+this.category+")"+(null!==e?e.toString():"")},Vc.prototype.updateRelationshipsFromData=function(){},Vc.prototype.Ql=function(e){var t=this.adornedObject,r=null===t||void 0===t?void 0:t.part;if(r instanceof vh&&t instanceof cu){t=r.path,r.Ql(e),e=t.geometry,t=(r=this.P.s).length;for(var n=0;n<t;n++){var i=r[n];i.isPanelMain&&i instanceof cu&&(i.ta=e)}}},Vc.prototype.oi=function(){var e=this.qe;return null===e||(null===(e=e.part)||!ts(e))},Vc.prototype.Uc=function(){return!1},Vc.prototype.ck=function(e,t,r,n,i,o,a){if(e===fr&&"elements"===t){if(i instanceof gh)null===this.Za&&(this.Za=i);else if(i instanceof kl){var s=i.Il((function(e){return e instanceof gh}));s instanceof gh&&null===this.Za&&(this.Za=s)}}else e===pr&&"elements"===t&&null!==this.Za&&(n===this.Za||n instanceof kl&&this.Za.ng(n))&&(this.Za=null);vc.prototype.ck.call(this,e,t,r,n,i,o,a)},Vc.prototype.updateAdornments=function(){},Vc.prototype.Jj=function(){},d.Object.defineProperties(Vc.prototype,{placeholder:{get:function(){return this.Za}},adornedObject:{get:function(){return this.qe},set:function(e){var t=this.adornedPart,r=null;null!==e&&(r=e.part),null===t||null!==e&&t===r||t.Gf(this.category),this.qe=e,null!==r&&r.Wg(this.category,this)}},adornedPart:{get:function(){var e=this.qe;return null!==e?e.part:null}},containingGroup:{get:function(){return null}}}),Vc.className="Adornment",Hc.prototype.copy=function(){var e=new Hc;return e.wq=this.wq,e.xq=this.xq,e.ej=this.ej,e.Nr=this.Nr,e.rp=this.rp.J(),e.Yq=this.Yq,e.Fq=this.Fq,e.Gq=this.Gq,e.gj=this.gj,e.Cr=this.Cr,e},h(Wc,vc),Wc.prototype.cloneProtected=function(e){vc.prototype.cloneProtected.call(this,e),e.U=this.U,null!==this.ya&&(e.ya=this.ya.jc?this.ya:this.ya.copy())},(t=Wc.prototype).xf=function(e){vc.prototype.xf.call(this,e),e.vd(),e.Xe=this.Xe,e.tc=null},t.oh=function(){vc.prototype.oh.call(this),null!==this.ya&&(this.ya.jc=!0)},t.Dz=function(e,t,r){void 0!==t&&null!==t||(t=""),void 0!==r&&null!==r||(r=""),null!==(e=Kc(this,e,t,r))&&e.Nl()},t.ck=function(e,t,r,n,i,o,a){(e===fr&&"elements"===t||e===pr&&"elements"===t)&&(this.tc=null),vc.prototype.ck.call(this,e,t,r,n,i,o,a)},t.vd=function(e){for(var t=this.linksConnected;t.next();){var r=t.value;void 0!==e&&e.contains(r)||($c(r.fromPort),$c(r.toPort),r.bb())}},t.oi=function(){return!0},Wc.prototype.getAvoidableRect=function(e){return e.set(this.actualBounds),e.yo(this.avoidableMargin),e},Wc.prototype.findVisibleNode=function(){for(var e=this;null!==e&&!e.isVisible();)e=e.containingGroup;return e},Wc.prototype.isVisible=function(){if(!vc.prototype.isVisible.call(this))return!1;var e=!0,t=Qo,r=this.diagram;if(null!==r&&(e=r.isTreePathToChildren,t=r.treeCollapsePolicy),t===Qo){if(null!==(e=this.lg())&&!e.isTreeExpanded)return!1}else if(t===ea){if(0<(e=e?this.Hu():this.Iu()).count&&e.all((function(e){return!e.isTreeExpanded})))return!1}else if(t===ta&&(0<(e=e?this.Hu():this.Iu()).count&&e.any((function(e){return!e.isTreeExpanded}))))return!1;return null===(e=this.labeledLink)||e.isVisible()},Wc.prototype.Vb=function(e){vc.prototype.Vb.call(this,e);for(var t=this.linksConnected;t.next();){var r=t.value;if(e&&null!==this.containingGroup){var n=r.No(this);null===n||n.Md(this.containingGroup)||r.bb()}r.Vb(e)}},Wc.prototype.kx=function(){var e=new J,t=new J;return Jc(this,this,e,t),t.iterator},Wc.prototype.findLinksConnected=function(e){if(void 0===e&&(e=null),null===e)return this.kb.iterator;var t=new Y(this.kb),r=this;return t.predicate=function(t){return t.fromNode===r&&t.fromPortId===e||t.toNode===r&&t.toPortId===e},t},(t=Wc.prototype).Io=function(e){void 0===e&&(e=null);var t=new Y(this.kb),r=this;return t.predicate=function(t){return t.fromNode===r&&(null===e||t.fromPortId===e)},t},t.Kd=function(e){void 0===e&&(e=null);var t=new Y(this.kb),r=this;return t.predicate=function(t){return t.toNode===r&&(null===e||t.toPortId===e)},t},t.Gu=function(e){void 0===e&&(e=null);for(var t=null,r=null,n=this.kb.iterator;n.next();){var i=n.value;i.fromNode===this?null!==e&&i.fromPortId!==e||(i=i.toNode,null!==t?t.add(i):null!==r&&r!==i?((t=new J).add(r),t.add(i)):r=i):i.toNode!==this||null!==e&&i.toPortId!==e||(i=i.fromNode,null!==t?t.add(i):null!==r&&r!==i?((t=new J).add(r),t.add(i)):r=i)}return null!==t?t.iterator:null!==r?new X(r):W},t.Iu=function(e){void 0===e&&(e=null);for(var t=null,r=null,n=this.kb.iterator;n.next();){var i=n.value;i.fromNode!==this||null!==e&&i.fromPortId!==e||(i=i.toNode,null!==t?t.add(i):null!==r&&r!==i?((t=new J).add(r),t.add(i)):r=i)}return null!==t?t.iterator:null!==r?new X(r):W},t.Hu=function(e){void 0===e&&(e=null);for(var t=null,r=null,n=this.kb.iterator;n.next();){var i=n.value;i.toNode!==this||null!==e&&i.toPortId!==e||(i=i.fromNode,null!==t?t.add(i):null!==r&&r!==i?((t=new J).add(r),t.add(i)):r=i)}return null!==t?t.iterator:null!==r?new X(r):W},t.bz=function(e,t,r){void 0===t&&(t=null),void 0===r&&(r=null);var n=new Y(this.kb),i=this;return n.predicate=function(n){return!(n.fromNode!==i||n.toNode!==e||null!==t&&n.fromPortId!==t||null!==r&&n.toPortId!==r)||!(n.fromNode!==e||n.toNode!==i||null!==r&&n.fromPortId!==r||null!==t&&n.toPortId!==t)},n},t.cz=function(e,t,r){void 0===t&&(t=null),void 0===r&&(r=null);var n=new Y(this.kb),i=this;return n.predicate=function(n){return!(n.fromNode!==i||n.toNode!==e||null!==t&&n.fromPortId!==t||null!==r&&n.toPortId!==r)},n},Wc.prototype.updateRelationshipsFromData=function(){var e=this.diagram;null!==e&&e.partManager.updateRelationshipsFromData(this)},(t=Wc.prototype).Po=function(e){vc.prototype.Po.call(this,e),e||(th(this),null!==(e=this.Tk)&&xh(e,this))},t.Qo=function(e){vc.prototype.Qo.call(this,e),e||null!==(e=this.Tk)&&null!==e.qd&&(e.qd.remove(this),e.v())},t.Jj=function(){if(0<this.kb.count){var e=this.diagram;if(null!==e)for(var t=null===e.commandHandler||e.commandHandler.deletesConnectedLinks,r=this.kb.copy().iterator;r.next();){var n=r.value;t?e.remove(n):(n.fromNode===this&&(n.fromNode=null),n.toNode===this&&(n.toNode=null))}}this.labeledLink=null,vc.prototype.Jj.call(this)},t.fs=function(e){if(null===this.tc){if(""===e&&!1===this.Oe)return this;rh(this)}var t=this.tc.I(e);return null!==t||""!==e&&null!==(t=this.tc.I(""))?t:this},t.Fz=function(e){if(null===e||e===this)return!1;var t=!0,r=this.diagram;if(null!==r&&(t=r.isTreePathToChildren),r=this,t)for(;r!==e;){t=null;for(var n=r.kb.iterator;n.next();){var i=n.value;if(i.isTreeLink&&((t=i.fromNode)!==r&&t!==this))break}if(t===this||null===t||t===r)return!1;r=t}else for(;r!==e;){for(t=null,n=r.kb.iterator;n.next()&&(!(i=n.value).isTreeLink||((t=i.toNode)===r||t===this)););if(t===this||null===t||t===r)return!1;r=t}return!0},t.oz=function(){var e=!0,t=this.diagram;if(null!==t&&(e=t.isTreePathToChildren),t=this,e)for(;;){e=null;for(var r=t.kb.iterator;r.next();){var n=r.value;if(n.isTreeLink&&((e=n.fromNode)!==t&&e!==this))break}if(e===this)return this;if(null===e||e===t)return t;t=e}else for(;;){for(e=null,r=t.kb.iterator;r.next()&&(!(n=r.value).isTreeLink||((e=n.toNode)===t||e===this)););if(e===this)return this;if(null===e||e===t)return t;t=e}},t.Zy=function(e){if(null===e)return null;if(this===e)return this;for(var t=this;null!==t;)Ic(t,!0),t=t.lg();var r=null;for(t=e;null!==t;){if(0!==(1048576&t.G)){r=t;break}t=t.lg()}for(t=this;null!==t;)Ic(t,!1),t=t.lg();return r},t.fh=function(){var e=!0,t=this.diagram;if(null!==t&&(e=t.isTreePathToChildren),t=this.kb.iterator,e){for(;t.next();)if((e=t.value).isTreeLink&&e.fromNode!==this)return e}else for(;t.next();)if((e=t.value).isTreeLink&&e.toNode!==this)return e;return null},t.lg=function(){var e=this.$h;if(null===e)return null;if(e instanceof Wc)return e;e=null===(e=this.diagram)||e.isTreePathToChildren;for(var t=this.kb.iterator;t.next();){var r=t.value;if(r.isTreeLink&&(r=e?r.fromNode:r.toNode)!==this)return this.$h=r}return this.$h=null},t.mz=function(){var e=new J;return function e(t,r){r.add(t);var n=t.fh();null!==n&&(r.add(n),null!==(t=t.lg())&&e(t,r))}(this,e),e},t.lz=function(){return oh(this,this)},t.Ko=function(){var e=!0,t=this.diagram;null!==t&&(e=t.isTreePathToChildren),t=new Y(this.kb);var r=this;return t.predicate=e?function(e){return!(!e.isTreeLink||e.fromNode!==r)}:function(e){return!(!e.isTreeLink||e.toNode!==r)},t},t.Ku=function(){var e=!0,t=this.diagram;null!==t&&(e=t.isTreePathToChildren);var r=t=null,n=this.kb.iterator;if(e)for(;n.next();)(e=n.value).isTreeLink&&e.fromNode===this&&(e=e.toNode,null!==t?t.add(e):null!==r&&r!==e?((t=new Z).add(r),t.add(e)):r=e);else for(;n.next();)(e=n.value).isTreeLink&&e.toNode===this&&(e=e.fromNode,null!==t?t.add(e):null!==r&&r!==e?((t=new Z).add(r),t.add(e)):r=e);return null!==t?t.iterator:null!==r?new X(r):W},t.nz=function(e){void 0===e&&(e=1/0);var t=new J;return qc(t,this,!1,e,!0),t},Wc.prototype.collapseTree=function(e){void 0===e&&(e=1),1>e&&(e=1);var t=this.diagram;if(null!==t&&!t.Pe){t.Pe=!0;var r=new J;r.add(this),ah(this,r,t.isTreePathToChildren,e,t,this,t.treeCollapsePolicy===Qo),t.Pe=!1}},Wc.prototype.expandTree=function(e){void 0===e&&(e=2),2>e&&(e=2);var t=this.diagram;if(null!==t&&!t.Pe){t.Pe=!0;var r=new J;r.add(this),lh(this,r,t.isTreePathToChildren,e,t,this,t.treeCollapsePolicy===Qo),t.Pe=!1}},d.Object.defineProperties(Wc.prototype,{portSpreading:{get:function(){return null!==this.ya?this.ya.Yq:ch},set:function(e){var t=this.portSpreading;t!==e&&(Xc(this),this.ya.Yq=e,this.g("portSpreading",t,e),null!==(e=this.diagram)&&e.undoManager.isUndoingRedoing||this.vd())}},avoidable:{get:function(){return 0!==(8&this.U)},set:function(e){var t=0!==(8&this.U);if(t!==e){this.U^=8;var r=this.diagram;null!==r&&Lo(r,this),this.g("avoidable",t,e)}}},avoidableMargin:{get:function(){return null!==this.ya?this.ya.rp:Nt},set:function(e){"number"===typeof e&&(e=new Ye(e));var t=this.avoidableMargin;if(!t.C(e)){e=e.J(),Xc(this),this.ya.rp=e;var r=this.diagram;null!==r&&Lo(r,this),this.g("avoidableMargin",t,e)}}},linksConnected:{get:function(){return this.kb.iterator}},linkConnected:{get:function(){return null!==this.ya?this.ya.wq:null},set:function(e){var t=this.linkConnected;t!==e&&(Xc(this),this.ya.wq=e,this.g("linkConnected",t,e))}},linkDisconnected:{get:function(){return null!==this.ya?this.ya.xq:null},set:function(e){var t=this.linkDisconnected;t!==e&&(Xc(this),this.ya.xq=e,this.g("linkDisconnected",t,e))}},linkValidation:{get:function(){return null!==this.ya?this.ya.ej:null},set:function(e){var t=this.linkValidation;t!==e&&(Xc(this),this.ya.ej=e,this.g("linkValidation",t,e))}},isLinkLabel:{get:function(){return null!==this.Tk}},labeledLink:{get:function(){return this.Tk},set:function(e){var t=this.Tk;if(t!==e){var r=this.diagram,n=this.data;if(null!==t){if(null!==t.qd&&(t.qd.remove(this),t.v()),null!==r&&null!==n&&!r.undoManager.isUndoingRedoing){var i=t.data,o=r.model;if(null!==i&&o.ni()){var a=o.va(n);void 0!==a&&o.Mx(i,a)}}this.containingGroup=null}this.Tk=e,null!==e&&(xh(e,this),null===r||null===n||r.undoManager.isUndoingRedoing||(i=e.data,r=r.model,null!==i&&r.ni()&&(void 0!==(n=r.va(n))&&r.wu(i,n))),this.containingGroup=e.containingGroup),Va(this),this.g("labeledLink",t,e)}}},port:{get:function(){return this.fs("")}},ports:{get:function(){return null===this.tc&&rh(this),this.tc.iteratorValues}},isTreeExpanded:{get:function(){return 0!==(1&this.U)},set:function(e){var t=0!==(1&this.U);if(t!==e){this.U^=1;var r=this.diagram;if(this.g("isTreeExpanded",t,e),null!==(t=this.treeExpandedChanged)){var n=!0;null!==r&&(n=r.aa,r.aa=!0),t(this),null!==r&&(r.aa=n)}null!==r&&r.undoManager.isUndoingRedoing?this.Vb(e):e?this.expandTree():this.collapseTree()}}},wasTreeExpanded:{get:function(){return 0!==(2&this.U)},set:function(e){var t=0!==(2&this.U);t!==e&&(this.U^=2,this.g("wasTreeExpanded",t,e))}},treeExpandedChanged:{get:function(){return null!==this.ya?this.ya.Nr:null},set:function(e){var t=this.treeExpandedChanged;t!==e&&(Xc(this),this.ya.Nr=e,this.g("treeExpandedChanged",t,e))}},isTreeLeaf:{get:function(){return 0!==(4&this.U)},set:function(e){var t=0!==(4&this.U);t!==e&&(this.U^=4,this.g("isTreeLeaf",t,e))}}}),Wc.prototype.expandTree=Wc.prototype.expandTree,Wc.prototype.collapseTree=Wc.prototype.collapseTree,Wc.prototype.findTreeParts=Wc.prototype.nz,Wc.prototype.findTreeChildrenNodes=Wc.prototype.Ku,Wc.prototype.findTreeChildrenLinks=Wc.prototype.Ko,Wc.prototype.findTreeLevel=Wc.prototype.lz,Wc.prototype.findTreeParentChain=Wc.prototype.mz,Wc.prototype.findTreeParentNode=Wc.prototype.lg,Wc.prototype.findTreeParentLink=Wc.prototype.fh,Wc.prototype.findCommonTreeParent=Wc.prototype.Zy,Wc.prototype.findTreeRoot=Wc.prototype.oz,Wc.prototype.isInTreeOf=Wc.prototype.Fz,Wc.prototype.findPort=Wc.prototype.fs,Wc.prototype.findLinksTo=Wc.prototype.cz,Wc.prototype.findLinksBetween=Wc.prototype.bz,Wc.prototype.findNodesInto=Wc.prototype.Hu,Wc.prototype.findNodesOutOf=Wc.prototype.Iu,Wc.prototype.findNodesConnected=Wc.prototype.Gu,Wc.prototype.findLinksInto=Wc.prototype.Kd,Wc.prototype.findLinksOutOf=Wc.prototype.Io,Wc.prototype.findExternalTreeLinksConnected=Wc.prototype.kx,Wc.prototype.invalidateConnectedLinks=Wc.prototype.vd,Wc.prototype.invalidateLinkBundle=Wc.prototype.Dz;var uh=new U(Wc,"SpreadingNone",10),ch=new U(Wc,"SpreadingEvenly",11),hh=new U(Wc,"SpreadingPacked",12);function dh(e,t){void 0===e||e instanceof sl||"string"===typeof e?Wc.call(this,e):(Wc.call(this),e&&(t=e)),this.U|=4608,this.Cn=new J,this.Za=null,this.Oc=new Pd,this.Oc.group=this,this.bl=new J,this.ib=this.Tp=null,t&&Object.assign(this,t)}function fh(e,t){if(e.Cn.add(t)){t instanceof dh&&e.bl.add(t);var r=e.memberAdded;if(null!==r){var n=!0,i=e.diagram;null!==i&&(n=i.aa,i.aa=!0),r(e,t),null!==i&&(i.aa=n)}e.isVisible()&&e.isSubGraphExpanded||t.Vb(!1)}t instanceof vh&&!e.computesBoundsIncludingLinks||(null===(t=e.Za)&&(t=e),t.v())}function ph(e,t){if(e.Cn.remove(t)){t instanceof dh&&e.bl.remove(t);var r=e.memberRemoved;if(null!==r){var n=!0,i=e.diagram;null!==i&&(n=i.aa,i.aa=!0),r(e,t),null!==i&&(i.aa=n)}e.isVisible()&&e.isSubGraphExpanded||t.Vb(!0)}t instanceof vh&&!e.computesBoundsIncludingLinks||(null===(t=e.Za)&&(t=e),t.v())}function mh(e,t,r,n){for(var i=e.memberParts;i.next();){var o=i.value;if(o.Vb(!1),o instanceof dh&&o.isSubGraphExpanded&&(o.wasSubGraphExpanded=o.isSubGraphExpanded,mh(o,t,r,n)),o instanceof Wc)o.vd(t),r.yj(o,n);else if(o instanceof vh)for(o=o.labelNodes;o.next();)o.value.vd(t)}e.isSubGraphExpanded=!1}function yh(e,t,r,n){for(var i=e.memberParts;i.next();){var o=i.value;if(o.Vb(!0),o instanceof dh&&o.wasSubGraphExpanded&&(o.wasSubGraphExpanded=!1,yh(o,t,r,n)),o instanceof Wc)o.vd(t),r.Aj(o,n);else if(o instanceof vh)for(o=o.labelNodes;o.next();)o.value.vd(t)}e.isSubGraphExpanded=!0}function gh(e){Aa.call(this),this.yb=Lt,this.fo=new Ne(NaN,NaN,NaN,NaN),e&&Object.assign(this,e)}function vh(e){vc.call(this,kl.Link),this.Pa=8,this.af=null,this.bf="",this.rf=this.cn=null,this.sf="",this.qo=null,this.kk=Hh,this.Lm=0,this.Nm=Hh,this.Om=NaN,this.oj=zh,this.lo=.5,this.qd=null,this.Kb=(new Z).freeze(),this.nf=this.Hg=null,this.hl=new Ne,this.ta=new Vt,this.u=this.m=this.Pf=this.Tf=null,this.nu=new pe,this.Wp=this.Fw=this.Ew=null,this.ot=NaN,this.ba=null,this.j=[],e&&Object.assign(this,e)}function bh(e){var t=e.fromNode,r=e.toNode,n=null;if(n=null!==t?null!==r?t.jx(r):t.containingGroup:null!==r?r.containingGroup:null,t=n,(r=e.vh)!==t){null!==r&&ph(r,e),e.vh=t,null!==t&&fh(t,e);var i=e.containingGroupChanged;if(null!==i){var o=!0,a=e.diagram;null!==a&&(o=a.aa,a.aa=!0),i(e,r,t),null!==a&&(a.aa=o)}!e.xd||e.Ew!==r&&e.Fw!==r||e.bb()}if(e.isLabeledLink)for(e=e.labelNodes;e.next();)e.value.containingGroup=n}function xh(e,t){null===e.qd&&(e.qd=new J),e.qd.add(t),e.v()}function wh(e,t,r){if(0!==t||0!==r)if(0===e.pointsCount)e.defaultFromPoint&&e.defaultFromPoint.offset(t,r),e.defaultToPoint&&e.defaultToPoint.offset(t,r);else{for(var n=e.xd,i=new Z,o=e.Kb.iterator;o.next();){var a=o.value;i.add(new pe(a.x+t,a.y+r).freeze())}i.freeze(),o=e.Kb,e.Kb=i,a=e.diagram,isNaN(t)||isNaN(r)||null!==a&&a.animationManager.zb?e.v():(e.ge.h(e.ge.x+t,e.ge.y+r),e.pa.h(e.pa.x+t,e.pa.y+r),Va(e)),n?Sh(e):(e.defaultFromPoint&&(e.defaultFromPoint=e.i(0)),e.defaultToPoint&&(e.defaultToPoint=e.i(e.pointsCount-1))),null!==a&&a.animationManager.zb&&(t=a.animationManager,e.nf=i,t.kl.add(e)),e.g("points",o,i)}}function Sh(e){0===e.Kb.count?e.xd=!1:(e.xd=!0,e.Wp=null,e.ot=NaN,e.defaultFromPoint=e.i(0),e.defaultToPoint=e.i(e.pointsCount-1),Rh(e,!1))}function kh(e,t){return Math.abs(t.x-e.x)>Math.abs(t.y-e.y)?(t.x>=e.x?t.x=e.x+9e9:t.x=e.x-9e9,t.y=e.y):(t.y>=e.y?t.y=e.y+9e9:t.y=e.y-9e9,t.x=e.x),t}function _h(e,t){var r=t.Vn;return null===r&&((r=new _d).port=t,r.node=t.part,t.Vn=r),Md(r,e)}function jh(e){return e===$e||.5===e.x&&.5===e.y}function Mh(e){return.5===e.x&&.5===e.y?e:rt}function Ch(e){if(null===e.diagram||!e.isAvoiding||!To(e.diagram))return!1;var t=e.points.s,r=t.length;if(4>r)return!1;e=Eo(e.diagram,!0,e.containingGroup,null);for(var n=1;n<r-2;n++){var i=t[n],o=t[n+1];if(!e.Vj(Math.min(i.x,o.x),Math.min(i.y,o.y),Math.abs(i.x-o.x),Math.abs(i.y-o.y)))return!0}return!1}function Ph(e,t,r,n,i,o,a){var s=t.Do,l=t.Co,u=dd(t,r,n),c=r,h=n;for(0===i?c+=s:90===i?h+=l:180===i?c-=s:h-=l,i!==a&&u>xd&&dd(t,c,h)!==u-1&&(dd(t,r-s,n)===u-1?(i=180,c=r-s,h=n):dd(t,r+s,n)===u-1?(i=0,c=r+s,h=n):dd(t,r,n-l)===u-1?(i=270,c=r,h=n-l):dd(t,r,n+l)===u-1&&(i=90,c=r,h=n+l));u>xd&&dd(t,c,h)===u-1;)r=c,n=h,0===i?c+=s:90===i?h+=l:180===i?c-=s:h-=l,--u;o?u>xd&&(180===i||0===i?r=Math.floor(r/s)*s+s/2:90!==i&&270!==i||(n=Math.floor(n/l)*l+l/2)):(r=Math.floor(r/s)*s+s/2,n=Math.floor(n/l)*l+l/2),u>xd&&(o=i,a=r,c=n,0===i?(o=90,c+=l):90===i?(o=180,a-=s):180===i?(o=270,c-=l):270===i&&(o=0,a+=s),dd(t,a,c)===u-1?Ph(e,t,a,c,o,!1,o):(a=r,c=n,0===i?(o=270,c-=l):90===i?(o=0,a+=s):180===i?(o=90,c+=l):270===i&&(o=180,a-=s),dd(t,a,c)===u-1&&Ph(e,t,a,c,o,!1,o))),e.vf(r,n)}function Th(e,t,r,n){return e=r-e,isNaN(e)||1/0===e||-1/0===e?NaN:(0>e&&(e=-e),t=n-t,isNaN(t)||1/0===t||-1/0===t?NaN:(0>t&&(t=-t),Gt.$(e,0)?t:Gt.$(t,0)?e:Math.sqrt(e*e+t*t)))}function Eh(e,t,r,n){var i=e.pointsCount;if(2>i)return t;if(r){var o=e.i(1);if(r=o.x-n.x,o=o.y-n.y,0===(n=Th(t.x,t.y,r,o)))return t;i=2===i?.5*n:n,(e=e.computeShortLength(!0))>i&&(e=i),i=e*(o-t.y)/n,t.x+=e*(r-t.x)/n,t.y+=i}else{if(r=(o=e.i(i-2)).x-n.x,o=o.y-n.y,0===(n=Th(t.x,t.y,r,o)))return t;i=2===i?.5*n:n,(e=e.computeShortLength(!1))>i&&(e=i),i=e*(t.y-o)/n,t.x-=e*(t.x-r)/n,t.y-=i}return t}function Oh(e,t,r,n){for(var i=e.pointsCount,o=t;Gt.$(t.x,o.x)&&Gt.$(t.y,o.y);){if(r>=i)return i-1;o=e.i(r++)}if(!Gt.$(t.x,o.x)&&!Gt.$(t.y,o.y))return r-1;for(var a=o;Gt.$(t.x,o.x)&&Gt.$(o.x,a.x)&&(!n||(t.y>=o.y?o.y>=a.y:o.y<=a.y))||Gt.$(t.y,o.y)&&Gt.$(o.y,a.y)&&(!n||(t.x>=o.x?o.x>=a.x:o.x<=a.x));){if(r>=i)return i-1;a=e.i(r++)}return r-2}function Ah(e,t,r,n,i,o,a){if(!a&&Nh(e)){var s=(a=e.computeJumpLength())/2,l=[],u=0;if(e.isVisible()&&(u=function(e,t,r,n){var i=e.diagram;if(null===i||t.C(r))return 0;for(i=i.layers;i.next();){var o=i.value;if(null!==o&&o.visible)for(var a=(o=o.Oa.s).length,s=0;s<a;s++){var l=o[s];if(l instanceof vh){if(l===e)return 0<n.length&&n.sort((function(e,t){return e-t})),n.length;if(l.isVisible()&&Nh(l)){var u=l.routeBounds;u.w()&&e.routeBounds.Tc(u)&&!e.usesSamePort(l)&&(null!==(u=l.path)&&u.Nd()&&Lh(t,r,n,l))}}}}return 0<n.length&&n.sort((function(e,t){return e-t})),n.length}(e,i,o,l)),0<u)if(Gt.B(i.y,o.y))if(i.x<o.x)for(var c=0;c<u;){var h=Math.max(i.x,Math.min(l[c++]-s,o.x-a));t.lineTo(h+r,o.y+n);for(var d=h+r,f=Math.min(h+a,o.x);c<u&&(h=l[c])<f+a;)c++,f=Math.min(h+s,o.x);h=o.y-a+n,f+=r;var p=o.y+n;e.curve===Xh?uc(t,f,p,!1):hc(t,d,h,f,h,f,p)}else for(--u;0<=u;){for(c=Math.min(i.x,Math.max(l[u--]+s,o.x+a)),t.lineTo(c+r,o.y+n),d=c+r,h=Math.max(c-a,o.x);0<=u&&(c=l[u])>h-a;)u--,h=Math.max(c-s,o.x);c=o.y-a+n,h+=r,f=o.y+n,e.curve===Xh?uc(t,h,f,!1):hc(t,d,c,h,c,h,f)}else if(Gt.B(i.x,o.x))if(i.y<o.y)for(c=0;c<u;){for(h=Math.max(i.y,Math.min(l[c++]-s,o.y-a)),t.lineTo(o.x+r,h+n),d=h+n,h=Math.min(h+a,o.y);c<u&&(f=l[c])<h+a;)c++,h=Math.min(f+s,o.y);f=o.x-a+r,p=o.x+r,h+=n,e.curve===Xh?uc(t,p,h,!1):hc(t,f,d,f,h,p,h)}else for(--u;0<=u;){for(c=Math.min(i.y,Math.max(l[u--]+s,o.y+a)),t.lineTo(o.x+r,c+n),d=c+n,c=Math.max(c-a,o.y);0<=u&&(h=l[u])>c-a;)u--,c=Math.max(h-s,o.y);h=o.x-a+r,f=o.x+r,c+=n,e.curve===Xh?uc(t,f,c,!1):hc(t,h,d,h,c,f,c)}}t.lineTo(o.x+r,o.y+n)}function Lh(e,t,r,n){for(var i=Gt.B(e.y,t.y),o=n.pointsCount,a=n.i(0),s=pe.alloc(),l=1;l<o;l++){var u=n.i(l);if(l<o-1){var c=n.i(l+1);if(a.y===u.y&&u.y===c.y){if(u.x>a.x&&c.x>=u.x||u.x<a.x&&c.x<=u.x)continue}else if(a.x===u.x&&u.x===c.x&&(u.y>a.y&&c.y>=u.y||u.y<a.y&&c.y<=u.y))continue}e:{c=e.x;var h=e.y,d=t.x,f=t.y,p=a.x;a=a.y;var m=u.x,y=u.y;if(Gt.B(c,d)){if(!Gt.B(h,f)&&Gt.B(a,y)&&Math.min(h,f)<a&&Math.max(h,f)>a&&Math.min(p,m)<c&&Math.max(p,m)>c&&!Gt.B(p,m)){s.x=c,s.y=a,c=!0;break e}}else if(Gt.B(h,f)&&Gt.B(p,m)&&Math.min(c,d)<p&&Math.max(c,d)>p&&Math.min(a,y)<h&&Math.max(a,y)>h&&!Gt.B(a,y)){s.x=p,s.y=h,c=!0;break e}s.x=0,s.y=0,c=!1}c&&(i?r.push(s.x):r.push(s.y)),a=u}pe.free(s)}function Nh(e){return(e=e.curve)===Yh||e===Xh}function Rh(e,t){(t||Nh(e))&&(null===(t=e.diagram)||t.animationManager.isTicking||t.zh.contains(e)||0===e.hl.width&&0===e.hl.height||t.zh.add(e,e.hl.copy()))}function Dh(e,t,r){if(null!==t&&t.gk&&t.xd&&Nh(t)){var n=t.routeBounds;n.w()&&(e.routeBounds.Tc(n)||r.Tc(n))&&(e.usesSamePort(t)||t.nc())}}function Ih(e){var t=e.af;if(null!==t){var r=e.rf;if(null!==r&&isNaN(e.curviness)){for(var n=e.bf,i=e.sf,o=e=null,a=t.kb.s,s=a.length,l=0;l<s;l++){var u=a[l];(u.af===t&&u.bf===n&&u.rf===r&&u.sf===i||u.af===r&&u.bf===i&&u.rf===t&&u.sf===n)&&(null===o?o=u:(null===e&&(e=[]).push(o),e.push(u)))}if(null!==e){for(null===(o=Kc(t,r,n,i))&&(Yc(t,o=new ud(t,n,r,i)),Yc(r,o)),o.links=e,t=0;t<e.length;t++)e[t].Pf=o;o.Nl()}}}}function Fh(e){var t=e.Pf;null!==t&&isNaN(e.curviness)&&(e.Pf=null,0<=(e=t.links.indexOf(e))&&(T(t.links,e),t.Nl()))}Wc.className="Node",Wc.SpreadingNone=uh,Wc.SpreadingEvenly=ch,Wc.SpreadingPacked=hh,h(dh,Wc),dh.prototype.cloneProtected=function(e){Wc.prototype.cloneProtected.call(this,e),this.U=-32769&this.U;var t=e.Il((function(e){return e instanceof gh}));e.Za=t instanceof gh?t:null,null!==this.Oc?(e.Oc=this.Oc.copy(),e.Oc.group=e):(null!==e.Oc&&(e.Oc.group=null),e.Oc=null),null!==this.ib&&(e.ib=this.ib.copy())},(t=dh.prototype).xf=function(e){Wc.prototype.xf.call(this,e);var t=e.Pj();for(e=e.memberParts;e.next();){var r=e.value;if(r.v(),r.D(8),r.Cj(),r instanceof Wc)r.vd(t);else if(r instanceof vh)for(r=r.labelNodes;r.next();)r.value.vd(t)}},t.ck=function(e,t,r,n,i,o,a){if(e===fr&&"elements"===t){if(i instanceof gh)null===this.Za?this.Za=i:this.Za!==i&&w("Cannot insert a second Placeholder into the visual tree of a Group.");else if(i instanceof kl){var s=i.Il((function(e){return e instanceof gh}));s instanceof gh&&(null===this.Za?this.Za=s:this.Za!==s&&w("Cannot insert a second Placeholder into the visual tree of a Group."))}}else e===pr&&"elements"===t&&null!==this.Za&&(n===this.Za||n instanceof kl&&this.Za.ng(n))&&(this.Za=null);Wc.prototype.ck.call(this,e,t,r,n,i,o,a)},t.Tl=function(e,t){Wc.prototype.Tl.call(this,e,t),this.isClipping&&this.type!==kl.Spot&&this.isSubGraphExpanded&&((e=this.resizeObject)instanceof kl&&(e=e.sb()),null===this.ib&&(this.ib=new Ne),e.ji(this.ib),e instanceof cu&&this.ib.yc(-e.strokeWidth,-e.strokeWidth))},t.Zg=function(e,t,r,n){this.jf=this.Za,Wc.prototype.Zg.call(this,e,t,r,n)},t.Va=function(){var e=this;e.isSubGraphExpanded&&this.memberParts.each((function(t){!e.computesBoundsIncludingLinks&&t instanceof vh||t.Va()})),Wc.prototype.Va.call(this)},t.oi=function(){if(!Wc.prototype.oi.call(this))return!1;for(var e=this.memberParts;e.next();){var t=e.value;if(t instanceof Wc){if(t.isVisible()&&ts(t))return!1}else if(t instanceof vh&&t.isVisible()&&ts(t)&&t.fromNode!==this&&t.toNode!==this)return!1}return!0},t.Jj=function(){if(0<this.Cn.count){var e=this.diagram;if(null!==e)for(var t=this.Cn.copy().iterator;t.next();)e.remove(t.value)}Wc.prototype.Jj.call(this)},dh.prototype.canAddMembers=function(e){var t=this.diagram;if(null===t)return!1;for(t=t.commandHandler,e=Oa(e).iterator;e.next();)if(!t.isValidMember(this,e.value))return!1;return!0},dh.prototype.addMembers=function(e,t){var r=this.diagram;if(null===r)return!1;r=r.commandHandler;var n=!0;for(e=Oa(e).iterator;e.next();){var i=e.value;!t||r.isValidMember(this,i)?i.containingGroup=this:n=!1}return n},dh.prototype.canUngroup=function(){if(!this.ungroupable)return!1;var e=this.layer;return!(null===e||!e.allowUngroup)&&!(null!==(e=e.diagram)&&!e.allowUngroup)},(t=dh.prototype).vd=function(e){var t=0!==(65536&this.U);if(Wc.prototype.vd.call(this,e),!t)for(0!==(65536&this.U)!==!0&&(this.U=65536^this.U),t=this.Fu();t.next();){var r=t.value;if(void 0===e||!e.contains(r)){var n=r.fromNode;null!==n&&n!==this&&n.Md(this)&&!n.isVisible()?($c(r.fromPort),$c(r.toPort),r.bb()):null!==(n=r.toNode)&&n!==this&&n.Md(this)&&!n.isVisible()&&($c(r.fromPort),$c(r.toPort),r.bb())}}},t.Fu=function(){var e=null!==this.diagram&&this.diagram.Iw;if(e&&null!==this.Tp)return this.Tp.iterator;var t=this.Pj();t.add(this);for(var r=new J,n=t.iterator;n.next();){var i=n.value;if(i instanceof Wc)for(i=i.linksConnected;i.next();){var o=i.value;t.contains(o)||r.add(o)}}return e&&(this.Tp=r),r.iterator},t.az=function(){var e=this.Pj();e.add(this);for(var t=new J,r=e.iterator;r.next();){var n=r.value;if(n instanceof Wc)for(n=n.linksConnected;n.next();){var i=n.value,o=i.fromNode;null===o||e.contains(o)&&o!==this||t.add(o),null===(i=i.toNode)||e.contains(i)&&i!==this||t.add(i)}}return t.iterator},t.$y=function(){var e=new J;return function e(t,r){null!==t&&(r.add(t),e(t.containingGroup,r))}(this,e),e},t.Pj=function(){var e=new J;return qc(e,this,!0,0,!0),e.remove(this),e},t.Vb=function(e){Wc.prototype.Vb.call(this,e);for(var t=this.memberParts;t.next();)t.value.Vb(e)},dh.prototype.collapseSubGraph=function(){var e=this.diagram;null===e||e.Pe||(e.Pe=!0,mh(this,this.Pj(),e,this),e.Pe=!1)},dh.prototype.expandSubGraph=function(){var e=this.diagram;null===e||e.Pe||(e.Pe=!0,yh(this,this.Pj(),e,this),e.Pe=!1)},dh.prototype.move=function(e,t){void 0===t&&(t=!1);var r=t?this.location:this.position,n=r.x;r=r.y;var i=e.x,o=e.y;if(!(n===i||isNaN(n)&&isNaN(i))||!(r===o||isNaN(r)&&isNaN(o))){for(n=i-(isNaN(n)?0:n),r=o-(isNaN(r)?0:r),o=pe.alloc(),Wc.prototype.move.call(this,e,t),e=new J,t=this.Pj().iterator;t.next();)(i=t.value)instanceof vh&&(i.suspendsRouting&&e.add(i),i.xd||i.fromNode!==this&&i.toNode!==this)&&(i.suspendsRouting=!0);for(t.reset();t.next();)if(!((i=t.value).kh()||i instanceof Wc&&i.isLinkLabel)){var a=i.position,s=i.location;a.w()?(o.x=a.x+n,o.y=a.y+r,i.position=o):s.w()&&(o.x=s.x+n,o.y=s.y+r,i.location=o)}for(t.reset();t.next();)(i=t.value)instanceof vh&&(i.suspendsRouting=e.contains(i),i.xd||i.fromNode!==this&&i.toNode!==this)&&(a=i.position,o.x=a.x+n,o.y=a.y+r,o.w()?i.move(o):i.bb(),Ch(i)&&i.bb());pe.free(o)}},d.Object.defineProperties(dh.prototype,{placeholder:{get:function(){return this.Za}},computesBoundsAfterDrag:{get:function(){return 0!==(2048&this.U)},set:function(e){var t=0!==(2048&this.U);t!==e&&(this.U^=2048,this.g("computesBoundsAfterDrag",t,e))}},computesBoundsIncludingLinks:{get:function(){return 0!==(4096&this.U)},set:function(e){var t=0!==(4096&this.U);t!==e&&(this.U^=4096,this.g("computesBoundsIncludingLinks",t,e))}},computesBoundsIncludingLocation:{get:function(){return 0!==(8192&this.U)},set:function(e){var t=0!==(8192&this.U);t!==e&&(this.U^=8192,this.g("computesBoundsIncludingLocation",t,e))}},handlesDragDropForMembers:{get:function(){return 0!==(16384&this.U)},set:function(e){var t=0!==(16384&this.U);t!==e&&(this.U^=16384,this.g("handlesDragDropForMembers",t,e))}},memberParts:{get:function(){return this.Cn.iterator}},layout:{get:function(){return this.Oc},set:function(e){var t=this.Oc;if(t!==e){null!==e&&null!==e.diagram&&e.diagram.layout===e&&w("A layout cannot be both the Diagram.layout and a Group.layout: "+e),null!==t&&(t.diagram=null,t.group=null),this.Oc=e;var r=this.diagram;null!==e&&(e.diagram=r,e.group=this),null!==r&&(r.sh=!0),this.g("layout",t,e),null!==r&&r.Wb()}}},memberAdded:{get:function(){return null!==this.ya?this.ya.Fq:null},set:function(e){var t=this.memberAdded;t!==e&&(Xc(this),this.ya.Fq=e,this.g("memberAdded",t,e))}},memberRemoved:{get:function(){return null!==this.ya?this.ya.Gq:null},set:function(e){var t=this.memberRemoved;t!==e&&(Xc(this),this.ya.Gq=e,this.g("memberRemoved",t,e))}},memberValidation:{get:function(){return null!==this.ya?this.ya.gj:null},set:function(e){var t=this.memberValidation;t!==e&&(Xc(this),this.ya.gj=e,this.g("memberValidation",t,e))}},ungroupable:{get:function(){return 0!==(256&this.U)},set:function(e){var t=0!==(256&this.U);t!==e&&(this.U^=256,this.g("ungroupable",t,e))}},isSubGraphExpanded:{get:function(){return 0!==(512&this.U)},set:function(e){var t=0!==(512&this.U);if(t!==e){this.U^=512;var r=this.diagram;if(this.g("isSubGraphExpanded",t,e),null!==(t=this.subGraphExpandedChanged)){var n=!0;null!==r&&(n=r.aa,r.aa=!0),t(this),null!==r&&(r.aa=n)}null!==r&&r.undoManager.isUndoingRedoing?(null!==this.Za&&this.Za.v(),this.memberParts.each((function(e){e.updateAdornments()}))):e?this.expandSubGraph():this.collapseSubGraph()}}},wasSubGraphExpanded:{get:function(){return 0!==(1024&this.U)},set:function(e){var t=0!==(1024&this.U);t!==e&&(this.U^=1024,this.g("wasSubGraphExpanded",t,e))}},subGraphExpandedChanged:{get:function(){return null!==this.ya?this.ya.Cr:null},set:function(e){var t=this.subGraphExpandedChanged;t!==e&&(Xc(this),this.ya.Cr=e,this.g("subGraphExpandedChanged",t,e))}},mh:{get:function(){return 0!==(32768&this.U)},set:function(e){0!==(32768&this.U)!==e&&(this.U^=32768)}}}),dh.prototype.expandSubGraph=dh.prototype.expandSubGraph,dh.prototype.collapseSubGraph=dh.prototype.collapseSubGraph,dh.prototype.findSubGraphParts=dh.prototype.Pj,dh.prototype.findContainingGroupChain=dh.prototype.$y,dh.prototype.findExternalNodesConnected=dh.prototype.az,dh.prototype.findExternalLinksConnected=dh.prototype.Fu,dh.prototype.ensureBounds=dh.prototype.Va,dh.className="Group",h(gh,Aa),gh.prototype.cloneProtected=function(e){Aa.prototype.cloneProtected.call(this,e),e.yb=this.yb.J(),e.fo=this.fo.copy()},gh.prototype.ah=function(e){if(null===this.background&&null===this.areaBackground)return!1;var t=this.naturalBounds;return Ge(0,0,t.width,t.height,e.x,e.y)},gh.prototype.Sl=function(){var e=this.part;if(null!==e&&(e instanceof dh||e instanceof Vc)||w("Placeholder is not inside a Group or Adornment."),e instanceof dh){var t=this.computeBorder(this.fo),r=this.minSize,n=this.ac;for(Re(n,(isFinite(r.width)?Math.max(r.width,t.width):t.width)||0,(isFinite(r.height)?Math.max(r.height,t.height):t.height)||0),this.Ce(0,0,n.width,n.height),n=e.memberParts,r=!1;n.next();)if(n.value.isVisible()){r=!0;break}n=e.diagram,!r||null===n||n.animationManager.Tu(e)||isNaN(t.x)||isNaN(t.y)||((r=pe.alloc()).ui(t,e.locationSpot),r.C(e.location)||(e.location=r),pe.free(r))}else{t=this.ac,n=(r=this.yb).left+r.right;var i=r.top+r.bottom,o=e.adornedObject;e.angle=o.ii();var a=0;o instanceof cu&&(a=o.strokeWidth);var s=o.Af(),l=o.naturalBounds,u=(l.width+a)*s;a=(l.height+a)*s,e.type!==kl.Link&&(s=o.ja("Selection"===e.category?Je:e.locationSpot,pe.alloc()),e.location=s,pe.free(s)),isNaN(u)||isNaN(a)?(e=o.ja(Je,pe.alloc()),(u=Ne.allocAt(e.x,e.y,0,0)).Ue(o.ja(at,e)),u.Ue(o.ja(et,e)),u.Ue(o.ja(it,e)),Re(t,u.width+n||0,u.height+i||0),this.Ce(-r.left,-r.top,t.width,t.height),pe.free(e),Ne.free(u)):(Re(t,u+n||0,a+i||0),this.Ce(-r.left,-r.top,t.width,t.height))}},gh.prototype.Zg=function(e,t,r,n){this.actualBounds.h(e,t,r,n)},gh.prototype.computeBorder=function(e){var t=this.part,r=t.diagram;if(null!==r&&t instanceof dh&&!t.layer.isTemporary&&t.computesBoundsAfterDrag&&this.fo.w()){var n=r.toolManager.findTool("Dragging");if(n===r.currentTool&&null!==(r=n.computeBorder(t,this.fo,e)))return r}r=Ne.alloc(),n=this.computeMemberBounds(r);var i=this.yb;return t instanceof dh&&!t.isSubGraphExpanded?e.h(n.x-i.left,n.y-i.top,0,0):e.h(n.x-i.left,n.y-i.top,Math.max(n.width+i.left+i.right,0),Math.max(n.height+i.top+i.bottom,0)),Ne.free(r),t instanceof dh&&t.computesBoundsIncludingLocation&&t.location.w()&&e.Ue(t.location),e},gh.prototype.computeMemberBounds=function(e){if(!(this.part instanceof dh))return e.h(0,0,0,0),e;for(var t=this.part,r=1/0,n=1/0,i=-1/0,o=-1/0,a=t.memberParts;a.next();){var s=a.value;if(s.isVisible()){if(s instanceof vh){if(!t.computesBoundsIncludingLinks)continue;if(Qa(s))continue;if(s.fromNode===t||s.toNode===t)continue}(s=s.actualBounds).left<r&&(r=s.left),s.top<n&&(n=s.top),s.right>i&&(i=s.right),s.bottom>o&&(o=s.bottom)}}return isFinite(r)&&isFinite(n)?e.h(r,n,i-r,o-n):(t=t.location,e.h(t.x,t.y,0,0)),e},d.Object.defineProperties(gh.prototype,{padding:{get:function(){return this.yb},set:function(e){"number"===typeof e&&(e=new Ye(e));var t=this.yb;t.C(e)||(this.yb=e=e.J(),this.g("padding",t,e),this.v())}}}),gh.className="Placeholder",h(vh,vc),vh.prototype.cloneProtected=function(e){vc.prototype.cloneProtected.call(this,e),e.Pa=-113&this.Pa,e.bf=this.bf,e.cn=this.cn,e.sf=this.sf,e.qo=this.qo,e.kk=this.kk,e.Lm=this.Lm,e.Nm=this.Nm,e.Om=this.Om,e.oj=this.oj,e.lo=this.lo,null!==this.ba&&(e.ba=this.ba.copy())},(t=vh.prototype).xf=function(e){vc.prototype.xf.call(this,e),this.bf=e.bf,this.sf=e.sf,e.Hg=null,e.bb(),e.Pf=this.Pf;var t=e.fromPort;null!==t&&$c(t),null!==(e=e.toPort)&&$c(e)},t.rb=function(e){e.classType===vh?2===(2&e.value)?this.routing=e:e===Wh||e===Xh||e===Yh?this.curve=e:e===Kh||e===Zh||e===$h?this.adjusting=e:e!==zh&&e!==Hh&&w("Unknown Link enum value for a Link property: "+e):vc.prototype.rb.call(this,e)},t.Sc=function(){null===this.ba&&(this.ba=new ds)},t.oi=function(){var e=this.fromNode;if(null!==e){var t=e.findVisibleNode();if(null!==t&&(e=t),ts(e)||Lc(e))return!1}return null===(e=this.toNode)||(null!==(t=e.findVisibleNode())&&(e=t),!ts(e)&&!Lc(e))},t.sv=function(){return!1},t.tv=function(){},t.Uc=function(){return!1},vh.prototype.computeAngle=function(e,t,r){return vh.computeAngle(t,r)},vh.computeAngle=function(e,t){switch(e){default:case Hh:e=0;break;case Jh:e=t;break;case Qh:e=t+90;break;case ed:e=t-90;break;case td:e=t+180;break;case rd:90<(e=Gt.Wo(t))&&270>e&&(e-=180);break;case nd:90<(e=Gt.Wo(t+90))&&270>e&&(e-=180);break;case id:90<(e=Gt.Wo(t-90))&&270>e&&(e-=180);break;case od:if(45<(e=Gt.Wo(t))&&135>e||225<e&&315>e)return 0;90<e&&270>e&&(e-=180)}return Gt.Wo(e)},(t=vh.prototype).jh=function(){var e=this.containingGroup;null!==e&&this.fromNode!==e&&this.toNode!==e&&e.computesBoundsIncludingLinks&&vc.prototype.jh.call(this)},t.No=function(e){var t=this.fromNode;return e===t?this.toNode:t},t.uz=function(e){var t=this.fromPort;return e===t?this.toPort:t},t.Po=function(e){if(vc.prototype.Po.call(this,e),Nh(this)&&this.Ro(this.actualBounds),!e){var t=null;null!==(e=this.af)&&Qc(e,this,t=this.fromPort);var r=this.rf;if(null!==r){var n=this.toPort;r===e&&n===t||Qc(r,this,n)}Ih(this)}},t.Qo=function(e){if(vc.prototype.Qo.call(this,e),Nh(this)&&this.Ro(this.actualBounds),!e){var t=null;null!==(e=this.af)&&eh(e,this,t=this.fromPort);var r=this.rf;if(null!==r){var n=this.toPort;r===e&&n===t||eh(r,this,n)}Fh(this)}},t.Jj=function(){if(this.xd=!0,null!==this.qd){var e=this.diagram;if(null!==e)for(var t=this.qd.copy().iterator;t.next();)e.remove(t.value)}null!==this.data&&(null!==(e=this.diagram)&&e.partManager.removeDataForLink(this))},vh.prototype.updateRelationshipsFromData=function(){if(null!==this.data){var e=this.diagram;null!==e&&e.partManager.updateRelationshipsFromData(this)}},vh.prototype.move=function(e,t){var r=t?this.location:this.position,n=r.x;isNaN(n)&&(n=0);var i=r.y;for(isNaN(i)&&(i=0),n=e.x-n,i=e.y-i,!0===t?vc.prototype.move.call(this,e,!1):(e=pe.allocAt(r.x+n,r.y+i),vc.prototype.move.call(this,e,!1),pe.free(e)),wh(this,n,i),e=this.labelNodes;e.next();)r=(t=e.value).position,t.moveTo(r.x+n,r.y+i)},vh.prototype.canRelinkFrom=function(){if(!this.relinkableFrom)return!1;var e=this.layer;return null===e||!!e.allowRelink&&!(null!==(e=e.diagram)&&!e.allowRelink)},vh.prototype.canRelinkTo=function(){if(!this.relinkableTo)return!1;var e=this.layer;return null===e||!!e.allowRelink&&!(null!==(e=e.diagram)&&!e.allowRelink)},vh.prototype.computeMidPoint=function(e){var t=this.pointsCount;if(0===t)return e.assign(ae),e;if(1===t)return e.assign(this.i(0)),e;if(2===t){var r=this.i(0),n=this.i(1);return e.h((r.x+n.x)/2,(r.y+n.y)/2),e}if(this.isOrthogonal&&(15<=this.computeCorner()||this.computeCurve()===Wh))return this.ta.Lu(.5,e),e.add(this.i(0)),r=this.ta.figures.first(),e.offset(-r.startX,-r.startY),e;if(this.computeCurve()===Wh){if(3===t){r=this.i(0),n=this.i(1);var i=this.i(2);return Gt.Vw(r.x,r.y,n.x,n.y,n.x,n.y,i.x,i.y,e),e}if(r=3*((n=(t-1)/3|0)/2|0),1===n%2){n=this.i(r),i=this.i(r+1);var o=this.i(r+2);r=this.i(r+3),Gt.Vw(n.x,n.y,i.x,i.y,o.x,o.y,r.x,r.y,e)}else e.assign(this.i(r));return e}var a=this.flattenedLengths;for(r=this.flattenedTotalLength,i=o=n=0;n<r/2&&o<t&&!(n+(i=a[o])>r/2);)n+=i,o++;return t=this.i(o),o=this.i(o+1),1>Math.abs(t.x-o.x)?t.y>o.y?e.h(t.x,t.y-(r/2-n)):e.h(t.x,t.y+(r/2-n)):1>Math.abs(t.y-o.y)?t.x>o.x?e.h(t.x-(r/2-n),t.y):e.h(t.x+(r/2-n),t.y):(r=(r/2-n)/i,e.h(t.x+r*(o.x-t.x),t.y+r*(o.y-t.y))),e},vh.prototype.computeMidAngle=function(){var e=this.pointsCount;if(2>e)return NaN;if(2===e)return this.i(0).$a(this.i(1));if(this.isOrthogonal&&(15<=this.computeCorner()||this.computeCurve()===Wh))return this.ta.px(.5);if(this.computeCurve()===Wh&&4<=e){var t=(e-1)/3|0,r=3*(t/2|0);if(1===t%2){r=Math.floor(r),e=this.i(r),t=this.i(r+1);var n=this.i(r+2);return r=this.i(r+3),Gt.Fy(e.x,e.y,t.x,t.y,n.x,n.y,r.x,r.y)}if(0<r&&r+1<e)return this.i(r-1).$a(this.i(r+1))}t=this.flattenedLengths,n=this.flattenedTotalLength;var i,o=0;for(r=0;o<n/2&&r<e&&!(o+(i=t[r])>n/2);)o+=i,r++;if(t=this.i(r),n=this.i(r+1),1>Math.abs(t.x-n.x)&&1>Math.abs(t.y-n.y)){if(0<r&&r+2<e)return this.i(r-1).$a(this.i(r+2))}else{if(1>Math.abs(t.x-n.x))return t.y>n.y?270:90;if(1>Math.abs(t.y-n.y))return t.x>n.x?180:0}return t.$a(n)},(t=vh.prototype).i=function(e){return this.Kb.s[e]},t.Yc=function(e,t){this.Kb.Xc(e,t)},t.M=function(e,t,r){this.Kb.Xc(e,new pe(t,r))},t.Cz=function(e,t){this.Kb.Eb(e,t)},t.l=function(e,t,r){this.Kb.Eb(e,new pe(t,r))},t.je=function(e){this.Kb.add(e)},t.vf=function(e,t){this.Kb.add(new pe(e,t))},t.kv=function(e){this.Kb.nb(e)},t.Dj=function(){this.Kb.clear()},t.ph=function(){null===this.Hg&&(this.Hg=this.Kb,this.Kb=this.Kb.copy())},t.wf=function(){if(null!==this.Hg){for(var e=this.Hg,t=this.Kb,r=1/0,n=1/0,i=e.s,o=i.length,a=0;a<o;a++){var s=i[a];r=Math.min(s.x,r),n=Math.min(s.y,n)}s=a=1/0;for(var l=t.s,u=l.length,c=0;c<u;c++){var h=l[c];a=Math.min(h.x,a),s=Math.min(h.y,s),h.freeze()}if(t.freeze(),u===o){for(o=0;o<u;o++)if(c=i[o],h=l[o],c.x-r!==h.x-a||c.y-n!==h.y-s){this.nc();break}}else this.nc();this.Hg=null,null!==(r=this.diagram)&&r.animationManager.zb&&(r=r.animationManager,this.nf=t,r.kl.add(this)),Sh(this),this.g("points",e,t)}},t.mv=function(){null!==this.Hg&&(this.Kb=this.Hg,this.Hg=null)},t.bb=function(){if(!this.suspendsRouting){var e=this.diagram;if(e){if(e.ts.contains(this)||e.undoManager.isUndoingRedoing)return;if((e=e.animationManager).isTicking&&!e.isAnimating)return;null===this.nf||e.isTicking||(this.nf=null)}null!==(e=this.path)&&(this.xd=!1,this.v(),e.v())}},t.rg=function(){if(!this.xd&&!this.computingPoints){var e=!0;try{this.computingPoints=!0,this.ph(),e=this.computePoints()}catch(t){this.computingPoints=!1,this.mv()}finally{this.computingPoints=!1,e?this.wf():this.mv()}}},vh.prototype.computePoints=function(){if(null===this.diagram)return!1;var e=this.fromNode,t=null;if(null===e?(Bh||((Bh=new Wc).desiredSize=Se,Bh.Va()),this.defaultFromPoint&&(Bh.location=this.defaultFromPoint,Bh.Va(),t=e=Bh)):t=this.fromPort,null!==t&&!e.isVisible()){var r=e.findVisibleNode();null!==r&&r!==e?(e=r,t=r.port):e=r}if(this.Ew=e,null===e||!e.location.w())return!1;for(;!(null===t||t.actualBounds.w()&&t.Nd());)t=t.panel;if(null===t)return!1;var n=this.toNode,i=null;if(null===n?(Uh||((Uh=new Wc).desiredSize=Se,Uh.Va()),this.defaultToPoint&&(Uh.location=this.defaultToPoint,Uh.Va(),i=n=Uh)):i=this.toPort,null===i||n.isVisible()||(null!==(r=n.findVisibleNode())&&r!==n?(n=r,i=r.port):n=r),this.Fw=n,null===n||!n.location.w())return!1;for(;!(null===i||i.actualBounds.w()&&i.Nd());)i=i.panel;if(null===i)return!1;var o=this.pointsCount,a=this.computeSpot(!0,t);r=this.computeSpot(!1,i);var s=jh(a),l=jh(r),u=t===i&&null!==t,c=this.isOrthogonal,h=this.curve===Wh;this.Tf=!(!u||c)&&(h=!0);var d=this.computeAdjusting()===Hh||u;if(!c&&!u&&s&&l){if(s=!1,!d&&3<=o&&(d=this.getLinkPoint(e,t,a,!0,!1,n,i),l=this.getLinkPoint(n,i,r,!1,!1,e,t),s=this.adjustPoints(0,d,o-1,l))&&(d=this.getLinkPoint(e,t,a,!0,!1,n,i),l=this.getLinkPoint(n,i,r,!1,!1,e,t),this.adjustPoints(0,d,o-1,l)),!s)if(this.Dj(),h){o=this.getLinkPoint(e,t,a,!0,!1,n,i),s=(d=this.getLinkPoint(n,i,r,!1,!1,e,t)).x-o.x,l=d.y-o.y,u=this.computeCurviness(),h=c=0;var f=o.x+s/3,p=o.y+l/3,m=f,y=p;Gt.B(l,0)?y=0<s?y-u:y+u:(c=-s/l,h=Math.sqrt(u*u/(c*c+1)),0>u&&(h=-h),y=c*((m=(0>l?-1:1)*h+f)-f)+p);var g=f=o.x+2*s/3,v=p=o.y+2*l/3;Gt.B(l,0)?v=0<s?v-u:v+u:v=c*((g=(0>l?-1:1)*h+f)-f)+p,this.Dj(),this.je(o),this.vf(m,y),this.vf(g,v),this.je(d),this.Yc(0,this.getLinkPoint(e,t,a,!0,!1,n,i)),this.Yc(3,this.getLinkPoint(n,i,r,!1,!1,e,t))}else o=n,d=i,n=this.getLinkPoint(e,t,a,!0,!1,o,d),i=this.getLinkPoint(o,d,r,!1,!1,e,t),this.hasCurviness()?(d=i.x-n.x,r=i.y-n.y,a=this.computeCurviness(),o=e=n.x+d/2,s=t=n.y+r/2,Gt.B(r,0)?s=0<d?s-a:s+a:(d=-d/r,o=Math.sqrt(a*a/(d*d+1)),0>a&&(o=-o),s=d*((o=(0>r?-1:1)*o+e)-e)+t),this.je(n),this.vf(o,s),this.je(i)):(this.je(n),this.je(i),s=Ne.alloc(),t.ji(s),l=s.ca(i),d.ji(s),u=s.ca(n),(l||u)&&(a=t.ja(Mh(a),new pe),this.Yc(0,this.getLinkPointFromPoint(e,t,a,i,!0,a)),r=d.ja(Mh(r),new pe),this.Yc(1,this.getLinkPointFromPoint(o,d,r,n,!1,r))),Ne.free(s))}else{h=this.isAvoiding,d&&(c&&h||u)&&this.Dj();var b=u?this.computeCurviness():0;h=this.getLinkPoint(e,t,a,!0,c,n,i),f=m=p=0,(c||!s||u)&&(y=this.computeEndSegmentLength(e,t,a,!0),f=this.getLinkDirection(e,t,h,a,!0,c,n,i),u&&(s||a.C(r)||!c&&1===a.x+r.x&&1===a.y+r.y)&&(f-=c?90:30,0>b&&(f-=180)),0>f?f+=360:360<=f&&(f-=360),u&&(y+=Math.abs(b)*(c?1:2)),0===f?p=y:90===f?m=y:180===f?p=-y:270===f?m=-y:(p=y*Math.cos(f*Math.PI/180),m=y*Math.sin(f*Math.PI/180)),a.Jc()&&u&&(y=t.ja(rt,pe.alloc()),g=pe.allocAt(y.x+1e3*p,y.y+1e3*m),this.getLinkPointFromPoint(e,t,y,g,!0,h),pe.free(y),pe.free(g))),y=this.getLinkPoint(n,i,r,!1,c,e,t);var x=v=g=0;if(c||!l||u){var w=this.computeEndSegmentLength(n,i,r,!1);x=this.getLinkDirection(n,i,y,r,!1,c,e,t),u&&(l||a.C(r)||!c&&1===a.x+r.x&&1===a.y+r.y)&&(x+=c?0:30,0>b&&(x+=180)),0>x?x+=360:360<=x&&(x-=360),u&&(w+=Math.abs(b)*(c?1:2)),0===x?g=w:90===x?v=w:180===x?g=-w:270===x?v=-w:(g=w*Math.cos(x*Math.PI/180),v=w*Math.sin(x*Math.PI/180)),r.Jc()&&u&&(r=i.ja(rt,pe.alloc()),a=pe.allocAt(r.x+1e3*g,r.y+1e3*v),this.getLinkPointFromPoint(n,i,r,a,!1,y),pe.free(r),pe.free(a))}r=h,(c||!s||u)&&(r=new pe(h.x+p,h.y+m)),a=y,(c||!l||u)&&(a=new pe(y.x+g,y.y+v)),!d&&!c&&s&&3<o&&this.adjustPoints(0,h,o-2,a)?this.Yc(o-1,y):!d&&!c&&l&&3<o&&this.adjustPoints(1,r,o-1,y)?this.Yc(0,h):!d&&(c?6<=o:4<o)&&this.adjustPoints(1,r,o-2,a)?(this.Yc(0,h),this.Yc(o-1,y)):(this.Dj(),this.je(h),(c||!s||u)&&this.je(r),c&&this.addOrthoPoints(r,f,a,x,e,n),(c||!l||u)&&this.je(a),this.je(y))}return!0},vh.prototype.getLinkPointFromPoint=function(e,t,r,n,i,o){if(void 0===o&&(o=new pe),null===e||null===t)return o.assign(r),o;if(e.isVisible()||null!==(i=e.findVisibleNode())&&i!==e&&(t=i.port),e=null,null===(i=t.panel)||i.oe()||(i=i.panel),null===i){i=n.x,n=n.y;var a=r.x;r=r.y}else{i=1/((e=i.ke).m11*e.m22-e.m12*e.m21),a=e.m22*i;var s=-e.m12*i,l=-e.m21*i,u=e.m11*i,c=i*(e.m21*e.dy-e.m22*e.dx),h=i*(e.m12*e.dx-e.m11*e.dy);i=n.x*a+n.y*l+c,n=n.x*s+n.y*u+h,a=r.x*a+r.y*l+c,r=r.x*s+r.y*u+h}return t.Qj(i,n,a,r,o),null!==e&&o.transform(e),o},vh.prototype.getLinkPoint=function(e,t,r,n,i,o,a,s){if(void 0===s&&(s=new pe),r.tb()&&!jh(r))return t.ja(r,s),s;if(r.Vc()){var l=_h(this,t);if(null!==l){if(s.assign(l.To),i&&this.routing===Vh){var u=_h(this,a);if(null!==u&&l.Cl<u.Cl){l=pe.alloc(),u=pe.alloc();var c=new Ne(t.ja(Je,l),t.ja(at,u)),h=this.computeSpot(!n,a);e=this.getLinkPoint(o,a,h,!n,i,e,t,u),(r.Ef(lt)||r.Ef(ut))&&e.y>=c.y&&e.y<=c.y+c.height?s.y=e.y:(r.Ef(st)||r.Ef(ct))&&e.x>=c.x&&e.x<=c.x+c.width&&(s.x=e.x),pe.free(l),pe.free(u)}}return s}}return r=t.ja(Mh(r),pe.alloc()),this.pointsCount>(i?6:2)?(a=n?this.i(1):this.i(this.pointsCount-2),i&&(a=kh(r,a.copy()))):(l=this.computeSpot(!n,a),o=pe.alloc(),a=a.ja(Mh(l),o),i&&(a=kh(r,a)),pe.free(o)),this.getLinkPointFromPoint(e,t,r,a,n,s),pe.free(r),s},vh.prototype.getLinkDirection=function(e,t,r,n,i,o,a,s){e:if(n.tb())var l=n.x>n.y?n.x>1-n.y?0:n.x<1-n.y?270:315:n.x<n.y?n.x>1-n.y?90:n.x<1-n.y?180:135:.5>n.x?225:.5<n.x?45:0;else{if(n.Vc()&&null!==(l=_h(this,t)))switch(l.Kc){case 1:l=270;break e;case 2:l=180;break e;default:case 4:l=0;break e;case 8:l=90;break e}l=t.ja(rt,pe.alloc()),this.pointsCount>(o?6:2)?(s=i?this.i(1):this.i(this.pointsCount-2),s=o?kh(l,s.copy()):r):(r=pe.alloc(),s=s.ja(rt,r),pe.free(r)),r=Math.abs(s.x-l.x)>Math.abs(s.y-l.y)?s.x>=l.x?0:180:s.y>=l.y?90:270,pe.free(l),l=r}return n.Jc()&&a.Md(e)&&(360<=(l+=180)&&(l-=360)),jh(n)||0===(e=t.ii())||(45<=e&&135>e?l+=90:135<=e&&225>e?l+=180:225<=e&&315>e&&(l+=270),360<=l&&(l-=360)),l},vh.prototype.computeEndSegmentLength=function(e,t,r,n){return null!==t&&r.Vc()&&null!==(e=_h(this,t))?e.Du:(e=n?this.fromEndSegmentLength:this.toEndSegmentLength,null!==t&&isNaN(e)&&(e=n?t.fromEndSegmentLength:t.toEndSegmentLength),isNaN(e)&&(e=10),e)},vh.prototype.computeSpot=function(e,t){return void 0===t&&(t=null),e?null===(e=t||this.fromPort)?e=rt:((t=this.fromSpot).Tb()&&(t=e.fromSpot),e=t===St?$e:t):null===(e=t||this.toPort)?e=rt:((t=this.toSpot).Tb()&&(t=e.toSpot),e=t===St?$e:t),e},vh.prototype.computeOtherPoint=function(e,t){return this.computeAdjusting()!==Hh&&4<this.pointsCount?this.computeMidPoint(new pe):null!==(e=null!==(e=t.Vn)?Md(e,this):null)?e.To:t.ja(rt)},vh.prototype.computeShortLength=function(e){if(e){if(e=this.fromShortLength,isNaN(e)){var t=this.fromPort;null!==t&&(e=t.fromShortLength)}return isNaN(e)?0:e}return e=this.toShortLength,isNaN(e)&&(null!==(t=this.toPort)&&(e=t.toShortLength)),isNaN(e)?0:e},vh.prototype.zf=function(e,t,r,n,i,o){if(!1===this.pickable)return!1;void 0===t&&(t=null),void 0===r&&(r=null);var a=o;if(void 0===o&&(a=zt.alloc()).reset(),a.multiply(this.transform),this.$g(e,a))return Il(this,t,r,i),void 0===o&&zt.free(a),!0;if(this.Tc(e,a)){var s=!1;if(!this.isAtomic)for(var l=this.P.s,u=l.length;u--;){var c=l[u];if(c.visible||c===this.locationObject){var h=c.actualBounds,d=this.naturalBounds;if(!(h.x>d.width||h.y>d.height||0>h.x+h.width||0>h.y+h.height)){if((h=zt.alloc()).set(a),c instanceof kl)s=c.zf(e,t,r,n,i,h);else if(this.path===c){if(c instanceof cu)if(s=e,d=n,!1===c.pickable)s=!1;else if(h.multiply(c.transform),d)e:{var f=s,p=h;if(c.$g(f,p))s=!0;else{if(void 0===p&&(p=c.transform,f.Me(c.actualBounds))){s=!0;break e}s=f.left,d=f.right;var m=f.top;f=f.bottom;var y=pe.alloc(),g=pe.alloc(),v=pe.alloc(),b=zt.alloc();b.set(p),b.Yu(c.transform),b.Ol(),g.x=d,g.y=m,g.transform(b),y.x=s,y.y=m,y.transform(b),p=!1,yu(c,y,g,v)?p=!0:(y.x=d,y.y=f,y.transform(b),yu(c,y,g,v)?p=!0:(g.x=s,g.y=f,g.transform(b),yu(c,y,g,v)?p=!0:(y.x=s,y.y=m,y.transform(b),yu(c,y,g,v)&&(p=!0)))),zt.free(b),pe.free(y),pe.free(g),pe.free(v),s=p}}else s=c.$g(s,h)}else s=Ra(c,e,n,h);s&&(d=c,null!==t&&(d=t(c)),d&&(null===r||r(d))&&i.add(d)),zt.free(h)}}}return void 0===o&&zt.free(a),s||null!==this.background||null!==this.areaBackground}return void 0===o&&zt.free(a),!1},vh.prototype.computeCurve=function(){if(null===this.Tf){var e=this.fromPort,t=this.isOrthogonal;this.Tf=null!==e&&e===this.toPort&&!t}return this.Tf?Wh:this.curve},vh.prototype.computeCorner=function(){if(this.curve===Wh)return 0;var e=this.corner;return(isNaN(e)||0>e)&&(e=10),e},vh.prototype.findMidLabel=function(){for(var e=this.path,t=this.P.s,r=t.length,n=0;n<r;n++){var i=t[n];if(i!==e&&!i.isPanelMain&&(-1/0===i.segmentIndex||isNaN(i.segmentIndex)))return i}for(e=this.labelNodes;e.next();)if(-1/0===(t=e.value).segmentIndex||isNaN(t.segmentIndex))return t;return null},vh.prototype.computeSpacing=function(){if(!this.isVisible())return 0;var e=sd;e=Math.max(e,this.computeThickness());var t=this.fromPort,r=this.toPort;if(null!==t&&null!==r){var n=this.findMidLabel();if(null!==n){var i=n.naturalBounds,o=n.margin,a=isNaN(i.width)?30:i.width*n.scale+o.left+o.right;i=isNaN(i.height)?14:i.height*n.scale+o.top+o.bottom,(n=n.segmentOrientation)===Jh||n===rd||n===td?e=Math.max(e,i):n===ed||n===id||n===Qh||n===nd?e=Math.max(e,a):(t=t.ja(rt).$a(r.ja(rt))/180*Math.PI,e=Math.max(e,Math.abs(Math.sin(t)*a)+Math.abs(Math.cos(t)*i)+1)),this.curve===Wh&&(e*=1.333)}}return e},vh.prototype.arrangeBundledLinks=function(e,t){if(t)for(t=0;t<e.length;t++){var r=e[t];r.computeAdjusting()===Hh&&r.bb()}},vh.prototype.computeCurviness=function(){var e=this.curviness;if(isNaN(e)){e=ad;var t=this.Pf;if(null!==t){for(var r=E(),n=0,i=t.links,o=0;o<i.length;o++){var a=i[o].computeSpacing();r.push(a),n+=a}for(n=-n/2,o=0;o<i.length;o++){if(i[o]===this){e=n+r[o]/2;break}n+=r[o]}t.ws===this.fromNode&&(e=-e),O(r)}}return e},vh.prototype.computeThickness=function(){if(!this.isVisible())return 0;var e=this.path;return null!==e?Math.max(e.strokeWidth,1):1},vh.prototype.hasCurviness=function(){return!isNaN(this.curviness)||null!==this.Pf},vh.prototype.adjustPoints=function(e,t,r,n){var i=this.computeAdjusting();if(this.isOrthogonal){if(i===Zh)return!1;i===$h&&(i=Kh)}switch(i){case Zh:var o=this.i(e),a=this.i(r);if(!o.ab(t)||!a.ab(n)){i=o.x,o=o.y;var s=a.x-i,l=a.y-o,u=Math.sqrt(s*s+l*l);if(!Gt.$(u,0)){if(Gt.$(s,0))var c=0>l?-Math.PI/2:Math.PI/2;else c=Math.atan(l/Math.abs(s)),0>s&&(c=Math.PI-c);a=t.x;var h=t.y;s=n.x-a;var d=n.y-h;for(l=Math.sqrt(s*s+d*d),Gt.$(s,0)?d=0>d?-Math.PI/2:Math.PI/2:(d=Math.atan(d/Math.abs(s)),0>s&&(d=Math.PI-d)),u=l/u,c=d-c,this.Yc(e,t),e+=1;e<r;e++)s=(t=this.i(e)).x-i,l=t.y-o,t=Math.sqrt(s*s+l*l),Gt.$(t,0)||(Gt.$(s,0)?l=0>l?-Math.PI/2:Math.PI/2:(l=Math.atan(l/Math.abs(s)),0>s&&(l=Math.PI-l)),s=l+c,t*=u,this.M(e,a+t*Math.cos(s),h+t*Math.sin(s)));this.Yc(r,n)}}return!0;case $h:if(o=this.i(e),h=this.i(r),!o.ab(t)||!h.ab(n)){i=o.x,o=o.y,u=((a=h.x)-i)*(a-i)+((h=h.y)-o)*(h-o),s=t.x,c=t.y,l=n.x,d=n.y;var f=1;if(0!==l-s){var p=(d-c)/(l-s);f=Math.sqrt(1+1/(p*p))}else p=9e9;for(this.Yc(e,t),e+=1;e<r;e++){var m=(t=this.i(e)).x,y=t.y,g=.5;0!==u&&(g=((i-m)*(i-a)+(o-y)*(o-h))/u);var v=i+g*(a-i),b=o+g*(h-o);t=Math.sqrt((m-v)*(m-v)+(y-b)*(y-b)),y<p*(m-v)+b&&(t=-t),0<p&&(t=-t),m=s+g*(l-s),g=c+g*(d-c),0!==p?(t=m+t/f,this.M(e,t,g-(t-m)/p)):this.M(e,m,g+t)}this.Yc(r,n)}return!0;case Kh:return this.isOrthogonal&&(i=this.i(e),o=this.i(e+1),a=this.i(e+2),h=s=o.x,u=c=o.y,Gt.B(i.y,o.y)?Gt.B(o.x,a.x)?c=t.y:Gt.B(o.y,a.y)&&(s=t.x):Gt.B(i.x,o.x)&&(Gt.B(o.y,a.y)?s=t.x:Gt.B(o.x,a.x)&&(c=t.y)),this.M(e+1,s,c),i=this.i(r),o=this.i(r-1),a=this.i(r-2),l=s=o.x,d=c=o.y,Gt.B(i.y,o.y)?Gt.B(o.x,a.x)?c=n.y:Gt.B(o.y,a.y)&&(s=n.x):Gt.B(i.x,o.x)&&(Gt.B(o.y,a.y)?s=n.x:Gt.B(o.x,a.x)&&(c=n.y)),this.M(r-1,s,c),Ch(this))?(this.M(e+1,h,u),this.M(r-1,l,d),r=!1):(this.Yc(e,t),this.Yc(r,n),r=!0),r;default:return!1}},vh.prototype.addOrthoPoints=function(e,t,r,n,i,o){0>t?t+=360:360<=t&&(t-=360),0>n?n+=360:360<=n&&(n-=360);var a=n;t=315<=t||45>t?0:45<=t&&135>t?90:135<=t&&225>t?180:270,n=315<=n||45>n?0:45<=n&&135>n?90:135<=n&&225>n?180:270;var s=i.actualBounds.copy(),l=o.actualBounds.copy();if(s.w()&&l.w()){s.yc(ld,ld),l.yc(ld,ld),s.Ue(e),l.Ue(r);var u=pe.alloc(),c=pe.alloc();0===t?r.x>e.x||270===n&&r.y<e.y&&l.right>e.x||90===n&&r.y>e.y&&l.right>e.x?(u.h(r.x,e.y),c.h(r.x,(e.y+r.y)/2),180===n?(u.x=this.computeMidOrthoPosition(e.x,e.y,r.x,r.y,!1),c.x=u.x,c.y=r.y):270===n&&r.y<e.y||90===n&&r.y>e.y?(u.x=e.x<l.left?this.computeMidOrthoPosition(e.x,e.y,l.left,r.y,!1):e.x<l.right&&(270===n&&e.y<l.top||90===n&&e.y>l.bottom)?this.computeMidOrthoPosition(e.x,e.y,r.x,r.y,!1):l.right,c.x=u.x,c.y=r.y):0===n&&e.x<l.left&&e.y>l.top&&e.y<l.bottom&&(u.x=e.x,u.y=e.y<r.y?Math.min(r.y,l.top):Math.max(r.y,l.bottom),c.y=u.y)):(u.h(e.x,r.y),c.h((e.x+r.x)/2,r.y),(180===n||90===n&&r.y<s.top||270===n&&r.y>s.bottom)&&(180===n&&(l.ca(e)||s.ca(r))?u.y=this.computeMidOrthoPosition(e.x,e.y,r.x,r.y,!0):r.y<e.y&&(180===n||90===n)?u.y=this.computeMidOrthoPosition(e.x,s.top,r.x,Math.max(r.y,l.bottom),!0):r.y>e.y&&(180===n||270===n)&&(u.y=this.computeMidOrthoPosition(e.x,s.bottom,r.x,Math.min(r.y,l.top),!0)),c.x=r.x,c.y=u.y),u.y>s.top&&u.y<s.bottom&&(r.x>=s.left&&r.x<=e.x||e.x<=l.right&&e.x>=r.x?90!==n&&270!==n||(u.h(Math.max((e.x+r.x)/2,e.x),e.y),c.h(u.x,r.y)):(u.y=270===n||(0===n||180===n)&&r.y<e.y?Math.min(r.y,0===n?s.top:Math.min(s.top,l.top)):Math.max(r.y,0===n?s.bottom:Math.max(s.bottom,l.bottom)),c.x=r.x,c.y=u.y))):180===t?r.x<e.x||270===n&&r.y<e.y&&l.left<e.x||90===n&&r.y>e.y&&l.left<e.x?(u.h(r.x,e.y),c.h(r.x,(e.y+r.y)/2),0===n?(u.x=this.computeMidOrthoPosition(e.x,e.y,r.x,r.y,!1),c.x=u.x,c.y=r.y):270===n&&r.y<e.y||90===n&&r.y>e.y?(u.x=e.x>l.right?this.computeMidOrthoPosition(e.x,e.y,l.right,r.y,!1):e.x>l.left&&(270===n&&e.y<l.top||90===n&&e.y>l.bottom)?this.computeMidOrthoPosition(e.x,e.y,r.x,r.y,!1):l.left,c.x=u.x,c.y=r.y):180===n&&e.x>l.right&&e.y>l.top&&e.y<l.bottom&&(u.x=e.x,u.y=e.y<r.y?Math.min(r.y,l.top):Math.max(r.y,l.bottom),c.y=u.y)):(u.h(e.x,r.y),c.h((e.x+r.x)/2,r.y),(0===n||90===n&&r.y<s.top||270===n&&r.y>s.bottom)&&(0===n&&(l.ca(e)||s.ca(r))?u.y=this.computeMidOrthoPosition(e.x,e.y,r.x,r.y,!0):r.y<e.y&&(0===n||90===n)?u.y=this.computeMidOrthoPosition(e.x,s.top,r.x,Math.max(r.y,l.bottom),!0):r.y>e.y&&(0===n||270===n)&&(u.y=this.computeMidOrthoPosition(e.x,s.bottom,r.x,Math.min(r.y,l.top),!0)),c.x=r.x,c.y=u.y),u.y>s.top&&u.y<s.bottom&&(r.x<=s.right&&r.x>=e.x||e.x>=l.left&&e.x<=r.x?90!==n&&270!==n||(u.h(Math.min((e.x+r.x)/2,e.x),e.y),c.h(u.x,r.y)):(u.y=270===n||(0===n||180===n)&&r.y<e.y?Math.min(r.y,180===n?s.top:Math.min(s.top,l.top)):Math.max(r.y,180===n?s.bottom:Math.max(s.bottom,l.bottom)),c.x=r.x,c.y=u.y))):90===t?r.y>e.y||180===n&&r.x<e.x&&l.bottom>e.y||0===n&&r.x>e.x&&l.bottom>e.y?(u.h(e.x,r.y),c.h((e.x+r.x)/2,r.y),270===n?(u.y=this.computeMidOrthoPosition(e.x,e.y,r.x,r.y,!0),c.x=r.x,c.y=u.y):180===n&&r.x<e.x||0===n&&r.x>e.x?(u.y=e.y<l.top?this.computeMidOrthoPosition(e.x,e.y,r.x,l.top,!0):e.y<l.bottom&&(180===n&&e.x<l.left||0===n&&e.x>l.right)?this.computeMidOrthoPosition(e.x,e.y,r.x,r.y,!0):l.bottom,c.x=r.x,c.y=u.y):90===n&&e.y<l.top&&e.x>l.left&&e.x<l.right&&(u.x=e.x<r.x?Math.min(r.x,l.left):Math.max(r.x,l.right),u.y=e.y,c.x=u.x)):(u.h(r.x,e.y),c.h(r.x,(e.y+r.y)/2),(270===n||0===n&&r.x<s.left||180===n&&r.x>s.right)&&(270===n&&(l.ca(e)||s.ca(r))?u.x=this.computeMidOrthoPosition(e.x,e.y,r.x,r.y,!1):r.x<e.x&&(270===n||0===n)?u.x=this.computeMidOrthoPosition(s.left,e.y,Math.max(r.x,l.right),r.y,!1):r.x>e.x&&(270===n||180===n)&&(u.x=this.computeMidOrthoPosition(s.right,e.y,Math.min(r.x,l.left),r.y,!1)),c.x=u.x,c.y=r.y),u.x>s.left&&u.x<s.right&&(r.y>=s.top&&r.y<=e.y||e.y<=l.bottom&&e.y>=r.y?0!==n&&180!==n||(u.h(e.x,Math.max((e.y+r.y)/2,e.y)),c.h(r.x,u.y)):(u.x=180===n||(90===n||270===n)&&r.x<e.x?Math.min(r.x,90===n?s.left:Math.min(s.left,l.left)):Math.max(r.x,90===n?s.right:Math.max(s.right,l.right)),c.x=u.x,c.y=r.y))):r.y<e.y||180===n&&r.x<e.x&&l.top<e.y||0===n&&r.x>e.x&&l.top<e.y?(u.h(e.x,r.y),c.h((e.x+r.x)/2,r.y),90===n?(u.y=this.computeMidOrthoPosition(e.x,e.y,r.x,r.y,!0),c.x=r.x,c.y=u.y):180===n&&r.x<e.x||0===n&&r.x>=e.x?(u.y=e.y>l.bottom?this.computeMidOrthoPosition(e.x,e.y,r.x,l.bottom,!0):e.y>l.top&&(180===n&&e.x<l.left||0===n&&e.x>l.right)?this.computeMidOrthoPosition(e.x,e.y,r.x,r.y,!0):l.top,c.x=r.x,c.y=u.y):270===n&&e.y>l.bottom&&e.x>l.left&&e.x<l.right&&(u.x=e.x<r.x?Math.min(r.x,l.left):Math.max(r.x,l.right),u.y=e.y,c.x=u.x)):(u.h(r.x,e.y),c.h(r.x,(e.y+r.y)/2),(90===n||0===n&&r.x<s.left||180===n&&r.x>s.right)&&(90===n&&(l.ca(e)||s.ca(r))?u.x=this.computeMidOrthoPosition(e.x,e.y,r.x,r.y,!1):r.x<e.x&&(90===n||0===n)?u.x=this.computeMidOrthoPosition(s.left,e.y,Math.max(r.x,l.right),r.y,!1):r.x>e.x&&(90===n||180===n)&&(u.x=this.computeMidOrthoPosition(s.right,e.y,Math.min(r.x,l.left),r.y,!1)),c.x=u.x,c.y=r.y),u.x>s.left&&u.x<s.right&&(r.y<=s.bottom&&r.y>=e.y||e.y>=l.top&&e.y<=r.y?0!==n&&180!==n||(u.h(e.x,Math.min((e.y+r.y)/2,e.y)),c.h(r.x,u.y)):(u.x=180===n||(90===n||270===n)&&r.x<e.x?Math.min(r.x,270===n?s.left:Math.min(s.left,l.left)):Math.max(r.x,270===n?s.right:Math.max(s.right,l.right)),c.x=u.x,c.y=r.y)));var h=r;if(this.isAvoiding){var d=this.diagram;if(null===d||i===o||this.layer.isTemporary||!To(d)||s.ca(h)&&!o.Md(i)||l.ca(e)&&!i.Md(o))t=!1;else{var f=Eo(d,!0,this.containingGroup,null);if(17!==this.segmentIndex&&f.Vj(Math.min(e.x,u.x),Math.min(e.y,u.y),Math.abs(e.x-u.x),Math.abs(e.y-u.y))&&f.Vj(Math.min(u.x,c.x),Math.min(u.y,c.y),Math.abs(u.x-c.x),Math.abs(u.y-c.y))&&f.Vj(Math.min(c.x,h.x),Math.min(c.y,h.y),Math.abs(c.x-h.x),Math.abs(c.y-h.y)))t=!1;else{i=e,o=h;var p=r=null;if(d.isVirtualized){(d=f.bounds.copy()).yc(-f.Do,-f.Co);var m=pe.alloc();hd(f,e.x,e.y)||(Gt.Cf(d.x,d.y,d.x+d.width,d.y+d.height,e.x,e.y,u.x,u.y,m)?(r=e=m.copy(),t=m.$a(u)):Gt.Cf(d.x,d.y,d.x+d.width,d.y+d.height,u.x,u.y,c.x,c.y,m)?(r=e=m.copy(),t=m.$a(c)):Gt.Cf(d.x,d.y,d.x+d.width,d.y+d.height,c.x,c.y,h.x,h.y,m)&&(r=e=m.copy(),t=m.$a(h))),hd(f,h.x,h.y)||(Gt.Cf(d.x,d.y,d.x+d.width,d.y+d.height,h.x,h.y,c.x,c.y,m)?(p=h=m.copy(),n=c.$a(m)):Gt.Cf(d.x,d.y,d.x+d.width,d.y+d.height,c.x,c.y,u.x,u.y,m)?(p=h=m.copy(),n=u.$a(m)):Gt.Cf(d.x,d.y,d.x+d.width,d.y+d.height,u.x,u.y,e.x,e.y,m)&&(p=h=m.copy(),n=e.$a(m))),pe.free(m)}(s=s.copy().Zc(l)).yc(f.Do*f.Hs,f.Co*f.Hs),gd(f,e,t,h,n,s,!0),l=dd(f,h.x,h.y),!f.abort&&l>=wd&&(fd(f),s.yc(f.Do*f.Bx,f.Co*f.Cx),gd(f,e,t,h,n,s,!1),l=dd(f,h.x,h.y)),!f.abort&&l<wd&&dd(f,h.x,h.y)!==bd?(Ph(this,f,h.x,h.y,n,!0,a),s=this.i(2),4>this.pointsCount?(0===t||180===t?(s.x=e.x,s.y=h.y):(s.x=h.x,s.y=e.y),this.M(2,s.x,s.y),this.l(3,s.x,s.y)):(a=this.i(3),0===t||180===t?Gt.B(s.x,a.x)?(s=0===t?Math.max(s.x,e.x):Math.min(s.x,e.x),this.M(2,s,e.y),this.M(3,s,a.y)):Gt.B(s.y,a.y)?(Math.abs(e.y-s.y)<=f.Co/2&&(this.M(2,s.x,e.y),this.M(3,a.x,e.y)),this.l(2,s.x,e.y)):this.M(2,e.x,s.y):90!==t&&270!==t||(Gt.B(s.y,a.y)?(s=90===t?Math.max(s.y,e.y):Math.min(s.y,e.y),this.M(2,e.x,s),this.M(3,a.x,s)):Gt.B(s.x,a.x)?(Math.abs(e.x-s.x)<=f.Do/2&&(this.M(2,e.x,s.y),this.M(3,e.x,a.y)),this.l(2,e.x,s.y)):this.M(2,s.x,e.y))),null!==r&&(e=this.i(1),a=this.i(2),e.x!==a.x&&e.y!==a.y?0===t||180===t?this.l(2,e.x,a.y):this.l(2,a.x,e.y):0===t||180===t?this.l(2,i.x,r.y):this.l(2,r.x,i.y)),null!==p&&(0===n||180===n?this.vf(o.x,p.y):this.vf(p.x,o.y)),t=!0):t=!1}}}else t=!1;t||(this.je(u.copy()),this.je(c.copy())),pe.free(u),pe.free(c)}},vh.prototype.computeMidOrthoPosition=function(e,t,r,n,i){var o=0;return!this.hasCurviness()||this.computeSpot(!0,this.fromPort).Vc()||this.computeSpot(!1,this.toPort).Vc()||(o=this.computeCurviness()),i?(t+n)/2+o:(e+r)/2+o},vh.prototype.Xy=function(e){var t=e.x;e=e.y;for(var r=this.i(0),n=this.i(1),i=be(t,e,r.x,r.y,n.x,n.y),o=0,a=1;a<this.pointsCount-1;a++){r=this.i(a+1);var s=be(t,e,n.x,n.y,r.x,r.y);n=r,s<i&&(o=a,i=s)}return o},vh.prototype.nc=function(){this.gk=!1,this.v()},vh.prototype.Ql=function(e){if(!e){if(!1===this.xd)return;if(e=this.sb(),this.gk&&(null===e||null!==e.geometry))return}if(2>this.pointsCount?this.gk=!0:this.ta=this.makeGeometry(),null!==(e=this.path)){e.ta=this.ta;for(var t=this.P.s,r=t.length,n=0;n<r;n++){var i=t[n];i!==e&&i.isPanelMain&&i instanceof cu&&(i.ta=this.ta)}}},vh.prototype.makeGeometry=function(){var e=this.ta,t=this.pointsCount,r=!1,n=this.diagram;null!==n&&Nh(this)&&n.zh.contains(this)&&(0!==this.hl.width||0!==this.hl.height)&&(n.animationManager.isAnimating||n.currentTool!==n.toolManager)&&(r=!0);var i=this.i(0).copy(),o=i.copy();n=this.Kb.s;var a=this.computeCurve();if(a===Wh&&3<=t&&!Gt.$(this.smoothness,0))if(3===t){var s=this.i(1);n=Math.min(i.x,s.x);var l=Math.min(i.y,s.y);s=this.i(2),n=Math.min(n,s.x),l=Math.min(l,s.y)}else{if(this.isOrthogonal)for(l=0;l<t;l++)s=n[l],o.x=Math.min(s.x,o.x),o.y=Math.min(s.y,o.y);else for(n=3;n<t;n+=3)n+3>=t&&(n=t-1),l=this.i(n),o.x=Math.min(l.x,o.x),o.y=Math.min(l.y,o.y);n=o.x,l=o.y}else{for(l=0;l<t;l++)s=n[l],o.x=Math.min(s.x,o.x),o.y=Math.min(s.y,o.y);n=o.x,l=o.y}if(n-=this.nu.x,l-=this.nu.y,i.x-=n,i.y-=l,2!==t||Nh(this)){if(e.type=Vt.m,s=pc(e),0!==this.computeShortLength(!0)&&(i=Eh(this,i,!0,o)),uc(s,i.x,i.y,!1),a===Wh&&3<=t&&!Gt.$(this.smoothness,0))if(3===t)t=(r=this.i(1)).x-n,r=r.y-l,(i=this.i(2).copy()).x-=n,i.y-=l,0!==this.computeShortLength(!1)&&(i=Eh(this,i,!1,o)),hc(s,t,r,t,r,i.x,i.y);else if(this.isOrthogonal){t=pe.allocAt(n,l),(r=pe.alloc()).assign(this.i(1)),o=pe.allocAt(n,l),i=pe.allocAt(n,l),a=this.i(0);for(var u,c=this.smoothness/3,h=1;h<this.pointsCount-1;h++){var d=a,f=u=this.i(h),p=this.i(Oh(this,u,h,!1));if((!Gt.$(d.x,f.x)||!Gt.$(f.x,p.x))&&(!Gt.$(d.y,f.y)||!Gt.$(f.y,p.y))){var m=c;isNaN(m)&&(m=this.smoothness/3);var y=d.x;d=d.y;var g=f.x;f=f.y;var v=p.x;p=p.y;var b=m*Th(y,d,g,f);m*=Th(g,f,v,p),Gt.$(d,f)&&Gt.$(g,v)&&(g>y?p>f?(o.x=g-b,o.y=f-b,i.x=g+m,i.y=f+m):(o.x=g-b,o.y=f+b,i.x=g+m,i.y=f-m):p>f?(o.x=g+b,o.y=f-b,i.x=g-m,i.y=f+m):(o.x=g+b,o.y=f+b,i.x=g-m,i.y=f-m)),Gt.$(y,g)&&Gt.$(f,p)&&(f>d?(v>g?(o.x=g-b,o.y=f-b,i.x=g+m):(o.x=g+b,o.y=f-b,i.x=g-m),i.y=f+m):(v>g?(o.x=g-b,o.y=f+b,i.x=g+m):(o.x=g+b,o.y=f+b,i.x=g-m),i.y=f-m)),(Gt.$(y,g)&&Gt.$(g,v)||Gt.$(d,f)&&Gt.$(f,p))&&(y=.5*(y+v),d=.5*(d+p),o.x=y,o.y=d,i.x=y,i.y=d),(1===h||2===h&&Gt.$(a.x,this.i(0).x)&&Gt.$(a.y,this.i(0).y))&&(r.x=.5*(a.x+u.x),r.y=.5*(a.y+u.y)),hc(s,r.x-n,r.y-l,o.x-n,o.y-l,u.x-n,u.y-l),t.set(o),r.set(i),a=u}}u=a.x,a=a.y,c=this.i(this.pointsCount-1),0!==this.computeShortLength(!1)&&(c=Eh(this,c.copy(),!1,re)),u=.5*(u+c.x),a=.5*(a+c.y),hc(s,i.x-n,i.y-l,u-n,a-l,c.x-n,c.y-l),pe.free(t),pe.free(r),pe.free(o),pe.free(i)}else for(r=3;r<t;r+=3)o=this.i(r-2),r+3>=t&&(r=t-1),i=this.i(r-1),a=this.i(r),r===t-1&&0!==this.computeShortLength(!1)&&(a=Eh(this,a.copy(),!1,re)),hc(s,o.x-n,o.y-l,i.x-n,i.y-l,a.x-n,a.y-l);else{for((o=pe.alloc()).assign(this.i(0)),(i=pe.alloc()).assign(o),a=this.computeCorner(),h=1,u=0;h<t;){if(h=Oh(this,o,h,1<h),c=this.i(h),h>=t-1){if(o.C(c)){if(0===u)for(h=1;h<t;)i.assign(o),Ah(this,s,-n,-l,o,c=this.i(h++),r),o.assign(c)}else 0!==this.computeShortLength(!1)&&(c=Eh(this,c.copy(),!1,re)),Ah(this,s,-n,-l,o,c,r);break}if(u=Oh(this,c,h+1,h<t-3),h=-n,y=-l,d=c,g=this.i(u),m=r,Gt.B(o.y,d.y)&&Gt.B(d.x,g.x))if(p=Math.min(a,Math.abs(d.x-i.x)/2),p=b=Math.min(p,Math.abs(g.y-d.y)/2),Gt.B(p,0))Ah(this,s,h,y,o,d,m),o.assign(d);else{var x=d.x,w=d.y;f=x,v=w,x=d.x>o.x?d.x-p:d.x+p,v=g.y>d.y?d.y+b:d.y-b,Ah(this,s,h,y,o,g=pe.allocAt(x,w),m),pe.free(g),dc(s,d.x+h,d.y+y,f+h,v+y),o.h(f,v)}else Gt.B(o.x,d.x)&&Gt.B(d.y,g.y)?(p=Math.min(a,Math.abs(d.y-i.y)/2),p=b=Math.min(p,Math.abs(g.x-d.x)/2),Gt.B(b,0)?(Ah(this,s,h,y,o,d,m),o.assign(d)):(f=x=d.x,v=w=d.y,w=d.y>o.y?d.y-p:d.y+p,f=g.x>d.x?d.x+b:d.x-b,Ah(this,s,h,y,o,g=pe.allocAt(x,w),m),pe.free(g),dc(s,d.x+h,d.y+y,f+h,v+y),o.h(f,v))):(Ah(this,s,h,y,o,d,m),o.assign(d));i.assign(c),h=u}pe.free(o)}mc=s}else(s=this.i(1).copy()).x-=n,s.y-=l,0!==this.computeShortLength(!0)&&(i=Eh(this,i,!0,o)),0!==this.computeShortLength(!1)&&(s=Eh(this,s,!1,o)),e.type=Vt.j,e.startX=i.x,e.startY=i.y,e.endX=s.x,e.endY=s.y;return this.gk=!0,e},vh.prototype.computeJumpLength=function(){return 10},vh.prototype.Ro=function(e){var t=this.layer;if(null!==t&&t.visible&&!t.isTemporary){var r=t.diagram;if(null!==r&&!r.animationManager.isTicking){var n=!1;for(r=r.layers;r.next();){var i=r.value;if(i.visible)if(i===t){n=!0;for(var o=!1,a=(i=i.Oa.s).length,s=0;s<a;s++){var l=i[s];l instanceof vh&&(l===this?o=!0:o&&Dh(this,l,e))}}else if(n)for(i=(o=i.Oa.s).length,a=0;a<i;a++)(s=o[a])instanceof vh&&Dh(this,s,e)}}}},vh.prototype.usesSamePort=function(e){var t=this.pointsCount,r=e.pointsCount;if(0<t&&0<r){var n=this.i(0),i=e.i(0);if(n.ab(i))return!0;if(t=this.i(t-1),e=e.i(r-1),t.ab(e)||n.ab(e)||t.ab(i))return!0}else if(this.fromNode===e.fromNode||this.toNode===e.toNode||this.fromNode===e.toNode||this.toNode===e.fromNode)return!0;return!1},vh.prototype.isVisible=function(){if(!vc.prototype.isVisible.call(this))return!1;var e=this.containingGroup,t=!0,r=this.diagram;if(null!==r&&(t=r.isTreePathToChildren),null!==(r=this.fromNode)){if(this.isTreeLink&&t&&!r.isTreeExpanded)return!1;if(r===e)return!0;for(var n=r;null!==n;){if(n.labeledLink===this)return!0;n=n.containingGroup}if(null===(r=r.findVisibleNode())||r===e)return!1}if(null!==(r=this.toNode)){if(this.isTreeLink&&!t&&!r.isTreeExpanded)return!1;if(r===e)return!0;for(t=r;null!==t;){if(t.labeledLink===this)return!0;t=t.containingGroup}if(null===(t=r.findVisibleNode())||t===e)return!1}return!0},vh.prototype.Vb=function(e){if(vc.prototype.Vb.call(this,e),null!==this.Pf&&this.Pf.Nl(),null!==this.qd)for(var t=this.qd.iterator;t.next();)t.value.Vb(e)},vh.prototype.computeAdjusting=function(){return this.isAvoiding&&null!==this.diagram&&this.diagram.animationManager.defaultAnimation.isAnimating?Kh:this.kk},vh.prototype.kh=function(){return!0},d.Object.defineProperties(vh.prototype,{fromNode:{get:function(){return this.af},set:function(e){var t=this.af;if(t!==e){var r=this.fromPort;null!==t&&(this.rf!==t&&eh(t,this,r),Fh(this),this.D(2)),this.af=e,null!==e&&this.Vb(e.isVisible()),this.Tf=null,this.bb();var n=this.diagram;null!==n&&n.aa&&n.partManager.setFromNodeForLink(this,e,t);var i=this.fromPort,o=this.fromPortChanged;if(null!==o){var a=!0;null!==n&&(a=n.aa,n.aa=!0),o(this,r,i),null!==n&&(n.aa=a)}null!==e&&(this.rf!==e&&Qc(e,this,i),Ih(this),this.D(1)),this.g("fromNode",t,e),bh(this)}}},fromPortId:{get:function(){return this.bf},set:function(e){var t=this.bf;if(t!==e){var r=this.fromPort;null!==r&&$c(r),Fh(this),this.bf=e;var n=this.fromPort;null!==n&&$c(n);var i=this.diagram;if(null!==i){var o=this.data,a=i.model;null!==o&&a.ni()&&a.qv(o,e)}r!==n&&(this.Tf=null,this.bb(),null!==(o=this.fromPortChanged)&&(a=!0,null!==i&&(a=i.aa,i.aa=!0),o(this,r,n),null!==i&&(i.aa=a))),Ih(this),this.g("fromPortId",t,e)}}},fromPort:{get:function(){var e=this.af;return null===e?null:e.fs(this.bf)}},fromPortChanged:{get:function(){return this.cn},set:function(e){var t=this.cn;t!==e&&(this.cn=e,this.g("fromPortChanged",t,e))}},toNode:{get:function(){return this.rf},set:function(e){var t=this.rf;if(t!==e){var r=this.toPort;null!==t&&(this.af!==t&&eh(t,this,r),Fh(this),this.D(2)),this.rf=e,null!==e&&this.Vb(e.isVisible()),this.Tf=null,this.bb();var n=this.diagram;null!==n&&n.aa&&n.partManager.setToNodeForLink(this,e,t);var i=this.toPort,o=this.toPortChanged;if(null!==o){var a=!0;null!==n&&(a=n.aa,n.aa=!0),o(this,r,i),null!==n&&(n.aa=a)}null!==e&&(this.af!==e&&Qc(e,this,i),Ih(this),this.D(1)),this.g("toNode",t,e),bh(this)}}},toPortId:{get:function(){return this.sf},set:function(e){var t=this.sf;if(t!==e){var r=this.toPort;null!==r&&$c(r),Fh(this),this.sf=e;var n=this.toPort;null!==n&&$c(n);var i=this.diagram;if(null!==i){var o=this.data,a=i.model;null!==o&&a.ni()&&a.vv(o,e)}r!==n&&(this.Tf=null,this.bb(),null!==(o=this.toPortChanged)&&(a=!0,null!==i&&(a=i.aa,i.aa=!0),o(this,r,n),null!==i&&(i.aa=a))),Ih(this),this.g("toPortId",t,e)}}},toPort:{get:function(){var e=this.rf;return null===e?null:e.fs(this.sf)}},toPortChanged:{get:function(){return this.qo},set:function(e){var t=this.qo;t!==e&&(this.qo=e,this.g("toPortChanged",t,e))}},fromSpot:{get:function(){return null!==this.ba?this.ba.Ui:St},set:function(e){var t=this.fromSpot;t.C(e)||(e=e.J(),this.Sc(),this.ba.Ui=e,this.g("fromSpot",t,e),(t.Vc()||e.Vc())&&null!==this.fromNode&&$c(this.fromPort),this.bb())}},fromEndSegmentLength:{get:function(){return null!==this.ba?this.ba.Si:NaN},set:function(e){var t=this.fromEndSegmentLength;t!==e&&(0>e&&k(e,">= 0",vh,"fromEndSegmentLength"),this.Sc(),this.ba.Si=e,this.g("fromEndSegmentLength",t,e),this.bb())}},fromShortLength:{get:function(){return null!==this.ba?this.ba.Ti:NaN},set:function(e){var t=this.fromShortLength;t!==e&&(this.Sc(),this.ba.Ti=e,this.nc(),this.g("fromShortLength",t,e))}},toSpot:{get:function(){return null!==this.ba?this.ba.wj:St},set:function(e){var t=this.toSpot;t.C(e)||(e=e.J(),this.Sc(),this.ba.wj=e,this.g("toSpot",t,e),(t.Vc()||e.Vc())&&null!==this.toNode&&$c(this.toPort),this.bb())}},toEndSegmentLength:{get:function(){return null!==this.ba?this.ba.uj:NaN},set:function(e){var t=this.toEndSegmentLength;t!==e&&(0>e&&k(e,">= 0",vh,"toEndSegmentLength"),this.Sc(),this.ba.uj=e,this.g("toEndSegmentLength",t,e),this.bb())}},toShortLength:{get:function(){return null!==this.ba?this.ba.vj:NaN},set:function(e){var t=this.toShortLength;t!==e&&(this.Sc(),this.ba.vj=e,this.nc(),this.g("toShortLength",t,e))}},isLabeledLink:{get:function(){return null!==this.qd&&0<this.qd.count}},labelNodes:{get:function(){return null===this.qd?W:this.qd.iterator}},relinkableFrom:{get:function(){return 0!==(1&this.Pa)},set:function(e){var t=0!==(1&this.Pa);t!==e&&(this.Pa^=1,this.g("relinkableFrom",t,e),this.Sb())}},relinkableTo:{get:function(){return 0!==(2&this.Pa)},set:function(e){var t=0!==(2&this.Pa);t!==e&&(this.Pa^=2,this.g("relinkableTo",t,e),this.Sb())}},resegmentable:{get:function(){return 0!==(4&this.Pa)},set:function(e){var t=0!==(4&this.Pa);t!==e&&(this.Pa^=4,this.g("resegmentable",t,e),this.Sb())}},isTreeLink:{get:function(){return 0!==(8&this.Pa)},set:function(e){var t=0!==(8&this.Pa);t!==e&&(this.Pa^=8,this.g("isTreeLink",t,e),null!==this.fromNode&&th(this.fromNode),null!==this.toNode&&th(this.toNode))}},path:{get:function(){var e=this.sb();return e instanceof cu?e:null}},routeBounds:{get:function(){this.rg();var e=this.hl,t=1/0,r=1/0,n=this.pointsCount;if(0===n)e.h(NaN,NaN,0,0);else{if(1===n)n=this.i(0),t=Math.min(n.x,t),r=Math.min(n.y,r),e.h(n.x,n.y,0,0);else if(2===n){n=this.i(0);var i=this.i(1);t=Math.min(n.x,i.x),r=Math.min(n.y,i.y),e.h(n.x,n.y,0,0),e.Ue(i)}else if(this.computeCurve()===Wh&&3<=n&&!this.isOrthogonal)if(t=(i=this.i(0)).x,r=i.y,e.h(t,r,0,0),3===n){n=this.i(1),t=Math.min(n.x,t),r=Math.min(n.y,r);var o=this.i(2);t=Math.min(o.x,t),r=Math.min(o.y,r),Gt.zl(i.x,i.y,n.x,n.y,n.x,n.y,o.x,o.y,.5,e)}else for(o=3;o<n;o+=3){var a=this.i(o-2);o+3>=n&&(o=n-1);var s=this.i(o-1),l=this.i(o);Gt.zl(i.x,i.y,a.x,a.y,s.x,s.y,l.x,l.y,.5,e),t=Math.min(l.x,t),r=Math.min(l.y,r),i=l}else for(i=this.i(0),o=this.i(1),t=Math.min(i.x,o.x),r=Math.min(i.y,o.y),e.h(i.x,i.y,0,0),e.Ue(o),i=2;i<n;i++)o=this.i(i),t=Math.min(o.x,t),r=Math.min(o.y,r),e.Ue(o);this.nu.h(t-e.x,r-e.y)}return e}},midPoint:{get:function(){return this.rg(),this.computeMidPoint(new pe)}},midAngle:{get:function(){return this.rg(),this.computeMidAngle()}},flattenedLengths:{get:function(){if(null===this.Wp){this.xd||Sh(this);for(var e=this.Wp=[],t=this.pointsCount,r=0;r<t-1;r++){var n=this.i(r),i=this.i(r+1);Gt.$(n.x,i.x)?0>(n=i.y-n.y)&&(n=-n):Gt.$(n.y,i.y)?0>(n=i.x-n.x)&&(n=-n):n=Math.sqrt(n.yf(i)),e.push(n)}}return this.Wp}},flattenedTotalLength:{get:function(){var e=this.ot;if(isNaN(e)){for(var t=this.flattenedLengths,r=t.length,n=e=0;n<r;n++)e+=t[n];this.ot=e}return e}},points:{get:function(){return this.Kb},set:function(e){var t=this.Kb;if(t!==e){var r=null;if(Array.isArray(e)){var n=0===e.length%2;if(n)for(var i=0;i<e.length;i++)if("number"!==typeof e[i]||isNaN(e[i])){n=!1;break}if(n)for(r=new Z,n=0;n<e.length/2;n++)i=new pe(e[2*n],e[2*n+1]).freeze(),r.add(i);else{for(n=!0,i=0;i<e.length;i++){var o=e[i];if(!j(o)||"number"!==typeof o.x||isNaN(o.x)||"number"!==typeof o.y||isNaN(o.y)){n=!1;break}}if(n)for(r=new Z,n=0;n<e.length;n++)i=e[n],r.add(new pe(i.x,i.y).freeze())}}else if(e instanceof Z)for(r=e.copy(),e=r.iterator;e.next();)e.value.freeze();else w("Link.points value is not an instance of List or Array: "+e);r.freeze(),this.Kb=r,this.nc(),Sh(this),null!==(e=this.diagram)&&(e.mi||e.undoManager.isUndoingRedoing||e.ts.add(this),e.animationManager.zb&&(e=e.animationManager,this.nf=r,e.kl.add(this))),this.g("points",t,r)}}},pointsCount:{get:function(){return this.Kb.count}},xd:{get:function(){return 0!==(16&this.Pa)},set:function(e){0!==(16&this.Pa)!==e&&(this.Pa^=16)}},suspendsRouting:{get:function(){return 0!==(32&this.Pa)},set:function(e){0!==(32&this.Pa)!==e&&(this.Pa^=32)}},computingPoints:{get:function(){return 0!==(64&this.Pa)},set:function(e){0!==(64&this.Pa)!==e&&(this.Pa^=64)}},defaultFromPoint:{get:function(){return this.m},set:function(e){this.m=e.copy()}},defaultToPoint:{get:function(){return this.u},set:function(e){this.u=e.copy()}},isOrthogonal:{get:function(){return 2===(2&this.oj.value)}},isAvoiding:{get:function(){return 4===(4&this.oj.value)}},gk:{get:function(){return 0!==(128&this.Pa)},set:function(e){0!==(128&this.Pa)!==e&&(this.Pa^=128)}},geometry:{get:function(){if(!this.gk){if(this.rg(),2>this.pointsCount)return this.gk=!0,this.ta;this.ta=this.makeGeometry()}return this.ta}},firstPickIndex:{get:function(){return 2>=this.pointsCount?0:this.isOrthogonal||!jh(this.computeSpot(!0))?1:0}},lastPickIndex:{get:function(){var e=this.pointsCount;return 0===e?0:2>=e?e-1:this.isOrthogonal||!jh(this.computeSpot(!1))?e-2:e-1}},adjusting:{get:function(){return this.kk},set:function(e){var t=this.kk;t!==e&&(this.kk=e,this.g("adjusting",t,e))}},corner:{get:function(){return this.Lm},set:function(e){var t=this.Lm;t!==e&&(this.Lm=e,this.nc(),this.g("corner",t,e))}},curve:{get:function(){return this.Nm},set:function(e){var t=this.Nm;t!==e&&(this.Nm=e,this.bb(),this.nc(),Rh(this,t===Xh||t===Yh||e===Xh||e===Yh),this.g("curve",t,e))}},curviness:{get:function(){return this.Om},set:function(e){var t=this.Om;t!==e&&(this.Om=e,this.bb(),this.nc(),this.g("curviness",t,e))}},routing:{get:function(){return this.oj},set:function(e){var t=this.oj;t!==e&&(this.oj=e,this.Tf=null,this.bb(),Rh(this,2===(2&t.value)||2===(2&e.value)),this.g("routing",t,e))}},smoothness:{get:function(){return this.lo},set:function(e){var t=this.lo;t!==e&&(this.lo=e,this.nc(),this.g("smoothness",t,e))}},key:{get:function(){var e=this.diagram;if(null!==e&&e.model.ni())return e.model.xc(this.data)}}}),vh.prototype.invalidateOtherJumpOvers=vh.prototype.Ro,vh.prototype.findClosestSegment=vh.prototype.Xy,vh.prototype.updateRoute=vh.prototype.rg,vh.prototype.invalidateRoute=vh.prototype.bb,vh.prototype.rollbackRoute=vh.prototype.mv,vh.prototype.commitRoute=vh.prototype.wf,vh.prototype.startRoute=vh.prototype.ph,vh.prototype.clearPoints=vh.prototype.Dj,vh.prototype.removePoint=vh.prototype.kv,vh.prototype.addPointAt=vh.prototype.vf,vh.prototype.addPoint=vh.prototype.je,vh.prototype.insertPointAt=vh.prototype.l,vh.prototype.insertPoint=vh.prototype.Cz,vh.prototype.setPointAt=vh.prototype.M,vh.prototype.setPoint=vh.prototype.Yc,vh.prototype.getPoint=vh.prototype.i,vh.prototype.getOtherPort=vh.prototype.uz,vh.prototype.getOtherNode=vh.prototype.No;var Bh=null,Uh=null,zh=new U(vh,"Normal",1),qh=new U(vh,"Orthogonal",2),Gh=new U(vh,"AvoidsNodes",6),Vh=new U(vh,"AvoidsNodesStraight",7),Hh=new U(vh,"None",0),Wh=new U(vh,"Bezier",9),Xh=new U(vh,"JumpGap",10),Yh=new U(vh,"JumpOver",11),Kh=new U(vh,"End",17),Zh=new U(vh,"Scale",18),$h=new U(vh,"Stretch",19),Jh=new U(vh,"OrientAlong",21),Qh=new U(vh,"OrientPlus90",22),ed=new U(vh,"OrientMinus90",23),td=new U(vh,"OrientOpposite",24),rd=new U(vh,"OrientUpright",25),nd=new U(vh,"OrientPlus90Upright",26),id=new U(vh,"OrientMinus90Upright",27),od=new U(vh,"OrientUpright45",28),ad=16,sd=14,ld=8;function ud(e,t,r,n){Q(this),this.Be=this.jq=!1,this.ws=e,this.Kx=t,this.Zu=r,this.Lx=n,this.links=[]}function cd(e){Q(this),this.Ux=this.group=null,this.os=!0,this.abort=!1,this.Fd=this.Ed=1,this.Bn=this.An=-1,this.oc=e.width,this.pc=e.height,this.Yb=null,this.bi=this.ai=0,this.Hs=11,this.Cx=this.Bx=22}function hd(e,t,r){return e.Ed<=t&&t<=e.An&&e.Fd<=r&&r<=e.Bn}function dd(e,t,r){return hd(e,t,r)?(t-=e.Ed,t/=e.oc,r-=e.Fd,r/=e.pc,e.Yb[0|t][0|r]):Sd}function fd(e){if(null!==e.Yb)for(var t=0;t<=e.ai;t++)for(var r=e.Yb[t],n=0;n<=e.bi;n++)r[n]>=xd&&(r[n]=Sd)}function pd(e,t,r,n,i,o,a,s,l){if(!(t<o||t>a||r<s||r>l)){var u=0|t,c=0|r,h=e.Yb[u][c];if(h>=xd&&h<wd)for(i?c+=n:u+=n,h+=1;o<=u&&u<=a&&s<=c&&c<=l&&!(h>=e.Yb[u][c]);)e.Yb[u][c]=h,h+=1,i?c+=n:u+=n;if(u=i?c:u,i)if(0<n)for(r+=n;r<u;r+=n)pd(e,t,r,1,!i,o,a,s,l),pd(e,t,r,-1,!i,o,a,s,l);else for(r+=n;r>u;r+=n)pd(e,t,r,1,!i,o,a,s,l),pd(e,t,r,-1,!i,o,a,s,l);else if(0<n)for(t+=n;t<u;t+=n)pd(e,t,r,1,!i,o,a,s,l),pd(e,t,r,-1,!i,o,a,s,l);else for(t+=n;t>u;t+=n)pd(e,t,r,1,!i,o,a,s,l),pd(e,t,r,-1,!i,o,a,s,l)}}function md(e,t,r,n,i,o,a,s,l){t|=0,r|=0;var u=bd,c=xd;for(e.Yb[t][r]=c;u===bd&&t>o&&t<a&&r>s&&r<l;)c+=1,e.Yb[t][r]=c,i?r+=n:t+=n,u=e.Yb[t][r]}function yd(e,t,r,n,i,o,a,s,l){t|=0,r|=0;var u=bd,c=wd;for(e.Yb[t][r]=c;u===bd&&t>o&&t<a&&r>s&&r<l;)e.Yb[t][r]=c,i?r+=n:t+=n,u=e.Yb[t][r]}function gd(e,t,r,n,i,o,a){if(null!==e.Yb){e.abort=!1;var s=t.x,l=t.y;if(hd(e,s,l)){s-=e.Ed,s/=e.oc,l-=e.Fd,l/=e.pc;var u=n.x,c=n.y;if(hd(e,u,c))if(u-=e.Ed,u/=e.oc,c-=e.Fd,c/=e.pc,1>=Math.abs(s-u)&&1>=Math.abs(l-c))e.abort=!0;else{var h=o.x;n=o.y,t=o.x+o.width;var d=o.y+o.height;h-=e.Ed,h/=e.oc,n-=e.Fd,n/=e.pc,t-=e.Ed,t/=e.oc,d-=e.Fd,d/=e.pc,o=Math.max(0,Math.min(e.ai,0|h)),t=Math.min(e.ai,Math.max(0,0|t)),h=Math.max(0,Math.min(e.bi,0|n)),d=Math.min(e.bi,Math.max(0,0|d)),l|=0,u|=0,c|=0;var f=0===r||90===r?1:-1;if(r=90===r||270===r,(n=e.Yb)[s|=0][l]===bd?(md(e,s,l,f,r,o,t,h,d),md(e,s,l,1,!r,o,t,h,d),md(e,s,l,-1,!r,o,t,h,d)):md(e,s,l,f,r,s,l,s,l),n[u][c]===bd?(yd(e,u,c,0===i||90===i?1:-1,90===i||270===i,o,t,h,d),yd(e,u,c,1,!(90===i||270===i),o,t,h,d),yd(e,u,c,-1,!(90===i||270===i),o,t,h,d)):yd(e,u,c,f,r,u,c,u,c),r=E(),a&&vd(e,u,c,i,s,l,r))for(r[0]===u&&r[1]===c||(r.unshift(c),r.unshift(u)),r[r.length-2]===s&&r[r.length-1]===l||(r.push(s),r.push(l)),e=xd,i=r[r.length-2],a=r[r.length-1],n[i][a]=e++,o=r.length-4;0<=o;o-=2)for(i=r[o+2],a=r[o+3],t=r[o],u=r[o+1];t>i?i++:t<i?i--:u>a?a++:u<a&&a--,n[i][a]=e++,i!==t||a!==u;);else pd(e,s,l,1,!1,o,t,h,d),pd(e,s,l,-1,!1,o,t,h,d),pd(e,s,l,1,!0,o,t,h,d),pd(e,s,l,-1,!0,o,t,h,d);O(r)}}}}function vd(e,t,r,n,i,o,a){for(var s=e.Yb,l=t,u=r;;){if(l===i&&u===o)return!0;var c=l,h=u;if(0===n){if(!(c<i))break;c++}else if(90===n){if(!(h<o))break;h++}else if(180===n){if(!(c>i))break;c--}else{if(!(h>o))break;h--}var d=s[c][h];if(0===d||d===kd)break;l=c,u=h}for(;;){if(c=n,h=l,d=u,0===n?d<o?(c=90,d++):d>o&&(c=270,d--):90===n?h<i?(c=0,h++):h>i&&(c=180,h--):180===n?d<o?(c=90,d++):d>o&&(c=270,d--):h<i?(c=0,h++):h>i&&(c=180,h--),h=s[h][d],c!==n&&0!==h&&h!==kd){if(a.push(l),a.push(u),vd(e,l,u,c,i,o,a))return!0;a.pop(),a.pop()}if(s[l][u]=kd,0===n){if(l===t)return!1;l--}else if(90===n){if(u===r)return!1;u--}else if(180===n){if(l===t)return!1;l++}else{if(u===r)return!1;u++}}}vh.className="Link",vh.Normal=zh,vh.Orthogonal=qh,vh.AvoidsNodes=Gh,vh.AvoidsNodesStraight=Vh,vh.None=Hh,vh.Bezier=Wh,vh.JumpGap=Xh,vh.JumpOver=Yh,vh.End=Kh,vh.Scale=Zh,vh.Stretch=$h,vh.OrientAlong=Jh,vh.OrientPlus90=Qh,vh.OrientMinus90=ed,vh.OrientOpposite=td,vh.OrientUpright=rd,vh.OrientPlus90Upright=nd,vh.OrientMinus90Upright=id,vh.OrientUpright45=od,vh.EndSegmentStep=8,vh.CurvinessStart=ad,vh.SpacingMin=sd,vh.OrthoShortCut=ld,ud.prototype.Nl=function(){if(!this.jq){var e=this.links;0<e.length&&(null!==(e=e[0].diagram)&&(e.hw.add(this),this.Be=e.undoManager.isUndoingRedoing))}this.jq=!0},ud.prototype.Gv=function(){if(this.jq){this.jq=!1;var e=this.links;if(0<e.length){var t=e[0],r=t.diagram;r=null===r||r.mi&&!this.Be,this.Be=!1,t.arrangeBundledLinks(e,r),1===e.length&&(t.Pf=null,e.length=0)}0===e.length&&(e=this.ws,null!==this&&null!==e.Xe&&e.Xe.remove(this),e=this.Zu,null!==this&&null!==e.Xe&&e.Xe.remove(this))}},ud.className="LinkBundle",cd.prototype.initialize=function(e){if(!(0>=e.width||0>=e.height)){var t=e.y,r=e.x+e.width,n=e.y+e.height;if(this.Ed=Math.floor((e.x-this.oc)/this.oc)*this.oc,this.Fd=Math.floor((t-this.pc)/this.pc)*this.pc,this.An=Math.ceil((r+2*this.oc)/this.oc)*this.oc,this.Bn=Math.ceil((n+2*this.pc)/this.pc)*this.pc,e=1+(0|Math.ceil((this.An-this.Ed)/this.oc)),t=1+(0|Math.ceil((this.Bn-this.Fd)/this.pc)),null===this.Yb||this.ai<e-1||this.bi<t-1){for(r=[],n=0;n<=e;n++)r[n]=new Uint32Array(t);this.Yb=r,this.ai=e-1,this.bi=t-1}if(e=Sd,null!==this.Yb)for(t=0;t<=this.ai;t++)if((r=this.Yb[t]).fill)r.fill(e);else for(n=0;n<=this.bi;n++)r[n]=e}},cd.prototype.Vj=function(e,t,r,n){if(e>this.An||e+r<this.Ed||t>this.Bn||t+n<this.Fd)return!0;e=(e-this.Ed)/this.oc|0,t=(t-this.Fd)/this.pc|0,r=Math.max(0,r)/this.oc+1|0;var i=Math.max(0,n)/this.pc+1|0;if(0>e&&(r+=e,e=0),0>t&&(i+=t,t=0),0>r||0>i)return!0;for(n=0|Math.min(e+r-1,this.ai),r=0|Math.min(t+i-1,this.bi);e<=n;e++){i=this.Yb[e];for(var o=t;o<=r;o++)if(i[o]===bd)return!1}return!0},d.Object.defineProperties(cd.prototype,{bounds:{get:function(){return new Ne(this.Ed,this.Fd,this.An-this.Ed,this.Bn-this.Fd)}},Do:{get:function(){return this.oc},set:function(e){0<e&&e!==this.oc&&(this.oc=e,this.initialize(this.bounds))}},Co:{get:function(){return this.pc},set:function(e){0<e&&e!==this.pc&&(this.pc=e,this.initialize(this.bounds))}}});var bd=0,xd=1,wd=999999,Sd=wd+1,kd=wd+2;function _d(){Q(this),this.port=this.node=null,this.le=[],this.Vo=!1}function jd(e,t,r,n){switch(t=t.offsetY){case 8:return 90;case 2:return 180;case 1:return 270;case 4:return 0}switch(t){case 9:return 180<r?270:90;case 6:return 90<r&&270>=r?180:0}switch(e=180*Math.atan2(e.height,e.width)/Math.PI,t){case 3:return r>e&&r<=180+e?180:270;case 5:return r>180-e&&r<=360-e?270:0;case 12:return r>e&&r<=180+e?90:0;case 10:return r>180-e&&r<=360-e?180:90;case 7:return 90<r&&r<=180+e?180:r>180+e&&r<=360-e?270:0;case 13:return 180<r&&r<=360-e?270:r>e&&180>=r?90:0;case 14:return r>e&&r<=180-e?90:r>180-e&&270>=r?180:0;case 11:return r>180-e&&r<=180+e?180:r>180+e?270:90}return n&&15!==t&&(0>(r-=15)&&(r+=360)),r>e&&r<180-e?90:r>=180-e&&r<=180+e?180:r>180+e&&r<360-e?270:0}function Md(e,t){var r=e.le;if(0===r.length){e:if(!e.Vo){r=e.Vo,e.Vo=!0;var n=null,i=e.node,o=i instanceof dh?i:null;if(null===o||o.isSubGraphExpanded)var a=i.isTreeExpanded?i.findLinksConnected(e.port.portId):i.kx();else{if(!o.actualBounds.w()){e.Vo=r;break e}a=(n=o).Fu()}o=e.le.length=0;var s=e.port.ja(Je,pe.alloc()),l=e.port.ja(at,pe.alloc());for((i=Ne.allocAt(s.x,s.y,0,0)).Ue(l),pe.free(s),pe.free(l),s=pe.allocAt(i.x+i.width/2,i.y+i.height/2),l=e.port.ii(),a=a.iterator;a.next();){var u=a.value;if(u.isVisible()&&u.fromPort!==u.toPort){var c=u.fromPort===e.port||null!==u.fromNode&&u.fromNode.Md(n),h=u.computeSpot(c,e.port);if(h.Vc()&&null!==(c=c?u.toPort:u.fromPort)){var d=c.part;if(null!==d){var f=d.findVisibleNode();null!==f&&f!==d&&(c=(d=f).port),c=u.computeOtherPoint(d,c),d=s.$a(c),0>(d-=l)?d+=360:360<=d&&(d-=360),0===(h=jd(i,h,d,u.isOrthogonal))?(h=4,180<d&&(d-=360)):90===h?(h=8,270<d&&(d-=360)):180===h?h=2:(h=1,90>d&&(d+=360)),void 0===(f=e.le[o])?(f=new Cd(u,d,h),e.le[o]=f):(f.link=u,f.angle=d,f.Kc=h),f.dv.set(c),o++}}}}for(pe.free(s),e.le.sort(_d.prototype.j),l=e.le.length,n=-1,o=s=0;o<l;o++)void 0!==(a=e.le[o])&&(a.Kc!==n&&(n=a.Kc,s=0),a.Oo=s,s++);for(n=-1,s=0,o=l-1;0<=o;o--)void 0!==(l=e.le[o])&&(l.Kc!==n&&(n=l.Kc,s=l.Oo+1),l.Cl=s);if(o=e.le,h=e.port,n=e.node.portSpreading,s=pe.alloc(),l=pe.alloc(),a=pe.alloc(),u=pe.alloc(),h.ja(Je,s),h.ja(et,l),h.ja(at,a),h.ja(it,u),f=d=c=h=0,n===hh)for(var p=0;p<o.length;p++){var m=o[p];if(null!==m){var y=m.link.computeThickness();switch(m.Kc){case 8:d+=y;break;case 2:f+=y;break;case 1:h+=y;break;default:c+=y}}}var g=p=0,v=1,b=m=0;for(y=0;y<o.length;y++){var x=o[y];if(null!==x){if(p!==x.Kc){switch(p=x.Kc){case 8:var w=a;g=u;break;case 2:w=u,g=s;break;case 1:w=s,g=l;break;default:w=l,g=a}switch(m=g.x-w.x,b=g.y-w.y,p){case 8:d>Math.abs(m)?(v=Math.abs(m)/d,d=Math.abs(m)):v=1;break;case 2:f>Math.abs(b)?(v=Math.abs(b)/f,f=Math.abs(b)):v=1;break;case 1:h>Math.abs(m)?(v=Math.abs(m)/h,h=Math.abs(m)):v=1;break;default:c>Math.abs(b)?(v=Math.abs(b)/c,c=Math.abs(b)):v=1}g=0}var S=x.To;if(n===hh){switch(x=x.link.computeThickness(),x*=v,S.set(w),p){case 8:S.x=w.x+m/2+d/2-g-x/2;break;case 2:S.y=w.y+b/2+f/2-g-x/2;break;case 1:S.x=w.x+m/2-h/2+g+x/2;break;default:S.y=w.y+b/2-c/2+g+x/2}g+=x}else{var k=.5;n===ch&&(k=(x.Oo+1)/(x.Cl+1)),S.x=w.x+m*k,S.y=w.y+b*k}}}for(pe.free(s),pe.free(l),pe.free(a),pe.free(u),w=e.le,o=0;o<w.length;o++)null!==(n=w[o])&&(n.Du=e.computeEndSegmentLength(n));e.Vo=r,Ne.free(i)}r=e.le}for(e=0;e<r.length;e++)if(null!==(i=r[e])&&i.link===t)return i;return null}function Cd(e,t,r){this.link=e,this.angle=t,this.Kc=r,this.dv=new pe,this.Cl=this.Oo=0,this.To=new pe,this.Du=0}function Pd(e){Q(this),this.m=this.H=null,this.Ch=this.on=!0,this.un=!1,this.xm=new pe(0,0).freeze(),this.rn=!0,this.Bm=this.qn=null,this.tn=!1,this.j=null,e&&Object.assign(this,e)}function Td(e,t,r,n,i,o,a,s){for(r=r.iterator;r.next();){var l=r.value;n&&!l.isTopLevel||null!==i&&!i(l)||!l.canLayout()||(o&&l instanceof Wc?l.isLinkLabel||(l instanceof dh&&null===l.layout?Td(e,t,l.memberParts,!1,i,o,a,s):(Ed(l),t.add(l))):a&&l instanceof vh?t.add(l):!s||!l.Uc()||l instanceof Wc||(Ed(l),t.add(l)))}}function Ed(e){var t=e.actualBounds;(0===t.width||0===t.height||isNaN(t.width)||isNaN(t.height))&&e.Va()}function Od(e){Q(this),this.Oc=e,this.tf=new J,this.ue=new J,this.xs=new fe,this.ss=new fe}function Ad(e,t){if(null===t)return!1;var r=e.tf.remove(t);return r&&(null!==(t=t.node)&&e.xs.remove(t)),r}function Ld(e,t){if(null!==t){e.ue.add(t);var r=t.link;null!==r&&null===e.Ho(r)&&e.ss.add(r,t),t.network=e}}function Nd(e,t){null!==t&&e.ue.remove(t)&&(null!==(t=t.link)&&e.ss.remove(t))}function Rd(e,t,r){if(null!==r&&r.network!==t){Ad(e,r),t.Yg(r);for(var n=r.sourceEdges;n.next();){var i=n.value;i.network!==t&&(Nd(e,i),Ld(t,i),Rd(e,t,i.fromVertex))}for(n=r.destinationEdges;n.next();)(r=n.value).network!==t&&(Nd(e,r),Ld(t,r),Rd(e,t,r.toVertex))}}function Dd(e){Q(this),this.pb=e,this.j=new Ne(0,0,10,10).freeze(),this.m=new pe(5,5).freeze(),this.Oh=this.ub=null,this.pg=new Z,this.ig=new Z}function Id(e,t){return e=e.Oh,t=t.Oh,e?t?(e=e.text)<(t=t.text)?-1:e>t?1:0:1:null!==t?-1:0}function Fd(e){Q(this),this.ob=e,this.hd=this.bd=this.Vk=this.ub=null}function Bd(e){Pd.call(this),this.isViewportSized=!0,this.uo=this.vo=NaN,this.ug=new Ee(NaN,NaN).freeze(),this.qf=new Ee(10,10).freeze(),this.Hb=qd,this.Mb=Gd,this.ed=Xd,this.$c=Ud,e&&Object.assign(this,e)}function Ud(e,t){return(e=e.text)<(t=t.text)?-1:e>t?1:0}cd.className="PositionArray",_d.prototype.toString=function(){for(var e=this.le,t=this.node.toString()+" "+e.length.toString()+":",r=0;r<e.length;r++){var n=e[r];null!==n&&(t+="\n  "+n.toString())}return t},_d.prototype.Nl=function(){this.le.length=0},_d.prototype.j=function(e,t){return e===t?0:null===e?-1:null===t?1:e.Kc<t.Kc?-1:e.Kc>t.Kc?1:e.angle<t.angle?-1:e.angle>t.angle?1:0},_d.prototype.computeEndSegmentLength=function(e){var t=e.link,r=t.computeEndSegmentLength(this.node,this.port,$e,t.fromPort===this.port),n=e.Oo;if(0>n)return r;var i=e.Cl;if(1>=i||!t.isOrthogonal)return r;t=e.dv;var o=e.To;return 2!==e.Kc&&8!==e.Kc||(n=i-1-n),((e=2===e.Kc||4===e.Kc)?t.y<o.y:t.x<o.x)?r+8*n:(e?t.y===o.y:t.x===o.x)?r:r+8*(i-1-n)},_d.className="Knot",Cd.prototype.toString=function(){return this.link.toString()+" "+this.angle.toString()+" "+this.Kc.toString()+":"+this.Oo.toString()+"/"+this.Cl.toString()+" "+this.To.toString()+" "+this.Du.toString()+" "+this.dv.toString()},Cd.className="LinkInfo",Pd.prototype.cloneProtected=function(e){e.on=this.on,e.Ch=this.Ch,e.un=this.un,e.xm.assign(this.xm),e.rn=this.rn,e.qn=this.qn,e.Bm=this.Bm,e.tn=!0},Pd.prototype.copy=function(){var e=new this.constructor;return this.cloneProtected(e),e},Pd.prototype.rb=function(){},Pd.prototype.toString=function(){var e=A(this.constructor);return e+="(",null!==this.group&&(e+=" in "+this.group),null!==this.diagram&&(e+=" for "+this.diagram),e+")"},Pd.prototype.D=function(){if(this.isValidLayout){var e=this.diagram;if(null!==e&&!e.undoManager.isUndoingRedoing){var t=e.animationManager;!t.isTicking&&(t.defaultAnimation.isAnimating&&t.zc(),this.isOngoing&&e.mi||this.isInitial&&!e.mi)&&(this.isValidLayout=!1,e.Wb())}}},Pd.prototype.createNetwork=function(){return new Od(this)},Pd.prototype.makeNetwork=function(e){var t=this.createNetwork();return e instanceof Mi?(t.hg(e.nodes,!0),t.hg(e.links,!0)):e instanceof dh?t.hg(e.memberParts):t.hg(e.iterator),t},Pd.prototype.updateParts=function(){this.isValidLayout=!0;var e=this.diagram;if(null===e&&null!==this.network)for(var t=this.network.vertexes.iterator;t.next();){var r=t.value.node;if(null!==r&&null!==(e=r.diagram))break}try{null!==e&&e.Ea("Layout"),this.commitLayout()}finally{null!==e&&e.eb("Layout")}},Pd.prototype.commitLayout=function(){if(null!==this.network){for(var e=this.network.vertexes.iterator;e.next();)e.value.commit();if(this.isRouting)for(e=this.network.edges.iterator;e.next();)e.value.commit()}},Pd.prototype.doLayout=function(e){var t=new J;e instanceof Mi?(Td(this,t,e.nodes,!0,this.mh,!0,!1,!0),Td(this,t,e.parts,!0,this.mh,!0,!1,!0)):e instanceof dh?Td(this,t,e.memberParts,!1,this.mh,!0,!1,!0):t.addAll(e.iterator),0<t.count&&(null!==(e=this.diagram)&&e.Ea("Layout"),this.doMinimalNoNetworkLayout(t),null!==e&&e.eb("Layout")),this.isValidLayout=!0},Pd.prototype.doMinimalNoNetworkLayout=function(e){var t=Math.ceil(Math.sqrt(e.count));this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);var r=this.arrangementOrigin.x,n=r,i=this.arrangementOrigin.y,o=0,a=0;for(e=e.iterator;e.next();){var s=e.value;Ed(s);var l=s.measuredBounds,u=l.width;l=l.height,s.moveTo(n,i),s instanceof dh&&(s.mh=!1),n+=Math.max(u,50)+20,a=Math.max(a,Math.max(l,50)),o>=t-1?(o=0,n=r,i+=a+20,a=0):o++}},Pd.prototype.doMinimalNetworkLayout=function(){var e=Math.ceil(Math.sqrt(this.network.vertexes.count));this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);for(var t=this.arrangementOrigin.x,r=t,n=this.arrangementOrigin.y,i=0,o=0,a=this.network.vertexes.iterator;a.next();){var s=a.value.node;if(!(null===s||s instanceof vh)&&(Ed(s),this.mh(s))){var l=s.measuredBounds,u=l.width;l=l.height,s.moveTo(r,n),s instanceof dh&&(s.mh=!1),r+=Math.max(u,50)+20,o=Math.max(o,Math.max(l,50)),i>=e-1?(i=0,r=t,n+=o+20,o=0):i++}}},Pd.prototype.mh=function(e){return!(e.location.w()&&!(e instanceof dh&&e.mh))},Pd.prototype.ki=function(e,t){var r=this.boundsComputation;return null!==r?(t||(t=new Ne),r(e,this,t)):t?(t.set(e.actualBounds),t):e.actualBounds},Pd.prototype.Yw=function(e){var t=new J;return e instanceof Mi?(Td(this,t,e.nodes,!0,null,!0,!0,!0),Td(this,t,e.links,!0,null,!0,!0,!0),Td(this,t,e.parts,!0,null,!0,!0,!0)):Td(this,t,e instanceof dh?e.memberParts:e.iterator,!1,null,!0,!0,!0),t},Pd.prototype.initialOrigin=function(e){var t=this.group;if(null!==t){var r=t.position.copy();return(isNaN(r.x)||isNaN(r.y))&&r.set(e),null!==(t=t.placeholder)&&(r=t.ja(Je),(isNaN(r.x)||isNaN(r.y))&&r.set(e),e=t.padding,r.x+=e.left,r.y+=e.top),r}return e},d.Object.defineProperties(Pd.prototype,{diagram:{get:function(){return this.H},set:function(e){this.H=e}},group:{get:function(){return this.m},set:function(e){this.m!==e&&(this.m=e,null!==e&&(this.H=e.diagram))}},isOngoing:{get:function(){return this.on},set:function(e){this.on!==e&&(this.on=e)}},isInitial:{get:function(){return this.Ch},set:function(e){this.Ch=e,e||(this.tn=!0)}},isViewportSized:{get:function(){return this.un},set:function(e){this.un!==e&&(this.un=e)&&this.D()}},isRouting:{get:function(){return this.rn},set:function(e){this.rn!==e&&(this.rn=e)}},isRealtime:{get:function(){return this.qn},set:function(e){this.qn!==e&&(this.qn=e)}},isValidLayout:{get:function(){return this.tn},set:function(e){this.tn!==e&&(this.tn=e,e||null!==(e=this.diagram)&&(e.sh=!0))}},network:{get:function(){return this.j},set:function(e){this.j!==e&&(this.j=e,null!==e&&(e.layout=this))}},boundsComputation:{get:function(){return this.Bm},set:function(e){this.Bm!==e&&(this.Bm=e,this.D())}},arrangementOrigin:{get:function(){return this.xm},set:function(e){this.xm.C(e)||(this.xm.assign(e),this.D())}}}),Pd.prototype.collectParts=Pd.prototype.Yw,Pd.prototype.getLayoutBounds=Pd.prototype.ki,Pd.prototype.invalidateLayout=Pd.prototype.D,Pd.className="Layout",Od.prototype.clear=function(){if(this.tf)for(var e=this.tf.iterator;e.next();)e.value.clear();if(this.ue)for(e=this.ue.iterator;e.next();)e.value.clear();this.tf=new J,this.ue=new J,this.xs=new fe,this.ss=new fe},Od.prototype.toString=function(e){void 0===e&&(e=0);var t="LayoutNetwork"+(null!==this.layout?"("+this.layout.toString()+")":"");if(0>=e)return t;if(t+=" vertexes: "+this.tf.count+" edges: "+this.ue.count,1<e){for(var r=this.tf.iterator;r.next();)t+="\n    "+r.value.toString(e-1);for(r=this.ue.iterator;r.next();)t+="\n    "+r.value.toString(e-1)}return t},Od.prototype.createVertex=function(){return new Dd(this)},Od.prototype.createEdge=function(){return new Fd(this)},Od.prototype.hg=function(e,t,r){if(null!==e){for(void 0===t&&(t=!1),void 0===r&&(r=null),null===r&&(r=function(e){if(e instanceof Wc)return!e.isLinkLabel;if(e instanceof vh){var t=e.fromNode;return null!==t&&!t.isLinkLabel&&(null!==(e=e.toNode)&&!e.isLinkLabel)}return!1}),e=e.iterator;e.next();){var n=e.value;if(n instanceof Wc&&(!t||n.isTopLevel)&&n.canLayout()&&r(n))if(n instanceof dh&&null===n.layout)this.hg(n.memberParts,!1);else if(null===this.hi(n)){var i=this.createVertex();i.node=n,this.Yg(i)}}for(e.reset();e.next();)if((n=e.value)instanceof vh&&(!t||n.isTopLevel)&&n.canLayout()&&r(n)&&null===this.Ho(n)){var o=n.fromNode;i=n.toNode,null!==o&&null!==i&&o!==i&&(o=this.findGroupVertex(o),i=this.findGroupVertex(i),null!==o&&null!==i&&this.Wj(o,i,n))}}},Od.prototype.findGroupVertex=function(e){if(null===e)return null;var t=e.findVisibleNode();if(null===t)return null;if(null!==(e=this.hi(t)))return e;for(t=t.containingGroup;null!==t;){if(null!==(e=this.hi(t)))return e;t=t.containingGroup}return null},(t=Od.prototype).Yg=function(e){if(null!==e){this.tf.add(e);var t=e.node;null!==t&&this.xs.add(t,e),e.network=this}},t.xl=function(e){if(null===e)return null;var t=this.hi(e);return null===t&&((t=this.createVertex()).node=e,this.Yg(t)),t},t.Cu=function(e){if(null!==e&&Ad(this,e)){for(var t=e.pg,r=t.count-1;0<=r;r--){var n=t.L(r);this.Kj(n)}for(e=(t=e.ig).count-1;0<=e;e--)r=t.L(e),this.Kj(r)}},t.Ry=function(e){null!==e&&(null!==(e=this.hi(e))&&this.Cu(e))},t.hi=function(e){return null===e?null:this.xs.I(e)},t.xo=function(e){if(null!==e){Ld(this,e);var t=e.toVertex;null!==t&&t.yl(e),null!==(t=e.fromVertex)&&t.vl(e)}},t.yy=function(e){if(null===e)return null;var t=e.fromNode,r=e.toNode,n=this.Ho(e);return null===n?((n=this.createEdge()).link=e,null!==t&&(n.fromVertex=this.xl(t)),null!==r&&(n.toVertex=this.xl(r)),this.xo(n)):(n.fromVertex=null!==t?this.xl(t):null,n.toVertex=null!==r?this.xl(r):null),n},t.Kj=function(e){if(null!==e){var t=e.toVertex;null!==t&&t.Fl(e),null!==(t=e.fromVertex)&&t.El(e),Nd(this,e)}},t.Qy=function(e){null!==e&&(null!==(e=this.Ho(e))&&this.Kj(e))},t.Ho=function(e){return null===e?null:this.ss.I(e)},t.Wj=function(e,t,r){if(null===e||null===t)return null;if(e.network===this&&t.network===this){var n=this.createEdge();return n.link=r,n.fromVertex=e,n.toVertex=t,this.xo(n),n}return null},t.dm=function(e){if(null!==e){var t=e.fromVertex,r=e.toVertex;null!==t&&null!==r&&(t.El(e),r.Fl(e),e.dm(),t.yl(e),r.vl(e))}},t.Go=function(){for(var e=E(),t=this.ue.iterator;t.next();){var r=t.value;r.fromVertex===r.toVertex&&e.push(r)}for(t=e.length,r=0;r<t;r++)this.Kj(e[r]);O(e)},Od.prototype.deleteArtificialVertexes=function(){for(var e=E(),t=this.tf.iterator;t.next();){var r=t.value;null===r.node&&null===r.data&&e.push(r)}for(r=e.length,t=0;t<r;t++)this.Cu(e[t]);for(t=E(),r=this.ue.iterator;r.next();){var n=r.value;null===n.link&&null===n.data&&t.push(n)}for(r=t.length,n=0;n<r;n++)this.Kj(t[n]);O(e),O(t)},Od.prototype.Vx=function(e){void 0===e&&(e=!0),e&&(this.deleteArtificialVertexes(),function(e){for(var t=E(),r=e.ue.iterator;r.next();){var n=r.value;null!==n.fromVertex&&null!==n.toVertex||t.push(n)}for(r=t.length,n=0;n<r;n++)e.Kj(t[n]);O(t)}(this),this.Go()),e=new Z;for(var t=!0;t;){t=!1;for(var r=this.tf.iterator;r.next();){var n=r.value;if(0<n.pg.count||0<n.ig.count){t=this.layout.createNetwork(),e.add(t),Rd(this,t,n),t=!0;break}}}return e.sort((function(e,t){return null===e||null===t||e===t?0:t.vertexes.count-e.vertexes.count})),e},Od.prototype.Wy=function(){for(var e=new J,t=this.tf.iterator;t.next();)e.add(t.value.node);for(t=this.ue.iterator;t.next();)e.add(t.value.link);return e},d.Object.defineProperties(Od.prototype,{layout:{get:function(){return this.Oc},set:function(e){null!==e&&(this.Oc=e)}},vertexes:{get:function(){return this.tf}},edges:{get:function(){return this.ue}}}),Od.prototype.findAllParts=Od.prototype.Wy,Od.prototype.splitIntoSubNetworks=Od.prototype.Vx,Od.prototype.deleteSelfEdges=Od.prototype.Go,Od.prototype.reverseEdge=Od.prototype.dm,Od.prototype.linkVertexes=Od.prototype.Wj,Od.prototype.findEdge=Od.prototype.Ho,Od.prototype.deleteLink=Od.prototype.Qy,Od.prototype.deleteEdge=Od.prototype.Kj,Od.prototype.addLink=Od.prototype.yy,Od.prototype.addEdge=Od.prototype.xo,Od.prototype.findVertex=Od.prototype.hi,Od.prototype.deleteNode=Od.prototype.Ry,Od.prototype.deleteVertex=Od.prototype.Cu,Od.prototype.addNode=Od.prototype.xl,Od.prototype.addVertex=Od.prototype.Yg,Od.prototype.addParts=Od.prototype.hg,Od.className="LayoutNetwork",Dd.prototype.clear=function(){this.Oh=this.ub=null,this.pg=new Z,this.ig=new Z},Dd.prototype.toString=function(e){void 0===e&&(e=0);var t="LayoutVertex#"+te(this);if(0<e&&(t+=null!==this.node?"("+this.node.toString()+")":"",1<e)){e="";for(var r=!0,n=this.pg.iterator;n.next();){var i=n.value;r?r=!1:e+=",",e+=i.toString(0)}for(i="",r=!0,n=this.ig.iterator;n.next();){r?r=!1:i+=",",i+=n.value.toString(0)}t+=" sources: "+e+" destinations: "+i}return t},Dd.prototype.commit=function(){var e=this.ub;if(null!==e){var t=this.bounds,r=e.bounds;j(r)?(r.x=t.x,r.y=t.y,r.width=t.width,r.height=t.height):e.bounds=t.copy()}else if(null!==(e=this.node)){if(t=this.bounds,!(e instanceof dh)){r=Ne.alloc(),e.Va();var n=this.network.layout.ki(e,r),i=e.locationObject.ja(rt);if(n.w()&&i.w())return e.moveTo(t.x+this.focusX-(i.x-n.x),t.y+this.focusY-(i.y-n.y)),void Ne.free(r);Ne.free(r)}e.moveTo(t.x,t.y)}},Dd.prototype.yl=function(e){null!==e&&(this.pg.contains(e)||this.pg.add(e))},Dd.prototype.Fl=function(e){null!==e&&this.pg.remove(e)},Dd.prototype.vl=function(e){null!==e&&(this.ig.contains(e)||this.ig.add(e))},Dd.prototype.El=function(e){null!==e&&this.ig.remove(e)},d.Object.defineProperties(Dd.prototype,{sourceEdgesArrayAccess:{get:function(){return this.pg._dataArray}},destinationEdgesArrayAccess:{get:function(){return this.ig._dataArray}},data:{get:function(){return this.ub},set:function(e){if(this.ub=e,null!==e&&e.bounds){var t=e.bounds;e=t.x;var r=t.y,n=t.width;t=t.height,this.m.h(n/2,t/2),this.j.h(e,r,n,t)}}},node:{get:function(){return this.Oh},set:function(e){if(this.Oh!==e){this.Oh=e,e.Va();var t=this.network.layout,r=Ne.alloc(),n=t.ki(e,r);t=n.x;var i=n.y,o=n.width;if(n=n.height,isNaN(t)&&(t=0),isNaN(i)&&(i=0),this.j.h(t,i,o,n),Ne.free(r),!(e instanceof dh)&&(e=e.locationObject.ja(rt)).w())return void this.m.h(e.x-t,e.y-i);this.m.h(o/2,n/2)}}},bounds:{get:function(){return this.j},set:function(e){this.j.C(e)||this.j.assign(e)}},focus:{get:function(){return this.m},set:function(e){this.m.C(e)||this.m.assign(e)}},centerX:{get:function(){return this.j.x+this.m.x},set:function(e){var t=this.j;t.x+this.m.x!==e&&(t.ka(),t.x=e-this.m.x,t.freeze())}},centerY:{get:function(){return this.j.y+this.m.y},set:function(e){var t=this.j;t.y+this.m.y!==e&&(t.ka(),t.y=e-this.m.y,t.freeze())}},focusX:{get:function(){return this.m.x},set:function(e){var t=this.m;t.x!==e&&(t.ka(),t.x=e,t.freeze())}},focusY:{get:function(){return this.m.y},set:function(e){var t=this.m;t.y!==e&&(t.ka(),t.y=e,t.freeze())}},x:{get:function(){return this.j.x},set:function(e){var t=this.j;t.x!==e&&(t.ka(),t.x=e,t.freeze())}},y:{get:function(){return this.j.y},set:function(e){var t=this.j;t.y!==e&&(t.ka(),t.y=e,t.freeze())}},width:{get:function(){return this.j.width},set:function(e){var t=this.j;t.width!==e&&(t.ka(),t.width=e,t.freeze())}},height:{get:function(){return this.j.height},set:function(e){var t=this.j;t.height!==e&&(t.ka(),t.height=e,t.freeze())}},network:{get:function(){return this.pb},set:function(e){this.pb=e}},sourceVertexes:{get:function(){for(var e=new J,t=this.sourceEdges;t.next();)e.add(t.value.fromVertex);return e.iterator}},destinationVertexes:{get:function(){for(var e=new J,t=this.destinationEdges;t.next();)e.add(t.value.toVertex);return e.iterator}},vertexes:{get:function(){for(var e=new J,t=this.sourceEdges;t.next();)e.add(t.value.fromVertex);for(t=this.destinationEdges;t.next();)e.add(t.value.toVertex);return e.iterator}},sourceEdges:{get:function(){return this.pg.iterator}},destinationEdges:{get:function(){return this.ig.iterator}},edges:{get:function(){for(var e=new Z,t=this.sourceEdges;t.next();)e.add(t.value);for(t=this.destinationEdges;t.next();)e.add(t.value);return e.iterator}},edgesCount:{get:function(){return this.pg.count+this.ig.count}}}),Dd.prototype.deleteDestinationEdge=Dd.prototype.El,Dd.prototype.addDestinationEdge=Dd.prototype.vl,Dd.prototype.deleteSourceEdge=Dd.prototype.Fl,Dd.prototype.addSourceEdge=Dd.prototype.yl,Dd.className="LayoutVertex",Dd.standardComparer=Id,Dd.smartComparer=function(e,t){if(null!==e){if(null!==t){e=e.Oh;var r=t.Oh;if(null!==e){if(null!==r){for(t=e.text.toLocaleLowerCase().split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/),e=r.text.toLocaleLowerCase().split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/),r=0;r<t.length;r++)if(""!==e[r]&&void 0!==e[r]){var n=parseFloat(t[r]),i=parseFloat(e[r]);if(isNaN(n)){if(!isNaN(i))return 1;if(0!==t[r].localeCompare(e[r]))return t[r].localeCompare(e[r])}else{if(isNaN(i))return-1;if(0!==n-i)return n-i}}else if(""!==t[r])return 1;return""!==e[r]&&void 0!==e[r]?-1:0}return 1}return null!==r?-1:0}return 1}return null!==t?-1:0},Fd.prototype.clear=function(){this.hd=this.bd=this.Vk=this.ub=null},Fd.prototype.toString=function(e){void 0===e&&(e=0);var t="LayoutEdge#"+te(this);return 0<e&&(t+=null!==this.Vk?"("+this.Vk.toString()+")":"",1<e&&(t+=" "+(this.bd?this.bd.toString():"null")+" --\x3e "+(this.hd?this.hd.toString():"null"))),t},Fd.prototype.dm=function(){var e=this.bd;this.bd=this.hd,this.hd=e},Fd.prototype.commit=function(){},Fd.prototype.ux=function(e){return this.hd===e?this.bd:this.bd===e?this.hd:null},d.Object.defineProperties(Fd.prototype,{network:{get:function(){return this.ob},set:function(e){this.ob=e}},data:{get:function(){return this.ub},set:function(e){this.ub!==e&&(this.ub=e)}},link:{get:function(){return this.Vk},set:function(e){this.Vk!==e&&(this.Vk=e)}},fromVertex:{get:function(){return this.bd},set:function(e){this.bd!==e&&(this.bd=e)}},toVertex:{get:function(){return this.hd},set:function(e){this.hd!==e&&(this.hd=e)}}}),Fd.prototype.getOtherVertex=Fd.prototype.ux,Fd.className="LayoutEdge",h(Bd,Pd),Bd.prototype.cloneProtected=function(e){Pd.prototype.cloneProtected.call(this,e),e.vo=this.vo,e.uo=this.uo,e.ug.assign(this.ug),e.qf.assign(this.qf),e.Hb=this.Hb,e.Mb=this.Mb,e.ed=this.ed,e.$c=this.$c},Bd.prototype.rb=function(e){e.classType===Bd?e===Xd||e===Yd||e===Hd||e===Wd?this.sorting=e:e===Gd||e===Vd?this.arrangement=e:e===qd||e===zd?this.alignment=e:w("Unknown enum value: "+e):Pd.prototype.rb.call(this,e)},Bd.prototype.doLayout=function(e){this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin);var t=this.Yw(e);e=this.diagram;for(var r=t.copy().iterator;r.next();){var n=r.value;if(!n.kh()||null===n.fromNode&&null===n.toNode){if(n.Va(),n instanceof dh)for(n=n.memberParts;n.next();)t.remove(n.value)}else t.remove(n)}var i=t.Fa();if(0!==i.length){switch(this.sorting){case Wd:i.reverse();break;case Xd:i.sort(this.comparer);break;case Yd:i.sort(this.comparer),i.reverse()}var o=this.wrappingColumn;isNaN(o)&&(o=0);var a=this.wrappingWidth;switch(isNaN(a)&&null!==e?(t=e.padding,a=Math.max(e.viewportBounds.width-t.left-t.right,0)):a=Math.max(this.wrappingWidth,0),0>=o&&0>=a&&(o=1),t=this.spacing.width,isFinite(t)||(t=0),r=this.spacing.height,isFinite(r)||(r=0),null!==e&&e.Ea("Layout"),n=[],this.alignment){case zd:var s=t,l=r,u=Ne.alloc(),c=Math.max(this.cellSize.width,1);if(!isFinite(c))for(var h=c=0;h<i.length;h++){var d=this.ki(i[h],u);c=Math.max(c,d.width)}if(c=Math.max(c+s,1),h=Math.max(this.cellSize.height,1),!isFinite(h))for(d=h=0;d<i.length;d++){var f=this.ki(i[d],u);h=Math.max(h,f.height)}h=Math.max(h+l,1),d=this.arrangement;for(var p=f=this.arrangementOrigin.x,m=this.arrangementOrigin.y,y=0,g=0,v=0;v<i.length;v++){var b=i[v],x=this.ki(b,u),w=Math.ceil((x.width+s)/c)*c,S=Math.ceil((x.height+l)/h)*h;if(d===Vd)var k=Math.abs(p-x.width);else k=p+x.width;if((0<o&&y>o-1||0<a&&0<y&&k-f>a)&&(n.push(new Ne(0,m,a+s,g)),y=0,p=f,m+=g,g=0),g=Math.max(g,S),d===Vd)x=-x.width;else x=0;if(b.moveTo(p+x,m),d===Vd)p-=w;else p+=w;y++}n.push(new Ne(0,m,a+s,g)),Ne.free(u);break;case qd:for(l=a,c=o,h=t,d=r,a=Ne.alloc(),f=Math.max(this.cellSize.width,1),o=m=u=0,s=pe.alloc(),p=0;p<i.length;p++)g=i[p],y=this.ki(g,a),g=_c(g,g.locationObject,g.locationSpot,s),u=Math.max(u,g.x),m=Math.max(m,y.width-g.x),o=Math.max(o,g.y);if((p=this.arrangement)===Vd)u+=h;else m+=h;f=isFinite(f)?Math.max(f+h,1):Math.max(u+m,1);var _=g=this.arrangementOrigin.x;for(v=this.arrangementOrigin.y,m=0,l>=u&&(l-=u),u=b=0,w=Math.max(this.cellSize.height,1),x=o=0,S=!0,y=pe.alloc(),k=0;k<i.length;k++){var j=i[k],M=this.ki(j,a),C=_c(j,j.locationObject,j.locationSpot,s);if(0<m)if(p===Vd)_=(_-g-(M.width-C.x))/f,_=(_=Gt.$(Math.round(_),_)?Math.round(_):Math.floor(_))*f+g;else _=(_-g+C.x)/f,_=(_=Gt.$(Math.round(_),_)?Math.round(_):Math.ceil(_))*f+g;else if(p===Vd)b=_+C.x+M.width;else b=_-C.x;if(p===Vd)var P=-(_+C.x)+b;else P=_+M.width-C.x-b;if(0<c&&m>c-1||0<l&&0<m&&P>l){for(n.push(new Ne(0,S?v-o:v,l+h,x+o+d)),_=0;_<m&&k!==m;_++){var T=_c(P=i[k-m+_],P.locationObject,P.locationSpot,y);P.moveTo(P.position.x,P.position.y+o-T.y)}x+=d,v=S?v+x:v+(x+o),m=x=o=0,_=g,S=!1}if(_===g&&(u=p===Vd?Math.max(u,M.width-C.x):Math.min(u,-C.x)),o=Math.max(o,C.y),x=Math.max(x,M.height-C.y),isFinite(w)&&(x=Math.max(x,Math.max(M.height,w)-C.y)),S?j.moveTo(_-C.x,v-C.y):j.moveTo(_-C.x,v),p===Vd)_-=C.x+h;else _+=M.width-C.x+h;m++}if(n.push(new Ne(0,v,l+h,(S?x:x+o)+d)),i.length!==m)for(l=0;l<m;l++)h=_c(c=i[i.length-m+l],c.locationObject,c.locationSpot,s),c.moveTo(c.position.x,c.position.y+o-h.y);if(pe.free(s),pe.free(y),p===Vd)for(i=0;i<n.length;i++)(o=n[i]).width+=u,o.x-=u;else for(i=0;i<n.length;i++)(o=n[i]).x>u&&(o.width+=o.x-u,o.x=u);Ne.free(a)}for(s=o=a=i=0;s<n.length;s++)l=n[s],i=Math.min(i,l.x),a=Math.min(a,l.y),o=Math.max(o,l.x+l.width);this.arrangement===Vd?this.commitLayers(n,new pe(i+t/2-(o+i),a-r/2)):this.commitLayers(n,new pe(i-t/2,a-r/2)),null!==e&&e.eb("Layout"),this.isValidLayout=!0}},Bd.prototype.commitLayers=function(){},d.Object.defineProperties(Bd.prototype,{wrappingWidth:{get:function(){return this.vo},set:function(e){this.vo!==e&&(0<e||isNaN(e))&&(this.vo=e,this.isViewportSized=isNaN(e),this.D())}},wrappingColumn:{get:function(){return this.uo},set:function(e){this.uo!==e&&(0<e||isNaN(e))&&(this.uo=e,this.D())}},cellSize:{get:function(){return this.ug},set:function(e){this.ug.C(e)||(this.ug.assign(e),this.D())}},spacing:{get:function(){return this.qf},set:function(e){this.qf.C(e)||(this.qf.assign(e),this.D())}},alignment:{get:function(){return this.Hb},set:function(e){this.Hb===e||e!==qd&&e!==zd||(this.Hb=e,this.D())}},arrangement:{get:function(){return this.Mb},set:function(e){this.Mb===e||e!==Gd&&e!==Vd||(this.Mb=e,this.D())}},sorting:{get:function(){return this.ed},set:function(e){this.ed===e||e!==Hd&&e!==Wd&&e!==Xd&&e!==Yd||(this.ed=e,this.D())}},comparer:{get:function(){return this.$c},set:function(e){this.$c!==e&&(this.$c=e,this.D())}}});var zd=new U(Bd,"Position",0),qd=new U(Bd,"Location",1),Gd=new U(Bd,"LeftToRight",2),Vd=new U(Bd,"RightToLeft",3),Hd=new U(Bd,"Forward",4),Wd=new U(Bd,"Reverse",5),Xd=new U(Bd,"Ascending",6),Yd=new U(Bd,"Descending",7);function Kd(){this.Kn=new J,this.zn=new J,this.Oa=new J,this.Ze=new fe,this.Ye=new fe,this.Yi=new fe,this.H=null,this.np=!1}function Zd(e,t,r){if(void 0!==t&&null!==t&&!e.diagram.undoManager.isUndoingRedoing&&!e.Ze.contains(t)){void 0===r&&(r=!0);e:{if(void 0!==t&&null!==t&&!e.H.undoManager.isUndoingRedoing&&!e.Ze.contains(t)){var n=e.Lo(t),i=$d(e,t,n);if(null!==i&&(Vl(i),null!==(i=i.copy()))){var o=e.diagram.skipsModelSourceBindings;e.diagram.skipsModelSourceBindings=!0,i.Qf=n,i.ub=t,e.np&&(i.Eg="Tool"),e.diagram.add(i),i.ub=null,i.data=t,e.diagram.skipsModelSourceBindings=o,n=i;break e}}n=null}null!==n&&r&&e.resolveReferencesForData(t)}}function $d(e,t,r){var n=(e=e.H).model;return n.Uj()&&n.Uu(t)?null===(t=e.groupTemplateMap.I(r))&&(null===(t=e.groupTemplateMap.I(""))&&(of||(of=!0,_('No Group template found for category "'+r+'"'),_("  Using default group template")),t=e.hy)):null===(t=e.nodeTemplateMap.I(r))&&(null===(t=e.nodeTemplateMap.I(""))&&(nf||(nf=!0,_('No Node template found for category "'+r+'"'),_("  Using default node template")),t=e.jy)),t}function Jd(e,t,r){for(var n in r){var i=t[n],o=r[n];if(M(o)){if(!M(i)||i.length<o.length)return!1;for(var a=0;a<i.length;a++){var s=o[a];if(void 0!==s&&!Qd(e,i[a],s))return!1}}else if(!Qd(e,i,o))return!1}return!0}function Qd(e,t,r){if("function"===typeof r){if(!r(t))return!1}else if(r instanceof RegExp){if(!t||!r.test(t.toString()))return!1}else if(j(t)&&j(r)){if(!Jd(e,t,r))return!1}else if(t!==r)return!1;return!0}function ef(e,t){var r=t.Dh;if(M(r)){var n=e.Yi.I(r);if(null===n)(n=[]).push(t),e.Yi.add(r,n);else{for(e=0;e<n.length;e++)if(n[e]===t)return;n.push(t)}}}function tf(e,t,r){El(t,(function(e){for(var t=(e=e.P.s).length,n=0;n<t;n++)xo(r,e[n])}));var n=t.Dh;if(M(n)){var i=e.Yi.I(n);if(null!==i)for(var o=0;o<i.length;o++)if(i[o]===t){i.splice(o,1),0===i.length&&e.Yi.remove(n);break}}}function rf(e,t,r,n,i){if(null===t||i&&!t.canCopy())return null;if(n.contains(t))return n.I(t);var o=e.copyPartData(t,r);if(!(o instanceof vc))return null;if(o.isSelected=!1,o.isHighlighted=!1,n.add(t,o),t instanceof Wc){for(var a=t.linksConnected;a.next();){var s=a.value;if(s.fromNode===t){var l=n.I(s);null!==l&&(l.fromNode=o)}s.toNode===t&&(null!==(s=n.I(s))&&(s.toNode=o))}if(t instanceof dh&&o instanceof dh)for(t=t.memberParts;t.next();)(a=rf(e,t.value,r,n,i))instanceof vh||null===a||(a.containingGroup=o)}else if(t instanceof vh&&o instanceof vh)for(null!==(a=t.fromNode)&&(null!==(a=n.I(a))&&(o.fromNode=a)),null!==(a=t.toNode)&&(null!==(a=n.I(a))&&(o.toNode=a)),t=t.labelNodes;t.next();)null!==(a=rf(e,t.value,r,n,i))&&a instanceof Wc&&(a.labeledLink=o);return o}Bd.className="GridLayout",Bd.standardComparer=Ud,Bd.smartComparer=function(e,t){if(null!==e){if(null!==t){e=e.text.toLocaleLowerCase().split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/),t=t.text.toLocaleLowerCase().split(/([+-]?[.]?\d+(?:\.\d*)?(?:e[+-]?\d+)?)/);for(var r=0;r<e.length;r++)if(""!==t[r]&&void 0!==t[r]){var n=parseFloat(e[r]),i=parseFloat(t[r]);if(isNaN(n)){if(!isNaN(i))return 1;if(0!==e[r].localeCompare(t[r]))return e[r].localeCompare(t[r])}else{if(isNaN(i))return-1;if(0!==n-i)return n-i}}else if(""!==e[r])return 1;return""!==t[r]&&void 0!==t[r]?-1:0}return 1}return null!==t?-1:0},Bd.Position=zd,Bd.Location=qd,Bd.LeftToRight=Gd,Bd.RightToLeft=Vd,Bd.Forward=Hd,Bd.Reverse=Wd,Bd.Ascending=Xd,Bd.Descending=Yd,(t=Kd.prototype).clear=function(){this.Kn.clear(),this.zn.clear(),this.Oa.clear(),this.Ze.clear(),this.Ye.clear(),this.Yi.clear()},t.Te=function(e){this.H=e},t.li=function(e){if(e instanceof Wc){if(this.Kn.add(e),e instanceof dh){var t=e.containingGroup;null===t?this.H.Yh.add(e):t.bl.add(e),null!==(t=e.layout)&&(t.diagram=this.H)}}else e instanceof vh?this.zn.add(e):e instanceof Vc||this.Oa.add(e);null===(t=e.data)||e instanceof Vc||(e instanceof vh?this.Ye.add(t,e):this.Ze.add(t,e))},t.mc=function(e){if(e.Cj(),e instanceof Wc){if(this.Kn.remove(e),e instanceof dh){var t=e.containingGroup;null===t?this.H.Yh.remove(e):t.bl.remove(e),null!==(t=e.layout)&&(t.diagram=null)}}else e instanceof vh?this.zn.remove(e):e instanceof Vc||this.Oa.remove(e);null===(t=e.data)||e instanceof Vc||(e instanceof vh?this.Ye.remove(t):this.Ze.remove(t))},t.Rd=function(){var e=this.H;if(null!==e){for(var t=e.nodeTemplateMap.iterator;t.next();){var r=t.value,n=t.key;(!r.Uc()||r instanceof dh)&&w('Invalid node template in Diagram.nodeTemplateMap: template for "'+n+'" must be a Node or a simple Part, not a Group or Link: '+r)}for(t=e.groupTemplateMap.iterator;t.next();)r=t.value,n=t.key,r instanceof dh||w('Invalid group template in Diagram.groupTemplateMap: template for "'+n+'" must be a Group, not a normal Node or Link: '+r);for(t=e.linkTemplateMap.iterator;t.next();)r=t.value,n=t.key,r instanceof vh||w('Invalid link template in Diagram.linkTemplateMap: template for "'+n+'" must be a Link, not a normal Node or simple Part: '+r);for(t=E(),r=e.selection.iterator;r.next();)(n=r.value.data)&&t.push(n);for(r=E(),e=e.highlighteds.iterator;e.next();)(n=e.value.data)&&r.push(n);for(e=E(),n=this.nodes.iterator;n.next();){var i=n.value;null!==i.data&&(e.push(i.data),e.push(i.location))}for(n=this.links.iterator;n.next();)null!==(i=n.value).data&&(e.push(i.data),e.push(i.location));for(n=this.parts.iterator;n.next();)null!==(i=n.value).data&&(e.push(i.data),e.push(i.location));for(this.removeAllModeledParts(),this.addAllModeledParts(),n=0;n<t.length;n++)null!==(i=this.Ic(t[n]))&&(i.isSelected=!0);for(n=0;n<r.length;n++)null!==(i=this.Ic(r[n]))&&(i.isHighlighted=!0);for(n=0;n<e.length;n+=2)null!==(i=this.Ic(e[n]))&&(i.location=e[n+1]);O(t),O(r),O(e)}},Kd.prototype.addAllModeledParts=function(){this.addModeledParts(this.diagram.model.nodeDataArray)},Kd.prototype.addModeledParts=function(e,t){var r=this,n=this.diagram.model;e.forEach((function(e){n.mb(e)&&Zd(r,e,!1)})),e.forEach((function(e){n.mb(e)&&r.resolveReferencesForData(e)})),!1!==t&&ko(this.diagram,!1)},Kd.prototype.insertLink=function(){return null},Kd.prototype.resolveReferencesForData=function(){},Kd.prototype.Lo=function(e){return this.H.model.Lo(e)},Kd.prototype.getLinkCategoryForData=function(){return""},Kd.prototype.setLinkCategoryForData=function(){},Kd.prototype.setFromNodeForLink=function(){},Kd.prototype.setToNodeForLink=function(){},Kd.prototype.findLinkTemplateForCategory=function(e){var t=this.H,r=t.linkTemplateMap.I(e);return null===r&&(null===(r=t.linkTemplateMap.I(""))&&(af||(af=!0,_('No Link template found for category "'+e+'"'),_("  Using default link template")),r=t.iy)),r},Kd.prototype.removeAllModeledParts=function(){this.zs(this.diagram.model.nodeDataArray)},Kd.prototype.zs=function(e){var t=this;e.forEach((function(e){t.bp(e)}))},Kd.prototype.bp=function(e){null!==(e=this.Ic(e))&&(oo(this.diagram,e,!1),this.unresolveReferencesForPart(e))},Kd.prototype.unresolveReferencesForPart=function(){},Kd.prototype.removeDataForLink=function(){},Kd.prototype.findPartForKey=function(e){return null===e||void 0===e?null:null!==(e=this.H.model.dc(e))?this.Ze.I(e):null},Kd.prototype.Rb=function(e){return null===e||void 0===e||null===(e=this.H.model.dc(e))?null:(e=this.Ze.I(e))instanceof Wc?e:null},Kd.prototype.findLinkForKey=function(){return null},(t=Kd.prototype).Ic=function(e){if(null===e)return null;var t=this.Ze.I(e);return null!==t?t:t=this.Ye.I(e)},t.fi=function(e){return null===e?null:(e=this.Ze.I(e))instanceof Wc?e:null},t.Hc=function(e){return null===e?null:this.Ye.I(e)},t.es=function(e){for(var t=0;t<arguments.length;++t);t=new J;for(var r=this.Kn.iterator;r.next();){var n=r.value,i=n.data;if(null!==i)for(var o=0;o<arguments.length;o++){var a=arguments[o];if(j(a)&&Jd(this,i,a)){t.add(n);break}}}return t.iterator},t.ds=function(e){for(var t=0;t<arguments.length;++t);t=new J;for(var r=this.zn.iterator;r.next();){var n=r.value,i=n.data;if(null!==i)for(var o=0;o<arguments.length;o++){var a=arguments[o];if(j(a)&&Jd(this,i,a)){t.add(n);break}}}return t.iterator},Kd.prototype.doModelChanged=function(e){if(this.H){var t=this.H;if(e.model===t.model){var r=e.change;if(t.doModelChanged(e),t.aa){t.aa=!1;try{var n=e.modelChange;if(""!==n)if(r===dr){if("nodeCategory"===n){var i=this.Ic(e.object),o=e.newValue;null!==i&&"string"===typeof o&&(i.category=o)}else"nodeDataArray"===n&&(this.zs(e.oldValue),this.addModeledParts(e.newValue));t.isModified=!0}else if(r===fr){var a=e.newValue;"nodeDataArray"===n&&j(a)&&Zd(this,a),t.isModified=!0}else if(r===pr){var s=e.oldValue;"nodeDataArray"===n&&j(s)&&this.bp(s),t.isModified=!0}else r===hr&&("SourceChanged"===n?null!==e.object?this.updateDataBindings(e.object,e.propertyName):(this.lp(),this.updateAllTargetBindings()):"ModelDisplaced"===n&&this.Rd());else if(r===dr){var l=e.propertyName,u=e.object;u===t.model?"nodeKeyProperty"!==l&&"nodeCategoryProperty"!==l||t.undoManager.isUndoingRedoing||this.Rd():this.updateDataBindings(u,l),t.isModified=!0}else if(r===fr||r===pr){var c=e.change===fr,h=c?e.newParam:e.oldParam,d=c?e.newValue:e.oldValue,f=this.Yi.I(e.object);if(Array.isArray(f))for(e=0;e<f.length;e++){var p=f[e];if(c)Xl(p,d,h,!0);else if(!(0>h)){var m=h+Hl(p);p.mc(m,!0),Yl(p,m,h)}}t.isModified=!0}}finally{t.aa=!0}}}}},Kd.prototype.updateAllTargetBindings=function(e){void 0===e&&(e="");for(var t=this.parts.iterator;t.next();)t.value.Ma(e);for(t=this.nodes.iterator;t.next();)t.value.Ma(e);for(t=this.links.iterator;t.next();)t.value.Ma(e)},Kd.prototype.lp=function(){for(var e=this.H.model,t=new J,r=e.nodeDataArray,n=0;n<r.length;n++)t.add(r[n]);var i=[];for(this.nodes.each((function(e){null===e.data||t.contains(e.data)||i.push(e.data)})),this.parts.each((function(e){null===e.data||t.contains(e.data)||i.push(e.data)})),i.forEach((function(t){Cf(e,t,!1)})),n=0;n<r.length;n++){var o=r[n];null===this.Ic(o)&&Mf(e,o,!1)}for(this.refreshDataBoundLinks(),r=this.parts.iterator;r.next();)r.value.updateRelationshipsFromData();for(r=this.nodes.iterator;r.next();)r.value.updateRelationshipsFromData();for(r=this.links.iterator;r.next();)r.value.updateRelationshipsFromData()},Kd.prototype.refreshDataBoundLinks=function(){},Kd.prototype.updateRelationshipsFromData=function(){},Kd.prototype.updateDataBindings=function(e,t){if("string"===typeof t){var r=this.Ic(e);if(null!==r)r.Ma(t);else{r=null;for(var n=this.Yi.iterator;n.next();){for(var i=n.value,o=0;o<i.length;o++){var a=i[o].lx(e);null!==a&&(null===r&&(r=E()),r.push(a))}if(null!==r)break}if(null!==r){for(n=0;n<r.length;n++)r[n].Ma(t);O(r)}}e===this.diagram.model.modelData&&this.updateAllTargetBindings(t)}},Kd.prototype.Ij=function(e,t,r){void 0===r&&(r=!1);var n=new fe;if(M(e))for(var i=0;i<e.length;i++)rf(this,e[i],t,n,r);else for(e=e.iterator;e.next();)rf(this,e.value,t,n,r);if(null!==t){r=t.model,e=null!==(e=t.toolManager.findTool("Dragging"))?e.dragOptions.dragsLink:t.Tm.dragsLink,i=new J;for(var o=new fe,a=n.iterator;a.next();){var s=a.value;if(s instanceof vh)e||null!==s.fromNode&&null!==s.toNode||i.add(s);else if(s instanceof Wc&&null!==s.data&&r.Pl()){var l=s,u=(s=a.key).lg();null!==u&&(null!==(u=n.I(u))?(r.me(l.data,r.va(u.data)),l=t.Hc(l.data),null!==(s=s.fh())&&null!==l&&o.add(s,l)):r.me(l.data,void 0))}}if(0<i.count&&t.Bs(i,!1),0<o.count)for(r=o.iterator;r.next();)n.add(r.key,r.value)}if(null!==t&&null!==this.H&&null!==(r=(t=t.model).afterCopyFunction)){var c=new fe;n.each((function(e){null!==e.key.data&&c.add(e.key.data,e.value.data)})),r(c,t,this.H.model)}for(t=n.iterator;t.next();)t.value.Ma();return n},Kd.prototype.copyPartData=function(e,t){var r=null,n=e.data;if(null!==n&&null!==t){var i=t.model;e instanceof vh||j(n=i.copyNodeData(n))&&(i.uf(n),r=t.Ic(n))}else Vl(e),null!==(r=e.copy())&&(i=this.H,null!==t?t.add(r):null!==n&&null!==i&&null!==i.commandHandler&&i.commandHandler.copiesClipboardData&&(t=i.model,i=null,r instanceof vh||(i=t.copyNodeData(n)),j(i)&&(r.data=i)));return r},d.Object.defineProperties(Kd.prototype,{nodes:{get:function(){return this.Kn}},links:{get:function(){return this.zn}},parts:{get:function(){return this.Oa}},diagram:{get:function(){return this.H}},addsToTemporaryLayer:{get:function(){return this.np},set:function(e){this.np=e}}}),Kd.prototype.updateAllRelationshipsFromData=Kd.prototype.lp,Kd.prototype.findLinksByExample=Kd.prototype.ds,Kd.prototype.findNodesByExample=Kd.prototype.es,Kd.prototype.findLinkForData=Kd.prototype.Hc,Kd.prototype.findNodeForData=Kd.prototype.fi,Kd.prototype.findPartForData=Kd.prototype.Ic,Kd.prototype.findNodeForKey=Kd.prototype.Rb,Kd.prototype.removeModeledPart=Kd.prototype.bp,Kd.prototype.removeModeledParts=Kd.prototype.zs,Kd.prototype.rebuildParts=Kd.prototype.Rd;var nf=!1,of=!1,af=!1;function sf(e){Kd.apply(this,arguments)}function lf(e,t){t.forEach((function(t){uf(e,t)})),ko(e.diagram,!1)}function uf(e,t){if(void 0!==t&&null!==t&&!e.diagram.undoManager.isUndoingRedoing&&!e.Ye.contains(t)){var r=e.getLinkCategoryForData(t),n=e.findLinkTemplateForCategory(r);if(null!==n){Vl(n);var i=n.copy();if(null!==i){n=e.diagram.skipsModelSourceBindings,e.diagram.skipsModelSourceBindings=!0,i.Qf=r,i.ub=t;var o=Yf(r=e.diagram.model,t,!0);""!==o&&(i.fromPortId=o),void 0!==(o=Wf(r,t,!0))&&((o=e.Rb(o))instanceof Wc&&(i.fromNode=o)),""!==(o=Yf(r,t,!1))&&(i.toPortId=o),void 0!==(o=Wf(r,t,!1))&&((o=e.Rb(o))instanceof Wc&&(i.toNode=o)),r=r.Bf(t),Array.isArray(r)&&r.forEach((function(t){null!==(t=e.Rb(t))&&(t.labeledLink=i)})),e.np&&(i.Eg="Tool"),e.diagram.add(i),i.ub=null,i.data=t,e.diagram.skipsModelSourceBindings=n}}}}function cf(e,t){t.forEach((function(t){e.bp(t)}))}function hf(){Kd.apply(this,arguments),this.Ng=null}function df(e,t,r){if(null!==t&&null!==r&&null===r.fh()){var n=e.diagram.toolManager.findTool("Linking"),i=t,o=r;if(e.diagram.isTreePathToChildren||(i=r,o=t),(null===n||!Zr(n,i,o,null,!0))&&(t=e.getLinkCategoryForData(r.data),null!==(n=e.findLinkTemplateForCategory(t))&&(Vl(n),null!==(n=n.copy())))){var a=e.diagram.skipsModelSourceBindings;e.diagram.skipsModelSourceBindings=!0,n.Qf=t,n.ub=r.data,n.fromNode=i,n.toNode=o,e.diagram.add(n),n.ub=null,n.data=r.data,e.diagram.skipsModelSourceBindings=a}}}function ff(e,t){this.fl=new J,this.dl=new J,this.Pv=',\n  "insertedNodeKeys": ',this.ey=',\n  "modifiedNodeData": ',this.Rv=',\n  "removedNodeKeys": ',this.qh=null,Q(this),this.Pm=this.wa="",this.Cg=!1,this.j={},this.Pc=[],this.lb=new fe,this.Ph="key",this.wk=this.Xk=null,this.Gm=this.Hm=!1,this.Jm=!0,this.um=null,this.jj="category",this.Sf=new fe,this.Et=new Z,this.Qg=!1,this.m=null,this.undoManager=new yr,void 0!==e&&(M(e)?this.nodeDataArray=e:Object.assign(this,e)),t&&Object.assign(this,t)}function pf(e,t,r,n,i,o){function a(e,r){s?(void 0===e.__gohashid&&o.push(e),n.set(e,r)):(e=se++,n.set(e,r),i.set(e,t))}if(!j(t))return t;o||(o=[]);var s=Object.isExtensible(t);if(n||(n=new fe),s){var l=n.get(t);if(l)return l}else for(i||(i=new fe),l=i.iterator;l.next();){var u=l.key;if(l.value===t&&(u=n.get(u)))return u}if(Array.isArray(t)){a(t,l=[]);for(var c=0;c<t.length;c++)l.push(pf(e,t[c],!1,n,i,o))}else if(t instanceof pe||t instanceof Ee||t instanceof Ne||t instanceof Ye||t instanceof Dt)l=t.copy(),a(t,l);else{if(t instanceof As||t instanceof Vt||t instanceof U)return t;if(t instanceof Z)l=(new Z).addAll(pf(e,t.Fa(),!1,n,i,o)),a(t,l);else if(t instanceof J)l=(new J).addAll(pf(e,t.Fa(),!1,n,i,o)),a(t,l);else if(t instanceof fe)l=(new fe).addAll(pf(e,t.Fa(),!1,n,i,o)),a(t,l);else if(t instanceof Date)l=new Date(t.getTime()),a(t,l);else if(t instanceof RegExp)l=new RegExp(t),a(t,l),l.lastIndex=t.lastIndex;else if("function"===typeof t.copy)l=t.copy(),a(t,l);else for(c in a(t,l={}),t)"__gohashid"!==c&&(l[c]=pf(e,t[c],!1,n,i,o))}return r&&o.forEach((function(e){delete e.__gohashid})),l}function mf(e,t){j(t=t.modelData)&&(e.am(t),e.modelData=t)}function yf(e,t){function r(e,t){if((t=t.part)&&e!==(t=t.data)){var r=n.get(e);null===r?((r=new J).add(t),n.add(e,r)):r.add(t)}}var n=e.qh;null===n&&(n=new fe,t.changes.each((function(e){if(null!==e.diagram){var t=e.change;t===dr?(e=e.object.panel)&&(t=e.data)&&r(t,e):t!==fr&&t!==pr||(t=(e=e.object).itemArray)&&r(t,e)}})),e.qh=n)}function gf(e,t){for(var r=new J,n=0;n<e.nodeDataArray.length;n++){var i=e.nodeDataArray[n];vf(e,t,i,i,r)}return r}function vf(e,t,r,n,i){if(Array.isArray(r))for(var o=0;o<r.length;o++){var a=r[o];if(a===t)return i.add(n),!0;if(vf(e,t,a,n,i))return!0}else if(j(r)&&Object.getPrototypeOf(r)===Object.prototype)for(o in r){if((a=r[o])===t)return i.add(n),!0;if(vf(e,t,a,n,i))return!0}return!1}function bf(e,t,r){void 0===r&&(r=!1);var n=t.length;if(0>=n)return"[]";var i=new q;i.add("["),r&&1<n&&i.add("\n");for(var o=0;o<n;o++){var a=t[o];void 0!==a&&(0<o&&(i.add(","),r&&i.add("\n")),i.add(e.pm(a)))}return r&&1<n&&i.add("\n"),i.add("]"),i.toString()}function xf(e,t){return void 0===t||"__gohashid"===e||"_"===e[0]||"function"===typeof t}function wf(e){return isNaN(e)?"NaN":1/0===e?"9e9999":-1/0===e?"-9e9999":e}function Sf(e,t){var r=t;if(r instanceof pe)t={class:"go.Point",x:wf(r.x),y:wf(r.y)};else if(r instanceof Ee)t={class:"go.Size",width:wf(r.width),height:wf(r.height)};else if(r instanceof Ne)t={class:"go.Rect",x:wf(r.x),y:wf(r.y),width:wf(r.width),height:wf(r.height)};else if(r instanceof Ye)t={class:"go.Margin",top:wf(r.top),right:wf(r.right),bottom:wf(r.bottom),left:wf(r.left)};else if(r instanceof Dt)t=r.tb()?{class:"go.Spot",x:wf(r.x),y:wf(r.y),offsetX:wf(r.offsetX),offsetY:wf(r.offsetY)}:{class:"go.Spot",enum:r.toString()};else if(r instanceof As){if(t={class:"go.Brush",type:r.type.name},r.type===Ws?t.color=r.color:r.type!==Xs&&r.type!==Ys||(t.start=r.start,t.end=r.end,r.type===Ys&&(0!==r.startRadius&&(t.startRadius=wf(r.startRadius)),isNaN(r.endRadius)||(t.endRadius=wf(r.endRadius)))),null!==r.colorStops){var n={};for(r=r.colorStops.iterator;r.next();)n[r.key]=r.value;t.colorStops=n}}else r instanceof Vt?(t={class:"go.Geometry",type:r.type.name},0!==r.startX&&(t.startX=wf(r.startX)),0!==r.startY&&(t.startY=wf(r.startY)),0!==r.endX&&(t.endX=wf(r.endX)),0!==r.endY&&(t.endY=wf(r.endY)),r.spot1.C(Je)||(t.spot1=r.spot1),r.spot2.C(at)||(t.spot2=r.spot2),r.type===Vt.m&&(t.path=Vt.ga(r))):r instanceof U&&(t={class:"go.EnumValue",classType:Lf(e,r.classType),name:r.name});for(var i in n="{",r=!0,t){var o=Rf(t,i);if(!xf(i,o))if(r?r=!1:n+=",",n+=e.quote(i)+":","points"===i&&o instanceof Z){var a="[";for(o=o.iterator;o.next();){var s=o.value;1<a.length&&(a+=","),a+=e.pm(s.x),a+=",",a+=e.pm(s.y)}n+=a+="]"}else n+=e.pm(o)}return n+"}"}function kf(e){return"number"===typeof e?e:"NaN"===e?NaN:"9e9999"===e?1/0:"-9e9999"===e?-1/0:parseFloat(e)}function _f(e,t,r,n,i,o,a,s,l){void 0===s&&(s=null),void 0===l&&(l=null);var u=new cr;u.model=e,u.change=r,u.modelChange=t,u.propertyName=n,u.object=i,u.oldValue=o,u.oldParam=s,u.newValue=a,u.newParam=l,e.Vr(u)}function jf(e){return"number"===typeof e||"string"===typeof e}function Mf(e,t,r){var n=e.va(t);void 0!==n&&e.lb.I(n)===t||(e.Wu(t),void 0===(n=e.va(t))&&w("Model.makeNodeDataKeyUnique failed on "+t+".  Data not added to Model."),e.lb.add(n,t),n=null,r&&(n=e.Pc.length,P(e.Pc,n,t)),_f(e,"nodeDataArray",fr,"nodeDataArray",e,null,t,null,n),e.cm(t),e.bm(t))}function Cf(e,t,r){var n=e.va(t);if(void 0!==n&&e.lb.remove(n),n=null,r){e:if(r=e.Pc,Array.isArray(r))n=r.indexOf(t);else{n=r.length;for(var i=0;i<n;i++)if(r[i]===t){n=i;break e}n=-1}if(0>n)return;T(e.Pc,n)}_f(e,"nodeDataArray",pr,"nodeDataArray",e,t,null,n,null),e.kp(t)}function Pf(e,t,r){if(void 0!==t){var n=e.Sf.I(t);null===n&&(n=new J,e.Sf.add(t,n)),n.add(r)}}function Tf(e,t,r){if(void 0!==t){var n=e.Sf.I(t);n instanceof J&&(void 0===r||null===r?e.Sf.remove(t):(n.remove(r),0===n.count&&e.Sf.remove(t)))}}function Ef(e,t){return void 0===t?null:(e=e.Sf.I(t))instanceof J?e:null}function Of(e,t,r){if(e.copiesArrays&&Array.isArray(t)){var n=[];for(r=0;r<t.length;r++){var i=Of(e,t[r],e.copiesArrayObjects);n.push(i)}return Q(n),n}if(r&&j(t)){for(n in r=(r=t.constructor)?new r:{},i=e.copiesKey||"string"!==typeof e.nodeKeyProperty?null:e.nodeKeyProperty,t)if("__gohashid"===n)r.__gohashid=void 0;else if(n===i)r[i]=void 0;else{var o=Rf(t,n),a=Lf(e,o);"GraphObject"===a||"Diagram"===a||"Layer"===a||"RowColumnDefinition"===a||"AnimationManager"===a||"Tool"===a||"CommandHandler"===a||"Layout"===a||"InputEvent"===a||"DiagramEvent"===a||o instanceof ff||o instanceof yr||o instanceof mr||o instanceof cr||(o=Of(e,o,!1)),Df(r,n,o)}return Q(r),r}return t instanceof pe||t instanceof Ee||t instanceof Ne||t instanceof Dt||t instanceof Ye?t.copy():t}function Af(){return new ff}function Lf(e,t){if("function"===typeof t){if(t.className)return t.className;if(t.name)return t.name}else if("object"===typeof t&&null!==t&&t.constructor)return Lf(e,t.constructor);return typeof t}function Nf(e){return Ff[e]?Ff[e]:void 0!==y.go&&y.go[e]?y.go[e]:null}function Rf(e,t){if(!e||!t)return null;try{if("function"===typeof t)var r=t(e);else"function"===typeof e.getAttribute?null===(r=e.getAttribute(t))&&(r=void 0):r=e[t]}catch(n){}return r}function Df(e,t,r){if(e&&t)try{"function"===typeof t?t(e,r):"function"===typeof e.setAttribute?e.setAttribute(t,r):e[t]=r}catch(n){}}Kd.className="PartManager",h(sf,Kd),sf.prototype.addAllModeledParts=function(){var e=this.diagram.model;this.addModeledParts(e.nodeDataArray),lf(this,e.linkDataArray)},sf.prototype.addModeledParts=function(e){for(Kd.prototype.addModeledParts.call(this,e,!1),e=this.links.iterator;e.next();)bh(e.value);ko(this.diagram,!1)},sf.prototype.removeAllModeledParts=function(){var e=this.diagram.model;cf(this,e.linkDataArray),this.zs(e.nodeDataArray)},sf.prototype.getLinkCategoryForData=function(e){return this.diagram.model.hs(e)},sf.prototype.setLinkCategoryForData=function(e,t){return this.diagram.model.fp(e,t)},sf.prototype.setFromNodeForLink=function(e,t){var r=this.diagram.model;r.pv(e.data,r.va(null!==t?t.data:null))},sf.prototype.setToNodeForLink=function(e,t){var r=this.diagram.model;r.uv(e.data,r.va(null!==t?t.data:null))},sf.prototype.removeDataForLink=function(e){this.diagram.model.Zl(e.data)},sf.prototype.findPartForKey=function(e){var t=Kd.prototype.findPartForKey.call(this,e);return null===t&&null!==(e=this.diagram.model.eh(e))?this.Ye.I(e):t},sf.prototype.findLinkForKey=function(e){return null===e||void 0===e?null:null!==(e=this.diagram.model.eh(e))?this.Ye.I(e):null},sf.prototype.doModelChanged=function(e){var t=this;if(Kd.prototype.doModelChanged.call(this,e),this.diagram){var r=this.diagram;if(e.model===r.model){var n=e.change;if(r.aa){r.aa=!1;try{var i=e.modelChange;if(""!==i){if(n===dr){if("linkFromKey"===i){var o=this.Hc(e.object);if(null!==o){var a=this.Rb(e.newValue);o.fromNode=a}}else if("linkToKey"===i){var s=this.Hc(e.object);if(null!==s){var l=this.Rb(e.newValue);s.toNode=l}}else if("linkFromPortId"===i){var u=this.Hc(e.object);if(null!==u){var c=e.newValue;"string"===typeof c&&(u.fromPortId=c)}}else if("linkToPortId"===i){var h=this.Hc(e.object);if(null!==h){var d=e.newValue;"string"===typeof d&&(h.toPortId=d)}}else if("nodeGroupKey"===i){var f=this.Ic(e.object);if(null!==f){var p=e.newValue;if(void 0!==p){var m=this.Rb(p);f.containingGroup=m instanceof dh?m:null}else f.containingGroup=null}}else if("linkLabelKeys"===i){var y=this.Hc(e.object);if(null!==y){var g=e.oldValue,v=e.newValue;Array.isArray(g)&&g.forEach((function(e){0<=v.indexOf(e)||null!==(e=t.Rb(e))&&(e.labeledLink=null)})),Array.isArray(v)&&v.forEach((function(e){null!==(e=t.Rb(e))&&(e.labeledLink=y)}))}}else if("linkCategory"===i){var b=this.Hc(e.object),x=e.newValue;null!==b&&"string"===typeof x&&(b.category=x)}else"linkDataArray"===i&&(cf(this,e.oldValue),lf(this,e.newValue));r.isModified=!0}else if(n===fr){var w=e.newValue;if("linkDataArray"===i&&"object"===typeof w&&null!==w)uf(this,w);else if("linkLabelKeys"===i&&jf(w)){var S=this.Hc(e.object),k=this.Rb(w);null!==S&&null!==k&&(k.labeledLink=S)}r.isModified=!0}else if(n===pr){var _=e.oldValue;if("linkDataArray"===i&&"object"===typeof _&&null!==_)this.bp(_);else if("linkLabelKeys"===i&&jf(_)){var j=this.Rb(_);null!==j&&(j.labeledLink=null)}r.isModified=!0}}else if(n===dr){var M=e.propertyName;e.object!==r.model||"linkFromKeyProperty"!==M&&"linkToKeyProperty"!==M&&"linkFromPortIdProperty"!==M&&"linkToPortIdProperty"!==M&&"linkLabelKeysProperty"!==M&&"nodeIsGroupProperty"!==M&&"nodeGroupKeyProperty"!==M&&"linkCategoryProperty"!==M||r.undoManager.isUndoingRedoing||this.Rd(),r.isModified=!0}}finally{r.aa=!0}}}}},sf.prototype.refreshDataBoundLinks=function(){var e=this,t=this.diagram.model,r=new J,n=t.linkDataArray;n.forEach((function(e){r.add(e)}));var i=[];this.links.each((function(e){null===e.data||r.contains(e.data)||i.push(e.data)})),i.forEach((function(e){$f(t,e,!1)})),n.forEach((function(r){null===e.Hc(r)&&Zf(t,r,!1)}))},sf.prototype.updateRelationshipsFromData=function(e){var t=e.data;if(null!==t){var r=e.diagram;if(null!==r){var n=r.model;if(e instanceof vh){var i=Wf(n,t,!0);if(i=r.Rb(i),e.fromNode=i,i=Wf(n,t,!1),i=r.Rb(i),e.toNode=i,0<(t=n.Bf(t)).length||0<e.labelNodes.count){if(1===t.length&&1===e.labelNodes.count){i=t[0];var o=e.labelNodes.first();if(n.va(o.data)===i)return}i=(new J).addAll(t);var a=new J;e.labelNodes.each((function(e){null!==e.data&&(void 0!==(e=n.va(e.data))&&a.add(e))})),(t=a.copy()).ap(i),(i=i.copy()).ap(a),(0<t.count||0<i.count)&&(t.each((function(t){null!==(t=r.Rb(t))&&t.labeledLink===e&&(t.labeledLink=null)})),i.each((function(t){null!==(t=r.Rb(t))&&t.labeledLink!==e&&(t.labeledLink=e)})))}}else!(e instanceof Vc)&&(t=n.gh(t),null===(t=r.findPartForKey(t))||t instanceof dh)&&(e.containingGroup=t)}}},sf.prototype.resolveReferencesForData=function(e){var t=this.diagram.model,r=t.va(e);if(void 0!==r){var n=Ef(t,r),i=this.Ic(e);if(null!==n&&null!==i){n=n.iterator;for(var o={};n.next();){var a=n.value;t.mb(a)?i instanceof dh&&t.gh(a)===r&&(null!==(a=this.Ic(a))&&(a.containingGroup=i)):(o.link=this.Hc(a),null!==o.link&&i instanceof Wc&&(Wf(t,a,!0)===r&&(o.link.fromNode=i),Wf(t,a,!1)===r&&(o.link.toNode=i),a=t.Bf(a),Array.isArray(a)&&a.some(function(e){return function(t){return t===r&&(i.labeledLink=e.link,!0)}}(o)))),o={link:o.link}}Tf(t,r)}void 0!==(e=t.gh(e))&&((e=this.Rb(e))instanceof dh&&(i.containingGroup=e))}},sf.prototype.unresolveReferencesForPart=function(e){var t=this.diagram.model;if(e instanceof Wc){var r=t.va(e.data);if(void 0!==r){for(var n=e.linksConnected;n.next();)Pf(t,r,n.value.data);if(e.isLinkLabel&&(null!==(n=e.labeledLink)&&Pf(t,r,n.data)),e instanceof dh)for(e=e.memberParts;e.next();)n=e.value.data,t.mb(n)&&Pf(t,r,n)}}},sf.prototype.copyPartData=function(e,t){var r=Kd.prototype.copyPartData.call(this,e,t);if(e instanceof vh)if(null!==(e=e.data)&&null!==t){var n=t.model;"object"===typeof(e=n.Fo(e))&&null!==e&&(n.ci(e),r=t.Hc(e))}else null!==r&&(t=this.diagram,null!==e&&null!==t&&null!==t.commandHandler&&t.commandHandler.copiesClipboardData&&("object"===typeof(t=t.model.Fo(e))&&null!==t&&(r.data=t)));return r},sf.prototype.insertLink=function(e,t,r,n){var i=this.diagram,o=i.model,a=i.toolManager.findTool("Linking"),s="";if(null!==e&&(null===t&&(t=e),null===(s=t.portId)&&(s="")),t="",null!==r&&(null===n&&(n=r),null===(t=n.portId)&&(t="")),(n=a.archetypeLinkData)instanceof vh){if(Vl(n),null!==(o=n.copy()))return o.fromNode=e,o.fromPortId=s,o.toNode=r,o.toPortId=t,i.add(o),(e=a.archetypeLabelNodeData)instanceof Wc&&(Vl(e),null!==(e=e.copy())&&(e.labeledLink=o,i.add(e))),o}else if(null!==n&&("object"===typeof(n=o.Fo(n))&&null!==n))return null!==e&&Xf(o,n,o.va(e.data),!0),Kf(o,n,s,!0),null!==r&&Xf(o,n,o.va(r.data),!1),Kf(o,n,t,!1),o.ci(n),null===(e=a.archetypeLabelNodeData)||e instanceof Wc||"object"===typeof(e=o.copyNodeData(e))&&null!==e&&(o.uf(e),void 0!==(e=o.va(e))&&o.wu(n,e)),i.Hc(n);return null},sf.prototype.findLinkForKey=sf.prototype.findLinkForKey,sf.prototype.findPartForKey=sf.prototype.findPartForKey,sf.prototype.removeAllModeledParts=sf.prototype.removeAllModeledParts,sf.prototype.addModeledParts=sf.prototype.addModeledParts,sf.prototype.addAllModeledParts=sf.prototype.addAllModeledParts,sf.className="GraphLinksPartManager",h(hf,Kd),hf.prototype.getLinkCategoryForData=function(e){return this.diagram.model.ls(e)},hf.prototype.setLinkCategoryForData=function(e,t){this.diagram.model.Fs(e,t)},hf.prototype.setFromNodeForLink=function(e,t,r){var n=this.diagram.model;if(void 0===r&&(r=null),t=null!==t?t.data:null,this.diagram.isTreePathToChildren)n.me(e.data,n.va(t));else{var i=this.Ng;this.Ng=e,null!==r&&n.me(r.data,void 0),n.me(t,n.va(null!==e.toNode?e.toNode.data:null)),this.Ng=i}},hf.prototype.setToNodeForLink=function(e,t,r){var n=this.diagram.model;if(void 0===r&&(r=null),t=null!==t?t.data:null,this.diagram.isTreePathToChildren){var i=this.Ng;this.Ng=e,null!==r&&n.me(r.data,void 0),n.me(t,n.va(null!==e.fromNode?e.fromNode.data:null)),this.Ng=i}else n.me(e.data,n.va(t))},hf.prototype.removeDataForLink=function(e){this.diagram.model.me(e.data,void 0)},hf.prototype.findLinkForKey=function(e){return null===e||void 0===e?null:null!==(e=this.diagram.model.dc(e))?this.Ye.I(e):null},hf.prototype.doModelChanged=function(e){if(Kd.prototype.doModelChanged.call(this,e),this.diagram){var t=this.diagram;if(e.model===t.model){var r=e.change;if(t.aa){t.aa=!1;try{var n=e.modelChange;if(""!==n){if(r===dr){if("nodeParentKey"===n){var i=e.object,o=this.Rb(e.newValue),a=this.fi(i);if(null!==this.Ng)null!==o&&(this.Ng.data=i,this.Ng.category=this.getLinkCategoryForData(i));else if(null!==a){var s=a.fh();null!==s?null===o?t.remove(s):t.isTreePathToChildren?s.fromNode=o:s.toNode=o:df(this,o,a)}}else if("parentLinkCategory"===n){var l=this.fi(e.object),u=e.newValue;if(null!==l&&"string"===typeof u){var c=l.fh();null!==c&&(c.category=u)}}t.isModified=!0}}else if(r===dr){var h=e.propertyName;e.object===t.model&&"nodeParentKeyProperty"===h&&(t.undoManager.isUndoingRedoing||this.Rd()),t.isModified=!0}}finally{t.aa=!0}}}}},hf.prototype.updateRelationshipsFromData=function(e){var t=e.data;if(null!==t){var r=e.diagram;if(null!==r){var n=r.model;e instanceof Wc&&(t=n.hh(t),(t=r.Rb(t))!==(n=e.lg())&&(n=e.fh(),null!==t?null!==n?r.isTreePathToChildren?n.fromNode=t:n.toNode=t:df(this,t,e):null!==n&&oo(r,n,!1)))}}},hf.prototype.updateDataBindings=function(e,t){Kd.prototype.updateDataBindings.call(this,e,t),"string"===typeof t&&null!==this.Ic(e)&&(null!==(e=this.Hc(e))&&e.Ma(t))},hf.prototype.resolveReferencesForData=function(e){var t=this.diagram.model,r=t.va(e);if(void 0!==r){var n=Ef(t,r),i=this.Ic(e);if(null!==n&&null!==i){for(n=n.iterator;n.next();){var o=n.value;t.mb(o)&&i instanceof Wc&&t.hh(o)===r&&df(this,i,this.fi(o))}Tf(t,r)}void 0!==(e=t.hh(e))&&i instanceof Wc&&df(this,e=this.Rb(e),i)}},hf.prototype.unresolveReferencesForPart=function(e){var t=this.diagram.model;if(e instanceof Wc){var r=t.va(e.data),n=this.Hc(e.data);if(null!==n){n.isSelected=!1,n.isHighlighted=!1;var i=n.layer;if(null!==i){var o=i.mc(-1,n,!1);0<=o&&this.diagram.cb(pr,"parts",i,n,null,o,null),null!==(o=n.layerChanged)&&o(n,i,null)}}for(n=this.diagram.isTreePathToChildren,e=e.linksConnected;e.next();)i=e.value,i=(n?i.toNode:i.fromNode).data,t.mb(i)&&Pf(t,r,i)}},hf.prototype.insertLink=function(e,t,r){t=this.diagram.model;var n=e,i=r;return this.diagram.isTreePathToChildren||(n=r,i=e),null!==n&&null!==i?(t.me(i.data,t.va(n.data)),i.fh()):null},hf.prototype.findLinkForKey=hf.prototype.findLinkForKey,hf.className="TreePartManager",ff.prototype.cloneProtected=function(e){e.wa=this.wa,e.Pm=this.Pm,e.Cg=this.Cg,e.Ph=this.Ph,e.Xk=this.Xk,e.wk=this.wk,e.Hm=this.Hm,e.Gm=this.Gm,e.Jm=this.Jm,e.um=this.um,e.jj=this.jj},ff.prototype.copy=function(){var e=new this.constructor;return this.cloneProtected(e),e},ff.prototype.clear=function(){this.Pc=[],this.lb.clear(),this.Sf.clear(),this.undoManager.clear()},ff.prototype.toString=function(e){if(void 0===e&&(e=0),1<e)return this.hp();var t=(""!==this.name?this.name:"")+" Model";if(0<e){t+="\n node data:";for(var r=(e=this.nodeDataArray).length,n=0;n<r;n++){var i=e[n];t+=" "+this.va(i)+":"+L(i)}}return t},ff.prototype.nA=function(e){e.change!==hr&&w("Model.toIncrementalData argument is not a Transaction ChangedEvent:"+e.toString());var t=e.object;return e.isTransactionFinished&&t instanceof mr?(yf(this,t),e=this.Jv(t,"FinishedUndo"===e.propertyName),this.qh=null,e):null},ff.prototype.Jv=function(e,t){var r=this,n=!1,i=new J,o=new J,a=new J,s=this.qh;e.changes.each((function(e){e.model===r&&("nodeDataArray"===e.modelChange?e.change===fr?i.add(e.newValue):e.change===pr&&a.add(e.oldValue):r.mb(e.object)?o.add(e.object):e.change!==dr||r.modelData!==e.object&&"modelData"!==e.propertyName?null!==e.object&&(s&&s.contains(e.object)?s.get(e.object).each((function(e){r.mb(e)&&o.add(e)})):e.object instanceof ff||r.ni()&&r.Gc(e.object)||gf(r,e.object).each((function(e){o.add(e)}))):n=!0)}));var l=this.dl;l.clear(),i.each((function(e){l.add(r.va(e)),t||o.add(e)}));var u=this.fl;u.clear(),a.each((function(e){u.add(r.va(e)),t&&o.add(e)})),e=r.cloneDeep(o.Fa());var c=null;return n&&(null===c&&(c={}),c.modelData=this.cloneDeep(this.modelData)),0<l.count&&(null===c&&(c={}),t?c.removedNodeKeys=l.Fa():c.insertedNodeKeys=l.Fa()),0<e.length&&(null===c&&(c={}),c.modifiedNodeData=e),0<u.count&&(null===c&&(c={}),t?c.insertedNodeKeys=u.Fa():c.removedNodeKeys=u.Fa()),u.clear(),l.clear(),c},ff.prototype.cloneDeep=function(e){return pf(this,e,!0)},(t=ff.prototype).quote=function(e){return JSON.stringify(e).replace(/[\u007F-\uFFFF]/g,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).substr(-4)}))},t.om=function(){var e="";return""!==this.name&&(e+=',\n  "name": '+this.quote(this.name)),""!==this.dataFormat&&(e+=',\n  "dataFormat": '+this.quote(this.dataFormat)),this.isReadOnly&&(e+=',\n  "isReadOnly": '+this.isReadOnly),"key"!==this.nodeKeyProperty&&"string"===typeof this.nodeKeyProperty&&(e+=',\n  "nodeKeyProperty": '+this.quote(this.nodeKeyProperty)),this.copiesArrays&&(e+=',\n  "copiesArrays": true'),this.copiesArrayObjects&&(e+=',\n  "copiesArrayObjects": true'),this.copiesKey||(e+=',\n  "copiesKey": false'),"category"!==this.nodeCategoryProperty&&"string"===typeof this.nodeCategoryProperty&&(e+=',\n  "nodeCategoryProperty": '+this.quote(this.nodeCategoryProperty)),e},t.$o=function(e){e.name&&(this.name=e.name),e.dataFormat&&(this.dataFormat=e.dataFormat),e.isReadOnly&&(this.isReadOnly=!0),e.nodeKeyProperty&&(this.nodeKeyProperty=e.nodeKeyProperty),e.copiesArrays&&(this.copiesArrays=!0),e.copiesArrayObjects&&(this.copiesArrayObjects=!0),!1===e.copiesKey&&(this.copiesKey=!1),e.nodeCategoryProperty&&(this.nodeCategoryProperty=e.nodeCategoryProperty)},t.Kv=function(){var e,t=this.modelData,r=!1;for(e in t)if(!xf(e,t[e])){r=!0;break}return t="",r&&(t=',\n  "modelData": '+Sf(this,this.modelData)),t+',\n  "nodeDataArray": '+bf(this,this.nodeDataArray,!0)},t.gv=function(e){mf(this,e),M(e=e.nodeDataArray)&&(this.am(e),this.nodeDataArray=e)},t.Iv=function(e,t){var r=this,n=!1,i=new J,o=new J,a=new J,s=this.qh;e.changes.each((function(e){e.model===r&&("nodeDataArray"===e.modelChange?e.change===fr?i.add(e.newValue):e.change===pr&&a.add(e.oldValue):r.mb(e.object)?o.add(e.object):e.change!==dr||r.modelData!==e.object&&"modelData"!==e.propertyName?null!==e.object&&(s&&s.contains(e.object)?s.get(e.object).each((function(e){r.mb(e)&&o.add(e)})):e.object instanceof ff||r.ni()&&r.Gc(e.object)||gf(r,e.object).each((function(e){o.add(e)}))):n=!0)}));var l=this.dl;l.clear(),i.each((function(e){l.add(r.va(e)),t||o.add(e)}));var u=this.fl;return u.clear(),a.each((function(e){u.add(r.va(e)),t&&o.add(e)})),e="",n&&(e+=',\n  "modelData": '+Sf(this,this.modelData)),0<l.count&&(e+=(t?this.Rv:this.Pv)+bf(this,l.Fa(),!0)),0<o.count&&(e+=this.ey+bf(this,o.Fa(),!0)),0<u.count&&(e+=(t?this.Pv:this.Rv)+bf(this,u.Fa(),!0)),u.clear(),l.clear(),e},t.Zo=function(e){(void 0!==e.name&&e.name!==this.name||void 0!==e.dataFormat&&e.dataFormat!==this.dataFormat||void 0!==e.isReadOnly&&e.isReadOnly!==this.isReadOnly||void 0!==e.nodeKeyProperty&&e.nodeKeyProperty!==this.nodeKeyProperty||void 0!==e.copiesArrays&&e.copiesArrays!==this.copiesArrays||void 0!==e.copiesArrayObjects&&e.copiesArrayObjects!==this.copiesArrayObjects||void 0!==e.copiesKey&&e.copiesKey!==this.copiesKey||void 0!==e.nodeCategoryProperty&&e.nodeCategoryProperty!==this.nodeCategoryProperty)&&w("applyIncrementalJson cannot change Model properties"),mf(this,e);var t=e.insertedNodeKeys,r=e.modifiedNodeData,n=new fe;if(Array.isArray(r))for(var i=0;i<r.length;i++){var o=r[i],a=this.va(o);void 0!==a&&null!==a&&n.set(a,o)}if(Array.isArray(t))for(i=t.length,o=0;o<i;o++){a=t[o];var s=this.dc(a);null===s&&(s=(s=n.get(a))?s:this.copyNodeData({}),this.hm(s,a),this.uf(s))}if(Array.isArray(r))for(t=r.length,n=0;n<t;n++)if(i=r[n],o=this.va(i),null!==(o=this.dc(o))){for(var l in i)"__gohashid"===l||l===this.nodeKeyProperty||this.Tj()&&l===this.nodeIsGroupProperty||this.setDataProperty(o,l,i[l]);this.im(i,o)}if(e=e.removedNodeKeys,Array.isArray(e))for(r=e.length,l=0;l<r;l++)null!==(t=this.dc(e[l]))&&this.$l(t)},t.Wx=function(e,t){e.change!==hr&&w("Model.toIncrementalJson argument is not a Transaction ChangedEvent:"+e.toString());var r=e.object;return e.isTransactionFinished&&r instanceof mr?(void 0===t&&(t=Lf(this,this)),yf(this,r),e=this.Iv(r,"FinishedUndo"===e.propertyName),this.qh=null,"2"===t?'{ "incremental": 2'+e+"}":'{ "class": '+this.quote(t)+', "incremental": 1'+this.om()+e+"}"):'{ "incremental": 0 }'},t.oA=function(e,t){return this.Wx(e,t)},t.hp=function(e){return void 0===e&&(e=Lf(this,this)),'{ "class": '+this.quote(e)+this.om()+this.Kv()+"}"},t.toJSON=function(e){return this.hp(e)},t.Sw=function(e){var t=null;if("string"===typeof e)try{t=y.JSON.parse(e)}catch(n){}else"object"===typeof e?t=e:w("Unable to modify a Model from: "+e);var r=t.incremental;"number"!==typeof r&&w("Unable to apply non-incremental changes to Model: "+e),0!==r&&(this.Ea("applyIncrementalJson"),this.Zo(t),this.eb("applyIncrementalJson"))},t.Dy=function(e){return this.Sw(e)},ff.constructGraphLinksModel=function(){return new ff},(t=ff.prototype).am=function(e){if(M(e))for(var t=e.length,r=0;r<t;r++){var n=e[r];if(j(n)){var i=r;n=this.am(n),Array.isArray(e)?e[i]=n:w("Cannot replace an object in an HTMLCollection or NodeList at "+i)}}else if(j(e)){for(t in e)if(j(r=e[t])&&(r=this.am(r),e[t]=r,"points"===t&&Array.isArray(r))){for(i=0===r.length%2,n=0;n<r.length;n++)if("number"!==typeof r[n]){i=!1;break}if(i){for(i=new Z,n=0;n<r.length/2;n++)i.add(new pe(r[2*n],r[2*n+1]));i.freeze(),e[t]=i}}return function(e){if("object"!==typeof e)return e;var t=e.class||"";if("NaN"===t)return NaN;if("Date"===t)return new Date(e.value);if(0!==t.indexOf("go."))return e;t=t.substr(3);var r=e;if("Point"===t)r=new pe(kf(e.x),kf(e.y));else if("Size"===t)r=new Ee(kf(e.width),kf(e.height));else if("Rect"===t)r=new Ne(kf(e.x),kf(e.y),kf(e.width),kf(e.height));else if("Margin"===t)r=new Ye(kf(e.top),kf(e.right),kf(e.bottom),kf(e.left));else if("Spot"===t)r="string"===typeof e.enum?Ft(e.enum):new Dt(kf(e.x),kf(e.y),kf(e.offsetX),kf(e.offsetY));else if("Brush"===t){if((r=new As).type=z(As,e.type),"string"===typeof e.color&&(r.color=e.color),e.start instanceof Dt&&(r.start=e.start),e.end instanceof Dt&&(r.end=e.end),"number"===typeof e.startRadius&&(r.startRadius=kf(e.startRadius)),"number"===typeof e.endRadius&&(r.endRadius=kf(e.endRadius)),j(e=e.colorStops))for(var n in e)r.addColorStop(parseFloat(n),e[n])}else"Geometry"===t?(r=null,r="string"===typeof e.path?Vt.parse(e.path):new Vt,r.type=z(Vt,e.type),"number"===typeof e.startX&&(r.startX=kf(e.startX)),"number"===typeof e.startY&&(r.startY=kf(e.startY)),"number"===typeof e.endX&&(r.endX=kf(e.endX)),"number"===typeof e.endY&&(r.endY=kf(e.endY)),e.spot1 instanceof Dt&&(r.spot1=e.spot1),e.spot2 instanceof Dt&&(r.spot2=e.spot2)):"EnumValue"===t&&(n=e.classType,0===n.indexOf("go.")&&(n=n.substr(3)),n=Nf(n),"function"===typeof n&&(r=z(n,e.name)));return r}(e)}return e},t.pm=function(e){return void 0===e?"undefined":null===e?"null":!0===e?"true":!1===e?"false":"string"===typeof e?this.quote(e):"number"===typeof e?1/0===e?"9e9999":-1/0===e?"-9e9999":isNaN(e)?'{"class":"NaN"}':e.toString():e instanceof Date?'{"class":"Date", "value":"'+e.toJSON()+'"}':e instanceof Number?this.pm(e.valueOf()):M(e)?bf(this,e):j(e)?Sf(this,e):"function"===typeof e?"null":e.toString()},t.Xg=function(e){return this.Et.add(e),this},t.dk=function(e){this.Et.remove(e)},t.Vr=function(e){this.skipsUndoManager||this.undoManager.Pu(e);for(var t=this.Et,r=t.length,n=0;n<r;n++)t.L(n)(e)},t.cb=function(e,t,r,n,i,o,a){_f(this,"",e,t,r,n,i,o,a)},t.g=function(e,t,r,n,i){_f(this,"",dr,e,this,t,r,n,i)},t.ys=function(e,t,r,n,i,o){_f(this,"",dr,t,e,r,n,i,o)},ff.prototype.changeState=function(e,t){if(null!==e&&e.model===this)if(e.change===dr){var r=e.object,n=e.propertyName,i=e.I(t);n===this.nodeKeyProperty&&this.mb(r)&&(void 0!==(t=e.I(!t))&&this.lb.remove(t),void 0!==i&&this.lb.add(i,r)),Df(r,n,i)}else e.change===fr?(r=e.newParam,"nodeDataArray"===e.modelChange?j(e=e.newValue)&&"number"===typeof r&&(n=this.va(e),t?(this.Pc[r]===e&&T(this.Pc,r),void 0!==n&&this.lb.remove(n)):(this.Pc[r]!==e&&P(this.Pc,r,e),void 0!==n&&this.lb.add(n,e))):""===e.modelChange?((n=e.object)&&!M(n)&&e.propertyName&&(n=Rf(e.object,e.propertyName)),M(n)&&"number"===typeof r&&(e=e.newValue,t?T(n,r):P(n,r,e))):w("unknown ChangedEvent.Insert modelChange: "+e.toString())):e.change===pr?(r=e.oldParam,"nodeDataArray"===e.modelChange?j(e=e.oldValue)&&"number"===typeof r&&(n=this.va(e),t?(this.Pc[r]!==e&&P(this.Pc,r,e),void 0!==n&&this.lb.add(n,e)):(this.Pc[r]===e&&T(this.Pc,r),void 0!==n&&this.lb.remove(n))):""===e.modelChange?((n=e.object)&&!M(n)&&e.propertyName&&(n=Rf(e.object,e.propertyName)),M(n)&&"number"===typeof r&&(e=e.oldValue,t?P(n,r,e):T(n,r))):w("unknown ChangedEvent.Remove modelChange: "+e.toString())):e.change!==hr&&w("unknown ChangedEvent: "+e.toString())},ff.prototype.Ea=function(e){return this.undoManager.Ea(e)},ff.prototype.eb=function(e){return this.undoManager.eb(e)},ff.prototype.Hf=function(){return this.undoManager.Hf()},ff.prototype.commit=function(e,t){void 0===t&&(t="");var r=this.skipsUndoManager;null===t&&(this.skipsUndoManager=!0,t=""),this.undoManager.Ea(t);var n=!1;try{e(this),n=!0}finally{n?this.undoManager.eb(t):this.undoManager.Hf(),this.skipsUndoManager=r}},(t=ff.prototype).Ma=function(e,t){void 0===t&&(t=""),_f(this,"SourceChanged",hr,t,e,null,null)},t.va=function(e){if(null!==e){var t=this.Ph;if(""!==t&&void 0!==(t=Rf(e,t))){if(jf(t))return t;w("Key value for node data "+e+" is not a number or a string: "+t)}}},t.hm=function(e,t){if(null!==e){var r=this.Ph;if(""!==r)if(this.mb(e)){var n=Rf(e,r);n!==t&&null===this.dc(t)&&(Df(e,r,t),void 0!==n&&this.lb.remove(n),this.lb.add(t,e),_f(this,"nodeKey",dr,r,e,n,t),"string"===typeof r&&this.Ma(e,r),this.cp(n,t))}else Df(e,r,t)}},t.mb=function(e){var t=this.va(e);return void 0!==t&&this.lb.I(t)===e},t.dc=function(e){return null===e&&w("Model.findNodeDataForKey:key must not be null"),void 0!==e&&jf(e)?this.lb.I(e):null},t.Wu=function(e){if(null!==e){var t=this.Ph;if(""!==t){var r=this.va(e);if(void 0===r||this.lb.contains(r)){var n=this.Xk;if(null!==n&&(void 0!==(r=n(this,e))&&null!==r&&!this.lb.contains(r)))return void Df(e,t,r);if("string"===typeof r){for(n=2;this.lb.contains(r+n);)n++;Df(e,t,r+n)}else if(void 0===r||"number"===typeof r){for(r=-this.lb.count-1;this.lb.contains(r);)r--;Df(e,t,r)}}}}},t.uf=function(e){null!==e&&(ee(e),this.mb(e)||Mf(this,e,!0))},t.Ay=function(e){if(M(e))for(var t=e.length,r=0;r<t;r++)this.uf(e[r]);else for(e=e.iterator;e.next();)this.uf(e.value)},t.$l=function(e){null!==e&&Cf(this,e,!0)},t.dA=function(e){if(M(e))for(var t=e.length,r=0;r<t;r++)this.$l(e[r]);else for(e=e.iterator;e.next();)this.$l(e.value)},t.Rz=function(e){if(e!==this.nodeDataArray&&M(e)){var t=this.fl;t.clear(),t.addAll(this.lb.iteratorKeys);var r=this.dl;r.clear();for(var n=e.length,i=0;i<n;i++){var o=e[i],a=this.va(o);if(void 0!==a){r.add(a);var s=this.dc(a);s!==o&&(null!==s?(this.zo(s,o),this.im(o,s)):(o=this.cloneDeep(o),this.hm(o,a),this.uf(o)))}else a=this.cloneDeep(o),this.uf(a),r.add(this.va(a))}for(e=t.iterator;e.next();)n=e.value,r.contains(n)||(n=this.dc(n))&&this.$l(n);t.clear(),r.clear()}},t.cp=function(e,t){void 0!==t&&((e=Ef(this,e))instanceof J&&this.Sf.add(t,e))},t.Ev=function(){},t.cm=function(){},t.bm=function(){},t.kp=function(){},t.Iy=function(e){void 0===e?this.Sf.clear():this.Sf.remove(e)},ff.prototype.copyNodeData=function(e){if(null===e)return null;var t=this.wk;return j(e=null!==t?t(e,this):Of(this,e,!0))&&Q(e),e},ff.prototype.setDataProperty=function(e,t,r){if(this.mb(e)){if(t===this.nodeKeyProperty)return void this.hm(e,r);if(t===this.nodeCategoryProperty)return void this.gm(e,r)}else!If&&e instanceof Aa&&(If=!0,_('Model.setDataProperty is modifying a GraphObject, "'+e.toString()+'"'),_("  Is that really your intent?"));var n=Rf(e,t);n!==r&&(Df(e,t,r),this.ys(e,t,n,r))},(t=ff.prototype).set=function(e,t,r){this.setDataProperty(e,t,r)},t.zo=function(e,t){if(t){var r,n=this.mb(e);for(r in t)"__gohashid"===r||n&&r===this.nodeKeyProperty||this.setDataProperty(e,r,t[r])}},t.wy=function(e,t){this.ms(e,-1,t)},t.ms=function(e,t,r){0>t&&(t=e.length),P(e,t,r),_f(this,"",fr,"",e,null,r,null,t)},t.jv=function(e,t){void 0===t&&(t=-1),e===this.Pc&&w("Model.removeArrayItem should not be called on the Model.nodeDataArray"),-1===t&&(t=e.length-1);var r=e[t];T(e,t),_f(this,"",pr,"",e,r,null,t,null)},t.Lo=function(e){if(null===e)return"";var t=this.jj;return""===t||void 0===(t=Rf(e,t))?"":"string"===typeof t?t:void w("getCategoryForNodeData found a non-string category for "+e+": "+t)},t.gm=function(e,t){if(null!==e){var r=this.jj;if(""!==r)if(this.mb(e)){var n=Rf(e,r);void 0===n&&(n=""),n!==t&&(Df(e,r,t),_f(this,"nodeCategory",dr,r,e,n,t))}else Df(e,r,t)}},t.im=function(e,t){this.gm(t,this.Lo(e))},t.Pl=function(){return!1},t.Tj=function(){return!1},t.ni=function(){return!1},t.qs=function(){return!1},t.Uj=function(){return!1},d.Object.defineProperties(ff.prototype,{name:{get:function(){return this.wa},set:function(e){var t=this.wa;t!==e&&(this.wa=e,this.g("name",t,e))}},dataFormat:{get:function(){return this.Pm},set:function(e){var t=this.Pm;t!==e&&(this.Pm=e,this.g("dataFormat",t,e))}},isReadOnly:{get:function(){return this.Cg},set:function(e){var t=this.Cg;t!==e&&(this.Cg=e,this.g("isReadOnly",t,e))}},modelData:{get:function(){return this.j},set:function(e){var t=this.j;t!==e&&(this.j=e,this.g("modelData",t,e),this.Ma(e))}},undoManager:{get:function(){return this.m},set:function(e){var t=this.m;t!==e&&(null!==t&&t.Nx(this),this.m=e,null!==e&&e.Qw(this))}},skipsUndoManager:{get:function(){return this.Qg},set:function(e){this.Qg=e}},nodeKeyProperty:{get:function(){return this.Ph},set:function(e){var t=this.Ph;t!==e&&(""===e&&w("Model.nodeKeyProperty may not be the empty string"),0<this.lb.count&&w("Cannot set Model.nodeKeyProperty when there is existing node data"),this.Ph=e,this.g("nodeKeyProperty",t,e))}},makeUniqueKeyFunction:{get:function(){return this.Xk},set:function(e){var t=this.Xk;t!==e&&(this.Xk=e,this.g("makeUniqueKeyFunction",t,e))}},nodeDataArray:{get:function(){return this.Pc},set:function(e){var t=this.Pc;if(t!==e){this.lb.clear(),this.Ev();for(var r=e.length,n=0;n<r;n++){var i=e[n];j(i)||w("Model.nodeDataArray must only contain Objects, not: "+i),ee(i)}for(this.Pc=e,n=new Z,i=0;i<r;i++){var o=e[i],a=this.va(o);void 0===a||null!==this.lb.I(a)?n.add(o):this.lb.add(a,o)}for(n=n.iterator;n.next();)i=n.value,this.Wu(i),void 0!==(o=this.va(i))&&this.lb.add(o,i);for(_f(this,"nodeDataArray",dr,"nodeDataArray",this,t,e),t=0;t<r;t++)n=e[t],this.cm(n),this.bm(n);Array.isArray(e)||(this.isReadOnly=!0)}}},copyNodeDataFunction:{get:function(){return this.wk},set:function(e){var t=this.wk;t!==e&&(this.wk=e,this.g("copyNodeDataFunction",t,e))}},copiesArrays:{get:function(){return this.Hm},set:function(e){var t=this.Hm;t!==e&&(this.Hm=e,this.g("copiesArrays",t,e))}},copiesArrayObjects:{get:function(){return this.Gm},set:function(e){var t=this.Gm;t!==e&&(this.Gm=e,this.g("copiesArrayObjects",t,e))}},copiesKey:{get:function(){return this.Jm},set:function(e){var t=this.Jm;t!==e&&(this.Jm=e,this.g("copiesKey",t,e))}},afterCopyFunction:{get:function(){return this.um},set:function(e){var t=this.um;t!==e&&(this.um=e,this.g("afterCopyFunction",t,e))}},nodeCategoryProperty:{get:function(){return this.jj},set:function(e){var t=this.jj;t!==e&&(this.jj=e,this.g("nodeCategoryProperty",t,e))}},type:{get:function(){return"Model"}}}),ff.prototype.setCategoryForNodeData=ff.prototype.gm,ff.prototype.getCategoryForNodeData=ff.prototype.Lo,ff.prototype.removeArrayItem=ff.prototype.jv,ff.prototype.insertArrayItem=ff.prototype.ms,ff.prototype.addArrayItem=ff.prototype.wy,ff.prototype.assignAllDataProperties=ff.prototype.zo,ff.prototype.set=ff.prototype.set,ff.prototype.clearUnresolvedReferences=ff.prototype.Iy,ff.prototype.mergeNodeDataArray=ff.prototype.Rz,ff.prototype.removeNodeDataCollection=ff.prototype.dA,ff.prototype.removeNodeData=ff.prototype.$l,ff.prototype.addNodeDataCollection=ff.prototype.Ay,ff.prototype.addNodeData=ff.prototype.uf,ff.prototype.makeNodeDataKeyUnique=ff.prototype.Wu,ff.prototype.findNodeDataForKey=ff.prototype.dc,ff.prototype.containsNodeData=ff.prototype.mb,ff.prototype.setKeyForNodeData=ff.prototype.hm,ff.prototype.getKeyForNodeData=ff.prototype.va,ff.prototype.updateTargetBindings=ff.prototype.Ma,ff.prototype.commit=ff.prototype.commit,ff.prototype.rollbackTransaction=ff.prototype.Hf,ff.prototype.commitTransaction=ff.prototype.eb,ff.prototype.startTransaction=ff.prototype.Ea,ff.prototype.raiseDataChanged=ff.prototype.ys,ff.prototype.raiseChanged=ff.prototype.g,ff.prototype.raiseChangedEvent=ff.prototype.cb,ff.prototype.removeChangedListener=ff.prototype.dk,ff.prototype.addChangedListener=ff.prototype.Xg,ff.prototype.writeJsonValue=ff.prototype.pm,ff.prototype.replaceJsonObjects=ff.prototype.am,ff.prototype.applyIncrementalJSON=ff.prototype.Dy,ff.prototype.applyIncrementalJson=ff.prototype.Sw,ff.prototype.toJSON=ff.prototype.toJSON,ff.prototype.toJson=ff.prototype.hp,ff.prototype.toIncrementalJSON=ff.prototype.oA,ff.prototype.toIncrementalJson=ff.prototype.Wx,ff.prototype.toIncrementalData=ff.prototype.nA,ff.prototype.clear=ff.prototype.clear;var If=!1,Ff={};function Bf(e,t,r,n){Q(this),this._isFrozen=!1,void 0===e&&(e=""),void 0===t&&(t=e),void 0===r&&(r=null),this.j=-1,this.rd=null,this.tl=e,this.sl=this.po=0,this.ur=null,this.sn=!1,this.ol=t,this.Fm=r,void 0===n?(this.$k=qf,this.rk=null):(this.$k=Gf,this.rk=n),this.lt=new J}function Uf(e,t,r){return null===(e=e.sourceName)||""===e?t:"/"===e?r.part:"."===e?r:".."===e?r.panel:t.fb(e)}ff.className="Model",ff.fromJSON=ff.fromJson=function(e,t){void 0===t&&(t=null);var r=null;if("string"===typeof e)try{r=y.JSON.parse(e)}catch(o){}else"object"===typeof e?r=e:w("Unable to construct a Model from: "+e);if(null===t){e=null;var n=r.class;if("string"===typeof n)try{var i=null;0===n.indexOf("go.")?i=Nf(n=n.substr(3)):null===(i=Nf(n))&&(i=y[n]),"function"===typeof i&&(e=new i)}catch(o){}null===e||e instanceof ff?t=e:w("Unable to construct a Model of declared class: "+r.class)}return null===t&&(t=ff.constructGraphLinksModel()),t.$o(r),t.gv(r),t},ff.safePropertyValue=Rf,ff.safePropertySet=Df,Ff.Brush=As,Ff.ChangedEvent=cr,Ff.Geometry=Vt,Ff.Margin=Ye,Ff.Panel=kl,Ff.Point=pe,Ff.Rect=Ne,Ff.Size=Ee,Ff.Spot=Dt,Ff.Transaction=mr,Ff.UndoManager=yr,Bf.prototype.copy=function(){var e=new Bf;return e.tl=this.tl,e.po=this.po,e.sl=this.sl,e.ur=this.ur,e.sn=this.sn,e.ol=this.ol,e.Fm=this.Fm,e.$k=this.$k,e.rk=this.rk,e},(t=Bf.prototype).rb=function(e){e.classType===Bf&&(this.mode=e)},t.toString=function(){return"Binding("+this.targetProperty+":"+this.sourceProperty+(-1!==this.xi?" "+this.xi:"")+" "+this.mode.name+")"},t.freeze=function(){return this._isFrozen=!0,this},t.ka=function(){return this._isFrozen=!1,this},t.Fx=function(e){return void 0===e&&(e=null),this.mode=Gf,this.backConverter=e,this},t.Xo=function(e){return void 0===e&&(e=""),this.sourceName=e,this.isToModel=!1,this},t.Uz=function(){return this.sourceName=null,this.isToModel=!0,this},t.Fv=function(e,t,r){var n=this.ol;if(void 0===r||""===n||n===r){r=this.tl;var i=this.Fm;if(null===i&&""===r)_("Binding error: target property is the empty string: "+this.toString());else{var o=t;if(""!==n&&(o=Rf(t,n)),void 0!==o)if(null===i)""!==r&&Df(e,r,o);else try{if(""!==r)Df(e,r,i(o,e));else i(o,e)}catch(a){}}}},t.mp=function(e,t,r,n){if(this.$k===Gf){var i=this.tl;if(void 0===r||i===r){r=this.ol;var o=this.rk,a=e;if(""!==i&&(a=Rf(e,i)),void 0!==a&&!this.lt.contains(e))try{this.lt.add(e);var s=null!==n?n.diagram:null,l=null!==s?s.model:null;if(null===o){if(""!==r)null!==l?l.setDataProperty(t,r,a):Df(t,r,a);else if(null!==l&&null!==n&&0<=n.itemIndex&&null!==n.panel&&Array.isArray(n.panel.itemArray)){var u=n.itemIndex,c=n.panel.itemArray;l.jv(c,u),l.ms(c,u,a)}}else try{if(""!==r){var h=o(a,t,l);null!==l?l.setDataProperty(t,r,h):Df(t,r,h)}else{var d=o(a,t,l);if(void 0!==d&&null!==l&&null!==n&&0<=n.itemIndex&&null!==n.panel&&Array.isArray(n.panel.itemArray)){var f=n.itemIndex,p=n.panel.itemArray;l.jv(p,f),l.ms(p,f,d)}}}catch(m){}}finally{this.lt.remove(e)}}}},d.Object.defineProperties(Bf.prototype,{xi:{get:function(){return this.j},set:function(e){this._isFrozen&&S(this),this.j=e}},targetProperty:{get:function(){return this.tl},set:function(e){this._isFrozen&&S(this),this.tl=e}},sourceName:{get:function(){return this.ur},set:function(e){this._isFrozen&&S(this),this.ur=e,null!==e&&(this.sn=!1)}},isToModel:{get:function(){return this.sn},set:function(e){this._isFrozen&&S(this),this.sn=e}},sourceProperty:{get:function(){return this.ol},set:function(e){this._isFrozen&&S(this),this.ol=e}},converter:{get:function(){return this.Fm},set:function(e){this._isFrozen&&S(this),this.Fm=e}},backConverter:{get:function(){return this.rk},set:function(e){this._isFrozen&&S(this),this.rk=e}},mode:{get:function(){return this.$k},set:function(e){this._isFrozen&&S(this),this.$k=e}}}),Bf.prototype.updateSource=Bf.prototype.mp,Bf.prototype.updateTarget=Bf.prototype.Fv,Bf.prototype.ofModel=Bf.prototype.Uz,Bf.prototype.ofObject=Bf.prototype.Xo,Bf.prototype.makeTwoWay=Bf.prototype.Fx;var zf="Binding",qf=new U(Bf,"OneWay",1),Gf=new U(Bf,"TwoWay",2);function Vf(e,t,r){ff.call(this),this.Ov=',\n  "insertedLinkKeys": ',this.by=',\n  "modifiedLinkData": ',this.Qv=',\n  "removedLinkKeys": ',this.dd=[],this.Wf=new J,this.wb=new fe,this.Fh="",this.Oi=this.vk=this.Yk=null,this.gf="from",this.hf="to",this.dj=this.cj="",this.bj="category",this.fe="",this.el="isGroup",this.Fe="group",this.Im=!1,void 0!==t&&(this.linkDataArray=t),void 0!==e&&(M(e)?this.nodeDataArray=e:Object.assign(this,e)),r&&Object.assign(this,r)}function Hf(e,t){for(var r=new J,n=0;n<e.linkDataArray.length;n++){var i=e.linkDataArray[n];vf(e,t,i,i,r)}return r}function Wf(e,t,r){if(null!==t&&(""!==(e=r?e.gf:e.hf)&&void 0!==(e=Rf(t,e)))){if(jf(e))return e;w((r?"FromKey":"ToKey")+" value for link data "+t+" is not a number or a string: "+e)}}function Xf(e,t,r,n){if(null===r&&(r=void 0),null!==t){var i=n?e.gf:e.hf;if(""!==i)if(r=e.Rl(r),e.Gc(t)){var o=Rf(t,i);o!==r&&(Tf(e,o,t),Df(t,i,r),null===e.dc(r)&&Pf(e,r,t),_f(e,n?"linkFromKey":"linkToKey",dr,i,t,o,r),"string"===typeof i&&e.Ma(t,i))}else Df(t,i,r)}}function Yf(e,t,r){return null===t||""===(e=r?e.cj:e.dj)||void 0===(t=Rf(t,e))?"":t}function Kf(e,t,r,n){if(null!==t){var i=n?e.cj:e.dj;if(""!==i)if(e.Gc(t)){var o=Rf(t,i);void 0===o&&(o=""),o!==r&&(Df(t,i,r),_f(e,n?"linkFromPortId":"linkToPortId",dr,i,t,o,r),"string"===typeof i&&e.Ma(t,i))}else Df(t,i,r)}}function Zf(e,t,r){if(""!==e.linkKeyProperty){var n=e.xc(t);if(void 0!==n&&e.wb.I(n)===t)return;e.us(t),void 0===(n=e.xc(t))&&w("GraphLinksModel.makeLinkDataKeyUnique failed on "+t+". Data not added to model."),e.wb.add(n,t)}e.Wf.add(t),n=null,r&&(n=e.dd.length,e.dd.splice(n,0,t)),_f(e,"linkDataArray",fr,"linkDataArray",e,null,t,null,n),Jf(e,t)}function $f(e,t,r){e.Wf.remove(t);var n=e.xc(t);if(void 0!==n&&e.wb.remove(n),n=null,r){if(0>(n=e.dd.indexOf(t)))return;e.dd.splice(n,1)}if(_f(e,"linkDataArray",pr,"linkDataArray",e,t,null,n,null),Tf(e,r=Wf(e,t,!0),t),Tf(e,r=Wf(e,t,!1),t),n=e.Bf(t),Array.isArray(n))for(var i=n.length,o=0;o<i;o++)Tf(e,r=n[o],t)}function Jf(e,t){var r=Wf(e,t,!0);r=e.Rl(r),null===e.dc(r)&&Pf(e,r,t),r=Wf(e,t,!1),r=e.Rl(r),null===e.dc(r)&&Pf(e,r,t);var n=e.Bf(t);if(Array.isArray(n))for(var i=n.length,o=0;o<i;o++)r=n[o],null===e.dc(r)&&Pf(e,r,t)}function Qf(e,t,r){e.fp(r,e.hs(t)),e.pv(r,e.sx(t)),e.uv(r,e.vx(t)),e.Es(r,e.Bf(t)),e.qv(r,e.tx(t)),e.vv(r,e.wx(t))}Bf.className="Binding",Bf.parseEnum=function(e,t){return function(r){return null===(r=z(e,r))?t:r}},Bf.toString=L,Bf.OneWay=qf,Bf.TwoWay=Gf,h(Vf,ff),Vf.constructGraphLinksModel=ff.constructGraphLinksModel,Vf.prototype.cloneProtected=function(e){ff.prototype.cloneProtected.call(this,e),e.Fh=this.Fh,e.Yk=this.Yk,e.vk=this.vk,e.gf=this.gf,e.hf=this.hf,e.cj=this.cj,e.dj=this.dj,e.bj=this.bj,e.fe=this.fe,e.el=this.el,e.Fe=this.Fe,e.Im=this.Im},(t=Vf.prototype).clear=function(){ff.prototype.clear.call(this),this.dd=[],this.wb.clear(),this.Wf.clear()},t.toString=function(e){if(void 0===e&&(e=0),2<=e)return this.hp();var t=(""!==this.name?this.name:"")+" GraphLinksModel";if(0<e){t+="\n node data:";var r,n=(e=this.nodeDataArray).length;for(r=0;r<n;r++){var i=e[r];t+=" "+this.va(i)+":"+L(i)}for(t+="\n link data:",n=(e=this.linkDataArray).length,r=0;r<n;r++)t+=" "+Wf(this,i=e[r],!0)+"--\x3e"+Wf(this,i,!1)}return t},t.Jv=function(e,t){""===this.linkKeyProperty&&w("GraphLinksModel.linkKeyProperty must not be an empty string for .toIncrementalData() to succeed.");var r=ff.prototype.Jv.call(this,e,t),n=this,i=new J,o=new J,a=new J,s=this.qh;e.changes.each((function(e){e.model===n&&("linkDataArray"===e.modelChange?e.change===fr?i.add(e.newValue):e.change===pr&&a.add(e.oldValue):n.Gc(e.object)?o.add(e.object):null!==e.object&&(null!==e.object&&s&&s.contains(e.object)?s.get(e.object).each((function(e){n.Gc(e)&&o.add(e)})):e.object instanceof ff||n.mb(e.object)||Hf(n,e.object).each((function(e){o.add(e)}))))}));var l=this.dl;l.clear(),i.each((function(e){l.add(n.xc(e)),t||o.add(e)}));var u=this.fl;return u.clear(),a.each((function(e){u.add(n.xc(e)),t&&o.add(e)})),e=n.cloneDeep(o.Fa()),0<l.count&&(null===r&&(r={}),t?r.removedLinkKeys=l.Fa():r.insertedLinkKeys=l.Fa()),0<e.length&&(null===r&&(r={}),r.modifiedLinkData=e),0<u.count&&(null===r&&(r={}),t?r.insertedLinkKeys=u.Fa():r.removedLinkKeys=u.Fa()),u.clear(),l.clear(),r},t.om=function(){var e=ff.prototype.om.call(this),t="";return"category"!==this.linkCategoryProperty&&"string"===typeof this.linkCategoryProperty&&(t+=',\n  "linkCategoryProperty": '+this.quote(this.linkCategoryProperty)),""!==this.linkKeyProperty&&"string"===typeof this.linkKeyProperty&&(t+=',\n  "linkKeyProperty": '+this.quote(this.linkKeyProperty)),"from"!==this.linkFromKeyProperty&&"string"===typeof this.linkFromKeyProperty&&(t+=',\n  "linkFromKeyProperty": '+this.quote(this.linkFromKeyProperty)),"to"!==this.linkToKeyProperty&&"string"===typeof this.linkToKeyProperty&&(t+=',\n  "linkToKeyProperty": '+this.quote(this.linkToKeyProperty)),""!==this.linkFromPortIdProperty&&"string"===typeof this.linkFromPortIdProperty&&(t+=',\n  "linkFromPortIdProperty": '+this.quote(this.linkFromPortIdProperty)),""!==this.linkToPortIdProperty&&"string"===typeof this.linkToPortIdProperty&&(t+=',\n  "linkToPortIdProperty": '+this.quote(this.linkToPortIdProperty)),""!==this.linkLabelKeysProperty&&"string"===typeof this.linkLabelKeysProperty&&(t+=',\n  "linkLabelKeysProperty": '+this.quote(this.linkLabelKeysProperty)),"isGroup"!==this.nodeIsGroupProperty&&"string"===typeof this.nodeIsGroupProperty&&(t+=',\n  "nodeIsGroupProperty": '+this.quote(this.nodeIsGroupProperty)),"group"!==this.nodeGroupKeyProperty&&"string"===typeof this.nodeGroupKeyProperty&&(t+=',\n  "nodeGroupKeyProperty": '+this.quote(this.nodeGroupKeyProperty)),e+t},t.$o=function(e){ff.prototype.$o.call(this,e),e.linkKeyProperty&&(this.linkKeyProperty=e.linkKeyProperty),e.linkFromKeyProperty&&(this.linkFromKeyProperty=e.linkFromKeyProperty),e.linkToKeyProperty&&(this.linkToKeyProperty=e.linkToKeyProperty),e.linkFromPortIdProperty&&(this.linkFromPortIdProperty=e.linkFromPortIdProperty),e.linkToPortIdProperty&&(this.linkToPortIdProperty=e.linkToPortIdProperty),e.linkCategoryProperty&&(this.linkCategoryProperty=e.linkCategoryProperty),e.linkLabelKeysProperty&&(this.linkLabelKeysProperty=e.linkLabelKeysProperty),e.nodeIsGroupProperty&&(this.nodeIsGroupProperty=e.nodeIsGroupProperty),e.nodeGroupKeyProperty&&(this.nodeGroupKeyProperty=e.nodeGroupKeyProperty)},t.Kv=function(){return ff.prototype.Kv.call(this)+(',\n  "linkDataArray": '+bf(this,this.linkDataArray,!0))},t.gv=function(e){ff.prototype.gv.call(this,e),e=e.linkDataArray,Array.isArray(e)&&(this.am(e),this.linkDataArray=e)},t.Iv=function(e,t){""===this.linkKeyProperty&&w("GraphLinksModel.linkKeyProperty must not be an empty string for .toIncrementalJson() to succeed.");var r=ff.prototype.Iv.call(this,e,t),n=this,i=new J,o=new J,a=new J,s=this.qh;e.changes.each((function(e){e.model===n&&("linkDataArray"===e.modelChange?e.change===fr?i.add(e.newValue):e.change===pr&&a.add(e.oldValue):n.Gc(e.object)?o.add(e.object):null!==e.object&&(null!==e.object&&s&&s.contains(e.object)?s.get(e.object).each((function(e){n.Gc(e)&&o.add(e)})):e.object instanceof ff||n.mb(e.object)||Hf(n,e.object).each((function(e){o.add(e)}))))}));var l=this.dl;l.clear(),i.each((function(e){l.add(n.xc(e)),t||o.add(e)}));var u=this.fl;return u.clear(),a.each((function(e){u.add(n.xc(e)),t&&o.add(e)})),e=r,0<l.count&&(e+=(t?this.Qv:this.Ov)+bf(this,l.Fa(),!0)),0<o.count&&(e+=this.by+bf(this,o.Fa(),!0)),0<u.count&&(e+=(t?this.Ov:this.Qv)+bf(this,u.Fa(),!0)),u.clear(),l.clear(),e},t.Zo=function(e){(void 0!==e.linkCategoryProperty&&e.linkCategoryProperty!==this.linkCategoryProperty||void 0!==e.linkKeyProperty&&e.linkKeyProperty!==this.linkKeyProperty||void 0!==e.linkFromKeyProperty&&e.linkFromKeyProperty!==this.linkFromKeyProperty||void 0!==e.linkToKeyProperty&&e.linkToKeyProperty!==this.linkToKeyProperty||void 0!==e.linkFromPortIdProperty&&e.linkFromPortIdProperty!==this.linkFromPortIdProperty||void 0!==e.linkToPortIdProperty&&e.linkToPortIdProperty!==this.linkToPortIdProperty||void 0!==e.linkLabelKeysProperty&&e.linkLabelKeysProperty!==this.linkLabelKeysProperty||void 0!==e.nodeIsGroupProperty&&e.nodeIsGroupProperty!==this.nodeIsGroupProperty||void 0!==e.nodeGroupKeyProperty&&e.nodeGroupKeyProperty!==this.nodeGroupKeyProperty)&&w("applyIncrementalJson cannot change Model properties"),ff.prototype.Zo.call(this,e);var t=e.insertedLinkKeys;if(Array.isArray(t))for(var r=t.length,n=0;n<r;n++){var i=t[n],o=this.eh(i);null===o&&(o=this.Fo({}),this.Ds(o,i),this.ci(o))}if(t=e.modifiedLinkData,Array.isArray(t))for(r=t.length,n=0;n<r;n++)if(i=t[n],o=this.xc(i),null!==(o=this.eh(o))){for(var a in i)"__gohashid"!==a&&a!==this.linkKeyProperty&&this.setDataProperty(o,a,i[a]);Qf(this,i,o)}if(e=e.removedLinkKeys,Array.isArray(e))for(a=e.length,t=0;t<a;t++)null!==(r=this.eh(e[t]))&&this.Zl(r)},Vf.prototype.changeState=function(e,t){if(null!==e&&e.model===this){if(e.change===dr){var r=e.object,n=e.propertyName;if(n===this.linkKeyProperty&&this.Gc(r)){var i=e.I(t);return void 0!==(t=e.I(!t))&&this.wb.remove(t),void 0!==i&&this.wb.add(i,r),void Df(r,n,i)}}else if(e.change===fr){if(r=e.newParam,"linkDataArray"===e.modelChange)return void(j(e=e.newValue)&&"number"===typeof r&&(n=this.xc(e),t?(this.Wf.remove(e),this.dd[r]===e&&this.dd.splice(r,1),void 0!==n&&this.wb.remove(n)):(this.Wf.add(e),this.dd[r]!==e&&this.dd.splice(r,0,e),void 0!==n&&this.wb.add(n,e))));if("linkLabelKeys"===e.modelChange)return n=this.Bf(e.object),void(Array.isArray(n)&&"number"===typeof r&&(t?(r=n.indexOf(e.newValue),0<=r&&n.splice(r,1)):0>n.indexOf(e.newValue)&&n.splice(r,0,e.newValue)))}else if(e.change===pr){if(r=e.oldParam,"linkDataArray"===e.modelChange)return void(j(e=e.oldValue)&&"number"===typeof r&&(n=this.xc(e),t?(this.Wf.add(e),this.dd[r]!==e&&this.dd.splice(r,0,e),void 0!==n&&this.wb.add(n,e)):(this.Wf.remove(e),this.dd[r]===e&&this.dd.splice(r,1),void 0!==n&&this.wb.remove(n))));if("linkLabelKeys"===e.modelChange)return n=this.Bf(e.object),void(Array.isArray(n)&&"number"===typeof r&&(t?0>n.indexOf(e.newValue)&&n.splice(r,0,e.newValue):(r=n.indexOf(e.newValue),0<=r&&n.splice(r,1))))}ff.prototype.changeState.call(this,e,t)}},(t=Vf.prototype).Rl=function(e){if(void 0!==e){var t=this.Oi;if(null!==t){var r=this.dc(e);null===r&&(Df(r=this.copyNodeData(t),this.nodeKeyProperty,e),this.uf(r))}return e}},t.sx=function(e){return Wf(this,e,!0)},t.pv=function(e,t){Xf(this,e,t,!0)},t.vx=function(e){return Wf(this,e,!1)},t.uv=function(e,t){Xf(this,e,t,!1)},t.tx=function(e){return Yf(this,e,!0)},t.qv=function(e,t){Kf(this,e,t,!0)},t.wx=function(e){return Yf(this,e,!1)},t.vv=function(e,t){Kf(this,e,t,!1)},t.Bf=function(e){if(null===e)return ep;var t=this.fe;return""===t||void 0===(e=Rf(e,t))?ep:e},t.Es=function(e,t){if(null!==e){var r=this.fe;if(""!==r)if(this.Gc(e)){var n=Rf(e,r);if(void 0===n&&(n=ep),n!==t){if(Array.isArray(n))for(var i=n.length,o=0;o<i;o++)Tf(this,n[o],e);for(Df(e,r,t),i=t.length,o=0;o<i;o++){var a=t[o];null===this.dc(a)&&Pf(this,a,e)}_f(this,"linkLabelKeys",dr,r,e,n,t),"string"===typeof r&&this.Ma(e,r)}}else Df(e,r,t)}},t.wu=function(e,t){if(null!==t&&void 0!==t&&null!==e){var r=this.fe;if(""!==r){var n=Rf(e,r);if(void 0===n)(r=[]).push(t),this.Es(e,r);else if(Array.isArray(n)){var i=n.indexOf(t);0<=i||(i=n.length,n.push(t),this.Gc(e)&&(null===this.dc(t)&&Pf(this,t,e),_f(this,"linkLabelKeys",fr,r,e,null,t,null,i)))}else w(r+" property is not an Array; cannot addLabelKeyForLinkData: "+e)}}},t.Mx=function(e,t){if(null!==t&&void 0!==t&&null!==e){var r=this.fe;if(""!==r){var n=Rf(e,r);if(Array.isArray(n)){var i=n.indexOf(t);0>i||(n.splice(i,1),this.Gc(e)&&(Tf(this,t,e),_f(this,"linkLabelKeys",pr,r,e,t,null,i,null)))}else void 0!==n&&w(r+" property is not an Array; cannot removeLabelKeyforLinkData: "+e)}}},t.xc=function(e){if(null!==e){var t=this.Fh;if(""!==t&&void 0!==(t=Rf(e,t))){if(jf(t))return t;w("Key value for link data "+e+" is not a number or a string: "+t)}}},t.Ds=function(e,t){if(null!==e){var r=this.Fh;if(""!==r)if(this.Gc(e)){var n=Rf(e,r);n!==t&&null===this.eh(t)&&(Df(e,r,t),void 0!==n&&this.wb.remove(n),this.wb.add(t,e),_f(this,"linkKey",dr,r,e,n,t),"string"===typeof r&&this.Ma(e,r))}else Df(e,r,t)}},t.eh=function(e){return null===e&&w("GraphLinksModel.findLinkDataForKey:key must not be null"),void 0!==e&&jf(e)?this.wb.I(e):null},t.us=function(e){if(null!==e){var t=this.Fh;if(""!==t){var r=this.xc(e);if(void 0===r||this.wb.contains(r)){var n=this.Yk;if(null!==n&&(void 0!==(r=n(this,e))&&null!==r&&!this.wb.contains(r)))return void Df(e,t,r);if("string"===typeof r){for(n=2;this.wb.contains(r+n);)n++;Df(e,t,r+n)}else if(void 0===r||"number"===typeof r){for(r=-this.wb.count-1;this.wb.contains(r);)r--;Df(e,t,r)}}}}},t.Gc=function(e){return null!==e&&this.Wf.contains(e)},t.ci=function(e){null!==e&&(ee(e),this.Gc(e)||Zf(this,e,!0))},t.zy=function(e){if(Array.isArray(e))for(var t=e.length,r=0;r<t;r++)this.ci(e[r]);else for(e=e.iterator;e.next();)this.ci(e.value)},t.Zl=function(e){null!==e&&$f(this,e,!0)},t.bA=function(e){if(Array.isArray(e))for(var t=e.length,r=0;r<t;r++)this.Zl(e[r]);else for(e=e.iterator;e.next();)this.Zl(e.value)},t.Qz=function(e){if(""===this.linkKeyProperty&&w("GraphLinksModel.linkKeyProperty must not be an empty string for .mergeLinkDataArray() to succeed."),e!==this.linkDataArray&&M(e)){var t=this.fl;t.clear(),t.addAll(this.wb.iteratorKeys);var r=this.dl;r.clear();for(var n=e.length,i=0;i<n;i++){var o=e[i],a=this.xc(o);if(void 0!==a){r.add(a);var s=this.eh(a);s!==o&&(null!==s?(this.zo(s,o),Qf(this,o,s)):(o=this.cloneDeep(o),this.Ds(o,a),this.ci(o)))}else a=this.cloneDeep(o),this.ci(a),r.add(this.xc(a))}for(e=t.iterator;e.next();)n=e.value,r.contains(n)||(n=this.eh(n))&&this.Zl(n);t.clear(),r.clear()}},t.Fo=function(e){if(null===e)return null;var t=this.vk;return j(e=null!==t?t(e,this):Of(this,e,!0))&&(Q(e),""!==this.gf&&Df(e,this.gf,void 0),""!==this.hf&&Df(e,this.hf,void 0),""!==this.fe&&Df(e,this.fe,[])),e},t.Uu=function(e){if(null===e)return!1;var t=this.el;return""!==t&&!!Rf(e,t)},t.gh=function(e){if(null!==e){var t=this.Fe;if(""!==t&&void 0!==(t=Rf(e,t))){if(jf(t))return t;w("GroupKey value for node data "+e+" is not a number or a string: "+t)}}},t.gp=function(e,t){if(null===t&&(t=void 0),null!==e){var r=this.Fe;if(""!==r)if(this.mb(e)){var n=Rf(e,r);n!==t&&(Tf(this,n,e),Df(e,r,t),null===this.dc(t)&&Pf(this,t,e),_f(this,"nodeGroupKey",dr,r,e,n,t),"string"===typeof r&&this.Ma(e,r))}else Df(e,r,t)}},Vf.prototype.copyNodeData=function(e){return null===e?null:(e=ff.prototype.copyNodeData.call(this,e),this.Gj||""===this.Fe||void 0===Rf(e,this.Fe)||Df(e,this.Fe,void 0),e)},Vf.prototype.setDataProperty=function(e,t,r){if(this.mb(e)){if(t===this.nodeKeyProperty)return void this.hm(e,r);if(t===this.nodeCategoryProperty)return void this.gm(e,r);if(t===this.nodeGroupKeyProperty)return void this.gp(e,r)}else if(this.Gc(e)){if(t===this.linkFromKeyProperty)return void Xf(this,e,r,!0);if(t===this.linkToKeyProperty)return void Xf(this,e,r,!1);if(t===this.linkFromPortIdProperty)return void Kf(this,e,r,!0);if(t===this.linkToPortIdProperty)return void Kf(this,e,r,!1);if(t===this.linkKeyProperty)return void this.Ds(e,r);if(t===this.linkCategoryProperty)return void this.fp(e,r);if(t===this.linkLabelKeysProperty)return void this.Es(e,r)}var n=Rf(e,t);n!==r&&(Df(e,t,r),this.ys(e,t,n,r))},(t=Vf.prototype).zo=function(e,t){if(t){var r,n=this.mb(e),i=this.Gc(e);for(r in t)"__gohashid"===r||n&&r===this.nodeKeyProperty||n&&r===this.nodeIsGroupProperty&&Rf(e,r)===t[r]||i&&r===this.linkKeyProperty||this.setDataProperty(e,r,t[r])}},t.cp=function(e,t){ff.prototype.cp.call(this,e,t);for(var r=this.lb.iterator;r.next();)this.lv(r.value,e,t);for(r=this.Wf.iterator;r.next();){var n=r.value,i=e,o=t;if(Wf(this,n,!0)===i){var a=this.gf;Df(n,a,o),_f(this,"linkFromKey",dr,a,n,i,o),"string"===typeof a&&this.Ma(n,a)}if(Wf(this,n,!1)===i&&(Df(n,a=this.hf,o),_f(this,"linkToKey",dr,a,n,i,o),"string"===typeof a&&this.Ma(n,a)),a=this.Bf(n),Array.isArray(a))for(var s=a.length,l=this.fe,u=0;u<s;u++)a[u]===i&&(a[u]=o,_f(this,"linkLabelKeys",fr,l,n,i,o,u,u))}},t.lv=function(e,t,r){if(this.gh(e)===t){var n=this.Fe;Df(e,n,r),_f(this,"nodeGroupKey",dr,n,e,t,r),"string"===typeof n&&this.Ma(e,n)}},t.Ev=function(){ff.prototype.Ev.call(this);for(var e=this.linkDataArray,t=e.length,r=0;r<t;r++)Jf(this,e[r])},t.cm=function(e){ff.prototype.cm.call(this,e);var t=Ef(this,e=this.va(e));if(null!==t){var r=E();for(t=t.iterator;t.next();){var n=t.value;if(this.mb(n)){if(this.gh(n)===e){var i=this.Fe;_f(this,"nodeGroupKey",dr,i,n,e,e),"string"===typeof i&&this.Ma(n,i),r.push(n)}}else if(Wf(this,n,!0)===e&&(i=this.gf,_f(this,"linkFromKey",dr,i,n,e,e),"string"===typeof i&&this.Ma(n,i),r.push(n)),Wf(this,n,!1)===e&&(i=this.hf,_f(this,"linkToKey",dr,i,n,e,e),"string"===typeof i&&this.Ma(n,i),r.push(n)),i=this.Bf(n),Array.isArray(i))for(var o=i.length,a=this.fe,s=0;s<o;s++)i[s]===e&&(_f(this,"linkLabelKeys",fr,a,n,e,e,s,s),r.push(n))}for(t=0;t<r.length;t++)Tf(this,e,r[t]);O(r)}},t.bm=function(e){ff.prototype.bm.call(this,e);var t=this.gh(e);null===this.dc(t)&&Pf(this,t,e)},t.kp=function(e){ff.prototype.kp.call(this,e),Tf(this,this.gh(e),e)},t.hs=function(e){if(null===e)return"";var t=this.bj;return""===t||void 0===(t=Rf(e,t))?"":"string"===typeof t?t:void w("getCategoryForLinkData found a non-string category for "+e+": "+t)},Vf.prototype.getLinkCategoryForData=function(e){return this.hs(e)},Vf.prototype.fp=function(e,t){if(null!==e){var r=this.bj;if(""!==r)if(this.Gc(e)){var n=Rf(e,r);void 0===n&&(n=""),n!==t&&(Df(e,r,t),_f(this,"linkCategory",dr,r,e,n,t),"string"===typeof r&&this.Ma(e,r))}else Df(e,r,t)}},Vf.prototype.setLinkCategoryForData=function(e,t){this.fp(e,t)},(t=Vf.prototype).im=function(e,t){ff.prototype.im.call(this,e,t),this.gp(t,this.gh(e))},t.Tj=function(){return!0},t.ni=function(){return!0},t.qs=function(){return!0},t.Uj=function(){return!0},d.Object.defineProperties(Vf.prototype,{archetypeNodeData:{get:function(){return this.Oi},set:function(e){var t=this.Oi;t!==e&&(this.Oi=e,this.g("archetypeNodeData",t,e))}},linkFromKeyProperty:{get:function(){return this.gf},set:function(e){var t=this.gf;t!==e&&(this.gf=e,this.g("linkFromKeyProperty",t,e))}},linkToKeyProperty:{get:function(){return this.hf},set:function(e){var t=this.hf;t!==e&&(this.hf=e,this.g("linkToKeyProperty",t,e))}},linkFromPortIdProperty:{get:function(){return this.cj},set:function(e){var t=this.cj;t!==e&&(this.cj=e,this.g("linkFromPortIdProperty",t,e))}},linkToPortIdProperty:{get:function(){return this.dj},set:function(e){var t=this.dj;t!==e&&(this.dj=e,this.g("linkToPortIdProperty",t,e))}},linkLabelKeysProperty:{get:function(){return this.fe},set:function(e){var t=this.fe;t!==e&&(this.fe=e,this.g("linkLabelKeysProperty",t,e))}},linkDataArray:{get:function(){return this.dd},set:function(e){var t=this.dd;if(t!==e){this.wb.clear();for(var r=e.length,n=0;n<r;n++){var i=e[n];j(i)||w("GraphLinksModel.linkDataArray must only contain Objects, not: "+i),ee(i)}if(this.dd=e,""!==this.linkKeyProperty){for(n=new Z,i=0;i<r;i++){var o=e[i],a=this.xc(o);void 0===a||null!==this.wb.I(a)?n.add(o):this.wb.add(a,o)}for(n=n.iterator;n.next();)i=n.value,this.us(i),void 0!==(o=this.xc(i))&&this.wb.add(o,i)}for(n=new J,i=0;i<r;i++)n.add(e[i]);for(this.Wf=n,_f(this,"linkDataArray",dr,"linkDataArray",this,t,e),t=0;t<r;t++)Jf(this,e[t])}}},linkKeyProperty:{get:function(){return this.Fh},set:function(e){var t=this.Fh;if(t!==e){this.Fh=e,this.wb.clear();for(var r=this.linkDataArray.length,n=0;n<r;n++){var i=this.linkDataArray[n],o=this.xc(i);void 0===o&&(this.us(i),o=this.xc(i)),void 0!==o&&this.wb.add(o,i)}this.g("linkKeyProperty",t,e)}}},makeUniqueLinkKeyFunction:{get:function(){return this.Yk},set:function(e){var t=this.Yk;t!==e&&(this.Yk=e,this.g("makeUniqueLinkKeyFunction",t,e))}},copyLinkDataFunction:{get:function(){return this.vk},set:function(e){var t=this.vk;t!==e&&(this.vk=e,this.g("copyLinkDataFunction",t,e))}},nodeIsGroupProperty:{get:function(){return this.el},set:function(e){var t=this.el;t!==e&&(this.el=e,this.g("nodeIsGroupProperty",t,e))}},nodeGroupKeyProperty:{get:function(){return this.Fe},set:function(e){var t=this.Fe;t!==e&&(this.Fe=e,this.g("nodeGroupKeyProperty",t,e))}},Gj:{get:function(){return this.Im},set:function(e){this.Im!==e&&(this.Im=e)}},linkCategoryProperty:{get:function(){return this.bj},set:function(e){var t=this.bj;t!==e&&(this.bj=e,this.g("linkCategoryProperty",t,e))}},type:{get:function(){return"GraphLinksModel"}}}),Vf.prototype.setCategoryForLinkData=Vf.prototype.fp,Vf.prototype.getCategoryForLinkData=Vf.prototype.hs,Vf.prototype.assignAllDataProperties=Vf.prototype.zo,Vf.prototype.setGroupKeyForNodeData=Vf.prototype.gp,Vf.prototype.getGroupKeyForNodeData=Vf.prototype.gh,Vf.prototype.isGroupForNodeData=Vf.prototype.Uu,Vf.prototype.copyLinkData=Vf.prototype.Fo,Vf.prototype.mergeLinkDataArray=Vf.prototype.Qz,Vf.prototype.removeLinkDataCollection=Vf.prototype.bA,Vf.prototype.removeLinkData=Vf.prototype.Zl,Vf.prototype.addLinkDataCollection=Vf.prototype.zy,Vf.prototype.addLinkData=Vf.prototype.ci,Vf.prototype.containsLinkData=Vf.prototype.Gc,Vf.prototype.makeLinkDataKeyUnique=Vf.prototype.us,Vf.prototype.findLinkDataForKey=Vf.prototype.eh,Vf.prototype.setKeyForLinkData=Vf.prototype.Ds,Vf.prototype.getKeyForLinkData=Vf.prototype.xc,Vf.prototype.removeLabelKeyForLinkData=Vf.prototype.Mx,Vf.prototype.addLabelKeyForLinkData=Vf.prototype.wu,Vf.prototype.setLabelKeysForLinkData=Vf.prototype.Es,Vf.prototype.getLabelKeysForLinkData=Vf.prototype.Bf,Vf.prototype.setToPortIdForLinkData=Vf.prototype.vv,Vf.prototype.getToPortIdForLinkData=Vf.prototype.wx,Vf.prototype.setFromPortIdForLinkData=Vf.prototype.qv,Vf.prototype.getFromPortIdForLinkData=Vf.prototype.tx,Vf.prototype.setToKeyForLinkData=Vf.prototype.uv,Vf.prototype.getToKeyForLinkData=Vf.prototype.vx,Vf.prototype.setFromKeyForLinkData=Vf.prototype.pv,Vf.prototype.getFromKeyForLinkData=Vf.prototype.sx,Vf.prototype.clear=Vf.prototype.clear;var ep=Object.freeze([]);function tp(e,t){ff.call(this),this.Ge="parent",this.Km=!1,this.lj="parentLinkCategory",void 0!==e&&(M(e)?this.nodeDataArray=e:Object.assign(this,e)),t&&Object.assign(this,t)}function rp(e){Pd.call(this),this.ew=this.Wm=this.hc=0,this.Pp=360,this.dw=pp,this.Qi=0,this.Sv=new pe,this.Dp=this.ie=0,this.Pr=new Tp,this.Zs=this.kj=0,this.oy=600,this.$n=NaN,this.zm=1,this.no=0,this.ql=360,this.Mb=pp,this.K=vp,this.ed=Mp,this.$c=Id,this.qf=6,this.Jn=Cp,e&&Object.assign(this,e)}function np(e,t,r,n,i){var o=e.Pp,a=e.hc;e=e.ie,n=n*Math.PI/180,r=r*Math.PI/180;for(var s=t.length,l=0;l<s;l++){var u=n+(i===vp?l*r/(360<=o?s:s-1):-l*r/s),c=t.L(l),h=a*Math.tan(u)/e;h=Math.sqrt((a*a+e*e*h*h)/(1+h*h)),c.centerX=h*Math.cos(u),c.centerY=h*Math.sin(u),c.actualAngle=180*u/Math.PI}}function ip(e,t,r,n){var i=e.hc,o=e.ie,a=e.Qi;r=r*Math.PI/180;for(var s=t.length,l=0;l<s;l++){var u=t.L(l),c=t.L(l===s-1?0:l+1),h=o*Math.sin(r);u.centerX=i*Math.cos(r),u.centerY=h,u.actualAngle=180*r/Math.PI,isNaN(u.diameter)&&Ap(u,0),isNaN(c.diameter)&&Ap(c,0),u=fp(e,i,o,n===vp?r:-r,(u.diameter+c.diameter)/2+a),r+=n===vp?u:-u}}function op(e,t,r,n){var i=e.hc,o=e.ie,a=e.Dp;r=r*Math.PI/180;for(var s=t.length,l=0;l<s;l++){var u=t.L(l);u.centerX=i*Math.cos(r),u.centerY=o*Math.sin(r),u.actualAngle=180*r/Math.PI,u=fp(e,i,o,n===vp?r:-r,a),r+=n===vp?u:-u}}function ap(e,t,r,n,i){var o=e.Pp;if(e.kj=0,e.Pr=new Tp,360>r){for(o=n+(i===vp?o:-o);0>o;)o+=360;180<(o%=360)&&(o-=360),o*=Math.PI/180,e.Zs=o,lp(e,t,r,n,i)}else sp(e,t,r,n,i);e.Pr.commit(t)}function sp(e,t,r,n,i){var o=e.hc,a=e.Qi,s=e.Wm,l=o*Math.cos(n*Math.PI/180),u=e.ie*Math.sin(n*Math.PI/180),c=t.Fa();if(3===c.length)c[0].centerX=o,c[0].centerY=0,c[1].centerX=c[0].centerX-c[0].width/2-c[1].width/2-a,c[1].y=c[0].y,c[2].centerX=(c[0].centerX+c[1].centerX)/2,c[2].y=c[0].y-c[2].height-a;else if(4===c.length)c[0].centerX=o,c[0].centerY=0,c[2].centerX=-c[0].centerX,c[2].centerY=c[0].centerY,c[1].centerX=0,c[1].y=Math.min(c[0].y,c[2].y)-c[1].height-a,c[3].centerX=0,c[3].y=Math.max(c[0].y+c[0].height+a,c[2].y+c[2].height+a);else{o=pe.alloc();for(var h=0;h<c.length&&(c[h].centerX=l,c[h].centerY=u,!(h>=c.length-1));h++)up(e,l,u,c,h,i,o)||cp(e,l,u,c,h,i,o),l=o.x,u=o.y;if(pe.free(o),e.kj++,!(23<e.kj)){l=c[0].centerX,u=c[0].centerY,o=c[c.length-1].centerX,h=c[c.length-1].centerY;var d=Math.abs(l-o)-((c[0].width+c[c.length-1].width)/2+a),f=Math.abs(u-h)-((c[0].height+c[c.length-1].height)/2+a);a=0,1>Math.abs(f)?Math.abs(l-o)<(c[0].width+c[c.length-1].width)/2&&(a=0):a=0<f?f:1>Math.abs(d)?0:d,l=Math.abs(o)>Math.abs(h)?0<o!==u>h:0<h!==l<o,(l=i===vp?l:!l)&&(a=-Math.abs(a),a=Math.min(a,-c[c.length-1].width),a=Math.min(a,-c[c.length-1].height)),e.Pr.compare(a,c),1<Math.abs(a)&&(e.hc=8>e.kj?e.hc-a/(2*Math.PI):5>c.length&&10<a?e.hc/2:e.hc-(0<a?1.7:-2.3),e.ie=e.hc*s,sp(e,t,r,n,i))}}}function lp(e,t,r,n,i){for(var o=e.hc,a=e.ie,s=e.Wm,l=o*Math.cos(n*Math.PI/180),u=a*Math.sin(n*Math.PI/180),c=pe.alloc(),h=t.Fa(),d=0;d<h.length&&(h[d].centerX=l,h[d].centerY=u,!(d>=h.length-1));d++)up(e,l,u,h,d,i,c)||cp(e,l,u,h,d,i,c),l=c.x,u=c.y;if(pe.free(c),e.kj++,!(23<e.kj)){if(l=Math.atan2(u,l),l=i===vp?e.Zs-l:l-e.Zs,o=(l=Math.abs(l)<Math.abs(l-2*Math.PI)?l:l-2*Math.PI)*(o+a)/2,a=e.Pr,Math.abs(o)<Math.abs(a.Kl))for(a.Kl=o,a.hk=[],a.qm=[],l=0;l<h.length;l++)a.hk[l]=h[l].bounds.x,a.qm[l]=h[l].bounds.y;1<Math.abs(o)&&(e.hc=8>e.kj?e.hc-o/(2*Math.PI):e.hc-(0<o?1.7:-2.3),e.ie=e.hc*s,lp(e,t,r,n,i))}}function up(e,t,r,n,i,o,a){var s=e.hc,l=e.ie,u=0;e=(n[i].width+n[i+1].width)/2+e.Qi;var c=!1;if(0<=r!==(o===vp)){if((o=t+e)>s){if((o=t-e)<-s)return a.x=o,a.y=u,!1;c=!0}}else if((o=t-e)<-s){if((o=t+e)>s)return a.x=o,a.y=u,!1;c=!0}return u=Math.sqrt(1-Math.min(1,o*o/(s*s)))*l,0>r!==c&&(u=-u),Math.abs(r-u)>(n[i].height+n[i+1].height)/2?(a.x=o,a.y=u,!1):(a.x=o,a.y=u,!0)}function cp(e,t,r,n,i,o,a){var s=e.hc,l=e.ie,u=0;if(e=(n[i].height+n[i+1].height)/2+e.Qi,n=!1,0<=t!==(o===vp)){if((o=r-e)<-l){if((o=r+e)>l)return a.x=u,void(a.y=o);n=!0}}else if((o=r+e)>l){if((o=r-e)<-l)return a.x=u,void(a.y=o);n=!0}u=Math.sqrt(1-Math.min(1,o*o/(l*l)))*s,0>t!==n&&(u=-u),a.x=u,a.y=o}function hp(e,t,r,n,i){var o=e.oy;if(.001>Math.abs(e.Wm-1))return void 0!==n&&void 0!==i?i*t:2*Math.PI*t;e=t>r?Math.sqrt(t*t-r*r)/t:Math.sqrt(r*r-t*t)/r;for(var a=0,s=void 0!==n&&void 0!==i?i/(o+1):Math.PI/(2*(o+1)),l=0,u=0;u<=o;u++){l=void 0!==n&&void 0!==i?n+u*i/o:u*Math.PI/(2*o);var c=Math.sin(l);a+=Math.sqrt(1-e*e*c*c)*s}return void 0!==n&&void 0!==i?(t>r?t:r)*a:4*(t>r?t:r)*a}function dp(e,t,r,n,i){return t/(void 0!==n&&void 0!==i?hp(e,1,r,n,i):hp(e,1,r))}function fp(e,t,r,n,i){if(.001>Math.abs(e.Wm-1))return i/t;var o=t>r?Math.sqrt(t*t-r*r)/t:Math.sqrt(r*r-t*t)/r,a=0;e=2*Math.PI/(700*e.network.vertexes.count),t>r&&(n+=Math.PI/2);for(var s=0;;s++){var l=Math.sin(n+s*e);if((a+=(t>r?t:r)*Math.sqrt(1-o*o*l*l)*e)>=i)return s*e}}Vf.className="GraphLinksModel",Ff.GraphLinksModel=Vf,ff.constructGraphLinksModel=ff.constructGraphLinksModel=function(){return new Vf},ff.initDiagramModel=Af=function(){return new Vf},h(tp,ff),tp.constructGraphLinksModel=ff.constructGraphLinksModel,tp.prototype.cloneProtected=function(e){ff.prototype.cloneProtected.call(this,e),e.Ge=this.Ge,e.Km=this.Km,e.lj=this.lj},(t=tp.prototype).toString=function(e){if(void 0===e&&(e=0),2<=e)return this.hp();var t=(""!==this.name?this.name:"")+" TreeModel";if(0<e){t+="\n node data:";for(var r=(e=this.nodeDataArray).length,n=0;n<r;n++){var i=e[n];t+=" "+this.va(i)+":"+L(i)}}return t},t.om=function(){var e=ff.prototype.om.call(this),t="";return"parent"!==this.nodeParentKeyProperty&&"string"===typeof this.nodeParentKeyProperty&&(t+=',\n  "nodeParentKeyProperty": '+this.quote(this.nodeParentKeyProperty)),e+t},t.$o=function(e){ff.prototype.$o.call(this,e),e.nodeParentKeyProperty&&(this.nodeParentKeyProperty=e.nodeParentKeyProperty)},t.Zo=function(e){void 0!==e.nodeParentKeyProperty&&e.nodeParentKeyProperty!==this.nodeParentKeyProperty&&w("applyIncrementalJson cannot change Model properties"),ff.prototype.Zo.call(this,e)},t.Rl=function(e){return e},t.hh=function(e){if(null!==e){var t=this.Ge;if(""!==t&&void 0!==(t=Rf(e,t))){if(jf(t))return t;w("ParentKey value for node data "+e+" is not a number or a string: "+t)}}},t.me=function(e,t){if(null===t&&(t=void 0),null!==e){var r=this.Ge;if(""!==r)if(t=this.Rl(t),this.mb(e)){var n=Rf(e,r);n!==t&&(Tf(this,n,e),Df(e,r,t),null===this.dc(t)&&Pf(this,t,e),_f(this,"nodeParentKey",dr,r,e,n,t),"string"===typeof r&&this.Ma(e,r))}else Df(e,r,t)}},t.ls=function(e){if(null===e)return"";var t=this.lj;return""===t||void 0===(t=Rf(e,t))?"":"string"===typeof t?t:(w("getParentLinkCategoryForNodeData found a non-string category for "+e+": "+t),"")},tp.prototype.getLinkCategoryForData=function(e){return this.ls(e)},tp.prototype.Fs=function(e,t){if(null!==e){var r=this.lj;if(""!==r)if(this.mb(e)){var n=Rf(e,r);void 0===n&&(n=""),n!==t&&(Df(e,r,t),_f(this,"parentLinkCategory",dr,r,e,n,t),"string"===typeof r&&this.Ma(e,r))}else Df(e,r,t)}},tp.prototype.setLinkCategoryForData=function(e,t){this.Fs(e,t)},tp.prototype.copyNodeData=function(e){return null===e?null:(e=ff.prototype.copyNodeData.call(this,e),this.Hj||""===this.Ge||void 0===Rf(e,this.Ge)||Df(e,this.Ge,void 0),e)},tp.prototype.setDataProperty=function(e,t,r){if(this.mb(e)){if(t===this.nodeKeyProperty)return void this.hm(e,r);if(t===this.nodeCategoryProperty)return void this.gm(e,r);if(t===this.nodeParentKeyProperty)return void this.me(e,r)}var n=Rf(e,t);n!==r&&(Df(e,t,r),this.ys(e,t,n,r))},(t=tp.prototype).cp=function(e,t){ff.prototype.cp.call(this,e,t);for(var r=this.lb.iterator;r.next();)this.lv(r.value,e,t)},t.lv=function(e,t,r){if(this.hh(e)===t){var n=this.Ge;Df(e,n,r),_f(this,"nodeParentKey",dr,n,e,t,r),"string"===typeof n&&this.Ma(e,n)}},t.cm=function(e){ff.prototype.cm.call(this,e);var t=Ef(this,e=this.va(e));if(null!==t){var r=E();for(t=t.iterator;t.next();){var n=t.value;if(this.mb(n)&&this.hh(n)===e){var i=this.Ge;_f(this,"nodeParentKey",dr,i,n,e,e),"string"===typeof i&&this.Ma(n,i),r.push(n)}}for(t=0;t<r.length;t++)Tf(this,e,r[t]);O(r)}},t.bm=function(e){ff.prototype.bm.call(this,e);var t=this.hh(e);t=this.Rl(t),null===this.dc(t)&&Pf(this,t,e)},t.kp=function(e){ff.prototype.kp.call(this,e),Tf(this,this.hh(e),e)},t.im=function(e,t){ff.prototype.im.call(this,e,t),this.Fs(t,this.ls(e)),this.me(t,this.hh(e))},t.Pl=function(){return!0},t.qs=function(){return!0},d.Object.defineProperties(tp.prototype,{nodeParentKeyProperty:{get:function(){return this.Ge},set:function(e){var t=this.Ge;t!==e&&(this.Ge=e,this.g("nodeParentKeyProperty",t,e))}},Hj:{get:function(){return this.Km},set:function(e){this.Km!==e&&(this.Km=e)}},parentLinkCategoryProperty:{get:function(){return this.lj},set:function(e){var t=this.lj;t!==e&&(this.lj=e,this.g("parentLinkCategoryProperty",t,e))}},linkCategoryProperty:{get:function(){return this.parentLinkCategoryProperty},set:function(e){this.parentLinkCategoryProperty=e}},type:{get:function(){return"TreeModel"}}}),tp.prototype.setParentLinkCategoryForNodeData=tp.prototype.Fs,tp.prototype.getParentLinkCategoryForNodeData=tp.prototype.ls,tp.prototype.setParentKeyForNodeData=tp.prototype.me,tp.prototype.getParentKeyForNodeData=tp.prototype.hh,tp.className="TreeModel",Ff.TreeModel=tp,h(rp,Pd),rp.prototype.cloneProtected=function(e){Pd.prototype.cloneProtected.call(this,e),e.$n=this.$n,e.zm=this.zm,e.no=this.no,e.ql=this.ql,e.Mb=this.Mb,e.K=this.K,e.ed=this.ed,e.$c=this.$c,e.qf=this.qf,e.Jn=this.Jn},rp.prototype.rb=function(e){e.classType===rp?e===_p||e===jp||e===Sp||e===kp||e===Mp?this.sorting=e:e===xp||e===wp||e===vp||e===bp?this.direction=e:e===yp||e===mp||e===pp||e===gp?this.arrangement=e:e!==Pp&&e!==Cp||(this.nodeDiameterFormula=e):Pd.prototype.rb.call(this,e)},rp.prototype.createNetwork=function(){return new Ep(this)},rp.prototype.doLayout=function(e){if(null===this.network&&(this.network=this.makeNetwork(e)),this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin),1>=(e=this.network.vertexes).count)1===e.count&&((e=e.first()).centerX=0,e.centerY=0);else{var t=new Z;t.addAll(e.iterator),e=new Z;var r,n,i=new Z,o=this.sort(t),a=this.Dp,s=this.arrangement,l=this.nodeDiameterFormula,u=this.radius;(!isFinite(u)||0>=u)&&(u=NaN);var c=this.aspectRatio;(!isFinite(c)||0>=c)&&(c=1);var h=this.startAngle;isFinite(h)||(h=0);var d=this.sweepAngle;if((!isFinite(d)||360<d||1>d)&&(d=360),t=this.spacing,isFinite(t)||(t=NaN),s===gp&&l===Pp?s=pp:s===gp&&l!==Pp&&(s=this.arrangement),(this.direction===xp||this.direction===wp)&&this.sorting!==Mp){for(l=0;!(l>=o.length)&&(e.add(o.L(l)),!(l+1>=o.length));l+=2)i.add(o.L(l+1));this.direction===xp?(this.arrangement===gp&&e.reverse(),(o=new Z).addAll(e),o.addAll(i)):(this.arrangement===gp&&i.reverse(),(o=new Z).addAll(i),o.addAll(e))}l=o.length;for(var f=n=r=0;f<o.length;f++){var p=h+d*n*(this.direction===vp?1:-1)/l,m=o.L(f).diameter;isNaN(m)&&(m=Ap(o.L(f),p)),360>d&&(0===f||f===o.length-1)&&(m/=2),r+=m,n++}if(isNaN(u)||s===gp){if(isNaN(t)&&(t=6),s!==pp&&s!==gp){for(n=-1/0,a=0;a<l;a++)f=o.L(a),r=o.L(a===l-1?0:a+1),isNaN(f.diameter)&&Ap(f,0),isNaN(r.diameter)&&Ap(r,0),n=Math.max(n,(f.diameter+r.diameter)/2);a=n+t,u=s===yp?(n+t)/(2*Math.PI/l):dp(this,a*(360<=d?l:l-1),c,h*Math.PI/180,d*Math.PI/180)}else u=dp(this,r+(360<=d?l:l-1)*(s!==gp?t:1.6*t),c,h*Math.PI/180,d*Math.PI/180);n=u*c}else if(f=hp(this,u,n=u*c,h*Math.PI/180,d*Math.PI/180),isNaN(t))s!==pp&&s!==gp||(t=(f-r)/(360<=d?l:l-1));else if(s===pp||s===gp)(f=(f-r)/(360<=d?l:l-1))<t?n=(u=dp(this,r+t*(360<=d?l:l-1),c,h*Math.PI/180,d*Math.PI/180))*c:t=f;else{for(a=-1/0,r=0;r<l;r++)p=o.L(r),m=o.L(r===l-1?0:r+1),isNaN(p.diameter)&&Ap(p,0),isNaN(m.diameter)&&Ap(m,0),a=Math.max(a,(p.diameter+m.diameter)/2);(r=dp(this,(a+=t)*(360<=d?l:l-1),c,h*Math.PI/180,d*Math.PI/180))>u?n=(u=r)*c:a=f/(360<=d?l:l-1)}if(this.dw=s,this.hc=u,this.Wm=c,this.ew=h,this.Pp=d,this.Qi=t,this.ie=n,this.Dp=a,t=o,o=this.dw,s=this.hc,u=this.ew,c=this.Pp,h=this.Qi,d=this.ie,l=this.Dp,this.direction!==xp&&this.direction!==wp||o!==gp)if(this.direction===xp||this.direction===wp){switch(a=0,o){case mp:a=180*fp(this,s,d,u,l)/Math.PI;break;case pp:l=t=0,null!==(a=e.first())&&(t=Ap(a,Math.PI/2)),null!==(a=i.first())&&(l=Ap(a,Math.PI/2)),a=180*fp(this,s,d,u,h+(t+l)/2)/Math.PI;break;case yp:a=c/t.length}if(this.direction===xp){switch(o){case mp:op(this,e,u,bp);break;case pp:ip(this,e,u,bp);break;case yp:np(this,e,c/2,u,bp)}switch(o){case mp:op(this,i,u+a,vp);break;case pp:ip(this,i,u+a,vp);break;case yp:np(this,i,c/2,u+a,vp)}}else{switch(o){case mp:op(this,i,u,bp);break;case pp:ip(this,i,u,bp);break;case yp:np(this,i,c/2,u,bp)}switch(o){case mp:op(this,e,u+a,vp);break;case pp:ip(this,e,u+a,vp);break;case yp:np(this,e,c/2,u+a,vp)}}}else switch(o){case mp:op(this,t,u,this.direction);break;case pp:ip(this,t,u,this.direction);break;case yp:np(this,t,c,u,this.direction);break;case gp:ap(this,t,c,u,this.direction)}else ap(this,t,c,u-c/2,vp)}this.updateParts(),this.network=null,this.isValidLayout=!0},rp.prototype.commitLayout=function(){this.commitNodes(),this.isRouting&&this.commitLinks()},rp.prototype.commitNodes=function(){var e=null!==this.group&&null!==this.group.placeholder&&this.group.isSubGraphExpanded,t=e?this.group.location.copy():null,r=this.actualCenter;e?r=new pe(0,0):(r.x=this.arrangementOrigin.x+this.hc,r.y=this.arrangementOrigin.y+this.ie);for(var n=this.network.vertexes.iterator;n.next();){var i=n.value;i.x+=r.x,i.y+=r.y,i.commit()}e&&(this.group.Va(),e=this.group.position.copy(),r=this.group.location.copy(),t=t.ne(r.ne(e)),this.group.move(t),this.Sv=t.ne(e))},rp.prototype.commitLinks=function(){for(var e=this.network.edges.iterator;e.next();)e.value.commit()},rp.prototype.sort=function(e){switch(this.sorting){case Sp:break;case kp:e.reverse();break;case _p:e.sort(this.comparer);break;case jp:e.sort(this.comparer),e.reverse();break;case Mp:return this.Yj(function(e){for(var t=[],r=0;r<e.length;r++)t.push(0);r=new Z;for(var n=0;n<e.length;n++){var i=-1,o=-1;if(0===n)for(var a=0;a<e.length;a++){var s=e.L(a).edgesCount;s>i&&(i=s,o=a)}else for(a=0;a<e.length;a++)(s=t[a])>i&&(i=s,o=a);for(r.add(e.L(o)),t[o]=-1,a=(o=e.L(o)).sourceEdges;a.next();)0>(i=e.indexOf(a.value.fromVertex))||0<=t[i]&&t[i]++;for(o=o.destinationEdges;o.next();)0>(i=e.indexOf(o.value.toVertex))||0<=t[i]&&t[i]++}return r}(e));default:w("Invalid sorting type.")}return e},rp.prototype.Yj=function(e){for(var t=[],r=0;r<e.length;r++){var n=e.L(r);t[r]=[];for(var i,o=n.destinationEdges;o.next();)(i=e.indexOf(o.value.toVertex))!==r&&0>t[r].indexOf(i)&&t[r].push(i);for(n=n.sourceEdges;n.next();)(i=e.indexOf(n.value.fromVertex))!==r&&0>t[r].indexOf(i)&&t[r].push(i)}for(o=[],r=0;r<t.length;r++)o[r]=0;r=[];var a=[],s=[];n=[],i=new Z;for(var l=0,u=0;u<t.length;u++){var c=t[u].length;if(1===c)n.push(u);else if(0===c)i.add(e.L(u));else{if(0===l)r.push(u);else{for(var h=c=1/0,d=-1,f=[],p=0;p<r.length;p++)0>t[r[p]].indexOf(r[p===r.length-1?0:p+1])&&f.push(p===r.length-1?0:p+1);if(0===f.length)for(p=0;p<r.length;p++)f.push(p);for(p=0;p<f.length;p++){for(var m=f[p],y=t[u],g=0,v=0;v<a.length;v++){var b=o[a[v]],x=o[s[v]];if(b<x){var w=b;b=x}else w=x;if(w<m&&m<=b)for(x=0;x<y.length;x++){var S=y[x];0>r.indexOf(S)||w<o[S]&&o[S]<b||w===o[S]||b===o[S]||g++}else for(x=0;x<y.length;x++)S=y[x],0>r.indexOf(S)||w<o[S]&&o[S]<b&&w!==o[S]&&b!==o[S]&&g++}for(y=g,v=g=0;v<t[u].length;v++)0<=(w=r.indexOf(t[u][v]))&&(g+=(w=Math.abs(m-(w>=m?w+1:w)))<r.length+1-w?w:r.length+1-w);for(v=0;v<a.length;v++)(w=o[a[v]])>=m&&w++,(b=o[s[v]])>=m&&b++,w>b&&(x=b,b=w,w=x),b-w<(r.length+2)/2===(w<m&&m<=b)&&g++;(y<c||y===c&&g<h)&&(c=y,h=g,d=m)}for(r.splice(d,0,u),c=0;c<r.length;c++)o[r[c]]=c;for(c=0;c<t[u].length;c++)h=t[u][c],0<=r.indexOf(h)&&(a.push(u),s.push(h))}l++}}for(a=r.length;;){for(o=!0,s=0;s<n.length;s++)if(u=t[l=n[s]][0],0<=(c=r.indexOf(u))){for(d=h=0;d<t[u].length;d++)0>(f=r.indexOf(t[u][d]))||f===c||(h+=f<c!==(p=f>c?f-c:c-f)>a-p?1:-1);r.splice(0>h?c:c+1,0,l),n.splice(s,1),s--}else o=!1;if(o)break;r.push(n[0]),n.splice(0,1)}for(t=0;t<r.length;t++)i.add(e.L(r[t]));return i},d.Object.defineProperties(rp.prototype,{radius:{get:function(){return this.$n},set:function(e){this.$n!==e&&(0<e||isNaN(e))&&(this.$n=e,this.D())}},aspectRatio:{get:function(){return this.zm},set:function(e){this.zm!==e&&0<e&&(this.zm=e,this.D())}},startAngle:{get:function(){return this.no},set:function(e){this.no!==e&&(this.no=e,this.D())}},sweepAngle:{get:function(){return this.ql},set:function(e){this.ql!==e&&(this.ql=0<e&&360>=e?e:360,this.D())}},arrangement:{get:function(){return this.Mb},set:function(e){this.Mb===e||e!==gp&&e!==pp&&e!==mp&&e!==yp||(this.Mb=e,this.D())}},direction:{get:function(){return this.K},set:function(e){this.K===e||e!==vp&&e!==bp&&e!==xp&&e!==wp||(this.K=e,this.D())}},sorting:{get:function(){return this.ed},set:function(e){this.ed===e||e!==Sp&&e!==kp&&e!==_p&&!jp&&e!==Mp||(this.ed=e,this.D())}},comparer:{get:function(){return this.$c},set:function(e){this.$c!==e&&(this.$c=e,this.D())}},spacing:{get:function(){return this.qf},set:function(e){this.qf!==e&&(this.qf=e,this.D())}},nodeDiameterFormula:{get:function(){return this.Jn},set:function(e){this.Jn===e||e!==Cp&&e!==Pp||(this.Jn=e,this.D())}},actualXRadius:{get:function(){return this.hc}},actualYRadius:{get:function(){return this.ie}},actualSpacing:{get:function(){return this.Qi}},actualCenter:{get:function(){return this.Sv}}});var pp=new U(rp,"ConstantSpacing",0),mp=new U(rp,"ConstantDistance",1),yp=new U(rp,"ConstantAngle",2),gp=new U(rp,"Packed",3),vp=new U(rp,"Clockwise",4),bp=new U(rp,"Counterclockwise",5),xp=new U(rp,"BidirectionalLeft",6),wp=new U(rp,"BidirectionalRight",7),Sp=new U(rp,"Forwards",8),kp=new U(rp,"Reverse",9),_p=new U(rp,"Ascending",10),jp=new U(rp,"Descending",11),Mp=new U(rp,"Optimized",12),Cp=new U(rp,"Pythagorean",13),Pp=new U(rp,"Circular",14);function Tp(){this.Kl=-1/0,this.qm=this.hk=null}function Ep(e){Od.call(this,e)}function Op(e){Dd.call(this,e),this.u=this.Pi=NaN}function Ap(e,t){var r=e.network;if(null===r)return NaN;if(null===(r=r.layout))return NaN;if(r.arrangement===gp)if(r.nodeDiameterFormula===Pp)e.Pi=Math.max(e.width,e.height);else{if(r=Math.abs(Math.sin(t)),t=Math.abs(Math.cos(t)),0===r)return e.width;if(0===t)return e.height;e.Pi=Math.min(e.height/r,e.width/t)}else e.Pi=r.nodeDiameterFormula===Pp?Math.max(e.width,e.height):Math.sqrt(e.width*e.width+e.height*e.height);return e.Pi}function Lp(e){Fd.call(this,e)}function Np(e){Pd.call(this),this.Vg=null,this.wn=0,this.Wd=new Ee(100,100).freeze(),this.ym=!1,this.pf=!0,this.md=!1,this.Zk=100,this.Xm=1,this.Vf=1e3,this.En=10,this.ao=Math,this.Ck=.05,this.Bk=50,this.zk=150,this.Ak=0,this.Sm=10,this.Rm=5,e&&Object.assign(this,e)}function Rp(e,t,r){if(function(e,t){if(10<t||3>e.network.vertexes.count)return!1;for(e.Vg=e.network.vertexes.Fa(),(e=e.Vg).sort((function(e,t){return null===e||null===t||e===t?0:t.Qd-e.Qd})),t=e.length-1;0<=t&&1>=e[t].Qd;)t--;return 1<e.length-t}(e,t)){var n=e.Vf;e.Vf*=1+1/(t+1);var i=function(e,t){for(var r=e.network,n=new qp(e),i=0;i<e.Vg.length;i++){var o=e.Vg[i];if(!(1<o.Qd))break;n.Yg(o);var a=new zp;a.Ks=o.Qd,a.Ls=o.width,a.Js=o.height,a.Lv=o.focus.x,a.Mv=o.focus.y,null===o.Se&&(o.Se=new Z),o.Se.add(a),o.nv=o.Se.count-1}for(o=r.edges.iterator;o.next();){var s=o.value;i=s.fromVertex,a=s.toVertex,i.network===n&&a.network===n?n.xo(s):i.network===n?(null===(s=i.Fj)&&(s=new Z,i.Fj=s),s.add(a),i.Qd--,i.nh+=a.nh):a.network===n&&(null===(s=a.Fj)&&(s=new Z,a.Fj=s),s.add(i),a.Qd--,a.nh+=i.nh)}for(i=n.edges.iterator;i.next();)(o=i.value).length*=Math.max(1,Gt.sqrt((o.fromVertex.nh+o.toVertex.nh)/(4*t+1)));for(t=n.vertexes.iterator;t.next();){var l=(i=t.value).Fj;if(null!==l&&0<l.count&&!(0>=(a=i.Se.L(i.Se.count-1).Ks-i.Qd))){for(var u=s=0,c=l.count-a;c<l.count;c++){var h=l.L(c),d=null;for(o=h.edges.iterator;o.next();){var f=o.value;if(f.ux(h)===i){d=f;break}}null!==d&&(u+=d.length,s+=h.width*h.height)}o=i.centerX,l=i.centerY,c=i.width,h=i.height,d=i.focus,1>(f=c*h)&&(f=1),a=((s=Gt.sqrt((s+f+u*u*4/(a*a))/f))-1)*c/2,s=(s-1)*h/2,i.bounds=new Ne(o-d.x-a,l-d.y-s,c+2*a,h+2*s),i.focus=new pe(d.x+a,d.y+s)}}return e.network=n,r}(e,t),o=Math.max(0,Math.max(Math.min(e.network.vertexes.count,r*(t+1)/11),10));for(e.maxIterations+=o,Rp(e,t+1,r),Bp(e,o),function(e,t){for(var r=e.network.vertexes.iterator;r.next();){var n=r.value;if(n.network=t,null!==n.Se){var i=n.Se.L(n.nv);n.Qd=i.Ks;var o=i.Lv,a=i.Mv;n.bounds=new Ne(n.centerX-o,n.centerY-a,i.Ls,i.Js),n.focus=new pe(o,a),n.nv--}}for(r=e.network.edges.iterator;r.next();)r.value.network=t;e.network=t}(e,i),(t=i.vertexes.Fa()).sort((function(e,t){return null===e||null===t||e===t?0:t.Qd-e.Qd})),r=0;r<t.length;r++)Dp(e,t[r]);e.Vf=n}}function Dp(e,t){var r=t.Fj;if(null!==r&&0!==r.count){var n=t.centerX,i=t.centerY,o=t.width,a=t.height;null!==t.Se&&0<t.Se.count&&(o=(a=t.Se.L(0)).Ls,a=a.Js),o=Gt.sqrt(o*o+a*a)/2;for(var s=!1,l=a=0,u=0,c=t.vertexes.iterator;c.next();){var h=c.value;1>=h.Qd?l++:(s=!0,u++,a+=Math.atan2(t.centerY-h.centerY,t.centerX-h.centerX))}if(0!==l)for(0<u&&(a/=u),u=t=0,t=s?2*Math.PI/(l+1):2*Math.PI/l,0===l%2&&(u=t/2),1<r.count&&r.sort((function(e,t){return null===e||null===t||e===t?0:t.width*t.height-e.width*e.height})),s=0===l%2?0:1,r=r.iterator;r.next();)if(!(1<(l=r.value).Qd||e.isFixed(l))){for(c=null,h=l.edges.iterator;h.next();){c=h.value;break}h=l.width;var d=l.height;h=Gt.sqrt(h*h+d*d)/2,c=o+c.length+h,h=a+(t*(s/2>>1)+u)*(0===s%2?1:-1),l.centerX=n+c*Math.cos(h),l.centerY=i+c*Math.sin(h),s++}}}function Ip(e,t,r,n,i,o,a){var s=9e19,l=-1,u=0;e:for(;u<t;u++){var c=e[u],h=c.x-r,d=c.y-n;if((h=h*h+d*d)<s){for(d=u-1;0<=d;d--)if(e[d].y>c.y&&e[d].x-c.x<i+a.width)continue e;for(d=u+1;d<t;d++)if(e[d].x>c.x&&e[d].y-c.y<o+a.height)continue e;l=u,s=h}}return l}function Fp(e,t){var r=e.bounds,n=r.x;e=r.y;var i=r.width;r=r.height;var o=t.bounds,a=o.x;t=o.y;var s=o.width;return o=o.height,n+i<a?e>t+o?(r=n+i-a,e=e-t-o,Gt.sqrt(r*r+e*e)):e+r<t?(n=n+i-a,e=e+r-t,Gt.sqrt(n*n+e*e)):a-(n+i):n>a+s?e>t+o?(r=n-a-s,e=e-t-o,Gt.sqrt(r*r+e*e)):e+r<t?(n=n-a-s,e=e+r-t,Gt.sqrt(n*n+e*e)):n-(a+s):e>t+o?e-(t+o):e+r<t?t-(e+r):.1}function Bp(e,t){for(e.Vg=null,t=e.wn+t;e.wn<t&&(e.wn++,Up(e)););e.Vg=null}function Up(e){null===e.Vg&&(e.Vg=e.network.vertexes.Fa());var t=e.Vg;if(0>=t.length)return!1;var r=t[0];r.forceX=0,r.forceY=0;for(var n=r.centerX,i=n,o=r=r.centerY,a=1;a<t.length;a++){var s=t[a];s.forceX=0,s.forceY=0;var l=s.centerX;s=s.centerY,n=Math.min(n,l),i=Math.max(i,l),r=Math.min(r,s),o=Math.max(o,s)}(i=i-n>o-r)?t.sort((function(e,t){return null===e||null===t||e===t?0:e.centerX-t.centerX})):t.sort((function(e,t){return null===e||null===t||e===t?0:e.centerY-t.centerY})),r=e.Vf;var u=n=s=0;for(o=0;o<t.length;o++){n=(a=t[o]).bounds,s=a.focus,l=n.x+s.x;var c=n.y+s.y;n=a.charge*e.electricalFieldX(l,c),u=a.charge*e.electricalFieldY(l,c),n+=a.mass*e.gravitationalFieldX(l,c),u+=a.mass*e.gravitationalFieldY(l,c),a.forceX+=n,a.forceY+=u;for(var h=o+1;h<t.length;h++){var d=t[h];if(d!==a){n=d.bounds,s=d.focus,u=n.x+s.x;var f=n.y+s.y;if(l-u>r||u-l>r){if(i)break}else if(c-f>r||f-c>r){if(!i)break}else{var p=Fp(a,d);1>p?(null===(n=e.randomNumberGenerator)&&(e.randomNumberGenerator=n=new Hp),p=n.random(),s=n.random(),l>u?n=(1+(n=Math.abs(d.bounds.right-a.bounds.x)))*p:l<u?n=-(1+(n=Math.abs(d.bounds.x-a.bounds.right)))*p:n=(1+(n=Math.max(d.width,a.width)))*p-n/2,c>f?u=(1+(u=Math.abs(d.bounds.bottom-a.bounds.y)))*s:l<u?u=-(1+(u=Math.abs(d.bounds.y-a.bounds.bottom)))*s:u=(1+(u=Math.max(d.height,a.height)))*s-u/2):(n=(u-l)/p*(s=-a.charge*d.charge/(p*p)),u=(f-c)/p*s),a.forceX+=n,a.forceY+=u,d.forceX-=n,d.forceY-=u}}}}for(i=e.network.edges.iterator;i.next();)r=(s=i.value).fromVertex,o=s.toVertex,a=r.bounds,l=r.focus,n=a.x+l.x,a=a.y+l.y,c=o.bounds,h=o.focus,l=c.x+h.x,c=c.y+h.y,1>(h=Fp(r,o))?(null===(h=e.randomNumberGenerator)&&(e.randomNumberGenerator=h=new Hp),s=h.random(),h=h.random(),n=(n>l?1:-1)*(1+(o.width>r.width?o.width:r.width))*s,u=(a>c?1:-1)*(1+(o.height>r.height?o.height:r.height))*h):(n=(l-n)/h*(s=s.stiffness*(h-s.length)),u=(c-a)/h*s),r.forceX+=n,r.forceY+=u,o.forceX-=n,o.forceY-=u;for(i=n=0;i<t.length;i++)r=t[i],e.isFixed(r)?e.moveFixedVertex(r):n=Math.max(n,e.moveVertex(r)||0);return n>e.epsilonDistance*e.epsilonDistance}function zp(){this.Mv=this.Lv=this.Js=this.Ls=this.Ks=0}function qp(e){Od.call(this,e)}function Gp(e){Dd.call(this,e),this.ga=!1,this.Ha=this.u=NaN,this.nh=this.Qd=this.V=this.F=0,this.Se=this.Fj=null,this.nv=0}function Vp(e){Fd.call(this,e),this.j=this.m=NaN}function Hp(){var e=0;void 0===e&&(e=42),this.seed=e,this.Xx=48271,this.Zx=2147483647,this.Q=44488.07041494893,this.$x=3399,this.Yx=1/2147483647,this.random()}function Wp(e){Pd.call(this),this.gc=this.ee=25,this.K=0,this.yk=Tm,this.Uk=Am,this.Lk=Rm,this.Zi=4,this.lk=Bm,this.Yf=15,this.pf=!0,this.yn=4,this.Qa=this.Bq=this.Ia=-1,this.Dd=this.Dn=0,this.Ta=this.Bd=this.Cd=this.de=this.qc=null,this.Gn=0,this.Fn=this.ij=null,this.he=0,this.al=null,this.Of=new pe,this.De=[],this.De.length=100,this.qw=this.re=0,e&&Object.assign(this,e)}function Xp(e){var t=e.fromVertex.node||e.fromVertex.data;return e=e.toVertex.node||e.toVertex.data,null===t&&null===e?8:null===t||null===e?4:1}function Yp(e){null===e.ij&&(e.ij=[]);for(var t=0,r=e.network.vertexes.iterator;r.next();){var n=r.value;e.ij[t]=n.layer,t++,e.ij[t]=n.column,t++,e.ij[t]=n.index,t++}return e.ij}function Kp(e,t){var r=0;for(e=e.network.vertexes.iterator;e.next();){var n=e.value;n.layer=t[r],r++,n.column=t[r],r++,n.index=t[r],r++}}function Zp(e,t,r){var n=Cm(e,t),i=e.qc[t];(null===e.Fn||e.Fn.length<i*i)&&(e.Fn=[]);for(var o=e.Fn,a=0;a<i;a++){var s,l=0,u=n[a],c=u.near;if(null!==c&&c.layer===u.layer)if((u=c.index)>a)for(var h=a+1;h<u;h++){var d=n[h];d.near===c&&d.Bj===c.Bj||l++}else for(h=a-1;h>u;h--)(d=n[h]).near===c&&d.Bj===c.Bj||l++;if(0<=r)for(u=n[a].sourceEdgesArrayAccess,c=0;c<u.length;c++){var f=u[c];if(f.valid&&f.fromVertex.layer!==t)for(d=f.fromVertex.index,h=f.portToPos,f=f.portFromPos,s=c+1;s<u.length;s++){var p=u[s];if(p.valid&&p.fromVertex.layer!==t){var m=p.fromVertex.index,y=p.portToPos;p=p.portFromPos,h<y&&(d>m||d===m&&f>p)&&l++,y<h&&(m>d||m===d&&p>f)&&l++}}}if(0>=r)for(u=n[a].destinationEdgesArrayAccess,c=0;c<u.length;c++)if((f=u[c]).valid&&f.toVertex.layer!==t)for(d=f.toVertex.index,h=f.portToPos,f=f.portFromPos,s=c+1;s<u.length;s++)(p=u[s]).valid&&p.toVertex.layer!==t&&(m=p.toVertex.index,y=p.portToPos,f<(p=p.portFromPos)&&(d>m||d===m&&h>y)&&l++,p<f&&(m>d||m===d&&y>h)&&l++);for(o[a*i+a]=l,u=a+1;u<i;u++){var g=0,v=0;if(0<=r){l=n[a].sourceEdgesArrayAccess;var b=n[u].sourceEdgesArrayAccess;for(c=0;c<l.length;c++)if((f=l[c]).valid&&f.fromVertex.layer!==t)for(d=f.fromVertex.index,f=f.portFromPos,s=0;s<b.length;s++)(p=b[s]).valid&&p.fromVertex.layer!==t&&(m=p.fromVertex.index,p=p.portFromPos,(d<m||d===m&&f<p)&&v++,(m<d||m===d&&p<f)&&g++)}if(0>=r)for(l=n[a].destinationEdgesArrayAccess,b=n[u].destinationEdgesArrayAccess,c=0;c<l.length;c++)if((f=l[c]).valid&&f.toVertex.layer!==t)for(d=f.toVertex.index,h=f.portToPos,s=0;s<b.length;s++)(p=b[s]).valid&&p.toVertex.layer!==t&&(m=p.toVertex.index,y=p.portToPos,(d<m||d===m&&h<y)&&v++,(m<d||m===d&&y<h)&&g++);o[a*i+u]=g,o[u*i+a]=v}}return Pm(e,t,n),o}function $p(e){for(var t=0,r=0;r<=e.Ia;r++){for(var n=e,i=r,o=Cm(n,i),a=n.qc[i],s=0,l=0;l<a;l++){var u=o[l].destinationEdgesArrayAccess;if(null!==u)for(var c=0;c<u.length;c++){var h=u[c];if(h.valid&&h.toVertex.layer!==i){var d=h.fromVertex.column+h.portFromColOffset,f=h.toVertex.column+h.portToColOffset;s+=(Math.abs(d-f)+1)*Xp(h)}}}Pm(n,i,o),t+=s}return t}function Jp(e,t,r){for(var n=Cm(e,t),i=e.qc[t],o=[],a=0;a<i;a++){var s=n[a],l=null;0>=r&&(l=s.sourceEdgesArrayAccess);var u=null;0<=r&&(u=s.destinationEdgesArrayAccess);var c=0,h=0,d=s.near;if(null!==d&&d.layer===s.layer&&(c+=d.column-1,h++),null!==l)for(d=0;d<l.length;d++){var f=(s=l[d]).fromVertex;s.valid&&!s.rev&&f.layer!==t&&(c+=f.column,h++)}if(null!==u)for(l=0;l<u.length;l++)d=(s=u[l]).toVertex,s.valid&&!s.rev&&d.layer!==t&&(c+=d.column,h++);o[a]=0===h?-1:c/h}return Pm(e,t,n),o}function Qp(e,t,r){for(var n=Cm(e,t),i=e.qc[t],o=[],a=0;a<i;a++){var s=n[a],l=null;0>=r&&(l=s.sourceEdgesArrayAccess);var u=null;0<=r&&(u=s.destinationEdgesArrayAccess);var c=0,h=[],d=s.near;if(null!==d&&d.layer===s.layer&&(h[c]=d.column-1,c++),s=void 0,null!==l)for(d=0;d<l.length;d++){var f=(s=l[d]).fromVertex;s.valid&&!s.rev&&f.layer!==t&&(h[c]=f.column+s.portFromColOffset,c++)}if(null!==u)for(l=0;l<u.length;l++)d=(s=u[l]).toVertex,s.valid&&!s.rev&&d.layer!==t&&(h[c]=d.column+s.portToColOffset,c++);0===c?o[a]=-1:(h.sort((function(e,t){return e-t})),u=c>>1,o[a]=0!==(1&c)?h[u]:h[u-1]+h[u]>>1)}return Pm(e,t,n),o}function em(e,t,r,n,i,o){if(t.component===n){if(t.component=r,i)for(var a=t.destinationEdges;a.next();){var s=a.value,l=s.toVertex,u=t.layer-l.layer;u===(s=e.linkMinLength(s))&&em(e,l,r,n,i,o)}if(o)for(a=t.sourceEdges;a.next();)(u=(l=(s=a.value).fromVertex).layer-t.layer)===(s=e.linkMinLength(s))&&em(e,l,r,n,i,o)}}function tm(e,t,r,n,i,o){if(t.component===n){if(t.component=r,i)for(var a=t.destinationEdges;a.next();)tm(e,a.value.toVertex,r,n,i,o);if(o)for(t=t.sourceEdges;t.next();)tm(e,t.value.fromVertex,r,n,i,o)}}function rm(e){for(e=e.vertexes.iterator;e.next();){var t=e.value;if(t.valid)return t}return null}function nm(e){for(e=e.vertexes.iterator;e.next();){var t=e.value;if(t.valid){for(var r=!0,n=t.destinationEdges;n.next();)if(n.value.toVertex.valid){r=!1;break}if(r)return t}}return null}function im(e){for(e=e.vertexes.iterator;e.next();){var t=e.value;if(t.valid){for(var r=!0,n=t.sourceEdges;n.next();)if(n.value.fromVertex.valid){r=!1;break}if(r)return t}}return null}function om(e,t){t.Gl=e.Gn,e.Gn++;for(var r=t.destinationEdges;r.next();){var n=r.value,i=n.toVertex;-1===i.Gl&&(n.forest=!0,om(e,i))}t.finish=e.Gn,e.Gn++}function am(e){for(var t=e.network.vertexes.iterator;t.next();){var r=sm(e,t.value);e.Ia=Math.max(r,e.Ia)}}function sm(e,t){var r=0;if(-1===t.layer){for(var n=t.destinationEdges;n.next();){var i=n.value,o=i.toVertex;i=e.linkMinLength(i),r=Math.max(r,sm(e,o)+i)}t.layer=r}else r=t.layer;return r}function lm(e,t){var r=0;if(-1===t.layer){for(var n=t.sourceEdges;n.next();){var i=n.value,o=i.fromVertex;i=e.linkMinLength(i),r=Math.max(r,lm(e,o)+i)}t.layer=r}else r=t.layer;return r}function um(e,t){if(!t.valid){t.valid=!0;for(var r=t.destinationEdges;r.next();)um(e,r.value.toVertex);for(r=e.network.vertexes.iterator;r.next();)r.value.component=-1;for(var n=t.sourceEdgesArrayAccess,i=n.length,o=0;o<i;o++){var a=n[o],s=a.fromVertex,l=a.toVertex;a=e.linkMinLength(a),s.layer-l.layer>a&&em(e,s,0,-1,!0,!1)}for(em(e,t,1,-1,!0,!0);0!==t.component;){for(o=0,n=1/0,s=0,l=null,a=e.network.vertexes.iterator;a.next();){var u=a.value;if(1===u.component){var c=0,h=!1,d=u.sourceEdgesArrayAccess;i=d.length;for(var f=0;f<i;f++){var p=d[f],m=p.fromVertex;c+=1,1!==m.component&&(o+=1,m=m.layer-u.layer,p=e.linkMinLength(p),n=Math.min(n,m-p))}for(i=(d=u.destinationEdgesArrayAccess).length,f=0;f<i;f++)--c,1!==(p=d[f].toVertex).component?--o:h=!0;(null===l||c<s)&&!h&&(l=u,s=c)}}if(0<o){for(r.reset();r.next();)1===(i=r.value).component&&(i.layer+=n);t.component=0}else l.component=0}for(r=e.network.vertexes.iterator;r.next();)r.value.component=-1;for(em(e,t,1,-1,!0,!1);0!==t.component;){for(n=0,i=1/0,o=0,s=null,l=e.network.vertexes.iterator;l.next();)if(1===(a=l.value).component){for(u=0,c=!1,h=(d=a.sourceEdgesArrayAccess).length,f=0;f<h;f++)u+=1,1!==(p=d[f].fromVertex).component?n+=1:c=!0;for(h=(d=a.destinationEdgesArrayAccess).length,f=0;f<h;f++)--u,1!==(m=(p=d[f]).toVertex).component&&(--n,m=a.layer-m.layer,p=e.linkMinLength(p),i=Math.min(i,m-p));(null===s||u>o)&&!c&&(s=a,o=u)}if(0>n){for(r.reset();r.next();)1===(n=r.value).component&&(n.layer-=i);t.component=0}else s.component=0}}}function cm(e,t,r){return 90===e.K?r&&!t.rev||!r&&t.rev?270:90:180===e.K?r&&!t.rev||!r&&t.rev?0:180:270===e.K?r&&!t.rev||!r&&t.rev?90:270:r&&!t.rev||!r&&t.rev?180:0}function hm(e,t){var r=t.layer;for(t.index=e.qc[r],e.qc[r]++,t=t.destinationEdgesArrayAccess,r=!0;r;){r=!1;for(var n=0;n<t.length-1;n++){var i=t[n],o=t[n+1];i.portFromColOffset>o.portFromColOffset&&(r=!0,t[n]=o,t[n+1]=i)}}for(r=0;r<t.length;r++)(n=t[r]).valid&&(-1===(n=n.toVertex).index&&hm(e,n))}function dm(e,t){var r=t.layer;t.index=e.qc[r],e.qc[r]++,t=t.sourceEdgesArrayAccess;for(var n=!0;n;)for(n=!1,r=0;r<t.length-1;r++){var i=t[r],o=t[r+1];i.portToColOffset>o.portToColOffset&&(n=!0,t[r]=o,t[r+1]=i)}for(r=0;r<t.length;r++)(n=t[r]).valid&&(-1===(n=n.fromVertex).index&&dm(e,n))}function fm(e,t,r){var n=Cm(e,t),i=e.qc[t],o=Qp(e,t,r),a=Jp(e,t,r);for(r=0;r<i;r++)-1===a[r]&&(a[r]=n[r].column),-1===o[r]&&(o[r]=n[r].column);for(var s,l=!0;l;)for(l=!1,r=0;r<i-1;r++)(o[r+1]<o[r]||o[r+1]===o[r]&&a[r+1]<a[r])&&(l=!0,s=o[r],o[r]=o[r+1],o[r+1]=s,s=a[r],a[r]=a[r+1],a[r+1]=s,s=n[r],n[r]=n[r+1],n[r+1]=s);for(r=o=0;r<i;r++)(s=n[r]).index=r,o+=e.nodeMinColumnSpace(s,!0),s.column=o,o+=1,o+=e.nodeMinColumnSpace(s,!1);Pm(e,t,n)}function pm(e,t,r){var n,i=Cm(e,t),o=e.qc[t];r=Zp(e,t,r);var a=[];for(n=0;n<o;n++)a[n]=-1;var s=[];for(n=0;n<o;n++)s[n]=-1;for(var l=!1,u=!0;u;)for(u=!1,n=0;n<o-1;n++){var c=r[i[n].index*o+i[n+1].index],h=r[i[n+1].index*o+i[n].index],d=0,f=0,p=i[n].column,m=i[n+1].column,y=e.nodeMinColumnSpace(i[n],!0),g=e.nodeMinColumnSpace(i[n],!1),v=e.nodeMinColumnSpace(i[n+1],!0),b=e.nodeMinColumnSpace(i[n+1],!1);y=p-y+v,g=m-g+b;var x=i[n].sourceEdges.iterator;for(x.reset();x.next();)if(b=(v=x.value).fromVertex,v.valid&&b.layer===t){for(v=0;i[v]!==b;)v++;v<n&&(d+=2*(n-v),f+=2*(n+1-v)),v===n+1&&(d+=1),v>n+1&&(d+=4*(v-n),f+=4*(v-(n+1)))}for((x=i[n].destinationEdges.iterator).reset();x.next();)if(b=(v=x.value).toVertex,v.valid&&b.layer===t){for(v=0;i[v]!==b;)v++;v===n+1&&(f+=1)}for((x=i[n+1].sourceEdges.iterator).reset();x.next();)if(b=(v=x.value).fromVertex,v.valid&&b.layer===t){for(v=0;i[v]!==b;)v++;v<n&&(d+=2*(n+1-v),f+=2*(n-v)),v===n&&(f+=1),v>n+1&&(d+=4*(v-(n+1)),f+=4*(v-n))}for((x=i[n+1].destinationEdges.iterator).reset();x.next();)if(b=(v=x.value).toVertex,v.valid&&b.layer===t){for(v=0;i[v]!==b;)v++;v===n&&(d+=1)}v=b=0,x=a[i[n].index];var w=s[i[n].index],S=a[i[n+1].index],k=s[i[n+1].index];-1!==x&&(b+=Math.abs(x-p),v+=Math.abs(x-g)),-1!==w&&(b+=Math.abs(w-p),v+=Math.abs(w-g)),-1!==S&&(b+=Math.abs(S-m),v+=Math.abs(S-y)),-1!==k&&(b+=Math.abs(k-m),v+=Math.abs(k-y)),(f<d-.5||f===d&&h<c-.5||f===d&&h===c&&v<b-.5)&&(u=l=!0,i[n].column=g,i[n+1].column=y,c=i[n],i[n]=i[n+1],i[n+1]=c)}for(n=0;n<o;n++)i[n].index=n;return Pm(e,t,i),l}function mm(e,t,r){for(var n=!1;ym(e,t,r);)n=!0;return n}function ym(e,t,r){var n,i=Cm(e,t),o=e.qc[t],a=Jp(e,t,-1);if(0<r)for(n=0;n<o;n++)a[n]=-1;var s=Jp(e,t,1);if(0>r)for(n=0;n<o;n++)s[n]=-1;for(var l=!1,u=!0;u;)for(u=!1,n=0;n<o;n++){var c=i[n].column,h=e.nodeMinColumnSpace(i[n],!0),d=e.nodeMinColumnSpace(i[n],!1),f=0;f=0>n-1||c-i[n-1].column-1>h+e.nodeMinColumnSpace(i[n-1],!1)?c-1:c,h=n+1>=o||i[n+1].column-c-1>d+e.nodeMinColumnSpace(i[n+1],!0)?c+1:c;var p=d=0,m=0;if(0>=r)for(var y=i[n].sourceEdges.iterator;y.next();){var g=y.value,v=g.fromVertex;if(g.valid&&v.layer!==t){var b=Xp(g),x=g.portFromColOffset;g=g.portToColOffset,v=v.column,d+=(Math.abs(c+g-(v+x))+1)*b,p+=(Math.abs(f+g-(v+x))+1)*b,m+=(Math.abs(h+g-(v+x))+1)*b}}if(0<=r)for(y=i[n].destinationEdges.iterator;y.next();)v=(g=y.value).toVertex,g.valid&&v.layer!==t&&(b=Xp(g),x=g.portFromColOffset,g=g.portToColOffset,v=v.column,d+=(Math.abs(c+x-(v+g))+1)*b,p+=(Math.abs(f+x-(v+g))+1)*b,m+=(Math.abs(h+x-(v+g))+1)*b);g=x=b=0,y=a[i[n].index],v=s[i[n].index],-1!==y&&(b+=Math.abs(y-c),x+=Math.abs(y-f),g+=Math.abs(y-h)),-1!==v&&(b+=Math.abs(v-c),x+=Math.abs(v-f),g+=Math.abs(v-h)),p<d||p===d&&x<b?(u=l=!0,i[n].column=f):(m<d||m===d&&g<b)&&(u=l=!0,i[n].column=h)}return Pm(e,t,i),e.normalize(),l}function gm(e,t,r){var n=Cm(e,t),i=e.qc[t],o=Qp(e,t,r),a=[];for(r=0;r<i;r++)a[r]=o[r];for(o=!0;o;)for(o=!1,r=0;r<i;r++){var s=n[r].column,l=e.nodeMinColumnSpace(n[r],!0),u=e.nodeMinColumnSpace(n[r],!1),c=0;if(-1===a[r])if(0===r&&r===i-1)c=s;else if(0===r){var h=n[r+1].column;c=h-s===u+e.nodeMinColumnSpace(n[r+1],!0)?s-1:s}else r===i-1?c=s-(h=n[r-1].column)===l+e.nodeMinColumnSpace(n[r-1],!1)?s+1:s:c=((l=(h=n[r-1].column)+e.nodeMinColumnSpace(n[r-1],!1)+l+1)+(u=(h=n[r+1].column)-e.nodeMinColumnSpace(n[r+1],!0)-u-1))/2|0;else 0===r&&r===i-1?c=a[r]:0===r?(u=(h=n[r+1].column)-e.nodeMinColumnSpace(n[r+1],!0)-u-1,c=Math.min(a[r],u)):r===i-1?(l=(h=n[r-1].column)+e.nodeMinColumnSpace(n[r-1],!1)+l+1,c=Math.max(a[r],l)):(l=(h=n[r-1].column)+e.nodeMinColumnSpace(n[r-1],!1)+l+1,u=(h=n[r+1].column)-e.nodeMinColumnSpace(n[r+1],!0)-u-1,l<a[r]&&a[r]<u?c=a[r]:l>=a[r]?c=l:u<=a[r]&&(c=u));c!==s&&(o=!0,n[r].column=c)}Pm(e,t,n),e.normalize()}function vm(e,t){for(var r=!0,n=e.network.vertexes.iterator;n.next();){var i=n.value,o=e.nodeMinColumnSpace(i,!0),a=e.nodeMinColumnSpace(i,!1);if(i.column-o<=t&&i.column+a>=t){r=!1;break}}if(e=!1,r)for(n.reset();n.next();)(r=n.value).column>t&&(--r.column,e=!0);return e}function bm(e,t){var r,n=t+1,i=[],o=[];for(r=0;r<=e.Ia;r++)i[r]=!1,o[r]=!1;for(var a=e.network.vertexes.iterator;a.next();){var s=(r=a.value).column-e.nodeMinColumnSpace(r,!0),l=r.column+e.nodeMinColumnSpace(r,!1);s<=t&&l>=t&&(i[r.layer]=!0),s<=n&&l>=n&&(o[r.layer]=!0)}for(s=!0,n=!1,r=0;r<=e.Ia;r++)s=s&&!(i[r]&&o[r]);if(s)for(a.reset();a.next();)(e=a.value).column>t&&(--e.column,n=!0);return n}function xm(e,t){for(var r=0;r<=e.Qa;r++)for(;vm(e,r););for(e.normalize(),r=0;r<e.Qa;r++)for(;bm(e,r););var n;if(e.normalize(),0<t)for(r=0;r<=e.Qa;r++){var i=Yp(e),o=$p(e);for(n=o+1;o<n;){n=o,wm(e,r,1);var a=$p(e);a>o?Kp(e,i):a<o&&(o=a,i=Yp(e))}}if(0>t)for(r=e.Qa;0<=r;r--)for(i=Yp(e),n=(o=$p(e))+1;o<n;)n=o,wm(e,r,-1),(a=$p(e))>o?Kp(e,i):a<o&&(o=a,i=Yp(e));e.normalize()}function wm(e,t,r){e.he=0;for(var n=e.network.vertexes.iterator;n.next();)n.value.component=-1;if(0<r)for(n.reset();n.next();){var i=n.value;i.column-e.nodeMinColumnSpace(i,!0)<=t&&(i.component=e.he)}if(0>r)for(n.reset();n.next();)(i=n.value).column+e.nodeMinColumnSpace(i,!1)>=t&&(i.component=e.he);for(e.he++,n.reset();n.next();)-1===(t=n.value).component&&(tm(e,t,e.he,-1,!0,!0),e.he++);var o;for(t=[],o=0;o<e.he*e.he;o++)t[o]=!1;for(i=[],o=0;o<(e.Ia+1)*(e.Qa+1);o++)i[o]=-1;for(n.reset();n.next();)for(var a=(o=n.value).layer,s=Math.max(0,o.column-e.nodeMinColumnSpace(o,!0)),l=Math.min(e.Qa,o.column+e.nodeMinColumnSpace(o,!1));s<=l;s++)i[a*(e.Qa+1)+s]=o.component;for(o=0;o<=e.Ia;o++){if(0<r)for(a=0;a<e.Qa;a++)-1!==i[o*(e.Qa+1)+a]&&-1!==i[o*(e.Qa+1)+a+1]&&i[o*(e.Qa+1)+a]!==i[o*(e.Qa+1)+a+1]&&(t[i[o*(e.Qa+1)+a]*e.he+i[o*(e.Qa+1)+a+1]]=!0);if(0>r)for(a=e.Qa;0<a;a--)-1!==i[o*(e.Qa+1)+a]&&-1!==i[o*(e.Qa+1)+a-1]&&i[o*(e.Qa+1)+a]!==i[o*(e.Qa+1)+a-1]&&(t[i[o*(e.Qa+1)+a]*e.he+i[o*(e.Qa+1)+a-1]]=!0)}for(i=[],o=0;o<e.he;o++)i[o]=!0;for((a=[]).push(0);0!==a.length;)if(l=a[a.length-1],a.pop(),i[l])for(i[l]=!1,o=0;o<e.he;o++)t[l*e.he+o]&&a.splice(0,0,o);if(0<r)for(n.reset();n.next();)i[(e=n.value).component]&&--e.column;if(0>r)for(n.reset();n.next();)i[(r=n.value).component]&&(r.column+=1)}function Sm(e,t,r,n){for(var o=90===e.K||270===e.K,a=i(t),s=a.next();!s.done;s=a.next()){var l=i(s.value);for(s=l.next();!s.done;s=l.next())(s=s.value).ld=s,s.shift=1/0,s.wc=NaN,s.mg=0}for(s=90===e.K||270===e.K,l=(a=i(t)).next();!l.done;l=a.next())for(var u=(l=i(l.value)).next();!u.done;u=l.next())if((u=u.value).root===u){for(var c=0,h=u;h.align!==u;){var d=h.align,f=s?h.width:h.height,p=s?d.width:d.height;if(r){var m=Wm(h,d),y=m.portFromPos,g=m.portToPos;null!==m.link&&(h.node&&h.node!==m.link.fromNode&&(y=s?h.focusX:h.focusY),d.node&&d.node!==m.link.toNode&&(g=s?d.focusX:d.focusY))}else y=(m=Wm(d,h)).portToPos,g=m.portFromPos,null!==m.link&&(h.node&&h.node!==m.link.toNode&&(y=s?h.focusX:h.focusY),d.node&&d.node!==m.link.fromNode&&(g=s?d.focusX:d.focusY));f=n?h.mg+(f-y)-(p-g):h.mg+y-g,d.mg=f,c=Math.min(c,f),h=h.align}h=u;do{h.mg=h.mg-c,h=h.align}while(h!==u)}for(s=(r=i(t)).next();!s.done;s=r.next())for(s=(a=i(s.value)).next();!s.done;s=a.next())(s=s.value).root===s&&km(e,s,t);for(r=0;r<t.length;r++)if(!(0>=t[r].length)&&(s=t[r][0]).ld===s){1/0===s.ld.shift&&(s.ld.shift=0),s=r,l=0;do{for(a=t[s][l];a.align!==a.root;)s++,0<(a=a.align).si&&((l=_m(a,t)).ld.shift=Math.min(l.ld.shift,a.ld.shift+a.wc+a.mg-(l.wc+l.mg+(o?l.width:l.height)+e.columnSpacing)));l=a.si+1}while(s<t.length&&l<t[s].length&&a.ld===t[s][l].ld)}for(e=new fe,s=(t=i(t)).next();!s.done;s=t.next())for(s=(r=i(s.value)).next();!s.done;s=r.next())(s=s.value).wc=s.wc+s.ld.shift+s.mg,a=o?s.width:s.height,e.add(s,n?-s.wc-a:s.wc);return e}function km(e,t,r){if(isNaN(t.wc)){t.wc=0;var n=t;do{if(0<n.si){var i=_m(n,r),o=i.root;km(e,o,r),t.ld===t&&(t.ld=o.ld);var a=90===e.K||270===e.K?i.width:i.height;t.ld===o.ld&&(t.wc=Math.max(t.wc,o.wc+i.mg+a-n.mg+e.columnSpacing))}n=n.align}while(n!==t);for(;n.align!==t;)(n=n.align).wc=t.wc,n.ld=t.ld}}function _m(e,t){var r=e.Kz;return 1>(e=e.si)&&w("Could not determine previous vertex in layer"),t[r][e-1]}function jm(e,t,r,n,i){if(!t||0===t.count)return r[i]=0,n[i]=0,1/0;var o=1/0,a=-1/0;return t.each((function(t){var r=t.key;t=t.value,r=90===e.K||270===e.K?r.width:r.height,t<o&&(o=t),t+r>a&&(a=t+r)})),r[i]=o,n[i]=a,a-o}function Mm(e,t){return 270===e.K?t?Ct:Et:90===e.K?t?Et:Ct:180===e.K?t?Pt:Tt:t?Tt:Pt}function Cm(e,t){var r=e.qc[t];if(r>=e.De.length){for(var n=[],i=0;i<e.De.length;i++)n[i]=e.De[i];e.De=n}for(void 0===e.De[r]||null===e.De[r]?n=[]:(n=e.De[r],e.De[r]=null),e=e.al[t],t=0;t<e.length;t++)n[(r=e[t]).index]=r;return n}function Pm(e,t,r){e.De[e.qc[t]]=r}rp.className="CircularLayout",rp.ConstantSpacing=pp,rp.ConstantDistance=mp,rp.ConstantAngle=yp,rp.Packed=gp,rp.Clockwise=vp,rp.Counterclockwise=bp,rp.BidirectionalLeft=xp,rp.BidirectionalRight=wp,rp.Forwards=Sp,rp.Reverse=kp,rp.Ascending=_p,rp.Descending=jp,rp.Optimized=Mp,rp.Pythagorean=Cp,rp.Circular=Pp,Tp.prototype.compare=function(e,t){if(0<e&&0>this.Kl||Math.abs(e)<Math.abs(this.Kl)&&!(0>e&&0<this.Kl))for(this.Kl=e,this.hk=[],this.qm=[],e=0;e<t.length;e++)this.hk[e]=t[e].bounds.x,this.qm[e]=t[e].bounds.y},Tp.prototype.commit=function(e){if(null!==this.hk&&null!==this.qm)for(var t=0;t<this.hk.length;t++){var r=e.L(t);r.x=this.hk[t],r.y=this.qm[t]}},Tp.className="VertexArrangement",h(Ep,Od),Ep.prototype.createVertex=function(){return new Op(this)},Ep.prototype.createEdge=function(){return new Lp(this)},Ep.className="CircularNetwork",h(Op,Dd),d.Object.defineProperties(Op.prototype,{diameter:{get:function(){return this.Pi},set:function(e){this.Pi!==e&&(this.Pi=e)}},actualAngle:{get:function(){return this.u},set:function(e){this.u!==e&&(this.u=e)}}}),Op.className="CircularVertex",h(Lp,Fd),Lp.className="CircularEdge",h(Np,Pd),Np.prototype.cloneProtected=function(e){Pd.prototype.cloneProtected.call(this,e),e.Wd.assign(this.Wd),e.ym=this.ym,e.pf=this.pf,e.md=this.md,e.Zk=this.Zk,e.Xm=this.Xm,e.Vf=this.Vf,e.En=this.En,e.ao=this.ao,e.Ck=this.Ck,e.Bk=this.Bk,e.zk=this.zk,e.Ak=this.Ak,e.Sm=this.Sm,e.Rm=this.Rm},Np.prototype.createNetwork=function(){return new qp(this)},Np.prototype.doLayout=function(e){if(null===this.network&&(this.network=this.makeNetwork(e)),e=this.maxIterations,0<this.network.vertexes.count){this.network.Go();for(var t=this.network.vertexes.iterator;t.next();){var r=t.value;r.charge=this.electricalCharge(r),r.mass=this.gravitationalMass(r)}for(t=this.network.edges.iterator;t.next();)(r=t.value).stiffness=this.springStiffness(r),r.length=this.springLength(r);if(this.xu(),this.wn=0,this.needsClusterLayout()){for(var n=(r=(t=this.network).Vx()).iterator;n.next();){this.network=n.value;for(var i=this.network.vertexes.iterator;i.next();){var o=i.value;o.Qd=o.vertexes.count,o.nh=1,o.Fj=null,o.Se=null}Rp(this,0,e)}this.network=t;var a=n=r.iterator;n=this.arrangementSpacing;var s=a.count,l=!0;o=i=0;for(var u=E(),c=0;c<s+t.vertexes.count+2;c++)u[c]=null;s=0,a.reset();for(var h=Ne.alloc();a.next();)if(c=a.value,this.computeBounds(c,h),l)l=!1,i=h.x+h.width/2,o=h.y+h.height/2,u[0]=new pe(h.x+h.width+n.width,h.y),u[1]=new pe(h.x,h.y+h.height+n.height),s=2;else{var d=Ip(u,s,i,o,h.width,h.height,n),f=u[d],p=new pe(f.x+h.width+n.width,f.y),m=new pe(f.x,f.y+h.height+n.height);for(d+1<s&&u.splice(d+1,0,null),u[d]=p,u[d+1]=m,s++,d=f.x-h.x,f=f.y-h.y,c=c.vertexes.iterator;c.next();)(p=c.value).centerX+=d,p.centerY+=f}for(Ne.free(h),c=t.vertexes.iterator;c.next();)d=(a=c.value).bounds,2>s?(i=d.x+d.width/2,o=d.y+d.height/2,u[0]=new pe(d.x+d.width+n.width,d.y),u[1]=new pe(d.x,d.y+d.height+n.height),s=2):(f=new pe((h=u[l=Ip(u,s,i,o,d.width,d.height,n)]).x+d.width+n.width,h.y),d=new pe(h.x,h.y+d.height+n.height),l+1<s&&u.splice(l+1,0,null),u[l]=f,u[l+1]=d,s++,a.centerX=h.x+a.width/2,a.centerY=h.y+a.height/2);for(O(u),n=r.iterator;n.next();){for(i=(r=n.value).vertexes.iterator;i.next();)t.Yg(i.value);for(r=r.edges.iterator;r.next();)t.xo(r.value)}}Bp(this,e),this.updateParts()}this.Zk=e,this.network=null,this.isValidLayout=!0},Np.prototype.needsClusterLayout=function(){if(3>this.network.vertexes.count)return!1;for(var e=0,t=0,r=this.network.vertexes.first().bounds,n=this.network.vertexes.iterator;n.next();){if(n.value.bounds.Tc(r)&&2<++e)return!0;if(10<t)break;t++}return!1},Np.prototype.computeBounds=function(e,t){var r=!0;for(e=e.vertexes.iterator;e.next();){var n=e.value;r?(r=!1,t.set(n.bounds)):t.Zc(n.bounds)}return t},Np.prototype.xu=function(){if(this.comments)for(var e=this.network.vertexes.iterator;e.next();)this.addComments(e.value)},Np.prototype.addComments=function(e){var t=e.node;if(null!==t)for(t=t.Gu();t.next();){var r=t.value;if("Comment"===r.category&&r.isVisible()){var n=this.network.hi(r);null===n&&(n=this.network.xl(r)),n.charge=this.defaultCommentElectricalCharge,r=null;for(var i=n.destinationEdges;i.next();){var o=i.value;if(o.toVertex===e){r=o;break}}if(null===r)for(i=n.sourceEdges;i.next();)if((o=i.value).fromVertex===e){r=o;break}null===r&&(r=this.network.Wj(e,n,null)),r.length=this.defaultCommentSpringLength}}},Np.prototype.moveVertex=function(e){var t=e.forceX,r=e.forceY,n=this.moveLimit;return t<-n?t=-n:t>n&&(t=n),r<-n?r=-n:r>n&&(r=n),e.centerX+=t,e.centerY+=r,t*t+r*r},Np.prototype.moveFixedVertex=function(){},Np.prototype.commitLayout=function(){this.rv(),this.commitNodes(),this.isRouting&&this.commitLinks()},Np.prototype.rv=function(){if(this.setsPortSpots)for(var e=this.network.edges.iterator;e.next();){var t=e.value.link;null!==t&&(t.fromSpot=St,t.toSpot=St)}},Np.prototype.commitNodes=function(){var e=0,t=0;if(this.arrangesToOrigin){var r=Ne.alloc();this.computeBounds(this.network,r),e=(t=this.arrangementOrigin).x-r.x,t=t.y-r.y,Ne.free(r)}r=Ne.alloc();for(var n=this.network.vertexes.iterator;n.next();){var i=n.value;0===e&&0===t||(r.assign(i.bounds),r.x+=e,r.y+=t,i.bounds=r),i.commit()}Ne.free(r)},Np.prototype.commitLinks=function(){for(var e=this.network.edges.iterator;e.next();)e.value.commit()},Np.prototype.springStiffness=function(e){return e=e.stiffness,isNaN(e)?this.Ck:e},Np.prototype.springLength=function(e){return e=e.length,isNaN(e)?this.Bk:e},Np.prototype.electricalCharge=function(e){return e=e.charge,isNaN(e)?this.zk:e},Np.prototype.electricalFieldX=function(){return 0},Np.prototype.electricalFieldY=function(){return 0},Np.prototype.gravitationalMass=function(e){return e=e.mass,isNaN(e)?this.Ak:e},Np.prototype.gravitationalFieldX=function(){return 0},Np.prototype.gravitationalFieldY=function(){return 0},Np.prototype.isFixed=function(e){return e.isFixed},d.Object.defineProperties(Np.prototype,{currentIteration:{get:function(){return this.wn}},arrangementSpacing:{get:function(){return this.Wd},set:function(e){this.Wd.C(e)||(this.Wd.assign(e),this.D())}},arrangesToOrigin:{get:function(){return this.ym},set:function(e){this.ym!==e&&(this.ym=e,this.D())}},setsPortSpots:{get:function(){return this.pf},set:function(e){this.pf!==e&&(this.pf=e,this.D())}},comments:{get:function(){return this.md},set:function(e){this.md!==e&&(this.md=e,this.D())}},maxIterations:{get:function(){return this.Zk},set:function(e){this.Zk!==e&&0<=e&&(this.Zk=e,this.D())}},epsilonDistance:{get:function(){return this.Xm},set:function(e){this.Xm!==e&&0<e&&(this.Xm=e,this.D())}},infinityDistance:{get:function(){return this.Vf},set:function(e){this.Vf!==e&&1<e&&(this.Vf=e,this.D())}},moveLimit:{get:function(){return this.En},set:function(e){this.En!==e&&1<e&&(this.En=e,this.D())}},randomNumberGenerator:{get:function(){return this.ao},set:function(e){this.ao!==e&&(null!==e&&"function"!==typeof e.random&&w('ForceDirectedLayout.randomNumberGenerator must have a "random()" function on it: '+e),this.ao=e)}},defaultSpringStiffness:{get:function(){return this.Ck},set:function(e){this.Ck!==e&&(this.Ck=e,this.D())}},defaultSpringLength:{get:function(){return this.Bk},set:function(e){this.Bk!==e&&(this.Bk=e,this.D())}},defaultElectricalCharge:{get:function(){return this.zk},set:function(e){this.zk!==e&&(this.zk=e,this.D())}},defaultGravitationalMass:{get:function(){return this.Ak},set:function(e){this.Ak!==e&&(this.Ak=e,this.D())}},defaultCommentSpringLength:{get:function(){return this.Sm},set:function(e){this.Sm!==e&&(this.Sm=e,this.D())}},defaultCommentElectricalCharge:{get:function(){return this.Rm},set:function(e){this.Rm!==e&&(this.Rm=e,this.D())}}}),Np.className="ForceDirectedLayout",zp.className="ForceDirectedSubnet",h(qp,Od),qp.prototype.createVertex=function(){return new Gp(this)},qp.prototype.createEdge=function(){return new Vp(this)},qp.className="ForceDirectedNetwork",h(Gp,Dd),d.Object.defineProperties(Gp.prototype,{isFixed:{get:function(){return this.ga},set:function(e){this.ga!==e&&(this.ga=e)}},charge:{get:function(){return this.u},set:function(e){this.u!==e&&(this.u=e)}},mass:{get:function(){return this.Ha},set:function(e){this.Ha!==e&&(this.Ha=e)}},forceX:{get:function(){return this.F},set:function(e){this.F!==e&&(this.F=e)}},forceY:{get:function(){return this.V},set:function(e){this.V!==e&&(this.V=e)}}}),Gp.className="ForceDirectedVertex",h(Vp,Fd),d.Object.defineProperties(Vp.prototype,{stiffness:{get:function(){return this.m},set:function(e){this.m!==e&&(this.m=e)}},length:{get:function(){return this.j},set:function(e){this.j!==e&&(this.j=e)}}}),Vp.className="ForceDirectedEdge",Hp.prototype.random=function(){var e=this.seed%this.Q*this.Xx-this.seed/this.Q*this.$x;return this.seed=0<e?e:e+this.Zx,this.seed*this.Yx},Hp.className="RandomNumberGenerator",h(Wp,Pd),Wp.prototype.cloneProtected=function(e){Pd.prototype.cloneProtected.call(this,e),e.ee=this.ee,e.gc=this.gc,e.K=this.K,e.yk=this.yk,e.Uk=this.Uk,e.Lk=this.Lk,e.Zi=this.Zi,e.lk=this.lk,e.Yf=this.Yf,e.pf=this.pf,e.yn=this.yn,e.re=this.re},Wp.prototype.rb=function(e){e.classType===Wp?0===e.name.indexOf("Aggressive")?this.aggressiveOption=e:0===e.name.indexOf("Cycle")?this.cycleRemoveOption=e:0===e.name.indexOf("Init")?this.initializeOption=e:0===e.name.indexOf("Layer")?this.layeringOption=e:w("Unknown enum value: "+e):Pd.prototype.rb.call(this,e)},Wp.prototype.createNetwork=function(){return new Gm(this)},Wp.prototype.doLayout=function(e){for(null===this.network&&(this.network=this.makeNetwork(e)),this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin),this.Bq=-1,this.Dd=this.Dn=0,this.al=this.Fn=this.ij=null,e=0;e<this.De.length;e++)this.De[e]=null;if(0<this.network.vertexes.count){for(this.network.Go(),this.cycleRemoveOption!==Om&&this.removeCycles(),e=this.network.vertexes.iterator;e.next();)e.value.layer=-1;for(this.Ia=-1,this.assignLayers(),e.reset();e.next();)this.Ia=Math.max(this.Ia,e.value.layer);this.cycleRemoveOption===Om&&this.removeCycles();for(var t=[],r=(e=this.network).edges.iterator;r.next();){var n=r.value;n.valid=!1,t.push(n)}for(r=0;r<t.length;r++){var i=(n=t[r]).fromVertex,o=n.toVertex;if(!(n.valid||(null===i.node&&null===i.data||null===o.node&&null===o.data)&&i.layer===o.layer)){var a=0,s=0,l=0,u=0;if(null!==n.link){if(null===(s=n.link))continue;var c=i.node;if(a=o.node,null===c||null===a)continue;var h=s.fromNode;l=s.toNode;for(var d=s.fromPort;null!==d&&!d.Nd();)d=d.panel;for(s=s.toPort;null!==s&&!s.Nd();)s=s.panel;if(n.rev){u=h;var f=d;h=l,d=s,l=u,s=f}var p=i.focus;u=o.focus;var m=n.rev?o.bounds:i.bounds;f=pe.alloc(),c!==h?m.w()&&h.isVisible()?h.actualBounds.w()?(_c(h,d,rt,f),f.x+=h.actualBounds.x-m.x,f.y+=h.actualBounds.y-m.y):(_c(h,d,rt,f),f.w()||f.assign(p)):f.assign(p):m.w()?(_c(h,d,rt,f),f.w()||f.assign(p)):f.assign(p),h=n.rev?i.bounds:o.bounds,c=pe.alloc(),a!==l?h.w()&&l.isVisible()?l.actualBounds.w()?(_c(l,s,rt,c),c.x+=l.actualBounds.x-h.x,c.y+=l.actualBounds.y-h.y):(_c(l,s,rt,c),c.w()||c.assign(u)):c.assign(u):h.w()?(_c(l,s,rt,c),c.w()||c.assign(u)):c.assign(u),90===this.K||270===this.K?(a=Math.round((f.x-p.x)/this.gc),l=f.x,s=Math.round((c.x-u.x)/this.gc),u=c.x):(a=Math.round((f.y-p.y)/this.gc),l=f.y,s=Math.round((c.y-u.y)/this.gc),u=c.y),pe.free(f),pe.free(c),n.portFromColOffset=a,n.portFromPos=l,n.portToColOffset=s,n.portToPos=u}else n.portFromColOffset=0,n.portFromPos=0,n.portToColOffset=0,n.portToPos=0;if(f=i.layer,c=o.layer,h=0,null!==(m=n.link)){var y=m.fromPort,g=m.toPort;if(null!==y&&null!==g){var v=m.fromNode;if(d=m.toNode,null!==v&&null!==d){var b=Mm(this,!0),x=Mm(this,!1),w=this.setsPortSpots?b:m.computeSpot(!0,y);p=this.setsPortSpots?x:m.computeSpot(!1,g);var S=m.isOrthogonal;w.Vc()&&w.Ef(x)&&p.Vc()&&p.Ef(b)?h=0:(b=m.getLinkPoint(v,y,w,!0,S,d,g,pe.alloc()),x=m.getLinkDirection(v,y,b,w,!0,S,d,g),pe.free(b),w.rs()||x!==cm(this,n,!0)?this.setsPortSpots&&null!==v&&1===v.ports.count&&n.rev&&(h+=1):h+=1,w=m.getLinkPoint(d,g,p,!1,S,v,y,pe.alloc()),m=m.getLinkDirection(d,g,w,p,!1,S,v,y),pe.free(w),p.rs()||m!==cm(this,n,!1)?this.setsPortSpots&&null!==d&&1===d.ports.count&&n.rev&&(h+=2):h+=2)}}}if(h=1===(d=h)||3===d,(d=2===d||3===d)&&((p=e.createVertex()).node=null,p.Bj=1,p.layer=f,p.near=i,e.Yg(p),(i=e.Wj(i,p,n.link)).valid=!1,i.rev=n.rev,i.portFromColOffset=a,i.portToColOffset=0,i.portFromPos=l,i.portToPos=0,i=p),m=1,h&&m--,f-c>m&&0<f){for(n.valid=!1,(p=e.createVertex()).node=null,p.Bj=2,p.layer=f-1,e.Yg(p),(i=e.Wj(i,p,n.link)).valid=!0,i.rev=n.rev,i.portFromColOffset=d?0:a,i.portToColOffset=0,i.portFromPos=d?0:l,i.portToPos=0,i=p,f--;f-c>m&&0<f;)(p=e.createVertex()).node=null,p.Bj=3,p.layer=f-1,e.Yg(p),(i=e.Wj(i,p,n.link)).valid=!0,i.rev=n.rev,i.portFromColOffset=0,i.portToColOffset=0,i.portFromPos=0,i.portToPos=0,i=p,f--;(i=e.Wj(p,o,n.link)).valid=!h,h&&(p.near=o),i.rev=n.rev,i.portFromColOffset=0,i.portToColOffset=s,i.portFromPos=0,i.portToPos=u}else n.valid=!0}}for(e=this.qc=[],t=0;t<=this.Ia;t++)e[t]=0;for(t=this.network.vertexes.iterator;t.next();)t.value.index=-1;for(this.initializeIndices(),this.Bq=-1,r=this.Dd=this.Dn=0;r<=this.Ia;r++)e[r]>e[this.Dd]&&(this.Bq=e[r]-1,this.Dd=r),e[r]<e[this.Dn]&&(this.Dn=r);for(this.al=[],r=0;r<e.length;r++)this.al[r]=[];for(t.reset();t.next();)e=t.value,this.al[e.layer][e.index]=e;for(this.Qa=-1,e=0;e<=this.Ia;e++){for(t=Cm(this,e),r=0,n=this.qc[e],o=0;o<n;o++)i=t[o],r+=this.nodeMinColumnSpace(i,!0),i.column=r,r+=1,r+=this.nodeMinColumnSpace(i,!1);this.Qa=Math.max(this.Qa,r-1),Pm(this,e,t)}this.reduceCrossings(),this.straightenAndPack(),this.updateParts()}this.network=null,this.isValidLayout=!0},Wp.prototype.linkMinLength=function(){return 1},Wp.prototype.nodeMinLayerSpace=function(e,t){return null===e.node&&null===e.data?0:90===this.K||270===this.K?t?e.focus.y+10:e.bounds.height-e.focus.y+10:t?e.focus.x+10:e.bounds.width-e.focus.x+10},Wp.prototype.nodeMinColumnSpace=function(e,t){if(null===e.node&&null===e.data)return 0;var r=t?e.av:e.$u;return null!==r?r:90===(r=this.K)||270===r?t?e.av=e.focus.x/this.gc+1|0:e.$u=(e.bounds.width-e.focus.x)/this.gc+1|0:t?e.av=e.focus.y/this.gc+1|0:e.$u=(e.bounds.height-e.focus.y)/this.gc+1|0},Wp.prototype.countCrossings=function(){for(var e=0,t=0;t<=this.Ia;t++)for(var r=Zp(this,t,1),n=this.qc[t],i=0;i<n;i++)for(var o=i;o<n;o++)e+=r[i*n+o];return e},Wp.prototype.normalize=function(){var e=1/0;this.Qa=-1;for(var t=this.network.vertexes.iterator;t.next();){var r=t.value;e=Math.min(e,r.column-this.nodeMinColumnSpace(r,!0)),this.Qa=Math.max(this.Qa,r.column+this.nodeMinColumnSpace(r,!1))}for(t.reset();t.next();)t.value.column-=e;this.Qa-=e},Wp.prototype.removeCycles=function(){for(var e=this.network.edges.iterator;e.next();)e.value.rev=!1;switch(this.yk){default:case Em:var t=0,r=(e=this.network).vertexes.count-1,n=[];n.length=r+1;for(var i=e.vertexes.iterator;i.next();)i.value.valid=!0;for(;null!==rm(e);){for(i=nm(e);null!==i;)n[r]=i,r--,i.valid=!1,i=nm(e);for(i=im(e);null!==i;)n[t]=i,t++,i.valid=!1,i=im(e);i=null;for(var o=0,a=this.network.vertexes.iterator;a.next();){var s=a.value;if(s.valid){for(var l=0,u=s.destinationEdges;u.next();)u.value.toVertex.valid&&l++;u=0;for(var c=s.sourceEdges;c.next();)c.value.fromVertex.valid&&u++;(null===i||o<l-u)&&(i=s,o=l-u)}}null!==i&&(n[t]=i,t++,i.valid=!1)}for(t=0;t<e.vertexes.count;t++)n[t].index=t;for(n=e.edges.iterator;n.next();)(t=n.value).fromVertex.index>t.toVertex.index&&(e.dm(t),t.rev=!0);break;case Tm:for(n=this.network.vertexes.iterator;n.next();)(e=n.value).Gl=-1,e.finish=-1;for(e=this.network.edges.iterator;e.next();)e.value.forest=!1;for(this.Gn=0,n.reset();n.next();)0===(t=n.value).sourceEdges.count&&om(this,t);for(n.reset();n.next();)-1===(t=n.value).Gl&&om(this,t);for(e.reset();e.next();)(n=e.value).forest||(r=(t=n.fromVertex).finish,o=(i=n.toVertex).finish,i.Gl<t.Gl&&r<o&&(this.network.dm(n),n.rev=!0));break;case Om:for(t=(e=this.network).vertexes.iterator,n=1/0;t.next();)n=Math.min(n,t.value.layer);if(1/0>n){if(0>n)for(t.reset();t.next();)t.value.layer-=n;for(n=[],t.reset();t.next();)void 0===(i=n[(r=t.value).layer])?n[r.layer]=[r]:i.push(r);for(r=t=0;r<n.length;r++)if((i=n[r])&&0!==i.length){if(0<r)for(o=0;o<i.length;o++)i[o].layer-=t}else t++;for(n=e.edges.iterator;n.next();)(t=n.value).fromVertex.layer<t.toVertex.layer&&(e.dm(t),t.rev=!0)}}},Wp.prototype.assignLayers=function(){switch(this.Uk){case Lm:am(this);break;case Nm:for(var e,t=this.network.vertexes.iterator;t.next();)e=lm(this,t.value),this.Ia=Math.max(e,this.Ia);for(t.reset();t.next();)(e=t.value).layer=this.Ia-e.layer;break;default:for(am(this),t=this.network.vertexes.iterator;t.next();)t.value.valid=!1;for(t.reset();t.next();)0===(e=t.value).sourceEdges.count&&um(this,e);for(e=1/0,t.reset();t.next();)e=Math.min(e,t.value.layer);for(this.Ia=-1,t.reset();t.next();){var r=t.value;r.layer-=e,this.Ia=Math.max(this.Ia,r.layer)}}},Wp.prototype.initializeIndices=function(){switch(this.Lk){default:case Im:for(var e=this.network.vertexes.iterator;e.next();){var t=e.value,r=t.layer;t.index=this.qc[r],this.qc[r]++}break;case Rm:for(e=this.network.vertexes.iterator,t=this.Ia;0<=t;t--)for(e.reset();e.next();)(r=e.value).layer===t&&-1===r.index&&hm(this,r);break;case Dm:for(e=this.network.vertexes.iterator,t=0;t<=this.Ia;t++)for(e.reset();e.next();)(r=e.value).layer===t&&-1===r.index&&dm(this,r)}},Wp.prototype.reduceCrossings=function(){var e,t,r,n,i,o=this.countCrossings(),a=Yp(this);for(e=0;e<this.Zi;e++){for(t=0;t<=this.Ia;t++)fm(this,t,1),pm(this,t,1);var s=this.countCrossings();for(s<o&&(o=s,a=Yp(this)),t=this.Ia;0<=t;t--)fm(this,t,-1),pm(this,t,-1);(s=this.countCrossings())<o&&(o=s,a=Yp(this))}for(Kp(this,a),e=0;e<this.Zi;e++){for(t=0;t<=this.Ia;t++)fm(this,t,0),pm(this,t,0);for((s=this.countCrossings())<o&&(o=s,a=Yp(this)),t=this.Ia;0<=t;t--)fm(this,t,0),pm(this,t,0);(s=this.countCrossings())<o&&(o=s,a=Yp(this))}switch(Kp(this,a),this.lk){case Fm:break;case Um:for(i=o+1;(t=this.countCrossings())<i;)for(i=t,e=this.Ia;0<=e;e--)for(n=0;n<=e;n++){for(r=!0;r;)for(r=!1,t=e;t>=n;t--)r=pm(this,t,-1)||r;for((s=this.countCrossings())>=o?Kp(this,a):(o=s,a=Yp(this)),r=!0;r;)for(r=!1,t=e;t>=n;t--)r=pm(this,t,1)||r;for((s=this.countCrossings())>=o?Kp(this,a):(o=s,a=Yp(this)),r=!0;r;)for(r=!1,t=n;t<=e;t++)r=pm(this,t,1)||r;for(s>=o?Kp(this,a):(o=s,a=Yp(this)),r=!0;r;)for(r=!1,t=n;t<=e;t++)r=pm(this,t,-1)||r;for(s>=o?Kp(this,a):(o=s,a=Yp(this)),r=!0;r;)for(r=!1,t=e;t>=n;t--)r=pm(this,t,0)||r;for(s>=o?Kp(this,a):(o=s,a=Yp(this)),r=!0;r;)for(r=!1,t=n;t<=e;t++)r=pm(this,t,0)||r;s>=o?Kp(this,a):(o=s,a=Yp(this))}break;default:for(e=this.Ia,n=0,i=o+1;(t=this.countCrossings())<i;){for(i=t,r=!0;r;)for(r=!1,t=e;t>=n;t--)r=pm(this,t,-1)||r;for((s=this.countCrossings())>=o?Kp(this,a):(o=s,a=Yp(this)),r=!0;r;)for(r=!1,t=e;t>=n;t--)r=pm(this,t,1)||r;for((s=this.countCrossings())>=o?Kp(this,a):(o=s,a=Yp(this)),r=!0;r;)for(r=!1,t=n;t<=e;t++)r=pm(this,t,1)||r;for(s>=o?Kp(this,a):(o=s,a=Yp(this)),r=!0;r;)for(r=!1,t=n;t<=e;t++)r=pm(this,t,-1)||r;for(s>=o?Kp(this,a):(o=s,a=Yp(this)),r=!0;r;)for(r=!1,t=e;t>=n;t--)r=pm(this,t,0)||r;for(s>=o?Kp(this,a):(o=s,a=Yp(this)),r=!0;r;)for(r=!1,t=n;t<=e;t++)r=pm(this,t,0)||r;s>=o?Kp(this,a):(o=s,a=Yp(this))}}Kp(this,a)},Wp.prototype.straightenAndPack=function(){if(0===this.re){var e=0!==(1&this.Yf),t=0!==(this.Yf&zm);if(1e3<this.network.edges.count&&t&&(e=!1),e){var r=[];for(t=0;t<=this.Ia;t++)r[t]=0;for(var n,o=this.network.vertexes.iterator;o.next();){var a=o.value;t=a.layer,n=a.column,a=this.nodeMinColumnSpace(a,!1),r[t]=Math.max(r[t],n+a)}for(o.reset();o.next();)t=(a=o.value).layer,n=a.column,a.column=(8*(this.Qa-r[t])>>1)+8*n;this.Qa*=8}if(0!==(2&this.Yf))for(r=!0;r;){for(r=!1,t=this.Dd+1;t<=this.Ia;t++)r=mm(this,t,1)||r;for(t=this.Dd-1;0<=t;t--)r=mm(this,t,-1)||r;r=mm(this,this.Dd,0)||r}if(0!==(4&this.Yf)){for(t=this.Dd+1;t<=this.Ia;t++)gm(this,t,1);for(t=this.Dd-1;0<=t;t--)gm(this,t,-1);gm(this,this.Dd,0)}if(e&&(xm(this,-1),xm(this,1)),0!==(2&this.Yf))for(r=!0;r;){for(r=!1,r=mm(this,this.Dd,0)||r,t=this.Dd+1;t<=this.Ia;t++)r=mm(this,t,0)||r;for(t=this.Dd-1;0<=t;t--)r=mm(this,t,0)||r}}else!function(e){for(var t=E(),r=e.al.length,n=0;n<=r;n++)t[n]=[];for(n=e.network.vertexes.iterator;n.next();){var o=n.value;t[r-o.layer][o.index]=o}r=new J,function(e,t){for(var r=e.length,n=1;n<r-1;n++)for(var o=0,a=0,s=e[n],l=e[n+1],u=0;a<l.length;u++){var c=l[u];e:{if(null===c.node){var h=Xm(c);if(0<h.length){h=null===h[0].node;break e}}h=!1}var d=h;if(u===l.length-1||d){for(h=s.length-1,d&&(h=Xm(c)[0].index);a<=u;){if(!(c=l[a]).Yn){d=[];for(var f=i(c.sourceEdgesArrayAccess),p=f.next();!p.done;p=f.next())(p=p.value).valid&&d.push(p);c.Yn=d}for(d=(c=i(c.Yn)).next();!d.done;d=c.next())((f=(d=d.value).fromVertex.index)<o||f>h)&&t.add(d);a++}o=h}}}(t,r);var a=null,s=null,l=null,u=null,c=0!==(1&e.re),h=0!==(2&e.re),d=0!==(4&e.re),f=0!==(8&e.re);for(c&&(e.verticalAlignment(t,r,!0),a=Sm(e,t,!0,!1)),t.reverse(),d&&(e.verticalAlignment(t,r,!1),l=Sm(e,t,!1,!1)),n=i(t),o=n.next();!o.done;o=n.next())o.value.reverse();f&&(e.verticalAlignment(t,r,!1),u=Sm(e,t,!1,!0)),t.reverse(),h&&(e.verticalAlignment(t,r,!0),s=Sm(e,t,!0,!0)),O(t),e.u(a,s,l,u),e.network.vertexes.each((function(e){var t=E();c&&t.push(a.get(e)),h&&t.push(s.get(e)),d&&t.push(l.get(e)),f&&t.push(u.get(e)),t.sort((function(e,t){return e-t}));var r=t.length;r=(t[Math.floor((r-1)/2)]+t[Math.ceil((r-1)/2)])/2,O(t),e.wc=r}))}(this)},Wp.prototype.verticalAlignment=function(e,t,r){!function(e){for(var t=0;t<e.length;t++)for(var r=e[t],n=0;n<r.length;n++){var i=r[n];i.root=i,i.align=i,i.Kz=t,i.si=n}}(e);for(var n=(e=i(e)).next();!n.done;n=e.next())for(var o=-1,a=(n=i(n.value)).next();!a.done;a=n.next()){a=a.value;var s=r?Xm(a):Ym(a),l=s.length;if(0<l){s.sort((function(e,t){return e.si-t.si}));var u=(l-1)/2;for(l=Math.floor(u),u=Math.ceil(u);l<=u;l++)if(a.align===a){var c,h=s[l];c=r?Wm(h,a):Wm(a,h),!t.contains(c)&&o<h.si&&(h.align=a,a.root=h.root,a.align=h.root,o=h.si)}}}},Wp.prototype.u=function(e){for(var t=[],r=0;r<arguments.length;++r)t[r]=arguments[r];r=-1;for(var n=E(),i=E(),o=1/0,a=0;4>a;a++)if(t[a]){var s=jm(this,t[a],n,i,a);s<o&&(r=a,o=s)}for(o={},a=0;4>a;o={delta:o.delta},a++)t[a]&&(o.delta=0===a||2===a?n[r]-n[a]:i[r]-i[a],0!==o.delta&&t[a].each(function(e){return function(t){t.value+=e.delta}}(o)));O(n),O(i)},Wp.prototype.commitLayout=function(){if(this.setsPortSpots)for(var e=Mm(this,!0),t=Mm(this,!1),r=this.network.edges.iterator;r.next();){var n=r.value.link;null!==n&&(n.fromSpot=e,n.toSpot=t)}this.commitNodes(),this.Au(),this.isRouting&&this.commitLinks()},Wp.prototype.commitNodes=function(){this.de=[],this.Cd=[],this.Bd=[],this.Ta=[];for(var e=0;e<=this.Ia;e++)this.de[e]=0,this.Cd[e]=0,this.Bd[e]=0,this.Ta[e]=0;for(e=this.network.vertexes.iterator;e.next();){var t=e.value,r=t.layer;this.de[r]=Math.max(this.de[r],this.nodeMinLayerSpace(t,!0)),this.Cd[r]=Math.max(this.Cd[r],this.nodeMinLayerSpace(t,!1))}t=0,r=this.ee;for(var n=0;n<=this.Ia;n++){var i=r;0>=this.de[n]+this.Cd[n]&&(i=0),0<n&&(t+=i/2),90===this.K||0===this.K?(t+=this.Cd[n],this.Bd[n]=t,t+=this.de[n]):(t+=this.de[n],this.Bd[n]=t,t+=this.Cd[n]),n<this.Ia&&(t+=i/2),this.Ta[n]=t}for(r=t,t=this.arrangementOrigin,n=0;n<=this.Ia;n++)270===this.K?this.Bd[n]=t.y+this.Bd[n]:90===this.K?(this.Bd[n]=t.y+r-this.Bd[n],this.Ta[n]=r-this.Ta[n]):180===this.K?this.Bd[n]=t.x+this.Bd[n]:(this.Bd[n]=t.x+r-this.Bd[n],this.Ta[n]=r-this.Ta[n]);r=0!==this.re,e.reset(),n=270===this.K||90===this.K;for(var o=1/0,a=i=1/0,s=-1/0;e.next();){var l=e.value,u=l.layer,c=0|l.column;n?(a=t.x+this.gc*c,u=this.Bd[u]):(a=this.Bd[u],u=t.y+this.gc*c),l.centerX=a,l.centerY=u,r&&isFinite(l.wc)&&(n?l.node?l.x=t.x+l.wc:l.centerX=t.x+l.wc:l.node?l.y=t.y+l.wc:l.centerY=t.y+l.wc),o=Math.min(l.x,o),i=Math.min(l.y,i),n?(a=o,s=Math.max(s,l.bounds.right)):(a=i,s=Math.max(s,l.bounds.bottom))}for(this.qw=s-a,o=t.x-o,t=t.y-i,this.Of=new pe(r&&n?0:o,r&&!n?0:t),e.reset();e.next();)(r=e.value).x+=o,r.y+=t,r.commit()},Wp.prototype.Au=function(){for(var e=0,t=this.ee,r=0;r<=this.Ia;r++)e+=this.de[r],e+=this.Cd[r];e+=this.Ia*t,t=[],r=0!==this.re?this.qw:this.gc*this.Qa;for(var n=this.maxLayer;0<=n;n--)270===this.K?0===n?t.push(new Ne(0,0,r,Math.abs(this.Ta[0]))):t.push(new Ne(0,this.Ta[n-1],r,Math.abs(this.Ta[n-1]-this.Ta[n]))):90===this.K?0===n?t.push(new Ne(0,this.Ta[0],r,Math.abs(this.Ta[0]-e))):t.push(new Ne(0,this.Ta[n],r,Math.abs(this.Ta[n-1]-this.Ta[n]))):180===this.K?0===n?t.push(new Ne(0,0,Math.abs(this.Ta[0]),r)):t.push(new Ne(this.Ta[n-1],0,Math.abs(this.Ta[n-1]-this.Ta[n]),r)):0===n?t.push(new Ne(this.Ta[0],0,Math.abs(this.Ta[0]-e),r)):t.push(new Ne(this.Ta[n],0,Math.abs(this.Ta[n-1]-this.Ta[n]),r));this.commitLayers(t,this.Of)},Wp.prototype.commitLayers=function(){},Wp.prototype.commitLinks=function(){for(var e,t=this.network.edges.iterator;t.next();)null!==(e=t.value.link)&&(e.ph(),e.Dj(),e.wf());for(t.reset();t.next();)null!==(e=t.value.link)&&e.rg();for(t.reset();t.next();){var r=t.value;if(null!==(e=r.link)){e.ph();var n=e,i=n.fromNode,o=n.toNode,a=n.fromPort,s=n.toPort;if(null!==i){var l=i.findVisibleNode();null!==l&&l!==i&&(i=l,a=l.port)}null!==o&&(null!==(l=o.findVisibleNode())&&l!==o&&(o=l,s=l.port));var u=e.computeSpot(!0,a);l=e.computeSpot(!1,s);var c=r.fromVertex,h=r.toVertex;if(r.valid){if(e.curve===Wh&&4===e.pointsCount)if(c.column===h.column&&0===this.alignOption)r=e.getLinkPoint(i,a,u,!0,!1,o,s),a=e.getLinkPoint(o,s,l,!1,!1,i,a),r.w()||r.set(i.actualBounds.center),a.w()||a.set(o.actualBounds.center),e.Dj(),e.vf(r.x,r.y),e.vf((2*r.x+a.x)/3,(2*r.y+a.y)/3),e.vf((r.x+2*a.x)/3,(r.y+2*a.y)/3),e.vf(a.x,a.y);else{var d=!1,f=!1;if(null!==a&&u===$e&&(d=!0),null!==s&&l===$e&&(f=!0),d||f){var p=e.i(0).x;if(r=e.i(0).y,c=e.i(3).x,n=e.i(3).y,d){if(90===this.K||270===this.K){d=p;var m=(r+n)/2}else d=(p+c)/2,m=r;e.M(1,d,m),(u=e.getLinkPoint(i,a,u,!0,!1,o,s)).w()||u.set(i.actualBounds.center),e.M(0,u.x,u.y)}f&&(90===this.K||270===this.K?(u=c,r=(r+n)/2):(u=(p+c)/2,r=n),e.M(2,u,r),(i=e.getLinkPoint(o,s,l,!1,!1,i,a)).w()||i.set(o.actualBounds.center),e.M(3,i.x,i.y))}}e.wf()}else if(c.layer===h.layer)e.wf();else{if(d=f=!1,m=this.ee,p=e.firstPickIndex+1,e.isOrthogonal){d=!0;var y=e.pointsCount;4<y&&e.points.removeRange(2,y-3)}else if(e.curve===Wh)f=!0,4<(y=e.pointsCount)&&e.points.removeRange(2,y-3),4===y&&(p=2);else{y=e.pointsCount;var g=u===$e,v=l===$e;2<y&&g&&v?e.points.removeRange(1,y-2):3<y&&g&&!v?e.points.removeRange(1,y-3):3<y&&!g&&v?e.points.removeRange(2,y-2):4<y&&!g&&!v&&e.points.removeRange(2,y-3)}if(r.rev){for(;null!==h&&c!==h;){var b=y=null;for(g=h.sourceEdges.iterator;g.next()&&((v=g.value).link!==r.link||(y=v.fromVertex,b=v.toVertex,null!==y.node)););if(null===y)break;if(y!==c){g=e.i(p-1).x,v=e.i(p-1).y;var x=y.centerX,w=y.centerY;if(d)180===this.K||0===this.K?p===e.firstPickIndex+1?(e.l(p++,g,v),e.l(p++,g,w)):(null!==b?b.centerY:v)!==w&&(b=this.Ta[y.layer-1]+this.Of.x,e.l(p++,b,v),e.l(p++,b,w)):p===e.firstPickIndex+1?(e.l(p++,g,v),e.l(p++,x,v)):(null!==b?b.centerX:g)!==x&&(b=this.Ta[y.layer-1]+this.Of.y,e.l(p++,g,b),e.l(p++,x,b));else if(p===e.firstPickIndex+1){b=Math.max(10,this.de[h.layer]);var S=Math.max(10,this.Cd[h.layer]);if(f)180===this.K?x<=h.bounds.x?(h=h.bounds.x,e.l(p++,h-b,w),e.l(p++,h,w),e.l(p++,h+S,w)):(e.l(p++,x-b,w),e.l(p++,x,w),e.l(p++,x+S,w)):90===this.K?w>=h.bounds.bottom?(h=h.bounds.y+h.bounds.height,e.l(p++,x,h+S),e.l(p++,x,h),e.l(p++,x,h-b)):(e.l(p++,x,w+S),e.l(p++,x,w),e.l(p++,x,w-b)):270===this.K?w<=h.bounds.y?(h=h.bounds.y,e.l(p++,x,h-b),e.l(p++,x,h),e.l(p++,x,h+S)):(e.l(p++,x,w-b),e.l(p++,x,w),e.l(p++,x,w+S)):0===this.K&&(x>=h.bounds.right?(h=h.bounds.x+h.bounds.width,e.l(p++,h+S,w),e.l(p++,h,w),e.l(p++,h-b,w)):(e.l(p++,x+S,w),e.l(p++,x,w),e.l(p++,x-b,w)));else{e.l(p++,g,v);var k=0;180===this.K||0===this.K?((180===this.K?x>=h.bounds.right:x<=h.bounds.x)&&(k=(0===this.K?-b:S)/2),e.l(p++,g+k,w)):((270===this.K?w>=h.bounds.bottom:w<=h.bounds.y)&&(k=(90===this.K?-b:S)/2),e.l(p++,x,v+k)),e.l(p++,x,w)}}else b=Math.max(10,this.de[y.layer]),S=Math.max(10,this.Cd[y.layer]),f?180===this.K?(e.l(p++,x-b-m,w),e.l(p++,Math.min(x-b+m/2,x),w),e.l(p++,x,w),e.l(p++,x,w),e.l(p++,Math.max(x+S-m/2,x),w),e.l(p++,x+S+m,w)):90===this.K?(e.l(p++,x,w+S+m),e.l(p++,x,Math.max(w+S-m/2,w)),e.l(p++,x,w),e.l(p++,x,w),e.l(p++,x,Math.min(w-b+m/2,w)),e.l(p++,x,w-b-m)):270===this.K?(e.l(p++,x,w-b-m),e.l(p++,x,Math.min(w-b+m/2,w)),e.l(p++,x,w),e.l(p++,x,w),e.l(p++,x,Math.max(w+S-m/2,w)),e.l(p++,x,w+S+m)):(e.l(p++,x+S+m,w),e.l(p++,Math.max(x+S-m/2,x),w),e.l(p++,x,w),e.l(p++,x,w),e.l(p++,Math.min(x-b+m/2,x),w),e.l(p++,x-b-m,w)):e.l(p++,x,w)}h=y}(null===s||u!==$e||d)&&(g=e.i(p-1).x,v=e.i(p-1).y,x=e.i(p).x,w=e.i(p).y,d?(m=this.Cd[c.layer],180===this.K||0===this.K?((d=v)>=c.bounds.y&&d<=c.bounds.bottom&&(180===this.K?x>=c.bounds.x:x<=c.bounds.right)&&(h=c.centerX+(180===this.K?-m:m),d=d<c.bounds.y+c.bounds.height/2?c.bounds.y-this.gc/2:c.bounds.bottom+this.gc/2,e.l(p++,h,v),e.l(p++,h,d)),e.l(p++,x,d)):((d=g)>=c.bounds.x&&d<=c.bounds.right&&(270===this.K?w>=c.bounds.y:w<=c.bounds.bottom)&&(h=c.centerY+(270===this.K?-m:m),d=d<c.bounds.x+c.bounds.width/2?c.bounds.x-this.gc/2:c.bounds.right+this.gc/2,e.l(p++,g,h),e.l(p++,d,h)),e.l(p++,d,w)),e.l(p++,x,w)):f?(b=Math.max(10,this.de[c.layer]),S=Math.max(10,this.Cd[c.layer]),180===this.K&&x>=c.bounds.x?(h=c.bounds.x+c.bounds.width,e.M(p-2,h,v),e.M(p-1,h+S,v)):90===this.K&&w<=c.bounds.bottom?(h=c.bounds.y,e.M(p-2,g,h),e.M(p-1,g,h-b)):270===this.K&&w>=c.bounds.y?(h=c.bounds.y+c.bounds.height,e.M(p-2,g,h),e.M(p-1,g,h+S)):0===this.K&&x<=c.bounds.right&&(h=c.bounds.x,e.M(p-2,h,v),e.M(p-1,h-b,v))):(b=Math.max(10,this.de[c.layer]),S=Math.max(10,this.Cd[c.layer]),d=0,180===this.K||0===this.K?((180===this.K?x<=c.bounds.x:x>=c.bounds.right)&&(d=(0===this.K?S:-b)/2),e.l(p++,x+d,v)):((270===this.K?w<=c.bounds.y:w>=c.bounds.bottom)&&(d=(90===this.K?S:-b)/2),e.l(p++,g,w+d)),e.l(p++,x,w)))}else{for(;null!==c&&c!==h;){for(b=y=null,c=c.destinationEdges.iterator;c.next()&&((g=c.value).link!==r.link||(y=g.toVertex,null!==(b=g.fromVertex).node&&(b=null),null!==y.node)););if(null===y)break;y!==h&&(g=e.i(p-1).x,v=e.i(p-1).y,x=y.centerX,w=y.centerY,d?180===this.K||0===this.K?(null!==b?b.centerY:v)!==w&&(b=this.Ta[y.layer]+this.Of.x,p===e.firstPickIndex+1&&(b=0===this.K?Math.max(b,g):Math.min(b,g)),e.l(p++,b,v),e.l(p++,b,w)):(null!==b?b.centerX:g)!==x&&(b=this.Ta[y.layer]+this.Of.y,p===e.firstPickIndex+1&&(b=90===this.K?Math.max(b,v):Math.min(b,v)),e.l(p++,g,b),e.l(p++,x,b)):(b=Math.max(10,this.de[y.layer]),S=Math.max(10,this.Cd[y.layer]),f?180===this.K?(e.l(p++,x+S+m,w),e.l(p++,Math.max(x+S-m/2,x),w),e.l(p++,x,w),e.l(p++,x,w),e.l(p++,Math.min(x-b+m/2,x),w),e.l(p++,x-b-m,w)):90===this.K?(e.l(p++,x,w-b-m),e.l(p++,x,Math.min(w-b+m/2,w)),e.l(p++,x,w),e.l(p++,x,w),e.l(p++,x,Math.max(w+S-m/2,w)),e.l(p++,x,w+S+m)):270===this.K?(e.l(p++,x,w+S+m),e.l(p++,x,Math.max(w+S-m/2,w)),e.l(p++,x,w),e.l(p++,x,w),e.l(p++,x,Math.min(w-b+m/2,w)),e.l(p++,x,w-b-m)):(e.l(p++,x-b-m,w),e.l(p++,Math.min(x-b+m/2,x),w),e.l(p++,x,w),e.l(p++,x,w),e.l(p++,Math.max(x+S-m/2,x),w),e.l(p++,x+S+m,w)):180===this.K?(e.l(p++,x+S,w),e.l(p++,x-b,w)):90===this.K?(e.l(p++,x,w-b),e.l(p++,x,w+S)):270===this.K?(e.l(p++,x,w+S),e.l(p++,x,w-b)):(e.l(p++,x-b,w),e.l(p++,x+S,w)))),c=y}d&&(g=e.i(p-1).x,v=e.i(p-1).y,x=e.i(p).x,w=e.i(p).y,180===this.K||0===this.K?v!==w&&(b=0===this.K?Math.min(Math.max((x+g)/2,this.Ta[h.layer]+this.Of.x),x):Math.max(Math.min((x+g)/2,this.Ta[h.layer]+this.Of.x),x),e.l(p++,b,v),e.l(p++,b,w)):g!==x&&(b=90===this.K?Math.min(Math.max((w+v)/2,this.Ta[h.layer]+this.Of.y),w):Math.max(Math.min((w+v)/2,this.Ta[h.layer]+this.Of.y),w),e.l(p++,g,b),e.l(p++,x,b)))}null!==n&&f&&(null!==a&&(u===$e&&(u=e.i(0),n=e.i(2),u.C(n)||e.M(1,(u.x+n.x)/2,(u.y+n.y)/2)),(u=e.getLinkPoint(i,a,$e,!0,!1,o,s)).w()||u.set(i.actualBounds.center),e.M(0,u.x,u.y)),null!==s&&(l===$e&&(l=e.i(e.pointsCount-1),u=e.i(e.pointsCount-3),l.C(u)||e.M(e.pointsCount-2,(l.x+u.x)/2,(l.y+u.y)/2)),(i=e.getLinkPoint(o,s,$e,!1,!1,i,a)).w()||i.set(o.actualBounds.center),e.M(e.pointsCount-1,i.x,i.y))),e.wf(),r.commit()}}}this.avoidOrthogonalOverlaps()},Wp.prototype.avoidOrthogonalOverlaps=function(){if(!(0>=this.linkSpacing)){for(var e=new Z,t=this.network.edges.iterator;t.next();){var r=t.value.link;null!==r&&r.isOrthogonal&&!e.contains(r)&&e.add(r)}if(0<e.count)if(90===this.K||270===this.K){for(t=0,r=[],e=e.iterator;e.next();){var n=e.value;if(null!==n&&n.isOrthogonal)for(var i=2;i<n.pointsCount-3;i++){var o=n.i(i),a=n.i(i+1);if(this.B(o.y,a.y)&&!this.B(o.x,a.x)){var s=new qm;s.layer=Math.floor(o.y/2);var l=n.i(0),u=n.i(n.pointsCount-1);if(s.first=l.x*l.x+l.y,s.fc=u.x*u.x+u.y,s.kd=Math.min(o.x,a.x),s.Fc=Math.max(o.x,a.x),s.index=i,s.link=n,i+2<n.pointsCount){l=n.i(i-1),u=n.i(i+2);var c=0;l.y<o.y?c=u.y<o.y?3:o.x<a.x?2:1:l.y>o.y&&(c=u.y>o.y?0:a.x<o.x?2:1),s.j=c}r.push(s)}}}if(1<r.length)for(r.sort(this.Rx),e=0;e<r.length;){for(o=r[e].layer,n=e+1;n<r.length&&r[n].layer===o;)n++;if(1<n-e)for(o=e;o<n;){for(a=r[o].Fc,i=e+1;i<n&&r[i].kd<a;)a=Math.max(a,r[i].Fc),i++;if(1<(a=i-o)){for(this.wi(r,this.Cs,o,o+a),c=1,s=r[o].fc,l=o;l<i;l++)(u=r[l]).fc!==s&&(c++,s=u.fc);this.wi(r,this.Qx,o,o+a);var h=1;for(s=r[o].first,l=o;l<i;l++)(u=r[l]).first!==s&&(h++,s=u.first);for(l=!0,u=h,c<h?(l=!1,u=c,s=r[o].fc,this.wi(r,this.Cs,o,o+a)):s=r[o].first,c=0,h=o;h<i;h++){var d=r[h];(l?d.first:d.fc)!==s&&(c++,s=l?d.first:d.fc);var f=d.link;o=f.i(d.index),a=f.i(d.index+1);var p=this.linkSpacing*(c-(u-1)/2);t++,f.ph(),f.M(d.index,o.x,o.y+p),f.M(d.index+1,a.x,a.y+p),f.wf()}}o=i}e=n}}else{for(t=0,r=[],e=e.iterator;e.next();)if(null!==(n=e.value)&&n.isOrthogonal)for(i=2;i<n.pointsCount-3;i++)o=n.i(i),a=n.i(i+1),this.B(o.x,a.x)&&!this.B(o.y,a.y)&&((s=new qm).layer=Math.floor(o.x/2),l=n.i(0),u=n.i(n.pointsCount-1),s.first=l.x+l.y*l.y,s.fc=u.x+u.y*u.y,s.kd=Math.min(o.y,a.y),s.Fc=Math.max(o.y,a.y),s.index=i,s.link=n,i+2<n.pointsCount&&(l=n.i(i-1),u=n.i(i+2),c=0,l.x<o.x?c=u.x<o.x?3:o.y<a.y?2:1:l.x>o.x&&(c=u.x>o.x?0:a.y<o.y?2:1),s.j=c),r.push(s));if(1<r.length)for(r.sort(this.Rx),e=0;e<r.length;){for(o=r[e].layer,n=e+1;n<r.length&&r[n].layer===o;)n++;if(1<n-e)for(o=e;o<n;){for(a=r[o].Fc,i=e+1;i<n&&r[i].kd<a;)a=Math.max(a,r[i].Fc),i++;if(1<(a=i-o)){for(this.wi(r,this.Cs,o,o+a),c=1,s=r[o].fc,l=o;l<i;l++)(u=r[l]).fc!==s&&(c++,s=u.fc);for(this.wi(r,this.Qx,o,o+a),h=1,s=r[o].first,l=o;l<i;l++)(u=r[l]).first!==s&&(h++,s=u.first);for(l=!0,u=h,c<h?(l=!1,u=c,s=r[o].fc,this.wi(r,this.Cs,o,o+a)):s=r[o].first,c=0,h=o;h<i;h++)d=r[h],(l?d.first:d.fc)!==s&&(c++,s=l?d.first:d.fc),o=(f=d.link).i(d.index),a=f.i(d.index+1),p=this.linkSpacing*(c-(u-1)/2),t++,f.ph(),f.M(d.index,o.x+p,o.y),f.M(d.index+1,a.x+p,a.y),f.wf()}o=i}e=n}}}},(t=Wp.prototype).Rx=function(e,t){return e instanceof qm&&t instanceof qm&&e!==t?e.layer<t.layer?-1:e.layer>t.layer?1:e.kd<t.kd?-1:e.kd>t.kd?1:e.Fc<t.Fc?-1:e.Fc>t.Fc?1:0:0},t.Qx=function(e,t){return e instanceof qm&&t instanceof qm&&e!==t?e.first<t.first?-1:e.first>t.first||e.j<t.j?1:e.j>t.j||e.kd<t.kd?-1:e.kd>t.kd?1:e.Fc<t.Fc?-1:e.Fc>t.Fc?1:0:0},t.Cs=function(e,t){return e instanceof qm&&t instanceof qm&&e!==t?e.fc<t.fc?-1:e.fc>t.fc||e.j<t.j?1:e.j>t.j||e.kd<t.kd?-1:e.kd>t.kd?1:e.Fc<t.Fc?-1:e.Fc>t.Fc?1:0:0},t.B=function(e,t){return-1<(e-=t)&&1>e},t.wi=function(e,t,r,n){var i=e.length,o=n-r;if(!(1>=o))if((0>r||r>=i-1)&&w("not in range 0 <= from < length: "+r),2===o)0<t(n=e[r],i=e[r+1])&&(e[r]=i,e[r+1]=n);else if(0===r)if(n>=i)e.sort(t);else for((r=e.slice(0,n)).sort(t),t=0;t<n;t++)e[t]=r[t];else if(n>=i)for((n=e.slice(r)).sort(t),t=r;t<i;t++)e[t]=n[t-r];else for((i=e.slice(r,n)).sort(t),t=r;t<n;t++)e[t]=i[t-r]},d.Object.defineProperties(Wp.prototype,{layerSpacing:{get:function(){return this.ee},set:function(e){this.ee!==e&&0<=e&&(this.ee=e,this.D())}},columnSpacing:{get:function(){return this.gc},set:function(e){this.gc!==e&&0<e&&(this.gc=e,this.D())}},direction:{get:function(){return this.K},set:function(e){this.K!==e&&(0===e||90===e||180===e||270===e?(this.K=e,this.D()):w("LayeredDigraphLayout.direction must be 0, 90, 180, or 270"))}},cycleRemoveOption:{get:function(){return this.yk},set:function(e){this.yk===e||e!==Em&&e!==Tm&&e!==Om||(this.yk=e,this.D())}},layeringOption:{get:function(){return this.Uk},set:function(e){this.Uk===e||e!==Am&&e!==Lm&&e!==Nm||(this.Uk=e,this.D())}},initializeOption:{get:function(){return this.Lk},set:function(e){this.Lk===e||e!==Rm&&e!==Dm&&e!==Im||(this.Lk=e,this.D())}},iterations:{get:function(){return this.Zi},set:function(e){this.Zi!==e&&0<=e&&(this.Zi=e,this.D())}},aggressiveOption:{get:function(){return this.lk},set:function(e){this.lk===e||e!==Fm&&e!==Bm&&e!==Um||(this.lk=e,this.D())}},packOption:{get:function(){return this.Yf},set:function(e){this.Yf!==e&&0<=e&&8>e&&(this.Yf=e,this.D())}},alignOption:{get:function(){return this.re},set:function(e){this.re!==e&&0<=e&&16>e&&(this.re=e,this.D())}},setsPortSpots:{get:function(){return this.pf},set:function(e){this.pf!==e&&(this.pf=e,this.D())}},linkSpacing:{get:function(){return this.yn},set:function(e){this.yn!==e&&0<=e&&(this.yn=e,this.D())}},maxLayer:{get:function(){return this.Ia}},maxIndex:{get:function(){return this.Bq}},maxColumn:{get:function(){return this.Qa}},minIndexLayer:{get:function(){return this.Dn}},maxIndexLayer:{get:function(){return this.Dd}}});var Tm=new U(Wp,"CycleDepthFirst",0),Em=new U(Wp,"CycleGreedy",1),Om=new U(Wp,"CycleFromLayers",2),Am=new U(Wp,"LayerOptimalLinkLength",0),Lm=new U(Wp,"LayerLongestPathSink",1),Nm=new U(Wp,"LayerLongestPathSource",2),Rm=new U(Wp,"InitDepthFirstOut",0),Dm=new U(Wp,"InitDepthFirstIn",1),Im=new U(Wp,"InitNaive",2),Fm=new U(Wp,"AggressiveNone",0),Bm=new U(Wp,"AggressiveLess",1),Um=new U(Wp,"AggressiveMore",2),zm=8;function qm(){this.index=this.Fc=this.kd=this.fc=this.first=this.layer=0,this.link=null,this.j=0}function Gm(e){Od.call(this,e)}function Vm(e){Dd.call(this,e),this.Wn=this.Yn=this.Xn=this.Zn=null,this.Ya=this.wg=this.aj=-1,this.u=NaN,this.F=null,this.valid=!1,this.finish=this.Gl=NaN,this.Bj=0,this.$u=this.av=null}function Hm(e,t){return e.index-t.index}function Wm(e,t){if(!e.Wn){for(var r=[],n=i(e.destinationEdgesArrayAccess),o=n.next();!o.done;o=n.next())(o=o.value).valid&&r.push(o);e.Wn=r}for(r=(e=i(e.Wn)).next();!r.done;r=e.next())if((r=r.value).toVertex===t)return r;w("Unable to find destination edge to given vertex")}function Xm(e){if(!e.Zn){for(var t=[],r=i(e.sourceEdgesArrayAccess),n=r.next();!n.done;n=r.next())(n=n.value).valid&&t.push(n.fromVertex);t.sort(Hm),e.Zn=t}return e.Zn}function Ym(e){if(!e.Xn){for(var t=[],r=i(e.destinationEdgesArrayAccess),n=r.next();!n.done;n=r.next())(n=n.value).valid&&t.push(n.toVertex);t.sort(Hm),e.Xn=t}return e.Xn}function Km(e){Fd.call(this,e),this.j=this.ga=this.Ha=!1,this.V=this.u=NaN,this.F=this.m=0}function Zm(e){Pd.call(this),this.Qb=new J,this.Sn=_y,this.od=jy,this.ro=zy,this.uq=Yy,this.Tv=[],this.md=!0,this.Mb=Hy,this.Wd=new Ee(10,10).freeze();var t=new $y(this);this.W=new Jy(t),this.Y=new Jy(t),this.mu=[],e&&Object.assign(this,e)}function $m(e){var t=new J;for(e=e.iterator;e.next();){var r=e.value;r.initialized||t.add(r)}return t}function Jm(e,t){var r=999999,n=null;for(t=t.iterator;t.next();){var i=t.value;switch(e.od){case jy:i.sourceEdges.count<r&&(r=i.sourceEdges.count,n=i);break;case My:i.destinationEdges.count<r&&(r=i.destinationEdges.count,n=i);break;default:w("Unhandled path value "+e.od.toString())}}return n}function Qm(e,t){if(null!==t){switch(e.od){case jy:if(0<t.destinationEdges.count){for(var r=new Z,n=t.destinationVertexes;n.next();){var i=n.value;ey(e,t,i)&&r.add(i)}0<r.count&&(t.children=r.Fa())}break;case My:if(0<t.sourceEdges.count){for(r=new Z,n=t.sourceVertexes;n.next();)ey(e,t,i=n.value)&&r.add(i);0<r.count&&(t.children=r.Fa())}break;default:w("Unhandled path value"+e.od.toString())}for(n=(r=t.children).length,i=0;i<n;i++){var o=r[i];o.initialized=!0,o.level=t.level+1,o.parent=t,e.Qb.remove(o)}for(t=0;t<n;t++)Qm(e,r[t])}}function ey(e,t,r){if(r.initialized){if(null===t)var n=!1;else{for(n=t.parent;null!==n&&n!==r;)n=n.parent;n=n===r}if(n||r.level>t.level)return!1;e.removeChild(r.parent,r)}return!0}function ty(e,t){if(null!==t){e.initializeTreeVertexValues(t),t.alignment===Dy&&e.sortTreeVertexChildren(t);for(var r=0,n=t.childrenCount,i=0,o=t.children,a=o.length,s=0;s<a;s++){var l=o[s];ty(e,l),r+=l.descendantCount+1,n=Math.max(n,l.maxChildrenCount),i=Math.max(i,l.maxGenerationCount)}t.descendantCount=r,t.maxChildrenCount=n,t.maxGenerationCount=0<n?i+1:0}}function ry(e,t){if(null!==t){e.assignTreeVertexValues(t);for(var r=(t=t.children).length,n=0;n<r;n++)ry(e,t[n])}}function ny(e,t){if(null!==t){t.alignment!==Dy&&e.sortTreeVertexChildren(t);for(var r=(t=t.children).length,n=0;n<r;n++)ny(e,t[n])}}function iy(e){return e===Ry||e===Dy||e===Iy||e===Fy}function oy(e){return e===Ry||e===Dy}function ay(e){var t=e.parent;if(null!==t){var r=t.alignment;if(iy(r)){if(oy(r)){for(t=t.children,r=0;r<t.length&&e!==t[r];)r++;return 0===r%2}if(r===Iy)return!0}}return!1}function sy(e,t){if(0===t.childrenCount){var r=!1,n=0;null!==t.parent&&(n=t.parent.angle,r=iy(r=t.parent.alignment));var i=ay(t);t.S.h(0,0),t.Da.h(t.width,t.height),null===t.parent||null===t.comments||(180!==n&&270!==n||r)&&!i?t.la.h(0,0):180===n&&!r||(90===n||270===n)&&i?t.la.h(t.width-2*t.focus.x,0):t.la.h(0,t.height-2*t.focus.y)}else{r=90===(n=ky(t))||270===n;for(var o=0,a=(i=t.children).length,s=0;s<a;s++){var l=i[s];o=Math.max(o,r?l.Da.width:l.Da.height)}var u=t.alignment,c=u===Ly,h=u===Ny;s=iy(u);var d=Math.max(0,t.breadthLimit);l=e.computeLayerSpacing(t);var f=t.nodeSpacing,p=e.computeNodeIndent(t),m=c||h?0:p/2,y=t.rowSpacing,g=0;(c||h||t.em||t.fm&&1===t.maxGenerationCount)&&(g=Math.max(0,t.rowIndent)),c=t.width;var v=t.height,b=0,x=0,w=0,S=0,k=0,_=0,j=0,M=0,C=0,P=0;if(s&&!oy(u)&&135<n&&i.reverse(),oy(u))if(1<a)for(var T=0;T<a;T++){var E=i[T],O=E.Da;0===T%2&&T!==a-1?C=Math.max(C,(r?O.width:O.height)+e.computeBusNodeSpacing(E)-f):0!==T%2&&(P=Math.max(P,(r?O.width:O.height)+e.computeBusNodeSpacing(E)-f))}else 1===a&&(C=r?i[0].Da.width:i[0].Da.height);if(s)switch(u){case Ry:case Dy:C=(x=135>n?ly(e,t,i,C,b,x):uy(e,t,i,C,b,x)).x,b=x.width,x=x.height;break;case Iy:for(d=0;d<a;d++)w=(m=i[d]).Da,P=0===j?0:y,r?(m.S.h(o-w.width,k+P),b=Math.max(b,w.width),x=Math.max(x,k+P+w.height),k+=P+w.height):(m.S.h(S+P,o-w.height),b=Math.max(b,S+P+w.width),x=Math.max(x,w.height),S+=P+w.width),j++;break;case Fy:for(o=0;o<a;o++)m=(d=i[o]).Da,w=0===j?0:y,r?(d.S.h(f/2+t.focus.x,k+w),b=Math.max(b,m.width),x=Math.max(x,k+w+m.height),k+=w+m.height):(d.S.h(S+w,f/2+t.focus.y),b=Math.max(b,S+w+m.width),x=Math.max(x,m.height),S+=w+m.width),j++}else for(P=0;P<a;P++)E=(T=i[P]).Da,r?(0<d&&0<j&&S+f+E.width>d&&(S<o&&py(t,u,o-S,0,M,P-1),_++,j=0,M=P,w=x,S=0,k=135<n?-x-y:x+y),O=0===j?m:f,yy(e,T,0,k),T.S.h(S+O,k),b=Math.max(b,S+O+E.width),x=Math.max(x,w+(0===_?0:y)+E.height),S+=O+E.width):(0<d&&0<j&&k+f+E.height>d&&(k<o&&py(t,u,0,o-k,M,P-1),_++,j=0,M=P,w=b,k=0,S=135<n?-b-y:b+y),O=0===j?m:f,yy(e,T,S,0),T.S.h(S,k+O),x=Math.max(x,k+O+E.height),b=Math.max(b,w+(0===_?0:y)+E.width),k+=O+E.height),j++;switch(0<_&&(r?(x+=Math.max(0,l),S<b&&py(t,u,b-S,0,M,a-1),0<g&&(h||my(t,g,0,0,a-1),b+=g)):(b+=Math.max(0,l),k<x&&py(t,u,0,x-k,M,a-1),0<g&&(h||my(t,0,g,0,a-1),x+=g))),g=h=0,u){case Oy:r?h+=b/2-t.focus.x-p/2:g+=x/2-t.focus.y-p/2;break;case Ay:0<_?r?h+=b/2-t.focus.x-p/2:g+=x/2-t.focus.y-p/2:r?h+=(e=i[0].S.x+i[0].la.x)+(i[a-1].S.x+i[a-1].la.x+2*i[a-1].focus.x-e)/2-t.focus.x-p/2:g+=(e=i[0].S.y+i[0].la.y)+(i[a-1].S.y+i[a-1].la.y+2*i[a-1].focus.y-e)/2-t.focus.y-p/2;break;case Ly:r?(h-=p,b+=p):(g-=p,x+=p);break;case Ny:r?(h+=b-t.width+p,b+=p):(g+=x-t.height+p,x+=p);break;case Ry:case Dy:r?h+=1<a?C+f/2-t.focus.x:i[0].focus.x-t.focus.x+i[0].la.x:g+=1<a?C+f/2-t.focus.y:i[0].focus.y-t.focus.y+i[0].la.y;break;case Iy:r?h+=b+f/2-t.focus.x:g+=x+f/2-t.focus.y;break;case Fy:break;default:h=(e=e.customAlignment(t,h,g,b,x))[0],g=e[1],b=e[2],x=e[3]}for(e=0;e<a;e++)p=i[e],r?p.S.h(p.S.x+p.la.x-h,p.S.y+(135<n?(s?-x:-p.Da.height)+p.la.y-l:v+l+p.la.y)):p.S.h(p.S.x+(135<n?(s?-b:-p.Da.width)+p.la.x-l:c+l+p.la.x),p.S.y+p.la.y-g);r?(b=hy(t,b,h),0>h&&(h=0),135<n&&(g+=x+l),x=Math.max(Math.max(x,v),x+v+l)):(135<n&&(h+=b+l),b=Math.max(Math.max(b,c),b+c+l),x=dy(t,x,g),0>g&&(g=0)),t.la.h(h,g),t.Da.h(b,x)}}function ly(e,t,r,n,i,o){var a=r.length;if(0===a)return new Ne(n,0,i,o);if(1===a)return new Ne(n,0,i=(t=r[0]).Da.width,o=t.Da.height);for(var s=t.nodeSpacing,l=t.rowSpacing,u=90===ky(t),c=0,h=0,d=0,f=0;f<a;f++)if(!(0!==f%2||1<a&&f===a-1)){var p=r[f],m=p.Da,y=0===c?0:l;if(u){var g=e.computeBusNodeSpacing(p)-s;p.S.h(n-(m.width+g),d+y),i=Math.max(i,m.width+g),o=Math.max(o,d+y+m.height),d+=y+m.height}else g=e.computeBusNodeSpacing(p)-s,p.S.h(h+y,n-(m.height+g)),o=Math.max(o,m.height+g),i=Math.max(i,h+y+m.width),h+=y+m.width;c++}for(c=0,p=h,f=d,u?(h=n+s,d=0):(h=0,d=n+s),m=0;m<a;m++)if(0!==m%2){g=(y=r[m]).Da;var v=0===c?0:l;if(u){var b=e.computeBusNodeSpacing(y)-s;y.S.h(h+b,d+v),i=Math.max(i,h+g.width+b),o=Math.max(o,d+v+g.height),d+=v+g.height}else b=e.computeBusNodeSpacing(y)-s,y.S.h(h+v,d+b),i=Math.max(i,h+v+g.width),o=Math.max(o,d+g.height+b),h+=v+g.width;c++}return 1<a&&1===a%2&&(a=(r=r[a-1]).Da,e=e.computeBusLastRowSpacing(r,u?Math.max(Math.abs(f),Math.abs(d)):Math.max(Math.abs(p),Math.abs(h))),u?(r.S.h(n+s/2-r.focus.x-r.la.x,o+e),u=n+s/2-r.focus.x-r.la.x,i=Math.max(i,u+a.width),0>u&&(i-=u),o=Math.max(o,Math.max(f,d)+e+a.height),0>r.S.x&&(n=cy(t,r.S.x,!1,n,s))):(r.S.h(i+e,n+s/2-r.focus.y-r.la.y),i=Math.max(i,Math.max(p,h)+e+a.width),d=n+s/2-r.focus.y-r.la.y,o=Math.max(o,d+a.height),0>d&&(o-=d),0>r.S.y&&(n=cy(t,r.S.y,!0,n,s)))),new Ne(n,0,i,o)}function uy(e,t,r,n,i,o){var a=r.length;if(0===a)return new Ne(n,0,i,o);if(1===a)return new Ne(n,0,i=(r=r[0]).Da.width,o=r.Da.height);for(var s=t.nodeSpacing,l=t.rowSpacing,u=270===ky(t),c=0,h=0,d=0,f=0;f<a;f++)if(!(0!==f%2||1<a&&f===a-1)){var p=r[f],m=p.Da,y=0===c?0:l;if(u){var g=e.computeBusNodeSpacing(p)-s;d-=y+m.height,p.S.h(n-(m.width+g),d),i=Math.max(i,m.width+g),o=Math.max(o,Math.abs(d))}else g=e.computeBusNodeSpacing(p)-s,h-=y+m.width,p.S.h(h,n-(m.height+g)),o=Math.max(o,m.height+g),i=Math.max(i,Math.abs(h));c++}for(c=0,p=h,f=d,u?(h=n+s,d=0):(h=0,d=n+s),m=0;m<a;m++)if(0!==m%2){g=(y=r[m]).Da;var v=0===c?0:l;if(u){var b=e.computeBusNodeSpacing(y)-s;d-=v+g.height,y.S.h(h+b,d),i=Math.max(i,h+g.width+b),o=Math.max(o,Math.abs(d))}else b=e.computeBusNodeSpacing(y)-s,h-=v+g.width,y.S.h(h,d+b),o=Math.max(o,d+g.height+b),i=Math.max(i,Math.abs(h));c++}for(1<a&&1===a%2&&(c=(l=r[a-1]).Da,e=e.computeBusLastRowSpacing(l,u?Math.max(Math.abs(f),Math.abs(d)):Math.max(Math.abs(p),Math.abs(h))),u?(l.S.h(n+s/2-l.focus.x-l.la.x,-o-c.height-e),h=n+s/2-l.focus.x-l.la.x,i=Math.max(i,h+c.width),0>h&&(i-=h),o=Math.max(o,Math.abs(Math.min(f,d))+e+c.height),0>l.S.x&&(n=cy(t,l.S.x,!1,n,s))):(l.S.h(-i-c.width-e,n+s/2-l.focus.y-l.la.y),i=Math.max(i,Math.abs(Math.min(p,h))+e+c.width),d=n+s/2-l.focus.y-l.la.y,o=Math.max(o,d+c.height),0>d&&(o-=d),0>l.S.y&&(n=cy(t,l.S.y,!0,n,s)))),t=0;t<a;t++)s=r[t],u?s.S.h(s.S.x,s.S.y+o):s.S.h(s.S.x+i,s.S.y);return new Ne(n,0,i,o)}function cy(e,t,r,n,i){for(var o=(e=e.children).length,a=0;a<o;a++)r?e[a].S.h(e[a].S.x,e[a].S.y-t):e[a].S.h(e[a].S.x-t,e[a].S.y);return t=e[o-1],Math.max(n,r?t.la.y+t.focus.y-i/2:t.la.x+t.focus.x-i/2)}function hy(e,t,r){switch(e.alignment){case Ay:case Oy:return r+e.width>t&&(t=r+e.width),0>r&&(t-=r),t;case Ly:return e.width>t?e.width:t;case Ny:return 2*e.focus.x>t?e.width:t+e.width-2*e.focus.x;case Ry:case Dy:return Math.max(e.width,Math.max(t,r+e.width)-Math.min(0,r));case Iy:return e.width-e.focus.x+e.nodeSpacing/2+t;case Fy:return Math.max(e.width,e.focus.x+e.nodeSpacing/2+t);default:return t}}function dy(e,t,r){switch(e.alignment){case Ay:case Oy:return r+e.height>t&&(t=r+e.height),0>r&&(t-=r),t;case Ly:return e.height>t?e.height:t;case Ny:return 2*e.focus.y>t?e.height:t+e.height-2*e.focus.y;case Ry:case Dy:return Math.max(e.height,Math.max(t,r+e.height)-Math.min(0,r));case Iy:return e.height-e.focus.y+e.nodeSpacing/2+t;case Fy:return Math.max(e.height,e.focus.y+e.nodeSpacing/2+t);default:return t}}function fy(e,t,r){switch(e){case Oy:case Ay:t/=2,r/=2;break;case Ly:r=t=0;break;case Ny:break;default:w("Unhandled alignment value "+e.toString())}return new pe(t,r)}function py(e,t,r,n,i,o){my(e,(t=fy(t,r,n)).x,t.y,i,o)}function my(e,t,r,n,i){if(0!==t||0!==r)for(e=e.children;n<=i;n++){var o=e[n].S;o.x+=t,o.y+=r}}function yy(e,t,r,n){var i=t.parent;switch(e.od){case jy:for(e=t.sourceEdges;e.next();)(t=e.value).fromVertex===i&&t.relativePoint.h(r,n);break;case My:for(e=t.destinationEdges;e.next();)(t=e.value).toVertex===i&&t.relativePoint.h(r,n);break;default:w("Unhandled path value "+e.od.toString())}}function gy(e,t,r){for(var n=0;n<e.length;n++){var i=e[n];i.x+=t,i.y+=r}}function vy(e,t,r,n,i,o,a,s){var l=ky(t),u=90===l||270===l,c=t.nodeSpacing;t=n;var h=i;n=o;var d=a,f=r.So,p=r.ep;a=r.Da;var m=u?Math.max(d,a.height):Math.max(n,a.width);if(null!==f&&l===ky(r)||(f=by(e,2),p=by(e,2),u?(f[0].h(0,0),f[1].h(0,a.height),p[0].h(a.width,0),p[1].h(p[0].x,f[1].y)):(f[0].h(0,0),f[1].h(a.width,0),p[0].h(0,a.height),p[1].h(f[1].x,p[0].y))),u){if(d=9999999,!(null===h||2>h.length||null===f||2>f.length))for(i=r=0;r<h.length&&i<f.length;){o=h[r];var y=f[i];l=y.x,u=y.y,l+=n;var g=o;r+1<h.length&&(g=h[r+1]);var v=y;y=v.x,v=v.y,i+1<f.length&&(y=(v=f[i+1]).x,v=v.y,y+=n);var b=d;o.y===u?b=l-o.x:o.y>u&&o.y<v?b=l+(o.y-u)/(v-u)*(y-l)-o.x:u>o.y&&u<g.y&&(b=l-(o.x+(u-o.y)/(g.y-o.y)*(g.x-o.x))),b<d&&(d=b),g.y<=o.y?r++:v<=u?i++:(g.y<=v&&r++,v<=g.y&&i++)}if(d=n-d,r=f,i=d+=c,null===t||2>t.length||null===r||2>r.length)n=null;else{for(c=by(e,t.length+r.length),n=o=l=0;o<r.length&&r[o].y<t[0].y;)u=r[o++],c[n++].h(u.x+i,u.y);for(;l<t.length;)u=t[l++],c[n++].h(u.x,u.y);for(l=t[t.length-1].y;o<r.length&&r[o].y<=l;)o++;for(;o<r.length&&r[o].y>l;)u=r[o++],c[n++].h(u.x+i,u.y);for(r=by(e,n),l=0;l<n;l++)r[l].assign(c[l]);xy(e,c),n=r}if(o=p,l=d,null===h||2>h.length||null===o||2>o.length)i=null;else{for(c=by(e,h.length+o.length),i=u=r=0;r<h.length&&h[r].y<o[0].y;)g=h[r++],c[i++].h(g.x,g.y);for(;u<o.length;)g=o[u++],c[i++].h(g.x+l,g.y);for(o=o[o.length-1].y;r<h.length&&h[r].y<=o;)r++;for(;r<h.length&&h[r].y>o;)l=h[r++],c[i++].h(l.x,l.y);for(o=by(e,i),r=0;r<i;r++)o[r].assign(c[r]);xy(e,c),i=o}return o=Math.max(0,d)+a.width,a=m,xy(e,t),xy(e,f),xy(e,h),xy(e,p),s[0]=n,s[1]=i,new Ne(d,0,o,a)}if(n=9999999,!(null===h||2>h.length||null===f||2>f.length))for(i=r=0;r<h.length&&i<f.length;)o=h[r],l=(y=f[i]).x,u=y.y,u+=d,g=o,r+1<h.length&&(g=h[r+1]),y=(v=y).x,v=v.y,i+1<f.length&&(y=(v=f[i+1]).x,v=v.y,v+=d),b=n,o.x===l?b=u-o.y:o.x>l&&o.x<y?b=u+(o.x-l)/(y-l)*(v-u)-o.y:l>o.x&&l<g.x&&(b=u-(o.y+(l-o.x)/(g.x-o.x)*(g.y-o.y))),b<n&&(n=b),g.x<=o.x?r++:y<=l?i++:(g.x<=y&&r++,y<=g.x&&i++);if(d-=n,r=f,i=d+=c,null===t||2>t.length||null===r||2>r.length)n=null;else{for(c=by(e,t.length+r.length),n=o=l=0;o<r.length&&r[o].x<t[0].x;)u=r[o++],c[n++].h(u.x,u.y+i);for(;l<t.length;)u=t[l++],c[n++].h(u.x,u.y);for(l=t[t.length-1].x;o<r.length&&r[o].x<=l;)o++;for(;o<r.length&&r[o].x>l;)u=r[o++],c[n++].h(u.x,u.y+i);for(r=by(e,n),l=0;l<n;l++)r[l].assign(c[l]);xy(e,c),n=r}if(o=p,l=d,null===h||2>h.length||null===o||2>o.length)i=null;else{for(c=by(e,h.length+o.length),i=u=r=0;r<h.length&&h[r].x<o[0].x;)g=h[r++],c[i++].h(g.x,g.y);for(;u<o.length;)g=o[u++],c[i++].h(g.x,g.y+l);for(o=o[o.length-1].x;r<h.length&&h[r].x<=o;)r++;for(;r<h.length&&h[r].x>o;)l=h[r++],c[i++].h(l.x,l.y);for(o=by(e,i),r=0;r<i;r++)o[r].assign(c[r]);xy(e,c),i=o}return o=m,a=Math.max(0,d)+a.height,xy(e,t),xy(e,f),xy(e,h),xy(e,p),s[0]=n,s[1]=i,new Ne(d,0,o,a)}function by(e,t){if(void 0!==(e=e.mu[t])&&void 0!==(e=e.pop()))return e;e=[];for(var r=0;r<t;r++)e[r]=new pe;return e}function xy(e,t){var r=t.length,n=e.mu[r];void 0===n&&(n=[],e.mu[r]=n),n.push(t)}function wy(e,t,r,n){if(null!==t){t.x=r,t.y=n;for(var i=(t=t.children).length,o=0;o<i;o++){var a=t[o];wy(e,a,r+a.S.x,n+a.S.y)}}}function Sy(e,t){if(null!==t){e.setPortSpots(t);for(var r=(t=t.children).length,n=0;n<r;n++)Sy(e,t[n])}}function ky(e){return 45>=(e=e.angle)?0:135>=e?90:225>=e?180:315>=e?270:0}Wp.className="LayeredDigraphLayout",Wp.CycleDepthFirst=Tm,Wp.CycleGreedy=Em,Wp.CycleFromLayers=Om,Wp.LayerOptimalLinkLength=Am,Wp.LayerLongestPathSink=Lm,Wp.LayerLongestPathSource=Nm,Wp.InitDepthFirstOut=Rm,Wp.InitDepthFirstIn=Dm,Wp.InitNaive=Im,Wp.AggressiveNone=Fm,Wp.AggressiveLess=Bm,Wp.AggressiveMore=Um,Wp.PackNone=0,Wp.PackExpand=1,Wp.PackStraighten=2,Wp.PackMedian=4,Wp.PackAll=15,Wp.AlignNone=0,Wp.AlignUpperLeft=1,Wp.AlignUpperRight=2,Wp.AlignLowerLeft=4,Wp.AlignLowerRight=8,Wp.AlignAll=15,qm.className="SegInfo",h(Gm,Od),Gm.prototype.createVertex=function(){return new Vm(this)},Gm.prototype.createEdge=function(){return new Km(this)},Gm.className="LayeredDigraphNetwork",h(Vm,Dd),Vm.prototype.yl=function(e){Dd.prototype.yl.call(this,e),this.Yn=this.Zn=null},Vm.prototype.Fl=function(e){Dd.prototype.Fl.call(this,e),this.Yn=this.Zn=null},Vm.prototype.vl=function(e){Dd.prototype.vl.call(this,e),this.Wn=this.Xn=null},Vm.prototype.El=function(e){Dd.prototype.El.call(this,e),this.Wn=this.Xn=null},d.Object.defineProperties(Vm.prototype,{layer:{get:function(){return this.aj},set:function(e){this.aj!==e&&(this.aj=e)}},column:{get:function(){return this.wg},set:function(e){this.wg!==e&&(this.wg=e)}},index:{get:function(){return this.Ya},set:function(e){this.Ya!==e&&(this.Ya=e)}},component:{get:function(){return this.u},set:function(e){this.u!==e&&(this.u=e)}},near:{get:function(){return this.F},set:function(e){this.F!==e&&(this.F=e)}}}),Vm.prototype.deleteDestinationEdge=Vm.prototype.El,Vm.prototype.addDestinationEdge=Vm.prototype.vl,Vm.prototype.deleteSourceEdge=Vm.prototype.Fl,Vm.prototype.addSourceEdge=Vm.prototype.yl,Vm.className="LayeredDigraphVertex",h(Km,Fd),d.Object.defineProperties(Km.prototype,{fromVertex:{get:function(){return this.bd},set:function(e){this.bd!==e&&(this.bd=e)}},toVertex:{get:function(){return this.hd},set:function(e){this.hd!==e&&(this.hd=e)}},valid:{get:function(){return this.Ha},set:function(e){this.Ha!==e&&(this.Ha=e)}},rev:{get:function(){return this.ga},set:function(e){this.ga!==e&&(this.ga=e)}},forest:{get:function(){return this.j},set:function(e){this.j!==e&&(this.j=e)}},portFromPos:{get:function(){return this.u},set:function(e){this.u!==e&&(this.u=e)}},portToPos:{get:function(){return this.V},set:function(e){this.V!==e&&(this.V=e)}},portFromColOffset:{get:function(){return this.m},set:function(e){this.m!==e&&(this.m=e)}},portToColOffset:{get:function(){return this.F},set:function(e){this.F!==e&&(this.F=e)}}}),Km.className="LayeredDigraphEdge",h(Zm,Pd),Zm.prototype.cloneProtected=function(e){Pd.prototype.cloneProtected.call(this,e),e.Sn=this.Sn,e.ro=this.ro,e.uq=this.uq,e.md=this.md,e.Mb=this.Mb,e.Wd.assign(this.Wd),e.W.copyInheritedPropertiesFrom(this.W),e.Y.copyInheritedPropertiesFrom(this.Y)},Zm.prototype.rb=function(e){e.classType===Zm?0===e.name.indexOf("Alignment")?this.alignment=e:0===e.name.indexOf("Arrangement")?this.arrangement=e:0===e.name.indexOf("Compaction")?this.compaction=e:0===e.name.indexOf("Path")?this.path=e:0===e.name.indexOf("Sorting")?this.sorting=e:0===e.name.indexOf("Style")?this.treeStyle=e:w("Unknown enum value: "+e):Pd.prototype.rb.call(this,e)},Zm.prototype.createNetwork=function(){return new $y(this)},Zm.prototype.makeNetwork=function(e){function t(e){if(e instanceof Wc)return!e.isLinkLabel&&"Comment"!==e.category;if(e instanceof vh){var t=e.fromNode;return null!==t&&!t.isLinkLabel&&"Comment"!==t.category&&(null!==(e=e.toNode)&&!e.isLinkLabel&&"Comment"!==e.category)}return!1}var r=this.createNetwork();return e instanceof Mi?(r.hg(e.nodes,!0,t),r.hg(e.links,!0,t)):e instanceof dh?r.hg(e.memberParts,!1,t):r.hg(e.iterator,!1,t),r},Zm.prototype.doLayout=function(e){null===this.network&&(this.network=this.makeNetwork(e)),this.arrangement!==Xy&&(this.arrangementOrigin=this.initialOrigin(this.arrangementOrigin));var t=this.diagram;if(null===t&&e instanceof Mi&&(t=e),this.path===_y&&null!==t?this.od=t.isTreePathToChildren?jy:My:this.od=this.path===_y?jy:this.path,0<this.network.vertexes.count){for(this.network.Go(),e=this.network.vertexes.iterator;e.next();)(t=e.value).initialized=!1,t.level=0,t.parent=null,t.children=[];if(0<this.Qb.count){for(e=new J,t=this.Qb.iterator;t.next();){var r=t.value;r instanceof Wc?null!==(r=this.network.hi(r))&&e.add(r):r instanceof Jy&&e.add(r)}this.Qb=e}for(0===this.Qb.count&&this.findRoots(),e=this.Qb.copy().iterator;e.next();)(t=e.value).initialized||(t.initialized=!0,Qm(this,t));for(t=this.network.vertexes,e=null;0<(e=$m(t)).count;)null!==(t=Jm(this,e))&&this.Qb.add(t),t.initialized=!0,Qm(this,t),t=e;for(e=this.Qb.iterator;e.next();)(t=e.value)instanceof Jy&&ty(this,t);for(e=this.Qb.iterator;e.next();)(t=e.value)instanceof Jy&&ry(this,t);for(e=this.Qb.iterator;e.next();)(t=e.value)instanceof Jy&&ny(this,t);if(this.xu(),this.layerStyle===Zy){for(e=[],t=this.network.vertexes.iterator;t.next();){var n=(r=t.value).parent;null===n&&(n=r),n=0===n.angle||180===n.angle;var i=e[r.level];void 0===i&&(i=0),e[r.level]=Math.max(i,n?r.width:r.height)}for(t=0;t<e.length;t++)void 0===e[t]&&(e[t]=0);for(this.Tv=e,t=this.network.vertexes.iterator;t.next();)null===(n=(r=t.value).parent)&&(n=r),0===n.angle||180===n.angle?(180===n.angle&&(r.focusX+=e[r.level]-r.width),r.width=e[r.level]):(270===n.angle&&(r.focusY+=e[r.level]-r.height),r.height=e[r.level])}else if(this.layerStyle===Ky)for(e=this.network.vertexes.iterator;e.next();){for(r=0===(t=e.value).angle||180===t.angle,n=-1,i=0;i<t.children.length;i++){var o=t.children[i];n=Math.max(n,r?o.width:o.height)}if(0<=n)for(i=0;i<t.children.length;i++)o=t.children[i],r?(180===t.angle&&(o.focusX+=n-o.width),o.width=n):(270===t.angle&&(o.focusY+=n-o.height),o.height=n)}for(e=this.Qb.iterator;e.next();)(t=e.value)instanceof Jy&&this.layoutTree(t);this.arrangeTrees(),this.updateParts()}this.network=null,this.Qb=new J,this.isValidLayout=!0},Zm.prototype.findRoots=function(){for(var e=this.network.vertexes,t=e.iterator;t.next();){var r=t.value;switch(this.od){case jy:0===r.sourceEdges.count&&this.Qb.add(r);break;case My:0===r.destinationEdges.count&&this.Qb.add(r);break;default:w("Unhandled path value "+this.od.toString())}}0===this.Qb.count&&(null!==(e=Jm(this,e))&&this.Qb.add(e))},Zm.prototype.removeChild=function(e,t){if(null!==e&&null!==t){for(var r=e.children,n=0,i=0;i<r.length;i++)r[i]===t&&n++;if(0<n){n=Array(r.length-n);for(var o=i=0;o<r.length;o++)r[o]!==t&&(n[i++]=r[o]);e.children=n}}},Zm.prototype.initializeTreeVertexValues=function(e){if(e.copyInheritedPropertiesFrom(function(e,t){switch(e.ro){default:case zy:return null!==t.parent?t.parent:e.W;case Vy:return null===t.parent?e.W:null===t.parent.parent?e.Y:t.parent;case Gy:return null!==t.parent?null!==t.parent.parent?t.parent.parent:e.Y:e.W;case qy:var r=!0;if(0===t.childrenCount)r=!1;else for(var n=t.children,i=n.length,o=0;o<i;o++)if(0<n[o].childrenCount){r=!1;break}return r&&null!==t.parent?e.Y:null!==t.parent?t.parent:e.W}}(this,e)),null!==e.parent&&e.parent.alignment===Dy){for(var t=e.angle,r=e.parent.children,n=0;n<r.length&&e!==r[n];)n++;0===n%2?n!==r.length-1&&(t=90===t?180:180===t?270:270===t?180:270):t=90===t?0:180===t?90:270===t?0:90,e.angle=t}e.initialized=!0},Zm.prototype.assignTreeVertexValues=function(){},Zm.prototype.sortTreeVertexChildren=function(e){switch(e.sorting){case Cy:break;case Py:e.children.reverse();break;case Ty:e.children.sort(e.comparer);break;case Ey:e.children.sort(e.comparer),e.children.reverse();break;default:w("Unhandled sorting value "+e.sorting.toString())}},Zm.prototype.xu=function(){if(this.comments)for(var e=this.network.vertexes.iterator;e.next();)this.addComments(e.value)},Zm.prototype.addComments=function(e){var t=e.angle,r=e.parent,n=0,i=!1;null!==r&&(n=r.angle,i=iy(i=r.alignment)),t=90===t||270===t,n=90===n||270===n,r=0===e.childrenCount;var o=0,a=0,s=0,l=e.commentSpacing;if(null!==e.node)for(var u=e.node.Gu();u.next();){var c=u.value;"Comment"===c.category&&c.canLayout()&&(null===e.comments&&(e.comments=[]),e.comments.push(c),c.Va(),c=c.measuredBounds,t&&!r||!i&&!n&&r||i&&n&&r?(o=Math.max(o,c.width),a+=c.height+Math.abs(s)):(o+=c.width+Math.abs(s),a=Math.max(a,c.height)),s=l)}null!==e.comments&&(t&&!r||!i&&!n&&r||i&&n&&r?(o+=Math.abs(e.commentMargin),a=Math.max(0,a-e.height)):(a+=Math.abs(e.commentMargin),o=Math.max(0,o-e.width)),i=Ne.allocAt(0,0,e.bounds.width+o,e.bounds.height+a),e.bounds=i,Ne.free(i))},Zm.prototype.layoutComments=function(e){if(null!==e.comments){var t=e.node.measuredBounds,r=e.parent,n=e.angle,i=0,o=!1;null!==r&&(i=r.angle,o=iy(o=r.alignment)),n=90===n||270===n,r=90===i||270===i;for(var a=0===e.childrenCount,s=ay(e),l=0,u=e.comments,c=u.length,h=pe.alloc(),d=0;d<c;d++){var f=u[d],p=f.measuredBounds;if(n&&!a||!o&&!r&&a||o&&r&&a){if(135<i&&!o||r&&s)if(0<=e.commentMargin)for(h.h(e.bounds.x-e.commentMargin-p.width,e.bounds.y+l),f.move(h),f=f.Kd();f.next();){var m=f.value;m.fromSpot=Pt,m.toSpot=Tt}else for(h.h(e.bounds.x+2*e.focus.x-e.commentMargin,e.bounds.y+l),f.move(h),f=f.Kd();f.next();)(m=f.value).fromSpot=Tt,m.toSpot=Pt;else if(0<=e.commentMargin)for(h.h(e.bounds.x+2*e.focus.x+e.commentMargin,e.bounds.y+l),f.move(h),f=f.Kd();f.next();)(m=f.value).fromSpot=Tt,m.toSpot=Pt;else for(h.h(e.bounds.x+e.commentMargin-p.width,e.bounds.y+l),f.move(h),f=f.Kd();f.next();)(m=f.value).fromSpot=Pt,m.toSpot=Tt;l=0<=e.commentSpacing?l+(p.height+e.commentSpacing):l+(e.commentSpacing-p.height)}else{if(135<i&&!o||!r&&s)if(0<=e.commentMargin)for(h.h(e.bounds.x+l,e.bounds.y-e.commentMargin-p.height),f.move(h),f=f.Kd();f.next();)(m=f.value).fromSpot=Ct,m.toSpot=Et;else for(h.h(e.bounds.x+l,e.bounds.y+2*e.focus.y-e.commentMargin),f.move(h),f=f.Kd();f.next();)(m=f.value).fromSpot=Et,m.toSpot=Ct;else if(0<=e.commentMargin)for(h.h(e.bounds.x+l,e.bounds.y+2*e.focus.y+e.commentMargin),f.move(h),f=f.Kd();f.next();)(m=f.value).fromSpot=Et,m.toSpot=Ct;else for(h.h(e.bounds.x+l,e.bounds.y+e.commentMargin-p.height),f.move(h),f=f.Kd();f.next();)(m=f.value).fromSpot=Ct,m.toSpot=Et;l=0<=e.commentSpacing?l+(p.width+e.commentSpacing):l+(e.commentSpacing-p.width)}}if(pe.free(h),t=l-e.commentSpacing-(n?t.height:t.width),this.od===jy)for(e=e.destinationEdges;e.next();)null===(i=e.value.link)||i.isAvoiding||(i.fromEndSegmentLength=0<t?t:NaN);else for(e=e.sourceEdges;e.next();)null===(i=e.value.link)||i.isAvoiding||(i.toEndSegmentLength=0<t?t:NaN)}},Zm.prototype.layoutTree=function(e){if(null!==e){for(var t=e.children,r=t.length,n=0;n<r;n++)this.layoutTree(t[n]);switch(e.compaction){case By:sy(this,e);break;case Uy:if(e.alignment===Dy)sy(this,e);else if(0===e.childrenCount)r=!1,t=0,null!==(n=e.parent)&&(t=n.angle,r=iy(r=n.alignment)),n=ay(e),e.S.h(0,0),e.Da.h(e.width,e.height),null===e.parent||null===e.comments||(180!==t&&270!==t||r)&&!n?e.la.h(0,0):180===t&&!r||(90===t||270===t)&&n?e.la.h(e.width-2*e.focus.x,0):e.la.h(0,e.height-2*e.focus.y),e.So=null,e.ep=null;else{var i=ky(e);t=90===i||270===i;var o=0,a=e.children,s=a.length;for(r=0;r<s;r++)n=a[r],o=Math.max(o,t?n.Da.width:n.Da.height);var l=e.alignment;n=l===Ly;var u=l===Ny,c=iy(l),h=Math.max(0,e.breadthLimit);r=this.computeLayerSpacing(e);var d=e.nodeSpacing,f=this.computeNodeIndent(e),p=e.rowSpacing,m=0;(n||u||e.em||e.fm&&1===e.maxGenerationCount)&&(m=Math.max(0,e.rowIndent)),n=e.width;var y=e.height,g=0,v=0,b=0,x=null,S=null,k=0,_=0,j=0,M=0,C=0,P=0,T=0,A=0;if(c&&!oy(l)&&135<i&&a.reverse(),oy(l))if(1<s)for(var L=0;L<s;L++)0===L%2&&L!==s-1&&(A=Math.max(A,t?a[L].Da.width:a[L].Da.height));else 1===s&&(A=t?a[0].Da.width:a[0].Da.height);if(c){switch(l){case Ry:A=(v=135>i?ly(this,e,a,A,g,v):uy(this,e,a,A,g,v)).x,g=v.width,v=v.height;break;case Iy:for(x=0;x<s;x++)h=(S=a[x]).Da,b=0===P?0:p,t?(S.S.h(o-h.width,M+b),g=Math.max(g,h.width),v=Math.max(v,M+b+h.height),M+=b+h.height):(S.S.h(j+b,o-h.height),g=Math.max(g,j+b+h.width),v=Math.max(v,h.height),j+=b+h.width),P++;break;case Fy:for(x=0;x<s;x++)o=(S=a[x]).Da,h=0===P?0:p,t?(S.S.h(d/2+e.focus.x,M+h),g=Math.max(g,o.width),v=Math.max(v,M+h+o.height),M+=h+o.height):(S.S.h(j+h,d/2+e.focus.y),g=Math.max(g,j+h+o.width),v=Math.max(v,o.height),j+=h+o.width),P++}x=by(this,2),S=by(this,2),t?(x[0].h(0,0),x[1].h(0,v),S[0].h(g,0)):(x[0].h(0,0),x[1].h(g,0),S[0].h(0,v)),S[1].h(g,v)}else for(L=0;L<s;L++){var N=a[L],R=N.Da;if(t){0<h&&0<P&&j+d+R.width>h&&(j<o&&py(e,l,o-j,0,T,L-1),C++,P=0,T=L,b=v,j=0,M=135<i?-v-p:v+p),yy(this,N,0,M);var D=0;if(0===P)x=N.So,S=N.ep,k=R.width,_=R.height,(null===x||null===S||i!==ky(N))&&(x=by(this,2),S=by(this,2),x[0].h(0,0),x[1].h(0,_),S[0].h(k,0),S[1].h(k,_));else{var I=E();D=(_=vy(this,e,N,x,S,k,_,I)).x,x=I[0],S=I[1],k=_.width,_=_.height,O(I),j<R.width&&0>D&&(my(e,-D,0,T,L-1),gy(x,-D,0),gy(S,-D,0),D=0)}N.S.h(D,M),g=Math.max(g,k),v=Math.max(v,b+(0===C?0:p)+R.height),j=k}else 0<h&&0<P&&M+d+R.height>h&&(M<o&&py(e,l,0,o-M,T,L-1),C++,P=0,T=L,b=g,M=0,j=135<i?-g-p:g+p),yy(this,N,j,0),D=0,0===P?(x=N.So,S=N.ep,k=R.width,_=R.height,(null===x||null===S||i!==ky(N))&&(x=by(this,2),S=by(this,2),x[0].h(0,0),x[1].h(k,0),S[0].h(0,_),S[1].h(k,_))):(D=(_=vy(this,e,N,x,S,k,_,I=E())).x,x=I[0],S=I[1],k=_.width,_=_.height,O(I),M<R.height&&0>D&&(my(e,0,-D,T,L-1),gy(x,0,-D),gy(S,0,-D),D=0)),N.S.h(j,D),v=Math.max(v,_),g=Math.max(g,b+(0===C?0:p)+R.width),M=_;P++}switch(0<C&&(t?(v+=Math.max(0,r),j<g&&py(e,l,g-j,0,T,s-1),0<m&&(u||my(e,m,0,0,s-1),g+=m)):(g+=Math.max(0,r),M<v&&py(e,l,0,v-M,T,s-1),0<m&&(u||my(e,0,m,0,s-1),v+=m))),m=u=0,l){case Oy:t?u+=g/2-e.focus.x-f/2:m+=v/2-e.focus.y-f/2;break;case Ay:0<C?t?u+=g/2-e.focus.x-f/2:m+=v/2-e.focus.y-f/2:t?u+=(A=a[0].S.x+a[0].la.x)+(a[s-1].S.x+a[s-1].la.x+2*a[s-1].focus.x-A)/2-e.focus.x-f/2:m+=(A=a[0].S.y+a[0].la.y)+(a[s-1].S.y+a[s-1].la.y+2*a[s-1].focus.y-A)/2-e.focus.y-f/2;break;case Ly:t?(u-=f,g+=f):(m-=f,v+=f);break;case Ny:t?(u+=g-e.width+f,g+=f):(m+=v-e.height+f,v+=f);break;case Ry:t?u+=1<s?A+d/2-e.focus.x:a[0].focus.x-e.focus.x+a[0].la.x:m+=1<s?A+d/2-e.focus.y:a[0].focus.y-e.focus.y+a[0].la.y;break;case Iy:t?u+=g+d/2-e.focus.x:m+=v+d/2-e.focus.y;break;case Fy:break;default:u=(v=this.customAlignment(e,u,m,g,v))[0],m=v[1],g=v[2],v=v[3]}for(f=0;f<s;f++)A=a[f],t?A.S.h(A.S.x+A.la.x-u,A.S.y+(135<i?(c?-v:-A.Da.height)+A.la.y-r:y+r+A.la.y)):A.S.h(A.S.x+(135<i?(c?-g:-A.Da.width)+A.la.x-r:n+r+A.la.x),A.S.y+A.la.y-m);if(s=a=0,c?t?(g=hy(e,g,u),0>u&&(u=0),135<i&&(m+=v+r),v+=y+r,l===Fy&&(a+=d/2+e.focus.x),s+=y+r):(135<i&&(u+=g+r),g+=n+r,v=dy(e,v,m),0>m&&(m=0),l===Fy&&(s+=d/2+e.focus.y),a+=n+r):t?(null===e.comments?n>g&&(a=(g=fy(l,n-g,0)).x,s=g.y,g=n,u=0):g=hy(e,g,u),0>u&&(a-=u,u=0),135<i&&(m+=v+r),v=Math.max(Math.max(v,y),v+y+r),s+=y+r):(135<i&&(u+=g+r),g=Math.max(Math.max(g,n),g+n+r),null===e.comments?y>v&&(a=(v=fy(l,0,y-v)).x,s=v.y,v=y,m=0):v=dy(e,v,m),0>m&&(s-=m,m=0),a+=n+r),0<C)i=by(this,4),C=by(this,4),t?(i[2].h(0,y+r),i[3].h(i[2].x,v),C[2].h(g,i[2].y),C[3].h(C[2].x,i[3].y)):(i[2].h(n+r,0),i[3].h(g,i[2].y),C[2].h(i[2].x,v),C[3].h(i[3].x,C[2].y));else{for(i=by(this,x.length+2),C=by(this,S.length+2),l=0;l<x.length;l++)c=x[l],i[l+2].h(c.x+a,c.y+s);for(l=0;l<S.length;l++)c=S[l],C[l+2].h(c.x+a,c.y+s)}t?(i[0].h(u,0),i[1].h(i[0].x,y),i[2].y<i[1].y&&(i[2].x>i[0].x?i[2].assign(i[1]):i[1].assign(i[2])),i[3].y<i[2].y&&(i[3].x>i[0].x?i[3].assign(i[2]):i[2].assign(i[3])),C[0].h(u+n,0),C[1].h(C[0].x,y),C[2].y<C[1].y&&(C[2].x<C[0].x?C[2].assign(C[1]):C[1].assign(C[2])),C[3].y<C[2].y&&(C[3].x<C[0].x?C[3].assign(C[2]):C[2].assign(C[3])),i[2].y-=r/2,C[2].y-=r/2):(i[0].h(0,m),i[1].h(n,i[0].y),i[2].x<i[1].x&&(i[2].y>i[0].y?i[2].assign(i[1]):i[1].assign(i[2])),i[3].x<i[2].x&&(i[3].y>i[0].y?i[3].assign(i[2]):i[2].assign(i[3])),C[0].h(0,m+y),C[1].h(n,C[0].y),C[2].x<C[1].x&&(C[2].y<C[0].y?C[2].assign(C[1]):C[1].assign(C[2])),C[3].x<C[2].x&&(C[3].y<C[0].y?C[3].assign(C[2]):C[2].assign(C[3])),i[2].x-=r/2,C[2].x-=r/2),xy(this,x),xy(this,S),e.So=i,e.ep=C,e.la.h(u,m),e.Da.h(g,v)}break;default:w("Unhandled compaction value "+e.compaction.toString())}}},Zm.prototype.customAlignment=function(e,t,r,n,i){return[t,r,n,i]},Zm.prototype.computeBusNodeSpacing=function(e){return null===e.parent?0:e.parent.nodeSpacing},Zm.prototype.computeBusLastRowSpacing=function(e){return null===e.parent?0:e.parent.rowSpacing},Zm.prototype.arrangeTrees=function(){if(this.Mb===Xy)for(var e=this.Qb.iterator;e.next();){var t=e.value;if(t instanceof Jy){var r=t.node;if(null!==r){var n=r.position;r=n.x,n=n.y,isFinite(r)||(r=0),isFinite(n)||(n=0),wy(this,t,r,n)}}}else{for(e=[],t=this.Qb.iterator;t.next();)(r=t.value)instanceof Jy&&e.push(r);switch(this.sorting){case Cy:break;case Py:e.reverse();break;case Ty:e.sort(this.comparer);break;case Ey:e.sort(this.comparer),e.reverse();break;default:w("Unhandled sorting value "+this.sorting.toString())}for(t=(r=this.arrangementOrigin).x,r=r.y,n=0;n<e.length;n++){var i=e[n];switch(wy(this,i,t+i.la.x,r+i.la.y),this.Mb){case Hy:r+=i.Da.height+this.Wd.height;break;case Wy:t+=i.Da.width+this.Wd.width;break;default:w("Unhandled arrangement value "+this.Mb.toString())}}}},Zm.prototype.commitLayout=function(){this.rv(),this.commitNodes(),this.Au(),this.isRouting&&this.commitLinks()},Zm.prototype.commitNodes=function(){for(var e=this.network.vertexes.iterator;e.next();)e.value.commit();for(e.reset();e.next();)this.layoutComments(e.value)},Zm.prototype.Au=function(){if(this.layerStyle===Zy){for(var e=this.Tv,t=[],r=null,n=this.network.vertexes.iterator;n.next();){var i=n.value;null===r?r=i.bounds.copy():r.Zc(i.bounds);var o=t[i.level];o=void 0===o?this.computeLayerSpacing(i):Math.max(o,this.computeLayerSpacing(i)),t[i.level]=o}for(n=0;n<t.length;n++)void 0===t[n]&&(t[n]=0);if(90===this.angle||270===this.angle?(r.yc(this.nodeSpacing/2,this.layerSpacing),n=new pe(-this.nodeSpacing/2,-this.layerSpacing/2)):(r.yc(this.layerSpacing,this.nodeSpacing/2),n=new pe(-this.layerSpacing/2,-this.nodeSpacing/2)),i=[],r=90===this.angle||270===this.angle?r.width:r.height,o=0,180===this.angle||270===this.angle)for(var a=0;a<e.length;a++)o+=e[a]+t[a];for(a=0;a<e.length;a++){var s=e[a]+t[a];270===this.angle?(o-=s,i.push(new Ne(0,o,r,s))):90===this.angle?(i.push(new Ne(0,o,r,s)),o+=s):180===this.angle?(o-=s,i.push(new Ne(o,0,s,r))):(i.push(new Ne(o,0,s,r)),o+=s)}this.commitLayers(i,n)}},Zm.prototype.commitLayers=function(){},Zm.prototype.commitLinks=function(){for(var e=this.network.edges.iterator;e.next();)e.value.commit()},Zm.prototype.rv=function(){for(var e=this.Qb.iterator;e.next();){var t=e.value;t instanceof Jy&&Sy(this,t)}},Zm.prototype.setPortSpots=function(e){var t=e.alignment;if(iy(t)){var r=this.od===jy,n=ky(e);switch(n){case 0:var i=Tt;break;case 90:i=Et;break;case 180:i=Pt;break;default:i=Ct}var o=e.children,a=o.length;switch(t){case Ry:case Dy:for(t=0;t<a;t++){var s=o[t];if(null!==(s=(r?s.sourceEdges:s.destinationEdges).first())&&null!==(s=s.link)){var l=90===n||270===n?Pt:Ct;if(1===a||t===a-1&&1===a%2)switch(n){case 0:l=Pt;break;case 90:l=Ct;break;case 180:l=Tt;break;default:l=Et}else 0===t%2&&(l=90===n||270===n?Tt:Et);r?(e.setsPortSpot&&(s.fromSpot=i),e.setsChildPortSpot&&(s.toSpot=l)):(e.setsPortSpot&&(s.fromSpot=l),e.setsChildPortSpot&&(s.toSpot=i))}}break;case Iy:for(n=90===n||270===n?Tt:Et,o=r?e.destinationEdges:e.sourceEdges;o.next();)null!==(a=o.value.link)&&(r?(e.setsPortSpot&&(a.fromSpot=i),e.setsChildPortSpot&&(a.toSpot=n)):(e.setsPortSpot&&(a.fromSpot=n),e.setsChildPortSpot&&(a.toSpot=i)));break;case Fy:for(n=90===n||270===n?Pt:Ct,o=r?e.destinationEdges:e.sourceEdges;o.next();)null!==(a=o.value.link)&&(r?(e.setsPortSpot&&(a.fromSpot=i),e.setsChildPortSpot&&(a.toSpot=n)):(e.setsPortSpot&&(a.fromSpot=n),e.setsChildPortSpot&&(a.toSpot=i)))}}else if(r=ky(e),this.od===jy){for(i=e.destinationEdges;i.next();)if(null!==(n=i.value.link)){if(e.setsPortSpot)if(e.portSpot.Tb())switch(r){case 0:n.fromSpot=Tt;break;case 90:n.fromSpot=Et;break;case 180:n.fromSpot=Pt;break;default:n.fromSpot=Ct}else n.fromSpot=e.portSpot;if(e.setsChildPortSpot)if(e.childPortSpot.Tb())switch(r){case 0:n.toSpot=Pt;break;case 90:n.toSpot=Ct;break;case 180:n.toSpot=Tt;break;default:n.toSpot=Et}else n.toSpot=e.childPortSpot}}else for(i=e.sourceEdges;i.next();)if(null!==(n=i.value.link)){if(e.setsPortSpot)if(e.portSpot.Tb())switch(r){case 0:n.toSpot=Tt;break;case 90:n.toSpot=Et;break;case 180:n.toSpot=Pt;break;default:n.toSpot=Ct}else n.toSpot=e.portSpot;if(e.setsChildPortSpot)if(e.childPortSpot.Tb())switch(r){case 0:n.fromSpot=Pt;break;case 90:n.fromSpot=Ct;break;case 180:n.fromSpot=Tt;break;default:n.fromSpot=Et}else n.fromSpot=e.childPortSpot}},Zm.prototype.computeLayerSpacing=function(e){var t=ky(e);t=90===t||270===t;var r=e.layerSpacing;if(0<e.layerSpacingParentOverlap){var n=Math.min(1,e.layerSpacingParentOverlap);r-=t?e.height*n:e.width*n}return r<(t?-e.height:-e.width)&&(r=t?-e.height:-e.width),r},Zm.prototype.computeNodeIndent=function(e){var t=ky(e),r=e.nodeIndent;if(0<e.nodeIndentPastParent){var n=Math.min(1,e.nodeIndentPastParent);r+=90===t||270===t?e.width*n:e.height*n}return Math.max(0,r)},d.Object.defineProperties(Zm.prototype,{roots:{get:function(){return this.Qb},set:function(e){this.Qb!==e&&(this.Qb=e,this.D())}},path:{get:function(){return this.Sn},set:function(e){this.Sn!==e&&(this.Sn=e,this.D())}},treeStyle:{get:function(){return this.ro},set:function(e){this.Mb===e||e!==zy&&e!==Gy&&e!==qy&&e!==Vy||(this.ro=e,this.D())}},layerStyle:{get:function(){return this.uq},set:function(e){this.Mb===e||e!==Yy&&e!==Ky&&e!==Zy||(this.uq=e,this.D())}},comments:{get:function(){return this.md},set:function(e){this.md!==e&&(this.md=e,this.D())}},arrangement:{get:function(){return this.Mb},set:function(e){this.Mb===e||e!==Hy&&e!==Wy&&e!==Xy||(this.Mb=e,this.D())}},arrangementSpacing:{get:function(){return this.Wd},set:function(e){this.Wd.C(e)||(this.Wd.assign(e),this.D())}},rootDefaults:{get:function(){return this.W},set:function(e){this.W!==e&&(this.W=e,this.D())}},alternateDefaults:{get:function(){return this.Y},set:function(e){this.Y!==e&&(this.Y=e,this.D())}},sorting:{get:function(){return this.W.sorting},set:function(e){this.W.sorting===e||e!==Cy&&e!==Py&&e!==Ty&&!Ey||(this.W.sorting=e,this.D())}},comparer:{get:function(){return this.W.comparer},set:function(e){this.W.comparer!==e&&(this.W.comparer=e,this.D())}},angle:{get:function(){return this.W.angle},set:function(e){this.W.angle!==e&&(0===e||90===e||180===e||270===e?(this.W.angle=e,this.D()):w("TreeLayout.angle must be 0, 90, 180, or 270"))}},alignment:{get:function(){return this.W.alignment},set:function(e){this.W.alignment!==e&&(this.W.alignment=e,this.D())}},nodeIndent:{get:function(){return this.W.nodeIndent},set:function(e){this.W.nodeIndent!==e&&0<=e&&(this.W.nodeIndent=e,this.D())}},nodeIndentPastParent:{get:function(){return this.W.nodeIndentPastParent},set:function(e){this.W.nodeIndentPastParent!==e&&0<=e&&1>=e&&(this.W.nodeIndentPastParent=e,this.D())}},nodeSpacing:{get:function(){return this.W.nodeSpacing},set:function(e){this.W.nodeSpacing!==e&&(this.W.nodeSpacing=e,this.D())}},layerSpacing:{get:function(){return this.W.layerSpacing},set:function(e){this.W.layerSpacing!==e&&(this.W.layerSpacing=e,this.D())}},layerSpacingParentOverlap:{get:function(){return this.W.layerSpacingParentOverlap},set:function(e){this.W.layerSpacingParentOverlap!==e&&0<=e&&1>=e&&(this.W.layerSpacingParentOverlap=e,this.D())}},compaction:{get:function(){return this.W.compaction},set:function(e){this.W.compaction===e||e!==By&&e!==Uy||(this.W.compaction=e,this.D())}},breadthLimit:{get:function(){return this.W.breadthLimit},set:function(e){this.W.breadthLimit!==e&&0<=e&&(this.W.breadthLimit=e,this.D())}},rowSpacing:{get:function(){return this.W.rowSpacing},set:function(e){this.W.rowSpacing!==e&&(this.W.rowSpacing=e,this.D())}},rowIndent:{get:function(){return this.W.rowIndent},set:function(e){this.W.rowIndent!==e&&0<=e&&(this.W.rowIndent=e,this.D())}},commentSpacing:{get:function(){return this.W.commentSpacing},set:function(e){this.W.commentSpacing!==e&&(this.W.commentSpacing=e,this.D())}},commentMargin:{get:function(){return this.W.commentMargin},set:function(e){this.W.commentMargin!==e&&(this.W.commentMargin=e,this.D())}},setsPortSpot:{get:function(){return this.W.setsPortSpot},set:function(e){this.W.setsPortSpot!==e&&(this.W.setsPortSpot=e,this.D())}},portSpot:{get:function(){return this.W.portSpot},set:function(e){this.W.portSpot.C(e)||(this.W.portSpot=e,this.D())}},setsChildPortSpot:{get:function(){return this.W.setsChildPortSpot},set:function(e){this.W.setsChildPortSpot!==e&&(this.W.setsChildPortSpot=e,this.D())}},childPortSpot:{get:function(){return this.W.childPortSpot},set:function(e){this.W.childPortSpot.C(e)||(this.W.childPortSpot=e,this.D())}},alternateSorting:{get:function(){return this.Y.sorting},set:function(e){this.Y.sorting===e||e!==Cy&&e!==Py&&e!==Ty&&!Ey||(this.Y.sorting=e,this.D())}},alternateComparer:{get:function(){return this.Y.comparer},set:function(e){this.Y.comparer!==e&&(this.Y.comparer=e,this.D())}},alternateAngle:{get:function(){return this.Y.angle},set:function(e){this.Y.angle===e||0!==e&&90!==e&&180!==e&&270!==e||(this.Y.angle=e,this.D())}},alternateAlignment:{get:function(){return this.Y.alignment},set:function(e){this.Y.alignment!==e&&(this.Y.alignment=e,this.D())}},alternateNodeIndent:{get:function(){return this.Y.nodeIndent},set:function(e){this.Y.nodeIndent!==e&&0<=e&&(this.Y.nodeIndent=e,this.D())}},alternateNodeIndentPastParent:{get:function(){return this.Y.nodeIndentPastParent},set:function(e){this.Y.nodeIndentPastParent!==e&&0<=e&&1>=e&&(this.Y.nodeIndentPastParent=e,this.D())}},alternateNodeSpacing:{get:function(){return this.Y.nodeSpacing},set:function(e){this.Y.nodeSpacing!==e&&(this.Y.nodeSpacing=e,this.D())}},alternateLayerSpacing:{get:function(){return this.Y.layerSpacing},set:function(e){this.Y.layerSpacing!==e&&(this.Y.layerSpacing=e,this.D())}},alternateLayerSpacingParentOverlap:{get:function(){return this.Y.layerSpacingParentOverlap},set:function(e){this.Y.layerSpacingParentOverlap!==e&&0<=e&&1>=e&&(this.Y.layerSpacingParentOverlap=e,this.D())}},alternateCompaction:{get:function(){return this.Y.compaction},set:function(e){this.Y.compaction===e||e!==By&&e!==Uy||(this.Y.compaction=e,this.D())}},alternateBreadthLimit:{get:function(){return this.Y.breadthLimit},set:function(e){this.Y.breadthLimit!==e&&0<=e&&(this.Y.breadthLimit=e,this.D())}},alternateRowSpacing:{get:function(){return this.Y.rowSpacing},set:function(e){this.Y.rowSpacing!==e&&(this.Y.rowSpacing=e,this.D())}},alternateRowIndent:{get:function(){return this.Y.rowIndent},set:function(e){this.Y.rowIndent!==e&&0<=e&&(this.Y.rowIndent=e,this.D())}},alternateCommentSpacing:{get:function(){return this.Y.commentSpacing},set:function(e){this.Y.commentSpacing!==e&&(this.Y.commentSpacing=e,this.D())}},alternateCommentMargin:{get:function(){return this.Y.commentMargin},set:function(e){this.Y.commentMargin!==e&&(this.Y.commentMargin=e,this.D())}},alternateSetsPortSpot:{get:function(){return this.Y.setsPortSpot},set:function(e){this.Y.setsPortSpot!==e&&(this.Y.setsPortSpot=e,this.D())}},alternatePortSpot:{get:function(){return this.Y.portSpot},set:function(e){this.Y.portSpot.C(e)||(this.Y.portSpot=e,this.D())}},alternateSetsChildPortSpot:{get:function(){return this.Y.setsChildPortSpot},set:function(e){this.Y.setsChildPortSpot!==e&&(this.Y.setsChildPortSpot=e,this.D())}},alternateChildPortSpot:{get:function(){return this.Y.childPortSpot},set:function(e){this.Y.childPortSpot.C(e)||(this.Y.childPortSpot=e,this.D())}}});var _y=new U(Zm,"PathDefault",-1),jy=new U(Zm,"PathDestination",0),My=new U(Zm,"PathSource",1),Cy=new U(Zm,"SortingForwards",10),Py=new U(Zm,"SortingReverse",11),Ty=new U(Zm,"SortingAscending",12),Ey=new U(Zm,"SortingDescending",13),Oy=new U(Zm,"AlignmentCenterSubtrees",20),Ay=new U(Zm,"AlignmentCenterChildren",21),Ly=new U(Zm,"AlignmentStart",22),Ny=new U(Zm,"AlignmentEnd",23),Ry=new U(Zm,"AlignmentBus",24),Dy=new U(Zm,"AlignmentBusBranching",25),Iy=new U(Zm,"AlignmentTopLeftBus",26),Fy=new U(Zm,"AlignmentBottomRightBus",27),By=new U(Zm,"CompactionNone",30),Uy=new U(Zm,"CompactionBlock",31),zy=new U(Zm,"StyleLayered",40),qy=new U(Zm,"StyleLastParents",41),Gy=new U(Zm,"StyleAlternating",42),Vy=new U(Zm,"StyleRootOnly",43),Hy=new U(Zm,"ArrangementVertical",50),Wy=new U(Zm,"ArrangementHorizontal",51),Xy=new U(Zm,"ArrangementFixedRoots",52),Yy=new U(Zm,"LayerIndividual",60),Ky=new U(Zm,"LayerSiblings",61),Zy=new U(Zm,"LayerUniform",62);function $y(e){Od.call(this,e)}function Jy(e){Dd.call(this,e),this.V=!1,this.hb=null,this.u=[],this.ob=this.Ha=this.F=this.ga=0,this.md=null,this.S=new pe(0,0),this.Da=new Ee(0,0),this.la=new pe(0,0),this.fm=this.em=this.gA=!1,this.ep=this.So=null,this.ed=Cy,this.$c=Id,this.Ib=0,this.Hb=Ay,this.Oq=this.Nq=0,this.Pq=20,this.ee=50,this.tq=0,this.Bp=Uy,this.tp=0,this.gr=25,this.Ap=this.fr=10,this.zp=20,this.pr=!0,this.Xq=St,this.nr=!0,this.xp=St}function Qy(e){Fd.call(this,e),this.Vt=new pe(0,0)}Zm.className="TreeLayout",Zm.PathDefault=_y,Zm.PathDestination=jy,Zm.PathSource=My,Zm.SortingForwards=Cy,Zm.SortingReverse=Py,Zm.SortingAscending=Ty,Zm.SortingDescending=Ey,Zm.AlignmentCenterSubtrees=Oy,Zm.AlignmentCenterChildren=Ay,Zm.AlignmentStart=Ly,Zm.AlignmentEnd=Ny,Zm.AlignmentBus=Ry,Zm.AlignmentBusBranching=Dy,Zm.AlignmentTopLeftBus=Iy,Zm.AlignmentBottomRightBus=Fy,Zm.CompactionNone=By,Zm.CompactionBlock=Uy,Zm.StyleLayered=zy,Zm.StyleLastParents=qy,Zm.StyleAlternating=Gy,Zm.StyleRootOnly=Vy,Zm.ArrangementVertical=Hy,Zm.ArrangementHorizontal=Wy,Zm.ArrangementFixedRoots=Xy,Zm.LayerIndividual=Yy,Zm.LayerSiblings=Ky,Zm.LayerUniform=Zy,h($y,Od),$y.prototype.createVertex=function(){return new Jy(this)},$y.prototype.createEdge=function(){return new Qy(this)},$y.className="TreeNetwork",h(Jy,Dd),Jy.prototype.copyInheritedPropertiesFrom=function(e){null!==e&&(this.ed=e.sorting,this.$c=e.comparer,this.Ib=e.angle,this.Hb=e.alignment,this.Nq=e.nodeIndent,this.Oq=e.nodeIndentPastParent,this.Pq=e.nodeSpacing,this.ee=e.layerSpacing,this.tq=e.layerSpacingParentOverlap,this.Bp=e.compaction,this.tp=e.breadthLimit,this.gr=e.rowSpacing,this.fr=e.rowIndent,this.Ap=e.commentSpacing,this.zp=e.commentMargin,this.pr=e.setsPortSpot,this.Xq=e.portSpot,this.nr=e.setsChildPortSpot,this.xp=e.childPortSpot)},d.Object.defineProperties(Jy.prototype,{initialized:{get:function(){return this.V},set:function(e){this.V!==e&&(this.V=e)}},parent:{get:function(){return this.hb},set:function(e){this.hb!==e&&(this.hb=e)}},children:{get:function(){return this.u},set:function(e){if(this.u!==e){if(null!==e)for(var t=e.length,r=0;r<t;r++);this.u=e}}},level:{get:function(){return this.ga},set:function(e){this.ga!==e&&(this.ga=e)}},descendantCount:{get:function(){return this.F},set:function(e){this.F!==e&&(this.F=e)}},maxChildrenCount:{get:function(){return this.Ha},set:function(e){this.Ha!==e&&(this.Ha=e)}},maxGenerationCount:{get:function(){return this.ob},set:function(e){this.ob!==e&&(this.ob=e)}},comments:{get:function(){return this.md},set:function(e){if(this.md!==e){if(null!==e)for(var t=e.length,r=0;r<t;r++);this.md=e}}},sorting:{get:function(){return this.ed},set:function(e){this.ed!==e&&(this.ed=e)}},comparer:{get:function(){return this.$c},set:function(e){this.$c!==e&&(this.$c=e)}},angle:{get:function(){return this.Ib},set:function(e){this.Ib!==e&&(this.Ib=e)}},alignment:{get:function(){return this.Hb},set:function(e){this.Hb!==e&&(this.Hb=e)}},nodeIndent:{get:function(){return this.Nq},set:function(e){this.Nq!==e&&(this.Nq=e)}},nodeIndentPastParent:{get:function(){return this.Oq},set:function(e){this.Oq!==e&&(this.Oq=e)}},nodeSpacing:{get:function(){return this.Pq},set:function(e){this.Pq!==e&&(this.Pq=e)}},layerSpacing:{get:function(){return this.ee},set:function(e){this.ee!==e&&(this.ee=e)}},layerSpacingParentOverlap:{get:function(){return this.tq},set:function(e){this.tq!==e&&(this.tq=e)}},compaction:{get:function(){return this.Bp},set:function(e){this.Bp!==e&&(this.Bp=e)}},breadthLimit:{get:function(){return this.tp},set:function(e){this.tp!==e&&(this.tp=e)}},rowSpacing:{get:function(){return this.gr},set:function(e){this.gr!==e&&(this.gr=e)}},rowIndent:{get:function(){return this.fr},set:function(e){this.fr!==e&&(this.fr=e)}},commentSpacing:{get:function(){return this.Ap},set:function(e){this.Ap!==e&&(this.Ap=e)}},commentMargin:{get:function(){return this.zp},set:function(e){this.zp!==e&&(this.zp=e)}},setsPortSpot:{get:function(){return this.pr},set:function(e){this.pr!==e&&(this.pr=e)}},portSpot:{get:function(){return this.Xq},set:function(e){this.Xq.C(e)||(this.Xq=e)}},setsChildPortSpot:{get:function(){return this.nr},set:function(e){this.nr!==e&&(this.nr=e)}},childPortSpot:{get:function(){return this.xp},set:function(e){this.xp.C(e)||(this.xp=e)}},childrenCount:{get:function(){return this.children.length}},relativePosition:{get:function(){return this.S},set:function(e){this.S.set(e)}},subtreeSize:{get:function(){return this.Da},set:function(e){this.Da.set(e)}},subtreeOffset:{get:function(){return this.la},set:function(e){this.la.set(e)}}}),Jy.className="TreeVertex",h(Qy,Fd),Qy.prototype.commit=function(){var e=this.link;if(null!==e&&!e.isAvoiding){var t=this.network.layout,r=null,n=null;switch(t.od){case jy:r=this.fromVertex,n=this.toVertex;break;case My:r=this.toVertex,n=this.fromVertex;break;default:w("Unhandled path value "+t.od.toString())}if(null!==r&&null!==n){var i=this.Vt;if(0!==i.x||0!==i.y||r.gA){n=r.bounds;var o=ky(r),a=t.computeLayerSpacing(r),s=r.rowSpacing;e.rg();var l,u=e.curve===Wh,c=e.isOrthogonal;if(e.ph(),c||u){for(l=2;4<e.pointsCount;)e.kv(2);var h=e.i(1),d=e.i(2)}else{for(l=1;3<e.pointsCount;)e.kv(1);h=e.i(0),d=e.i(e.pointsCount-1)}var f=e.i(e.pointsCount-1);0===o?(r.alignment===Ny?(o=n.bottom+i.y,0===i.y&&h.y>f.y+r.rowIndent&&(o=Math.min(o,Math.max(h.y,o-t.computeNodeIndent(r))))):r.alignment===Ly?(o=n.top+i.y,0===i.y&&h.y<f.y-r.rowIndent&&(o=Math.max(o,Math.min(h.y,o+t.computeNodeIndent(r))))):o=r.em||r.fm&&1===r.maxGenerationCount?n.top-r.la.y+i.y:n.y+n.height/2+i.y,u?(e.l(l,h.x,o),l++,e.l(l,n.right+a,o),l++,e.l(l,n.right+a+(i.x-s)/3,o),l++,e.l(l,n.right+a+2*(i.x-s)/3,o),l++,e.l(l,n.right+a+(i.x-s),o),l++,e.l(l,d.x,o)):(c&&(e.l(l,n.right+a/2,h.y),l++),e.l(l,n.right+a/2,o),l++,e.l(l,n.right+a+i.x-(c?s/2:s),o),l++,c&&e.l(l,e.i(l-1).x,d.y))):90===o?(r.alignment===Ny?(o=n.right+i.x,0===i.x&&h.x>f.x+r.rowIndent&&(o=Math.min(o,Math.max(h.x,o-t.computeNodeIndent(r))))):r.alignment===Ly?(o=n.left+i.x,0===i.x&&h.x<f.x-r.rowIndent&&(o=Math.max(o,Math.min(h.x,o+t.computeNodeIndent(r))))):o=r.em||r.fm&&1===r.maxGenerationCount?n.left-r.la.x+i.x:n.x+n.width/2+i.x,u?(e.l(l,o,h.y),l++,e.l(l,o,n.bottom+a),l++,e.l(l,o,n.bottom+a+(i.y-s)/3),l++,e.l(l,o,n.bottom+a+2*(i.y-s)/3),l++,e.l(l,o,n.bottom+a+(i.y-s)),l++,e.l(l,o,d.y)):(c&&(e.l(l,h.x,n.bottom+a/2),l++),e.l(l,o,n.bottom+a/2),l++,e.l(l,o,n.bottom+a+i.y-(c?s/2:s)),l++,c&&e.l(l,d.x,e.i(l-1).y))):180===o?(r.alignment===Ny?(o=n.bottom+i.y,0===i.y&&h.y>f.y+r.rowIndent&&(o=Math.min(o,Math.max(h.y,o-t.computeNodeIndent(r))))):r.alignment===Ly?(o=n.top+i.y,0===i.y&&h.y<f.y-r.rowIndent&&(o=Math.max(o,Math.min(h.y,o+t.computeNodeIndent(r))))):o=r.em||r.fm&&1===r.maxGenerationCount?n.top-r.la.y+i.y:n.y+n.height/2+i.y,u?(e.l(l,h.x,o),l++,e.l(l,n.left-a,o),l++,e.l(l,n.left-a+(i.x+s)/3,o),l++,e.l(l,n.left-a+2*(i.x+s)/3,o),l++,e.l(l,n.left-a+(i.x+s),o),l++,e.l(l,d.x,o)):(c&&(e.l(l,n.left-a/2,h.y),l++),e.l(l,n.left-a/2,o),l++,e.l(l,n.left-a+i.x+(c?s/2:s),o),l++,c&&e.l(l,e.i(l-1).x,d.y))):270===o?(r.alignment===Ny?(o=n.right+i.x,0===i.x&&h.x>f.x+r.rowIndent&&(o=Math.min(o,Math.max(h.x,o-t.computeNodeIndent(r))))):r.alignment===Ly?(o=n.left+i.x,0===i.x&&h.x<f.x-r.rowIndent&&(o=Math.max(o,Math.min(h.x,o+t.computeNodeIndent(r))))):o=r.em||r.fm&&1===r.maxGenerationCount?n.left-r.la.x+i.x:n.x+n.width/2+i.x,u?(e.l(l,o,h.y),l++,e.l(l,o,n.top-a),l++,e.l(l,o,n.top-a+(i.y+s)/3),l++,e.l(l,o,n.top-a+2*(i.y+s)/3),l++,e.l(l,o,n.top-a+(i.y+s)),l++,e.l(l,o,d.y)):(c&&(e.l(l,h.x,n.top-a/2),l++),e.l(l,o,n.top-a/2),l++,e.l(l,o,n.top-a+i.y+(c?s/2:s)),l++,c&&e.l(l,d.x,e.i(l-1).y))):w("Invalid angle "+o),e.wf()}else i=n,e=this.link,n=this.network.layout,(t=ky(r))!==ky(i)&&(a=n.computeLayerSpacing(r),s=r.bounds,r=i.bounds,0===t&&r.left-s.right<a+1||90===t&&r.top-s.bottom<a+1||180===t&&s.left-r.right<a+1||270===t&&s.top-r.bottom<a+1||(e.rg(),r=e.curve===Wh,i=e.isOrthogonal,n=iy(this.fromVertex.alignment),e.ph(),0===t?(t=s.right+a/2,r?4===e.pointsCount&&(r=e.i(3).y,e.M(1,t-20,e.i(1).y),e.l(2,t-20,r),e.l(3,t,r),e.l(4,t+20,r),e.M(5,e.i(5).x,r)):i?n?e.M(3,e.i(2).x,e.i(4).y):6===e.pointsCount&&(e.M(2,t,e.i(2).y),e.M(3,t,e.i(3).y)):4===e.pointsCount?e.l(2,t,e.i(2).y):3===e.pointsCount?e.M(1,t,e.i(2).y):2===e.pointsCount&&e.l(1,t,e.i(1).y)):90===t?(t=s.bottom+a/2,r?4===e.pointsCount&&(r=e.i(3).x,e.M(1,e.i(1).x,t-20),e.l(2,r,t-20),e.l(3,r,t),e.l(4,r,t+20),e.M(5,r,e.i(5).y)):i?n?e.M(3,e.i(2).x,e.i(4).y):6===e.pointsCount&&(e.M(2,e.i(2).x,t),e.M(3,e.i(3).x,t)):4===e.pointsCount?e.l(2,e.i(2).x,t):3===e.pointsCount?e.M(1,e.i(2).x,t):2===e.pointsCount&&e.l(1,e.i(1).x,t)):180===t?(t=s.left-a/2,r?4===e.pointsCount&&(r=e.i(3).y,e.M(1,t+20,e.i(1).y),e.l(2,t+20,r),e.l(3,t,r),e.l(4,t-20,r),e.M(5,e.i(5).x,r)):i?n?e.M(3,e.i(2).x,e.i(4).y):6===e.pointsCount&&(e.M(2,t,e.i(2).y),e.M(3,t,e.i(3).y)):4===e.pointsCount?e.l(2,t,e.i(2).y):3===e.pointsCount?e.M(1,t,e.i(2).y):2===e.pointsCount&&e.l(1,t,e.i(1).y)):270===t&&(t=s.top-a/2,r?4===e.pointsCount&&(r=e.i(3).x,e.M(1,e.i(1).x,t+20),e.l(2,r,t+20),e.l(3,r,t),e.l(4,r,t-20),e.M(5,r,e.i(5).y)):i?n?e.M(3,e.i(2).x,e.i(4).y):6===e.pointsCount&&(e.M(2,e.i(2).x,t),e.M(3,e.i(3).x,t)):4===e.pointsCount?e.l(2,e.i(2).x,t):3===e.pointsCount?e.M(1,e.i(2).x,t):2===e.pointsCount&&e.l(1,e.i(1).x,t)),e.wf()))}}},d.Object.defineProperties(Qy.prototype,{fromVertex:{get:function(){return this.bd},set:function(e){this.bd!==e&&(this.bd=e)}},toVertex:{get:function(){return this.hd},set:function(e){this.hd!==e&&(this.hd=e)}},relativePoint:{get:function(){return this.Vt},set:function(e){this.Vt.set(e)}}}),Qy.className="TreeEdge",br.prototype.initializeStandardTools=function(){this.gb("Action",new mn,this.mouseDownTools),this.gb("Relinking",new nn,this.mouseDownTools),this.gb("LinkReshaping",new an,this.mouseDownTools),this.gb("Rotating",new fn,this.mouseDownTools),this.gb("Resizing",new dn,this.mouseDownTools),this.gb("Linking",new Qr,this.mouseMoveTools),this.gb("Dragging",new Pr,this.mouseMoveTools),this.gb("DragSelecting",new gn,this.mouseMoveTools),this.gb("Panning",new vn,this.mouseMoveTools),this.gb("ContextMenu",new wn,this.mouseUpTools),this.gb("TextEditing",new Tn,this.mouseUpTools),this.gb("ClickCreating",new yn,this.mouseUpTools),this.gb("ClickSelecting",new pn,this.mouseUpTools)},Jl("Horizontal",new ul),Jl("Spot",new hl),Jl("Table",new pl),Jl("Viewbox",new gl),Jl("TableRow",new ml),Jl("TableColumn",new yl),Jl("Graduated",new Sl),Jl("Grid",new vl),Io.add("GraphLinksModel",sf),Io.add("TreeModel",hf);var eg=y.go,tg={get licenseKey(){return Mi.licenseKey},set licenseKey(e){Mi.licenseKey=e},get version(){return Mi.version},Group:dh,EnumValue:U,List:Z,Set:J,Map:fe,Point:pe,Size:Ee,Rect:Ne,Margin:Ye,Spot:Dt,Geometry:Vt,PathFigure:Jt,PathSegment:Qt,InputEvent:lr,DiagramEvent:ur,ChangedEvent:cr,Model:ff,GraphLinksModel:Vf,TreeModel:tp,Binding:Bf,Transaction:mr,UndoManager:yr,CommandHandler:Ta,Tool:vr,DraggingTool:Pr,DraggingInfo:ua,DraggingOptions:Sa,LinkingBaseTool:Yr,LinkingTool:Qr,RelinkingTool:nn,LinkReshapingTool:an,ResizingTool:dn,RotatingTool:fn,ClickSelectingTool:pn,ActionTool:mn,ClickCreatingTool:yn,HTMLInfo:bn,ContextMenuTool:wn,DragSelectingTool:gn,PanningTool:vn,TextEditingTool:Tn,ToolManager:br,Animation:si,AnimationManager:Hn,AnimationTrigger:yi,Layer:Si,Diagram:Mi,Palette:ka,Overview:ja,Brush:As,GraphObject:Aa,Panel:kl,RowColumnDefinition:iu,Shape:cu,TextBlock:Su,Picture:ec,Part:vc,Adornment:Vc,Node:Wc,Link:vh,Placeholder:gh,Layout:Pd,LayoutNetwork:Od,LayoutVertex:Dd,LayoutEdge:Fd,GridLayout:Bd,PanelLayout:sl,CircularLayout:rp,CircularNetwork:Ep,CircularVertex:Op,CircularEdge:Lp,ForceDirectedLayout:Np,ForceDirectedNetwork:qp,ForceDirectedVertex:Gp,ForceDirectedEdge:Vp,LayeredDigraphLayout:Wp,LayeredDigraphNetwork:Gm,LayeredDigraphVertex:Vm,LayeredDigraphEdge:Km,TreeLayout:Zm,TreeNetwork:$y,TreeVertex:Jy,TreeEdge:Qy};"object"===typeof eg&&eg.version&&_("WARNING: a `go` object on the root object is already defined.  "+("Debug"in eg?"debug ":"")+"version: "+eg.version+", replaced with version: "+tg.version),Mi.prototype.go=tg,y.go=tg,"object"===typeof e.exports&&(e.exports="undefined"!==typeof r.g?r.g.go:self.go)}();"undefined"!==typeof r.g?r.g.go:self.go;var n="undefined"!==typeof r.g?r.g.go:self.go,i=(n.Group,n.EnumValue,n.List,n.Set,n.Map,n.Point),o=(n.Size,n.Rect,n.Margin,n.Spot),a=(n.Geometry,n.PathFigure,n.PathSegment,n.InputEvent,n.DiagramEvent,n.ChangedEvent,n.Model,n.GraphLinksModel),s=(n.TreeModel,n.Binding),l=(n.Transaction,n.UndoManager,n.CommandHandler,n.Tool,n.DraggingTool,n.DraggingInfo,n.LinkingBaseTool,n.LinkingTool,n.RelinkingTool,n.LinkReshapingTool,n.ResizingTool,n.RotatingTool,n.ClickSelectingTool,n.ActionTool,n.ClickCreatingTool,n.HTMLInfo,n.ContextMenuTool,n.DragSelectingTool,n.PanningTool,n.TextEditingTool,n.ToolManager,n.Animation,n.AnimationManager,n.AnimationTrigger,n.Layer,n.Diagram),u=(n.Palette,n.Overview),c=(n.Brush,n.GraphObject),h=n.Panel,d=(n.RowColumnDefinition,n.Shape),f=n.TextBlock,p=(n.TextBlockMetrics,n.Picture,n.Part,n.Adornment,n.Node);n.Link,n.Placeholder,n.Layout,n.LayoutNetwork,n.LayoutVertex,n.LayoutEdge,n.GridLayout,n.PanelLayout,n.CircularLayout,n.CircularNetwork,n.CircularVertex,n.CircularEdge,n.ForceDirectedLayout,n.ForceDirectedNetwork,n.ForceDirectedVertex,n.ForceDirectedEdge,n.LayeredDigraphLayout,n.LayeredDigraphNetwork,n.LayeredDigraphVertex,n.LayeredDigraphEdge,n.TreeLayout,n.TreeNetwork,n.TreeVertex,n.TreeEdge,n.version},3347:function(e,t,r){"use strict";var n=r(2506)("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(i){n=null}e.exports=n},2965:function(e){"use strict";var t="undefined"!==typeof BigInt&&BigInt;e.exports=function(){return"function"===typeof t&&"function"===typeof BigInt&&"bigint"===typeof t(42)&&"bigint"===typeof BigInt(42)}},4510:function(e,t,r){"use strict";var n=r(2506)("%Object.defineProperty%",!0),i=function(){if(n)try{return n({},"a",{value:1}),!0}catch(e){return!1}return!1};i.hasArrayLengthDefineBug=function(){if(!i())return null;try{return 1!==n([],"length",{value:1}).length}catch(e){return!0}},e.exports=i},697:function(e,t,r){"use strict";var n="undefined"!==typeof Symbol&&Symbol,i=r(3297);e.exports=function(){return"function"===typeof n&&("function"===typeof Symbol&&("symbol"===typeof n("foo")&&("symbol"===typeof Symbol("bar")&&i())))}},3297:function(e){"use strict";e.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},4707:function(e,t,r){"use strict";var n=r(3297);e.exports=function(){return n()&&!!Symbol.toStringTag}},8316:function(e,t,r){"use strict";var n=r(3350);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},3865:function(e,t,r){"use strict";var n=r(2506),i=r(8316),o=r(581)(),a=n("%TypeError%"),s={assert:function(e,t){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new a("`O` is not an object");if("string"!==typeof t)throw new a("`slot` must be a string");if(o.assert(e),!s.has(e,t))throw new a("`"+t+"` is not present on `O`")},get:function(e,t){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new a("`O` is not an object");if("string"!==typeof t)throw new a("`slot` must be a string");var r=o.get(e);return r&&r["$"+t]},has:function(e,t){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new a("`O` is not an object");if("string"!==typeof t)throw new a("`slot` must be a string");var r=o.get(e);return!!r&&i(r,"$"+t)},set:function(e,t,r){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new a("`O` is not an object");if("string"!==typeof t)throw new a("`slot` must be a string");var n=o.get(e);n||(n={},o.set(e,n)),n["$"+t]=r}};Object.freeze&&Object.freeze(s),e.exports=s},5450:function(e,t,r){"use strict";var n=r(4707)(),i=r(4037)("Object.prototype.toString"),o=function(e){return!(n&&e&&"object"===typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)},a=function(e){return!!o(e)||null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"[object Function]"===i(e.callee)},s=function(){return o(arguments)}();o.isLegacyArguments=a,e.exports=s?o:a},9188:function(e,t,r){"use strict";var n=r(9722),i=r(4037),o=r(2506),a=r(6218),s=o("ArrayBuffer",!0),l=o("Float32Array",!0),u=i("ArrayBuffer.prototype.byteLength",!0),c=s&&!u&&(new s).slice,h=c&&n(c);e.exports=u||h?function(e){if(!e||"object"!==typeof e)return!1;try{return u?u(e):h(e,0),!0}catch(t){return!1}}:l?function(e){try{return new l(e).buffer===e&&!a(e)}catch(t){return!1}}:function(e){return!1}},6423:function(e,t,r){"use strict";if(r(2965)()){var n=BigInt.prototype.valueOf;e.exports=function(e){return null!==e&&"undefined"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e&&"number"!==typeof e&&"symbol"!==typeof e&&"function"!==typeof e&&("bigint"===typeof e||function(e){try{return n.call(e),!0}catch(t){}return!1}(e))}}else e.exports=function(e){return!1}},8486:function(e,t,r){"use strict";var n=r(4037),i=n("Boolean.prototype.toString"),o=n("Object.prototype.toString"),a=r(4707)();e.exports=function(e){return"boolean"===typeof e||null!==e&&"object"===typeof e&&(a&&Symbol.toStringTag in e?function(e){try{return i(e),!0}catch(t){return!1}}(e):"[object Boolean]"===o(e))}},460:function(e){"use strict";var t,r,n=Function.prototype.toString,i="object"===typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"===typeof i&&"function"===typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw r}}),r={},i((function(){throw 42}),null,t)}catch(f){f!==r&&(i=null)}else i=null;var o=/^\s*class\b/,a=function(e){try{var t=n.call(e);return o.test(t)}catch(r){return!1}},s=function(e){try{return!a(e)&&(n.call(e),!0)}catch(t){return!1}},l=Object.prototype.toString,u="function"===typeof Symbol&&!!Symbol.toStringTag,c=!(0 in[,]),h=function(){return!1};if("object"===typeof document){var d=document.all;l.call(d)===l.call(document.all)&&(h=function(e){if((c||!e)&&("undefined"===typeof e||"object"===typeof e))try{var t=l.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(r){}return!1})}e.exports=i?function(e){if(h(e))return!0;if(!e)return!1;if("function"!==typeof e&&"object"!==typeof e)return!1;try{i(e,null,t)}catch(n){if(n!==r)return!1}return!a(e)&&s(e)}:function(e){if(h(e))return!0;if(!e)return!1;if("function"!==typeof e&&"object"!==typeof e)return!1;if(u)return s(e);if(a(e))return!1;var t=l.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&s(e)}},2833:function(e,t,r){"use strict";var n=Date.prototype.getDay,i=Object.prototype.toString,o=r(4707)();e.exports=function(e){return"object"===typeof e&&null!==e&&(o?function(e){try{return n.call(e),!0}catch(t){return!1}}(e):"[object Date]"===i.call(e))}},242:function(e){"use strict";var t,r="function"===typeof Map&&Map.prototype?Map:null,n="function"===typeof Set&&Set.prototype?Set:null;r||(t=function(e){return!1});var i=r?Map.prototype.has:null,o=n?Set.prototype.has:null;t||i||(t=function(e){return!1}),e.exports=t||function(e){if(!e||"object"!==typeof e)return!1;try{if(i.call(e),o)try{o.call(e)}catch(t){return!0}return e instanceof r}catch(t){}return!1}},4814:function(e,t,r){"use strict";var n=Number.prototype.toString,i=Object.prototype.toString,o=r(4707)();e.exports=function(e){return"number"===typeof e||"object"===typeof e&&(o?function(e){try{return n.call(e),!0}catch(t){return!1}}(e):"[object Number]"===i.call(e))}},1146:function(e,t,r){"use strict";var n,i,o,a,s=r(4037),l=r(4707)();if(l){n=s("Object.prototype.hasOwnProperty"),i=s("RegExp.prototype.exec"),o={};var u=function(){throw o};a={toString:u,valueOf:u},"symbol"===typeof Symbol.toPrimitive&&(a[Symbol.toPrimitive]=u)}var c=s("Object.prototype.toString"),h=Object.getOwnPropertyDescriptor;e.exports=l?function(e){if(!e||"object"!==typeof e)return!1;var t=h(e,"lastIndex");if(!(t&&n(t,"value")))return!1;try{i(e,a)}catch(r){return r===o}}:function(e){return!(!e||"object"!==typeof e&&"function"!==typeof e)&&"[object RegExp]"===c(e)}},6325:function(e){"use strict";var t,r="function"===typeof Map&&Map.prototype?Map:null,n="function"===typeof Set&&Set.prototype?Set:null;n||(t=function(e){return!1});var i=r?Map.prototype.has:null,o=n?Set.prototype.has:null;t||o||(t=function(e){return!1}),e.exports=t||function(e){if(!e||"object"!==typeof e)return!1;try{if(o.call(e),i)try{i.call(e)}catch(t){return!0}return e instanceof n}catch(t){}return!1}},6195:function(e,t,r){"use strict";var n=r(4037)("SharedArrayBuffer.prototype.byteLength",!0);e.exports=n?function(e){if(!e||"object"!==typeof e)return!1;try{return n(e),!0}catch(t){return!1}}:function(e){return!1}},5038:function(e,t,r){"use strict";var n=String.prototype.valueOf,i=Object.prototype.toString,o=r(4707)();e.exports=function(e){return"string"===typeof e||"object"===typeof e&&(o?function(e){try{return n.call(e),!0}catch(t){return!1}}(e):"[object String]"===i.call(e))}},3137:function(e,t,r){"use strict";var n=Object.prototype.toString;if(r(697)()){var i=Symbol.prototype.toString,o=/^Symbol\(.*\)$/;e.exports=function(e){if("symbol"===typeof e)return!0;if("[object Symbol]"!==n.call(e))return!1;try{return function(e){return"symbol"===typeof e.valueOf()&&o.test(i.call(e))}(e)}catch(t){return!1}}}else e.exports=function(e){return!1}},6218:function(e,t,r){"use strict";var n=r(5369),i=r(306),o=r(4037),a=o("Object.prototype.toString"),s=r(4707)(),l=r(3347),u="undefined"===typeof globalThis?r.g:globalThis,c=i(),h=o("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},d=o("String.prototype.slice"),f={},p=Object.getPrototypeOf;s&&l&&p&&n(c,(function(e){var t=new u[e];if(Symbol.toStringTag in t){var r=p(t),n=l(r,Symbol.toStringTag);if(!n){var i=p(r);n=l(i,Symbol.toStringTag)}f[e]=n.get}}));e.exports=function(e){if(!e||"object"!==typeof e)return!1;if(!s||!(Symbol.toStringTag in e)){var t=d(a(e),8,-1);return h(c,t)>-1}return!!l&&function(e){var t=!1;return n(f,(function(r,n){if(!t)try{t=r.call(e)===n}catch(i){}})),t}(e)}},7517:function(e){"use strict";var t,r="function"===typeof WeakMap&&WeakMap.prototype?WeakMap:null,n="function"===typeof WeakSet&&WeakSet.prototype?WeakSet:null;r||(t=function(e){return!1});var i=r?r.prototype.has:null,o=n?n.prototype.has:null;t||i||(t=function(e){return!1}),e.exports=t||function(e){if(!e||"object"!==typeof e)return!1;try{if(i.call(e,i),o)try{o.call(e,o)}catch(t){return!0}return e instanceof r}catch(t){}return!1}},1920:function(e,t,r){"use strict";var n=r(2506),i=r(4037),o=n("%WeakSet%",!0),a=i("WeakSet.prototype.has",!0);if(a){var s=i("WeakMap.prototype.has",!0);e.exports=function(e){if(!e||"object"!==typeof e)return!1;try{if(a(e,a),s)try{s(e,s)}catch(t){return!0}return e instanceof o}catch(t){}return!1}}else e.exports=function(e){return!1}},1571:function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},5587:function(e,t,r){e.exports=function e(t,r,n){function i(a,s){if(!r[a]){if(!t[a]){if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=r[a]={exports:{}};t[a][0].call(u.exports,(function(e){return i(t[a][1][e]||e)}),u,u.exports,e,t,r,n)}return r[a].exports}for(var o=void 0,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,t,r){"use strict";var n=e("./utils"),i=e("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(e){for(var t,r,i,a,s,l,u,c=[],h=0,d=e.length,f=d,p="string"!==n.getTypeOf(e);h<e.length;)f=d-h,i=p?(t=e[h++],r=h<d?e[h++]:0,h<d?e[h++]:0):(t=e.charCodeAt(h++),r=h<d?e.charCodeAt(h++):0,h<d?e.charCodeAt(h++):0),a=t>>2,s=(3&t)<<4|r>>4,l=1<f?(15&r)<<2|i>>6:64,u=2<f?63&i:64,c.push(o.charAt(a)+o.charAt(s)+o.charAt(l)+o.charAt(u));return c.join("")},r.decode=function(e){var t,r,n,a,s,l,u=0,c=0,h="data:";if(e.substr(0,h.length)===h)throw new Error("Invalid base64 input, it looks like a data url.");var d,f=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===o.charAt(64)&&f--,e.charAt(e.length-2)===o.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=i.uint8array?new Uint8Array(0|f):new Array(0|f);u<e.length;)t=o.indexOf(e.charAt(u++))<<2|(a=o.indexOf(e.charAt(u++)))>>4,r=(15&a)<<4|(s=o.indexOf(e.charAt(u++)))>>2,n=(3&s)<<6|(l=o.indexOf(e.charAt(u++))),d[c++]=t,64!==s&&(d[c++]=r),64!==l&&(d[c++]=n);return d}},{"./support":30,"./utils":32}],2:[function(e,t,r){"use strict";var n=e("./external"),i=e("./stream/DataWorker"),o=e("./stream/Crc32Probe"),a=e("./stream/DataLengthProbe");function s(e,t,r,n,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=r,this.compression=n,this.compressedContent=i}s.prototype={getContentWorker:function(){var e=new i(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new i(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,r){return e.pipe(new o).pipe(new a("uncompressedSize")).pipe(t.compressWorker(r)).pipe(new a("compressedSize")).withStreamInfo("compression",t)},t.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,r){"use strict";var n=e("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},r.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,r){"use strict";var n=e("./utils"),i=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==n.getTypeOf(e)?function(e,t,r,n){var o=i,a=n+r;e^=-1;for(var s=n;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}(0|t,e,e.length,0):function(e,t,r,n){var o=i,a=n+r;e^=-1;for(var s=n;s<a;s++)e=e>>>8^o[255&(e^t.charCodeAt(s))];return-1^e}(0|t,e,e.length,0):0}},{"./utils":32}],5:[function(e,t,r){"use strict";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(e,t,r){"use strict";var n=null;n="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:n}},{lie:37}],7:[function(e,t,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=e("pako"),o=e("./utils"),a=e("./stream/GenericWorker"),s=n?"uint8array":"array";function l(e,t){a.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}r.magic="\b\0",o.inherits(l,a),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(s,e.data),!1)},l.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},r.compressWorker=function(e){return new l("Deflate",e)},r.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,r){"use strict";function n(e,t){var r,n="";for(r=0;r<t;r++)n+=String.fromCharCode(255&e),e>>>=8;return n}function i(e,t,r,i,a,c){var h,d,f=e.file,p=e.compression,m=c!==s.utf8encode,y=o.transformTo("string",c(f.name)),g=o.transformTo("string",s.utf8encode(f.name)),v=f.comment,b=o.transformTo("string",c(v)),x=o.transformTo("string",s.utf8encode(v)),w=g.length!==f.name.length,S=x.length!==v.length,k="",_="",j="",M=f.dir,C=f.date,P={crc32:0,compressedSize:0,uncompressedSize:0};t&&!r||(P.crc32=e.crc32,P.compressedSize=e.compressedSize,P.uncompressedSize=e.uncompressedSize);var T=0;t&&(T|=8),m||!w&&!S||(T|=2048);var E=0,O=0;M&&(E|=16),"UNIX"===a?(O=798,E|=function(e,t){var r=e;return e||(r=t?16893:33204),(65535&r)<<16}(f.unixPermissions,M)):(O=20,E|=function(e){return 63&(e||0)}(f.dosPermissions)),h=C.getUTCHours(),h<<=6,h|=C.getUTCMinutes(),h<<=5,h|=C.getUTCSeconds()/2,d=C.getUTCFullYear()-1980,d<<=4,d|=C.getUTCMonth()+1,d<<=5,d|=C.getUTCDate(),w&&(_=n(1,1)+n(l(y),4)+g,k+="up"+n(_.length,2)+_),S&&(j=n(1,1)+n(l(b),4)+x,k+="uc"+n(j.length,2)+j);var A="";return A+="\n\0",A+=n(T,2),A+=p.magic,A+=n(h,2),A+=n(d,2),A+=n(P.crc32,4),A+=n(P.compressedSize,4),A+=n(P.uncompressedSize,4),A+=n(y.length,2),A+=n(k.length,2),{fileRecord:u.LOCAL_FILE_HEADER+A+y+k,dirRecord:u.CENTRAL_FILE_HEADER+n(O,2)+A+n(b.length,2)+"\0\0\0\0"+n(E,4)+n(i,4)+y+k+b}}var o=e("../utils"),a=e("../stream/GenericWorker"),s=e("../utf8"),l=e("../crc32"),u=e("../signature");function c(e,t,r,n){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=r,this.encodeFileName=n,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(c,a),c.prototype.push=function(e){var t=e.meta.percent||0,r=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,a.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:r?(t+100*(r-n-1))/r:100}}))},c.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var r=i(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},c.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,r=i(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),t)this.push({data:function(e){return u.DATA_DESCRIPTOR+n(e.crc32,4)+n(e.compressedSize,4)+n(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},c.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var r=this.bytesWritten-e,i=function(e,t,r,i,a){var s=o.transformTo("string",a(i));return u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(e,2)+n(e,2)+n(t,4)+n(r,4)+n(s.length,2)+s}(this.dirRecords.length,r,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},c.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},c.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},c.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},c.prototype.error=function(e){var t=this._sources;if(!a.prototype.error.call(this,e))return!1;for(var r=0;r<t.length;r++)try{t[r].error(e)}catch(e){}return!0},c.prototype.lock=function(){a.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=c},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,r){"use strict";var n=e("../compressions"),i=e("./ZipFileWorker");r.generateWorker=function(e,t,r){var o=new i(t.streamFiles,r,t.platform,t.encodeFileName),a=0;try{e.forEach((function(e,r){a++;var i=function(e,t){var r=e||t,i=n[r];if(!i)throw new Error(r+" is not a valid compression method !");return i}(r.options.compression,t.compression),s=r.options.compressionOptions||t.compressionOptions||{},l=r.dir,u=r.date;r._compressWorker(i,s).withStreamInfo("file",{name:e,dir:l,date:u,comment:r.comment||"",unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions}).pipe(o)})),o.entriesCount=a}catch(e){o.error(e)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,r){"use strict";function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new n;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(n.prototype=e("./object")).loadAsync=e("./load"),n.support=e("./support"),n.defaults=e("./defaults"),n.version="3.10.1",n.loadAsync=function(e,t){return(new n).loadAsync(e,t)},n.external=e("./external"),t.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,r){"use strict";var n=e("./utils"),i=e("./external"),o=e("./utf8"),a=e("./zipEntries"),s=e("./stream/Crc32Probe"),l=e("./nodejsUtils");function u(e){return new i.Promise((function(t,r){var n=e.decompressed.getContentWorker().pipe(new s);n.on("error",(function(e){r(e)})).on("end",(function(){n.streamInfo.crc32!==e.decompressed.crc32?r(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var r=this;return t=n.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),l.isNode&&l.isStream(e)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var r=new a(t);return r.load(e),r})).then((function(e){var r=[i.Promise.resolve(e)],n=e.files;if(t.checkCRC32)for(var o=0;o<n.length;o++)r.push(u(n[o]));return i.Promise.all(r)})).then((function(e){for(var i=e.shift(),o=i.files,a=0;a<o.length;a++){var s=o[a],l=s.fileNameStr,u=n.resolve(s.fileNameStr);r.file(u,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:t.createFolders}),s.dir||(r.file(u).unsafeOriginalName=l)}return i.zipComment.length&&(r.comment=i.zipComment),r}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,r){"use strict";var n=e("../utils"),i=e("../stream/GenericWorker");function o(e,t){i.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}n.inherits(o,i),o.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},o.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,r){"use strict";var n=e("readable-stream").Readable;function i(e,t,r){n.call(this,t),this._helper=e;var i=this;e.on("data",(function(e,t){i.push(e)||i._helper.pause(),r&&r(t)})).on("error",(function(e){i.emit("error",e)})).on("end",(function(){i.push(null)}))}e("../utils").inherits(i,n),i.prototype._read=function(){this._helper.resume()},t.exports=i},{"../utils":32,"readable-stream":16}],14:[function(e,t,r){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,r){"use strict";function n(e,t,r){var n,i=o.getTypeOf(t),s=o.extend(r||{},l);s.date=s.date||new Date,null!==s.compression&&(s.compression=s.compression.toUpperCase()),"string"==typeof s.unixPermissions&&(s.unixPermissions=parseInt(s.unixPermissions,8)),s.unixPermissions&&16384&s.unixPermissions&&(s.dir=!0),s.dosPermissions&&16&s.dosPermissions&&(s.dir=!0),s.dir&&(e=m(e)),s.createFolders&&(n=p(e))&&y.call(this,n,!0);var h="string"===i&&!1===s.binary&&!1===s.base64;r&&void 0!==r.binary||(s.binary=!h),(t instanceof u&&0===t.uncompressedSize||s.dir||!t||0===t.length)&&(s.base64=!1,s.binary=!0,t="",s.compression="STORE",i="string");var g=null;g=t instanceof u||t instanceof a?t:d.isNode&&d.isStream(t)?new f(e,t):o.prepareContent(e,t,s.binary,s.optimizedBinaryString,s.base64);var v=new c(e,g,s);this.files[e]=v}var i=e("./utf8"),o=e("./utils"),a=e("./stream/GenericWorker"),s=e("./stream/StreamHelper"),l=e("./defaults"),u=e("./compressedObject"),c=e("./zipObject"),h=e("./generate"),d=e("./nodejsUtils"),f=e("./nodejs/NodejsStreamInputAdapter"),p=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},m=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},y=function(e,t){return t=void 0!==t?t:l.createFolders,e=m(e),this.files[e]||n.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function g(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,r,n;for(t in this.files)n=this.files[t],(r=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(r,n)},filter:function(e){var t=[];return this.forEach((function(r,n){e(r,n)&&t.push(n)})),t},file:function(e,t,r){if(1!==arguments.length)return e=this.root+e,n.call(this,e,t,r),this;if(g(e)){var i=e;return this.filter((function(e,t){return!t.dir&&i.test(e)}))}var o=this.files[this.root+e];return o&&!o.dir?o:null},folder:function(e){if(!e)return this;if(g(e))return this.filter((function(t,r){return r.dir&&e.test(t)}));var t=this.root+e,r=y.call(this,t),n=this.clone();return n.root=r.name,n},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var r=this.filter((function(t,r){return r.name.slice(0,e.length)===e})),n=0;n<r.length;n++)delete this.files[r[n].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,r={};try{if((r=o.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),"binarystring"===r.type&&(r.type="string"),!r.type)throw new Error("No output type specified.");o.checkSupport(r.type),"darwin"!==r.platform&&"freebsd"!==r.platform&&"linux"!==r.platform&&"sunos"!==r.platform||(r.platform="UNIX"),"win32"===r.platform&&(r.platform="DOS");var n=r.comment||this.comment||"";t=h.generateWorker(this,r,n)}catch(e){(t=new a("error")).error(e)}return new s(t,r.type||"string",r.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=v},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,r){"use strict";t.exports=e("stream")},{stream:void 0}],17:[function(e,t,r){"use strict";var n=e("./DataReader");function i(e){n.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(i,n),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),o=this.length-4;0<=o;--o)if(this.data[o]===t&&this.data[o+1]===r&&this.data[o+2]===n&&this.data[o+3]===i)return o-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&r===o[1]&&n===o[2]&&i===o[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],18:[function(e,t,r){"use strict";var n=e("../utils");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,r=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)r=(r<<8)+this.byteAt(t);return this.index+=e,r},readString:function(e){return n.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{"../utils":32}],19:[function(e,t,r){"use strict";var n=e("./Uint8ArrayReader");function i(e){n.call(this,e)}e("../utils").inherits(i,n),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,r){"use strict";var n=e("./DataReader");function i(e){n.call(this,e)}e("../utils").inherits(i,n),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],21:[function(e,t,r){"use strict";var n=e("./ArrayReader");function i(e){n.call(this,e)}e("../utils").inherits(i,n),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,r){"use strict";var n=e("../utils"),i=e("../support"),o=e("./ArrayReader"),a=e("./StringReader"),s=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=n.getTypeOf(e);return n.checkSupport(t),"string"!==t||i.uint8array?"nodebuffer"===t?new s(e):i.uint8array?new l(n.transformTo("uint8array",e)):new o(n.transformTo("array",e)):new a(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,r){"use strict";r.LOCAL_FILE_HEADER="PK\x03\x04",r.CENTRAL_FILE_HEADER="PK\x01\x02",r.CENTRAL_DIRECTORY_END="PK\x05\x06",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,t,r){"use strict";var n=e("./GenericWorker"),i=e("../utils");function o(e){n.call(this,"ConvertWorker to "+e),this.destType=e}i.inherits(o,n),o.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,r){"use strict";var n=e("./GenericWorker"),i=e("../crc32");function o(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(o,n),o.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,r){"use strict";var n=e("../utils"),i=e("./GenericWorker");function o(e){i.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}n.inherits(o,i),o.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,r){"use strict";var n=e("../utils"),i=e("./GenericWorker");function o(e){i.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=n.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}n.inherits(o,i),o.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,r){"use strict";function n(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var r=0;r<this._listeners[e].length;r++)this._listeners[e][r].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=n},{}],29:[function(e,t,r){"use strict";var n=e("../utils"),i=e("./ConvertWorker"),o=e("./GenericWorker"),a=e("../base64"),s=e("../support"),l=e("../external"),u=null;if(s.nodestream)try{u=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function c(e,t){return new l.Promise((function(r,i){var o=[],s=e._internalType,l=e._outputType,u=e._mimeType;e.on("data",(function(e,r){o.push(e),t&&t(r)})).on("error",(function(e){o=[],i(e)})).on("end",(function(){try{var e=function(e,t,r){switch(e){case"blob":return n.newBlob(n.transformTo("arraybuffer",t),r);case"base64":return a.encode(t);default:return n.transformTo(e,t)}}(l,function(e,t){var r,n=0,i=null,o=0;for(r=0;r<t.length;r++)o+=t[r].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(i=new Uint8Array(o),r=0;r<t.length;r++)i.set(t[r],n),n+=t[r].length;return i;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(s,o),u);r(e)}catch(e){i(e)}o=[]})).resume()}))}function h(e,t,r){var a=t;switch(t){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=t,this._mimeType=r,n.checkSupport(a),this._worker=e.pipe(new i(a)),e.lock()}catch(e){this._worker=new o("error"),this._worker.error(e)}}h.prototype={accumulate:function(e){return c(this,e)},on:function(e,t){var r=this;return"data"===e?this._worker.on(e,(function(e){t.call(r,e.data,e.meta)})):this._worker.on(e,(function(){n.delay(t,arguments,r)})),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(n.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,r){"use strict";if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,r.nodebuffer="undefined"!=typeof Buffer,r.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)r.blob=!1;else{var n=new ArrayBuffer(0);try{r.blob=0===new Blob([n],{type:"application/zip"}).size}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(n),r.blob=0===i.getBlob("application/zip").size}catch(e){r.blob=!1}}}try{r.nodestream=!!e("readable-stream").Readable}catch(e){r.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,r){"use strict";for(var n=e("./utils"),i=e("./support"),o=e("./nodejsUtils"),a=e("./stream/GenericWorker"),s=new Array(256),l=0;l<256;l++)s[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function u(){a.call(this,"utf-8 decode"),this.leftOver=null}function c(){a.call(this,"utf-8 encode")}s[254]=s[254]=1,r.utf8encode=function(e){return i.nodebuffer?o.newBufferFrom(e,"utf-8"):function(e){var t,r,n,o,a,s=e.length,l=0;for(o=0;o<s;o++)55296==(64512&(r=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(n=e.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(n-56320),o++),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=i.uint8array?new Uint8Array(l):new Array(l),o=a=0;a<l;o++)55296==(64512&(r=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(n=e.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(n-56320),o++),r<128?t[a++]=r:(r<2048?t[a++]=192|r>>>6:(r<65536?t[a++]=224|r>>>12:(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63),t[a++]=128|r>>>6&63),t[a++]=128|63&r);return t}(e)},r.utf8decode=function(e){return i.nodebuffer?n.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,r,i,o,a=e.length,l=new Array(2*a);for(t=r=0;t<a;)if((i=e[t++])<128)l[r++]=i;else if(4<(o=s[i]))l[r++]=65533,t+=o-1;else{for(i&=2===o?31:3===o?15:7;1<o&&t<a;)i=i<<6|63&e[t++],o--;1<o?l[r++]=65533:i<65536?l[r++]=i:(i-=65536,l[r++]=55296|i>>10&1023,l[r++]=56320|1023&i)}return l.length!==r&&(l.subarray?l=l.subarray(0,r):l.length=r),n.applyFromCharCode(l)}(e=n.transformTo(i.uint8array?"uint8array":"array",e))},n.inherits(u,a),u.prototype.processChunk=function(e){var t=n.transformTo(i.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var o=t;(t=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),t.set(o,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var a=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return r<0||0===r?t:r+s[e[r]]>t?r:t}(t),l=t;a!==t.length&&(i.uint8array?(l=t.subarray(0,a),this.leftOver=t.subarray(a,t.length)):(l=t.slice(0,a),this.leftOver=t.slice(a,t.length))),this.push({data:r.utf8decode(l),meta:e.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=u,n.inherits(c,a),c.prototype.processChunk=function(e){this.push({data:r.utf8encode(e.data),meta:e.meta})},r.Utf8EncodeWorker=c},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,r){"use strict";var n=e("./support"),i=e("./base64"),o=e("./nodejsUtils"),a=e("./external");function s(e){return e}function l(e,t){for(var r=0;r<e.length;++r)t[r]=255&e.charCodeAt(r);return t}e("setimmediate"),r.newBlob=function(t,n){r.checkSupport("blob");try{return new Blob([t],{type:n})}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(t),i.getBlob(n)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(e,t,r){var n=[],i=0,o=e.length;if(o<=r)return String.fromCharCode.apply(null,e);for(;i<o;)"array"===t||"nodebuffer"===t?n.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+r,o)))):n.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+r,o)))),i+=r;return n.join("")},stringifyByChar:function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(e){return!1}}()}};function c(e){var t=65536,n=r.getTypeOf(e),i=!0;if("uint8array"===n?i=u.applyCanBeUsed.uint8array:"nodebuffer"===n&&(i=u.applyCanBeUsed.nodebuffer),i)for(;1<t;)try{return u.stringifyByChunk(e,n,t)}catch(e){t=Math.floor(t/2)}return u.stringifyByChar(e)}function h(e,t){for(var r=0;r<e.length;r++)t[r]=e[r];return t}r.applyFromCharCode=c;var d={};d.string={string:s,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return d.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,o.allocBuffer(e.length))}},d.array={string:c,array:s,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(e)}},d.arraybuffer={string:function(e){return c(new Uint8Array(e))},array:function(e){return h(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:s,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(new Uint8Array(e))}},d.uint8array={string:c,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:s,nodebuffer:function(e){return o.newBufferFrom(e)}},d.nodebuffer={string:c,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return d.nodebuffer.uint8array(e).buffer},uint8array:function(e){return h(e,new Uint8Array(e.length))},nodebuffer:s},r.transformTo=function(e,t){if(t=t||"",!e)return t;r.checkSupport(e);var n=r.getTypeOf(t);return d[n][e](t)},r.resolve=function(e){for(var t=e.split("/"),r=[],n=0;n<t.length;n++){var i=t[n];"."===i||""===i&&0!==n&&n!==t.length-1||(".."===i?r.pop():r.push(i))}return r.join("/")},r.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":n.nodebuffer&&o.isBuffer(e)?"nodebuffer":n.uint8array&&e instanceof Uint8Array?"uint8array":n.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(e){if(!n[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(e){var t,r,n="";for(r=0;r<(e||"").length;r++)n+="\\x"+((t=e.charCodeAt(r))<16?"0":"")+t.toString(16).toUpperCase();return n},r.delay=function(e,t,r){setImmediate((function(){e.apply(r||null,t||[])}))},r.inherits=function(e,t){function r(){}r.prototype=t.prototype,e.prototype=new r},r.extend=function(){var e,t,r={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===r[t]&&(r[t]=arguments[e][t]);return r},r.prepareContent=function(e,t,o,s,u){return a.Promise.resolve(t).then((function(e){return n.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new a.Promise((function(t,r){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.onerror=function(e){r(e.target.error)},n.readAsArrayBuffer(e)})):e})).then((function(t){var c=r.getTypeOf(t);return c?("arraybuffer"===c?t=r.transformTo("uint8array",t):"string"===c&&(u?t=i.decode(t):o&&!0!==s&&(t=function(e){return l(e,n.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):a.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,r){"use strict";var n=e("./reader/readerFor"),i=e("./utils"),o=e("./signature"),a=e("./zipEntry"),s=e("./support");function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(t)+", expected "+i.pretty(e)+")")}},isSignature:function(e,t){var r=this.reader.index;this.reader.setIndex(e);var n=this.reader.readString(4)===t;return this.reader.setIndex(r),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",r=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,r,n=this.zip64EndOfCentralSize-44;0<n;)e=this.reader.readInt(2),t=this.reader.readInt(4),r=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var n=t-r;if(0<n)this.isSignature(t,o.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")},prepareReader:function(e){this.reader=n(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,r){"use strict";var n=e("./reader/readerFor"),i=e("./utils"),o=e("./compressedObject"),a=e("./crc32"),s=e("./utf8"),l=e("./compressions"),u=e("./support");function c(e,t){this.options=e,this.loadOptions=t}c.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,r;if(e.skip(22),this.fileNameLength=e.readInt(2),r=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(Object.prototype.hasOwnProperty.call(l,t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=n(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,r,n,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<i;)t=e.readInt(2),r=e.readInt(2),n=e.readData(r),this.extraFields[t]={id:t,length:r,value:n};e.setIndex(i)},handleUTF8:function(){var e=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var r=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var o=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=n(e.value);return 1!==t.readInt(1)||a(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=n(e.value);return 1!==t.readInt(1)||a(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},t.exports=c},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,r){"use strict";function n(e,t,r){this.name=e,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=t,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}}var i=e("./stream/StreamHelper"),o=e("./stream/DataWorker"),a=e("./utf8"),s=e("./compressedObject"),l=e("./stream/GenericWorker");n.prototype={internalStream:function(e){var t=null,r="string";try{if(!e)throw new Error("No output type specified.");var n="string"===(r=e.toLowerCase())||"text"===r;"binarystring"!==r&&"text"!==r||(r="string"),t=this._decompressWorker();var o=!this._dataBinary;o&&!n&&(t=t.pipe(new a.Utf8EncodeWorker)),!o&&n&&(t=t.pipe(new a.Utf8DecodeWorker))}catch(e){(t=new l("error")).error(e)}return new i(t,r,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof s&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new a.Utf8EncodeWorker)),s.createWorkerFrom(r,e,t)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof l?this._data:new o(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<u.length;h++)n.prototype[u[h]]=c;t.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,n){(function(e){"use strict";var r,n,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var o=0,a=new i(c),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),r=function(){s.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)r="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){c(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(c,0)};else{var l=new e.MessageChannel;l.port1.onmessage=c,r=function(){l.port2.postMessage(0)}}var u=[];function c(){var e,t;n=!0;for(var r=u.length;r;){for(t=u,u=[],e=-1;++e<r;)t[e]();r=u.length}n=!1}t.exports=function(e){1!==u.push(e)||n||r()}}).call(this,"undefined"!=typeof r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,r){"use strict";var n=e("immediate");function i(){}var o={},a=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function u(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==i&&f(this,e)}function c(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function h(e,t,r){n((function(){var n;try{n=t(r)}catch(n){return o.reject(e,n)}n===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,n)}))}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function f(e,t){var r=!1;function n(t){r||(r=!0,o.reject(e,t))}function i(t){r||(r=!0,o.resolve(e,t))}var a=p((function(){t(i,n)}));"error"===a.status&&n(a.value)}function p(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}(t.exports=u).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(r){return t.resolve(e()).then((function(){return r}))}),(function(r){return t.resolve(e()).then((function(){throw r}))}))},u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var r=new this.constructor(i);return this.state!==l?h(r,this.state===s?e:t,this.outcome):this.queue.push(new c(r,e,t)),r},c.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},c.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},c.prototype.callRejected=function(e){o.reject(this.promise,e)},c.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},o.resolve=function(e,t){var r=p(d,t);if("error"===r.status)return o.reject(e,r.value);var n=r.value;if(n)f(e,n);else{e.state=s,e.outcome=t;for(var i=-1,a=e.queue.length;++i<a;)e.queue[i].callFulfilled(t)}return e},o.reject=function(e,t){e.state=a,e.outcome=t;for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e},u.resolve=function(e){return e instanceof this?e:o.resolve(new this(i),e)},u.reject=function(e){var t=new this(i);return o.reject(t,e)},u.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);for(var a=new Array(r),s=0,l=-1,u=new this(i);++l<r;)c(e[l],l);return u;function c(e,i){t.resolve(e).then((function(e){a[i]=e,++s!==r||n||(n=!0,o.resolve(u,a))}),(function(e){n||(n=!0,o.reject(u,e))}))}},u.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);for(var a,s=-1,l=new this(i);++s<r;)a=e[s],t.resolve(a).then((function(e){n||(n=!0,o.resolve(l,e))}),(function(e){n||(n=!0,o.reject(l,e))}));return l}},{immediate:36}],38:[function(e,t,r){"use strict";var n={};(0,e("./lib/utils/common").assign)(n,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,r){"use strict";var n=e("./zlib/deflate"),i=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/messages"),s=e("./zlib/zstream"),l=Object.prototype.toString,u=0,c=-1,h=0,d=8;function f(e){if(!(this instanceof f))return new f(e);this.options=i.assign({level:c,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var r=n.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==u)throw new Error(a[r]);if(t.header&&n.deflateSetHeader(this.strm,t.header),t.dictionary){var p;if(p="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(r=n.deflateSetDictionary(this.strm,p))!==u)throw new Error(a[r]);this._dict_set=!0}}function p(e,t){var r=new f(t);if(r.push(e,!0),r.err)throw r.msg||a[r.err];return r.result}f.prototype.push=function(e,t){var r,a,s=this.strm,c=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=o.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(c),s.next_out=0,s.avail_out=c),1!==(r=n.deflate(s,a))&&r!==u)return this.onEnd(r),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==r);return 4===a?(r=n.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===u):2!==a||(this.onEnd(u),!(s.avail_out=0))},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===u&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Deflate=f,r.deflate=p,r.deflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},r.gzip=function(e,t){return(t=t||{}).gzip=!0,p(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,r){"use strict";var n=e("./zlib/inflate"),i=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/constants"),s=e("./zlib/messages"),l=e("./zlib/zstream"),u=e("./zlib/gzheader"),c=Object.prototype.toString;function h(e){if(!(this instanceof h))return new h(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var r=n.inflateInit2(this.strm,t.windowBits);if(r!==a.Z_OK)throw new Error(s[r]);this.header=new u,n.inflateGetHeader(this.strm,this.header)}function d(e,t){var r=new h(t);if(r.push(e,!0),r.err)throw r.msg||s[r.err];return r.result}h.prototype.push=function(e,t){var r,s,l,u,h,d,f=this.strm,p=this.options.chunkSize,m=this.options.dictionary,y=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?f.input=o.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?f.input=new Uint8Array(e):f.input=e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new i.Buf8(p),f.next_out=0,f.avail_out=p),(r=n.inflate(f,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&m&&(d="string"==typeof m?o.string2buf(m):"[object ArrayBuffer]"===c.call(m)?new Uint8Array(m):m,r=n.inflateSetDictionary(this.strm,d)),r===a.Z_BUF_ERROR&&!0===y&&(r=a.Z_OK,y=!1),r!==a.Z_STREAM_END&&r!==a.Z_OK)return this.onEnd(r),!(this.ended=!0);f.next_out&&(0!==f.avail_out&&r!==a.Z_STREAM_END&&(0!==f.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(l=o.utf8border(f.output,f.next_out),u=f.next_out-l,h=o.buf2string(f.output,l),f.next_out=u,f.avail_out=p-u,u&&i.arraySet(f.output,f.output,l,u,0),this.onData(h)):this.onData(i.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(y=!0)}while((0<f.avail_in||0===f.avail_out)&&r!==a.Z_STREAM_END);return r===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(r=n.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(f.avail_out=0))},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Inflate=h,r.inflate=d,r.inflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},r.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;r.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])}}return e},r.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),i);else for(var o=0;o<n;o++)e[i+o]=t[r+o]},flattenChunks:function(e){var t,r,n,i,o,a;for(t=n=0,r=e.length;t<r;t++)n+=e[t].length;for(a=new Uint8Array(n),t=i=0,r=e.length;t<r;t++)o=e[t],a.set(o,i),i+=o.length;return a}},o={arraySet:function(e,t,r,n,i){for(var o=0;o<n;o++)e[i+o]=t[r+o]},flattenChunks:function(e){return[].concat.apply([],e)}};r.setTyped=function(e){e?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,i)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,o))},r.setTyped(n)},{}],42:[function(e,t,r){"use strict";var n=e("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var a=new n.Buf8(256),s=0;s<256;s++)a[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function l(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(e,t));for(var r="",a=0;a<t;a++)r+=String.fromCharCode(e[a]);return r}a[254]=a[254]=1,r.string2buf=function(e){var t,r,i,o,a,s=e.length,l=0;for(o=0;o<s;o++)55296==(64512&(r=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(i-56320),o++),l+=r<128?1:r<2048?2:r<65536?3:4;for(t=new n.Buf8(l),o=a=0;a<l;o++)55296==(64512&(r=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(i-56320),o++),r<128?t[a++]=r:(r<2048?t[a++]=192|r>>>6:(r<65536?t[a++]=224|r>>>12:(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63),t[a++]=128|r>>>6&63),t[a++]=128|63&r);return t},r.buf2binstring=function(e){return l(e,e.length)},r.binstring2buf=function(e){for(var t=new n.Buf8(e.length),r=0,i=t.length;r<i;r++)t[r]=e.charCodeAt(r);return t},r.buf2string=function(e,t){var r,n,i,o,s=t||e.length,u=new Array(2*s);for(r=n=0;r<s;)if((i=e[r++])<128)u[n++]=i;else if(4<(o=a[i]))u[n++]=65533,r+=o-1;else{for(i&=2===o?31:3===o?15:7;1<o&&r<s;)i=i<<6|63&e[r++],o--;1<o?u[n++]=65533:i<65536?u[n++]=i:(i-=65536,u[n++]=55296|i>>10&1023,u[n++]=56320|1023&i)}return l(u,n)},r.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return r<0||0===r?t:r+a[e[r]]>t?r:t}},{"./common":41}],43:[function(e,t,r){"use strict";t.exports=function(e,t,r,n){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==r;){for(r-=a=2e3<r?2e3:r;o=o+(i=i+t[n++]|0)|0,--a;);i%=65521,o%=65521}return i|o<<16|0}},{}],44:[function(e,t,r){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,r){"use strict";var n=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t,r,i){var o=n,a=i+r;e^=-1;for(var s=i;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}},{}],46:[function(e,t,r){"use strict";var n,i=e("../utils/common"),o=e("./trees"),a=e("./adler32"),s=e("./crc32"),l=e("./messages"),u=0,c=4,h=0,d=-2,f=-1,p=4,m=2,y=8,g=9,v=286,b=30,x=19,w=2*v+1,S=15,k=3,_=258,j=_+k+1,M=42,C=113,P=1,T=2,E=3,O=4;function A(e,t){return e.msg=l[t],t}function L(e){return(e<<1)-(4<e?9:0)}function N(e){for(var t=e.length;0<=--t;)e[t]=0}function R(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(i.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function D(e,t){o._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,R(e.strm)}function I(e,t){e.pending_buf[e.pending++]=t}function F(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function B(e,t){var r,n,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-j?e.strstart-(e.w_size-j):0,u=e.window,c=e.w_mask,h=e.prev,d=e.strstart+_,f=u[o+a-1],p=u[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(r=t)+a]===p&&u[r+a-1]===f&&u[r]===u[o]&&u[++r]===u[o+1]){o+=2,r++;do{}while(u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&o<d);if(n=_-(d-o),o=d-_,a<n){if(e.match_start=t,s<=(a=n))break;f=u[o+a-1],p=u[o+a]}}}while((t=h[t&c])>l&&0!=--i);return a<=e.lookahead?a:e.lookahead}function U(e){var t,r,n,o,l,u,c,h,d,f,p=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-j)){for(i.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=r=e.hash_size;n=e.head[--t],e.head[t]=p<=n?n-p:0,--r;);for(t=r=p;n=e.prev[--t],e.prev[t]=p<=n?n-p:0,--r;);o+=p}if(0===e.strm.avail_in)break;if(u=e.strm,c=e.window,h=e.strstart+e.lookahead,f=void 0,(d=o)<(f=u.avail_in)&&(f=d),r=0===f?0:(u.avail_in-=f,i.arraySet(c,u.input,u.next_in,f,h),1===u.state.wrap?u.adler=a(u.adler,c,f,h):2===u.state.wrap&&(u.adler=s(u.adler,c,f,h)),u.next_in+=f,u.total_in+=f,f),e.lookahead+=r,e.lookahead+e.insert>=k)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+k-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<k)););}while(e.lookahead<j&&0!==e.strm.avail_in)}function z(e,t){for(var r,n;;){if(e.lookahead<j){if(U(e),e.lookahead<j&&t===u)return P;if(0===e.lookahead)break}if(r=0,e.lookahead>=k&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-j&&(e.match_length=B(e,r)),e.match_length>=k)if(n=o._tr_tally(e,e.strstart-e.match_start,e.match_length-k),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=k){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(D(e,!1),0===e.strm.avail_out))return P}return e.insert=e.strstart<k-1?e.strstart:k-1,t===c?(D(e,!0),0===e.strm.avail_out?E:O):e.last_lit&&(D(e,!1),0===e.strm.avail_out)?P:T}function q(e,t){for(var r,n,i;;){if(e.lookahead<j){if(U(e),e.lookahead<j&&t===u)return P;if(0===e.lookahead)break}if(r=0,e.lookahead>=k&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=k-1,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-j&&(e.match_length=B(e,r),e.match_length<=5&&(1===e.strategy||e.match_length===k&&4096<e.strstart-e.match_start)&&(e.match_length=k-1)),e.prev_length>=k&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-k,n=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-k),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=k-1,e.strstart++,n&&(D(e,!1),0===e.strm.avail_out))return P}else if(e.match_available){if((n=o._tr_tally(e,0,e.window[e.strstart-1]))&&D(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return P}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<k-1?e.strstart:k-1,t===c?(D(e,!0),0===e.strm.avail_out?E:O):e.last_lit&&(D(e,!1),0===e.strm.avail_out)?P:T}function G(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}function V(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*w),this.dyn_dtree=new i.Buf16(2*(2*b+1)),this.bl_tree=new i.Buf16(2*(2*x+1)),N(this.dyn_ltree),N(this.dyn_dtree),N(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(S+1),this.heap=new i.Buf16(2*v+1),N(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*v+1),N(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function H(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=m,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?M:C,e.adler=2===t.wrap?0:1,t.last_flush=u,o._tr_init(t),h):A(e,d)}function W(e){var t=H(e);return t===h&&function(e){e.window_size=2*e.w_size,N(e.head),e.max_lazy_match=n[e.level].max_lazy,e.good_match=n[e.level].good_length,e.nice_match=n[e.level].nice_length,e.max_chain_length=n[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=k-1,e.match_available=0,e.ins_h=0}(e.state),t}function X(e,t,r,n,o,a){if(!e)return d;var s=1;if(t===f&&(t=6),n<0?(s=0,n=-n):15<n&&(s=2,n-=16),o<1||g<o||r!==y||n<8||15<n||t<0||9<t||a<0||p<a)return A(e,d);8===n&&(n=9);var l=new V;return(e.state=l).strm=e,l.wrap=s,l.gzhead=null,l.w_bits=n,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+k-1)/k),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=r,W(e)}n=[new G(0,0,0,0,(function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(U(e),0===e.lookahead&&t===u)return P;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,D(e,!1),0===e.strm.avail_out))return P;if(e.strstart-e.block_start>=e.w_size-j&&(D(e,!1),0===e.strm.avail_out))return P}return e.insert=0,t===c?(D(e,!0),0===e.strm.avail_out?E:O):(e.strstart>e.block_start&&(D(e,!1),e.strm.avail_out),P)})),new G(4,4,8,4,z),new G(4,5,16,8,z),new G(4,6,32,32,z),new G(4,4,16,16,q),new G(8,16,32,32,q),new G(8,16,128,128,q),new G(8,32,128,256,q),new G(32,128,258,1024,q),new G(32,258,258,4096,q)],r.deflateInit=function(e,t){return X(e,t,y,15,8,0)},r.deflateInit2=X,r.deflateReset=W,r.deflateResetKeep=H,r.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?d:(e.state.gzhead=t,h):d},r.deflate=function(e,t){var r,i,a,l;if(!e||!e.state||5<t||t<0)return e?A(e,d):d;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&t!==c)return A(e,0===e.avail_out?-5:d);if(i.strm=e,r=i.last_flush,i.last_flush=t,i.status===M)if(2===i.wrap)e.adler=0,I(i,31),I(i,139),I(i,8),i.gzhead?(I(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),I(i,255&i.gzhead.time),I(i,i.gzhead.time>>8&255),I(i,i.gzhead.time>>16&255),I(i,i.gzhead.time>>24&255),I(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),I(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(I(i,255&i.gzhead.extra.length),I(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(I(i,0),I(i,0),I(i,0),I(i,0),I(i,0),I(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),I(i,3),i.status=C);else{var f=y+(i.w_bits-8<<4)<<8;f|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(f|=32),f+=31-f%31,i.status=C,F(i,f),0!==i.strstart&&(F(i,e.adler>>>16),F(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),R(e),a=i.pending,i.pending!==i.pending_buf_size));)I(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),R(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,I(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),R(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,I(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&R(e),i.pending+2<=i.pending_buf_size&&(I(i,255&e.adler),I(i,e.adler>>8&255),e.adler=0,i.status=C)):i.status=C),0!==i.pending){if(R(e),0===e.avail_out)return i.last_flush=-1,h}else if(0===e.avail_in&&L(t)<=L(r)&&t!==c)return A(e,-5);if(666===i.status&&0!==e.avail_in)return A(e,-5);if(0!==e.avail_in||0!==i.lookahead||t!==u&&666!==i.status){var p=2===i.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(U(e),0===e.lookahead)){if(t===u)return P;break}if(e.match_length=0,r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(D(e,!1),0===e.strm.avail_out))return P}return e.insert=0,t===c?(D(e,!0),0===e.strm.avail_out?E:O):e.last_lit&&(D(e,!1),0===e.strm.avail_out)?P:T}(i,t):3===i.strategy?function(e,t){for(var r,n,i,a,s=e.window;;){if(e.lookahead<=_){if(U(e),e.lookahead<=_&&t===u)return P;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=k&&0<e.strstart&&(n=s[i=e.strstart-1])===s[++i]&&n===s[++i]&&n===s[++i]){a=e.strstart+_;do{}while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<a);e.match_length=_-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=k?(r=o._tr_tally(e,1,e.match_length-k),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(D(e,!1),0===e.strm.avail_out))return P}return e.insert=0,t===c?(D(e,!0),0===e.strm.avail_out?E:O):e.last_lit&&(D(e,!1),0===e.strm.avail_out)?P:T}(i,t):n[i.level].func(i,t);if(p!==E&&p!==O||(i.status=666),p===P||p===E)return 0===e.avail_out&&(i.last_flush=-1),h;if(p===T&&(1===t?o._tr_align(i):5!==t&&(o._tr_stored_block(i,0,0,!1),3===t&&(N(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),R(e),0===e.avail_out))return i.last_flush=-1,h}return t!==c?h:i.wrap<=0?1:(2===i.wrap?(I(i,255&e.adler),I(i,e.adler>>8&255),I(i,e.adler>>16&255),I(i,e.adler>>24&255),I(i,255&e.total_in),I(i,e.total_in>>8&255),I(i,e.total_in>>16&255),I(i,e.total_in>>24&255)):(F(i,e.adler>>>16),F(i,65535&e.adler)),R(e),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?h:1)},r.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==M&&69!==t&&73!==t&&91!==t&&103!==t&&t!==C&&666!==t?A(e,d):(e.state=null,t===C?A(e,-3):h):d},r.deflateSetDictionary=function(e,t){var r,n,o,s,l,u,c,f,p=t.length;if(!e||!e.state)return d;if(2===(s=(r=e.state).wrap)||1===s&&r.status!==M||r.lookahead)return d;for(1===s&&(e.adler=a(e.adler,t,p,0)),r.wrap=0,p>=r.w_size&&(0===s&&(N(r.head),r.strstart=0,r.block_start=0,r.insert=0),f=new i.Buf8(r.w_size),i.arraySet(f,t,p-r.w_size,r.w_size,0),t=f,p=r.w_size),l=e.avail_in,u=e.next_in,c=e.input,e.avail_in=p,e.next_in=0,e.input=t,U(r);r.lookahead>=k;){for(n=r.strstart,o=r.lookahead-(k-1);r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+k-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++,--o;);r.strstart=n,r.lookahead=k-1,U(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=k-1,r.match_available=0,e.next_in=u,e.input=c,e.avail_in=l,r.wrap=s,h},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,r){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,r){"use strict";t.exports=function(e,t){var r,n,i,o,a,s,l,u,c,h,d,f,p,m,y,g,v,b,x,w,S,k,_,j,M;r=e.state,n=e.next_in,j=e.input,i=n+(e.avail_in-5),o=e.next_out,M=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),l=r.dmax,u=r.wsize,c=r.whave,h=r.wnext,d=r.window,f=r.hold,p=r.bits,m=r.lencode,y=r.distcode,g=(1<<r.lenbits)-1,v=(1<<r.distbits)-1;e:do{p<15&&(f+=j[n++]<<p,p+=8,f+=j[n++]<<p,p+=8),b=m[f&g];t:for(;;){if(f>>>=x=b>>>24,p-=x,0===(x=b>>>16&255))M[o++]=65535&b;else{if(!(16&x)){if(0==(64&x)){b=m[(65535&b)+(f&(1<<x)-1)];continue t}if(32&x){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}w=65535&b,(x&=15)&&(p<x&&(f+=j[n++]<<p,p+=8),w+=f&(1<<x)-1,f>>>=x,p-=x),p<15&&(f+=j[n++]<<p,p+=8,f+=j[n++]<<p,p+=8),b=y[f&v];r:for(;;){if(f>>>=x=b>>>24,p-=x,!(16&(x=b>>>16&255))){if(0==(64&x)){b=y[(65535&b)+(f&(1<<x)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(S=65535&b,p<(x&=15)&&(f+=j[n++]<<p,(p+=8)<x&&(f+=j[n++]<<p,p+=8)),l<(S+=f&(1<<x)-1)){e.msg="invalid distance too far back",r.mode=30;break e}if(f>>>=x,p-=x,(x=o-a)<S){if(c<(x=S-x)&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(_=d,(k=0)===h){if(k+=u-x,x<w){for(w-=x;M[o++]=d[k++],--x;);k=o-S,_=M}}else if(h<x){if(k+=u+h-x,(x-=h)<w){for(w-=x;M[o++]=d[k++],--x;);if(k=0,h<w){for(w-=x=h;M[o++]=d[k++],--x;);k=o-S,_=M}}}else if(k+=h-x,x<w){for(w-=x;M[o++]=d[k++],--x;);k=o-S,_=M}for(;2<w;)M[o++]=_[k++],M[o++]=_[k++],M[o++]=_[k++],w-=3;w&&(M[o++]=_[k++],1<w&&(M[o++]=_[k++]))}else{for(k=o-S;M[o++]=M[k++],M[o++]=M[k++],M[o++]=M[k++],2<(w-=3););w&&(M[o++]=M[k++],1<w&&(M[o++]=M[k++]))}break}}break}}while(n<i&&o<s);n-=w=p>>3,f&=(1<<(p-=w<<3))-1,e.next_in=n,e.next_out=o,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=o<s?s-o+257:257-(o-s),r.hold=f,r.bits=p}},{}],49:[function(e,t,r){"use strict";var n=e("../utils/common"),i=e("./adler32"),o=e("./crc32"),a=e("./inffast"),s=e("./inftrees"),l=1,u=2,c=0,h=-2,d=1,f=852,p=592;function m(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function g(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=d,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new n.Buf32(f),t.distcode=t.distdyn=new n.Buf32(p),t.sane=1,t.back=-1,c):h}function v(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,g(e)):h}function b(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?h:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,v(e))):h}function x(e,t){var r,n;return e?(n=new y,(e.state=n).window=null,(r=b(e,t))!==c&&(e.state=null),r):h}var w,S,k=!0;function _(e){if(k){var t;for(w=new n.Buf32(512),S=new n.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(l,e.lens,0,288,w,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(u,e.lens,0,32,S,0,e.work,{bits:5}),k=!1}e.lencode=w,e.lenbits=9,e.distcode=S,e.distbits=5}function j(e,t,r,i){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new n.Buf8(a.wsize)),i>=a.wsize?(n.arraySet(a.window,t,r-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(i<(o=a.wsize-a.wnext)&&(o=i),n.arraySet(a.window,t,r-i,o,a.wnext),(i-=o)?(n.arraySet(a.window,t,r-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}r.inflateReset=v,r.inflateReset2=b,r.inflateResetKeep=g,r.inflateInit=function(e){return x(e,15)},r.inflateInit2=x,r.inflate=function(e,t){var r,f,p,y,g,v,b,x,w,S,k,M,C,P,T,E,O,A,L,N,R,D,I,F,B=0,U=new n.Buf8(4),z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return h;12===(r=e.state).mode&&(r.mode=13),g=e.next_out,p=e.output,b=e.avail_out,y=e.next_in,f=e.input,v=e.avail_in,x=r.hold,w=r.bits,S=v,k=b,D=c;e:for(;;)switch(r.mode){case d:if(0===r.wrap){r.mode=13;break}for(;w<16;){if(0===v)break e;v--,x+=f[y++]<<w,w+=8}if(2&r.wrap&&35615===x){U[r.check=0]=255&x,U[1]=x>>>8&255,r.check=o(r.check,U,2,0),w=x=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&x)<<8)+(x>>8))%31){e.msg="incorrect header check",r.mode=30;break}if(8!=(15&x)){e.msg="unknown compression method",r.mode=30;break}if(w-=4,R=8+(15&(x>>>=4)),0===r.wbits)r.wbits=R;else if(R>r.wbits){e.msg="invalid window size",r.mode=30;break}r.dmax=1<<R,e.adler=r.check=1,r.mode=512&x?10:12,w=x=0;break;case 2:for(;w<16;){if(0===v)break e;v--,x+=f[y++]<<w,w+=8}if(r.flags=x,8!=(255&r.flags)){e.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=x>>8&1),512&r.flags&&(U[0]=255&x,U[1]=x>>>8&255,r.check=o(r.check,U,2,0)),w=x=0,r.mode=3;case 3:for(;w<32;){if(0===v)break e;v--,x+=f[y++]<<w,w+=8}r.head&&(r.head.time=x),512&r.flags&&(U[0]=255&x,U[1]=x>>>8&255,U[2]=x>>>16&255,U[3]=x>>>24&255,r.check=o(r.check,U,4,0)),w=x=0,r.mode=4;case 4:for(;w<16;){if(0===v)break e;v--,x+=f[y++]<<w,w+=8}r.head&&(r.head.xflags=255&x,r.head.os=x>>8),512&r.flags&&(U[0]=255&x,U[1]=x>>>8&255,r.check=o(r.check,U,2,0)),w=x=0,r.mode=5;case 5:if(1024&r.flags){for(;w<16;){if(0===v)break e;v--,x+=f[y++]<<w,w+=8}r.length=x,r.head&&(r.head.extra_len=x),512&r.flags&&(U[0]=255&x,U[1]=x>>>8&255,r.check=o(r.check,U,2,0)),w=x=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(v<(M=r.length)&&(M=v),M&&(r.head&&(R=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,f,y,M,R)),512&r.flags&&(r.check=o(r.check,f,M,y)),v-=M,y+=M,r.length-=M),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===v)break e;for(M=0;R=f[y+M++],r.head&&R&&r.length<65536&&(r.head.name+=String.fromCharCode(R)),R&&M<v;);if(512&r.flags&&(r.check=o(r.check,f,M,y)),v-=M,y+=M,R)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===v)break e;for(M=0;R=f[y+M++],r.head&&R&&r.length<65536&&(r.head.comment+=String.fromCharCode(R)),R&&M<v;);if(512&r.flags&&(r.check=o(r.check,f,M,y)),v-=M,y+=M,R)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;w<16;){if(0===v)break e;v--,x+=f[y++]<<w,w+=8}if(x!==(65535&r.check)){e.msg="header crc mismatch",r.mode=30;break}w=x=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;w<32;){if(0===v)break e;v--,x+=f[y++]<<w,w+=8}e.adler=r.check=m(x),w=x=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=g,e.avail_out=b,e.next_in=y,e.avail_in=v,r.hold=x,r.bits=w,2;e.adler=r.check=1,r.mode=12;case 12:if(5===t||6===t)break e;case 13:if(r.last){x>>>=7&w,w-=7&w,r.mode=27;break}for(;w<3;){if(0===v)break e;v--,x+=f[y++]<<w,w+=8}switch(r.last=1&x,w-=1,3&(x>>>=1)){case 0:r.mode=14;break;case 1:if(_(r),r.mode=20,6!==t)break;x>>>=2,w-=2;break e;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=30}x>>>=2,w-=2;break;case 14:for(x>>>=7&w,w-=7&w;w<32;){if(0===v)break e;v--,x+=f[y++]<<w,w+=8}if((65535&x)!=(x>>>16^65535)){e.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&x,w=x=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(M=r.length){if(v<M&&(M=v),b<M&&(M=b),0===M)break e;n.arraySet(p,f,y,M,g),v-=M,y+=M,b-=M,g+=M,r.length-=M;break}r.mode=12;break;case 17:for(;w<14;){if(0===v)break e;v--,x+=f[y++]<<w,w+=8}if(r.nlen=257+(31&x),x>>>=5,w-=5,r.ndist=1+(31&x),x>>>=5,w-=5,r.ncode=4+(15&x),x>>>=4,w-=4,286<r.nlen||30<r.ndist){e.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;w<3;){if(0===v)break e;v--,x+=f[y++]<<w,w+=8}r.lens[z[r.have++]]=7&x,x>>>=3,w-=3}for(;r.have<19;)r.lens[z[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,I={bits:r.lenbits},D=s(0,r.lens,0,19,r.lencode,0,r.work,I),r.lenbits=I.bits,D){e.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;E=(B=r.lencode[x&(1<<r.lenbits)-1])>>>16&255,O=65535&B,!((T=B>>>24)<=w);){if(0===v)break e;v--,x+=f[y++]<<w,w+=8}if(O<16)x>>>=T,w-=T,r.lens[r.have++]=O;else{if(16===O){for(F=T+2;w<F;){if(0===v)break e;v--,x+=f[y++]<<w,w+=8}if(x>>>=T,w-=T,0===r.have){e.msg="invalid bit length repeat",r.mode=30;break}R=r.lens[r.have-1],M=3+(3&x),x>>>=2,w-=2}else if(17===O){for(F=T+3;w<F;){if(0===v)break e;v--,x+=f[y++]<<w,w+=8}w-=T,R=0,M=3+(7&(x>>>=T)),x>>>=3,w-=3}else{for(F=T+7;w<F;){if(0===v)break e;v--,x+=f[y++]<<w,w+=8}w-=T,R=0,M=11+(127&(x>>>=T)),x>>>=7,w-=7}if(r.have+M>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=30;break}for(;M--;)r.lens[r.have++]=R}}if(30===r.mode)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,I={bits:r.lenbits},D=s(l,r.lens,0,r.nlen,r.lencode,0,r.work,I),r.lenbits=I.bits,D){e.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,I={bits:r.distbits},D=s(u,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,I),r.distbits=I.bits,D){e.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(6<=v&&258<=b){e.next_out=g,e.avail_out=b,e.next_in=y,e.avail_in=v,r.hold=x,r.bits=w,a(e,k),g=e.next_out,p=e.output,b=e.avail_out,y=e.next_in,f=e.input,v=e.avail_in,x=r.hold,w=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;E=(B=r.lencode[x&(1<<r.lenbits)-1])>>>16&255,O=65535&B,!((T=B>>>24)<=w);){if(0===v)break e;v--,x+=f[y++]<<w,w+=8}if(E&&0==(240&E)){for(A=T,L=E,N=O;E=(B=r.lencode[N+((x&(1<<A+L)-1)>>A)])>>>16&255,O=65535&B,!(A+(T=B>>>24)<=w);){if(0===v)break e;v--,x+=f[y++]<<w,w+=8}x>>>=A,w-=A,r.back+=A}if(x>>>=T,w-=T,r.back+=T,r.length=O,0===E){r.mode=26;break}if(32&E){r.back=-1,r.mode=12;break}if(64&E){e.msg="invalid literal/length code",r.mode=30;break}r.extra=15&E,r.mode=22;case 22:if(r.extra){for(F=r.extra;w<F;){if(0===v)break e;v--,x+=f[y++]<<w,w+=8}r.length+=x&(1<<r.extra)-1,x>>>=r.extra,w-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;E=(B=r.distcode[x&(1<<r.distbits)-1])>>>16&255,O=65535&B,!((T=B>>>24)<=w);){if(0===v)break e;v--,x+=f[y++]<<w,w+=8}if(0==(240&E)){for(A=T,L=E,N=O;E=(B=r.distcode[N+((x&(1<<A+L)-1)>>A)])>>>16&255,O=65535&B,!(A+(T=B>>>24)<=w);){if(0===v)break e;v--,x+=f[y++]<<w,w+=8}x>>>=A,w-=A,r.back+=A}if(x>>>=T,w-=T,r.back+=T,64&E){e.msg="invalid distance code",r.mode=30;break}r.offset=O,r.extra=15&E,r.mode=24;case 24:if(r.extra){for(F=r.extra;w<F;){if(0===v)break e;v--,x+=f[y++]<<w,w+=8}r.offset+=x&(1<<r.extra)-1,x>>>=r.extra,w-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===b)break e;if(M=k-b,r.offset>M){if((M=r.offset-M)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=30;break}C=M>r.wnext?(M-=r.wnext,r.wsize-M):r.wnext-M,M>r.length&&(M=r.length),P=r.window}else P=p,C=g-r.offset,M=r.length;for(b<M&&(M=b),b-=M,r.length-=M;p[g++]=P[C++],--M;);0===r.length&&(r.mode=21);break;case 26:if(0===b)break e;p[g++]=r.length,b--,r.mode=21;break;case 27:if(r.wrap){for(;w<32;){if(0===v)break e;v--,x|=f[y++]<<w,w+=8}if(k-=b,e.total_out+=k,r.total+=k,k&&(e.adler=r.check=r.flags?o(r.check,p,k,g-k):i(r.check,p,k,g-k)),k=b,(r.flags?x:m(x))!==r.check){e.msg="incorrect data check",r.mode=30;break}w=x=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;w<32;){if(0===v)break e;v--,x+=f[y++]<<w,w+=8}if(x!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=30;break}w=x=0}r.mode=29;case 29:D=1;break e;case 30:D=-3;break e;case 31:return-4;default:return h}return e.next_out=g,e.avail_out=b,e.next_in=y,e.avail_in=v,r.hold=x,r.bits=w,(r.wsize||k!==e.avail_out&&r.mode<30&&(r.mode<27||4!==t))&&j(e,e.output,e.next_out,k-e.avail_out)?(r.mode=31,-4):(S-=e.avail_in,k-=e.avail_out,e.total_in+=S,e.total_out+=k,r.total+=k,r.wrap&&k&&(e.adler=r.check=r.flags?o(r.check,p,k,e.next_out-k):i(r.check,p,k,e.next_out-k)),e.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0==S&&0===k||4===t)&&D===c&&(D=-5),D)},r.inflateEnd=function(e){if(!e||!e.state)return h;var t=e.state;return t.window&&(t.window=null),e.state=null,c},r.inflateGetHeader=function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?h:((r.head=t).done=!1,c):h},r.inflateSetDictionary=function(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?h:11===r.mode&&i(1,t,n,0)!==r.check?-3:j(e,t,n,n)?(r.mode=31,-4):(r.havedict=1,c):h},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,r){"use strict";var n=e("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,r,l,u,c,h,d){var f,p,m,y,g,v,b,x,w,S=d.bits,k=0,_=0,j=0,M=0,C=0,P=0,T=0,E=0,O=0,A=0,L=null,N=0,R=new n.Buf16(16),D=new n.Buf16(16),I=null,F=0;for(k=0;k<=15;k++)R[k]=0;for(_=0;_<l;_++)R[t[r+_]]++;for(C=S,M=15;1<=M&&0===R[M];M--);if(M<C&&(C=M),0===M)return u[c++]=20971520,u[c++]=20971520,d.bits=1,0;for(j=1;j<M&&0===R[j];j++);for(C<j&&(C=j),k=E=1;k<=15;k++)if(E<<=1,(E-=R[k])<0)return-1;if(0<E&&(0===e||1!==M))return-1;for(D[1]=0,k=1;k<15;k++)D[k+1]=D[k]+R[k];for(_=0;_<l;_++)0!==t[r+_]&&(h[D[t[r+_]]++]=_);if(v=0===e?(L=I=h,19):1===e?(L=i,N-=257,I=o,F-=257,256):(L=a,I=s,-1),k=j,g=c,T=_=A=0,m=-1,y=(O=1<<(P=C))-1,1===e&&852<O||2===e&&592<O)return 1;for(;;){for(b=k-T,w=h[_]<v?(x=0,h[_]):h[_]>v?(x=I[F+h[_]],L[N+h[_]]):(x=96,0),f=1<<k-T,j=p=1<<P;u[g+(A>>T)+(p-=f)]=b<<24|x<<16|w|0,0!==p;);for(f=1<<k-1;A&f;)f>>=1;if(0!==f?(A&=f-1,A+=f):A=0,_++,0==--R[k]){if(k===M)break;k=t[r+h[_]]}if(C<k&&(A&y)!==m){for(0===T&&(T=C),g+=j,E=1<<(P=k-T);P+T<M&&!((E-=R[P+T])<=0);)P++,E<<=1;if(O+=1<<P,1===e&&852<O||2===e&&592<O)return 1;u[m=A&y]=C<<24|P<<16|g-c|0}}return 0!==A&&(u[g+A]=k-T<<24|64<<16|0),d.bits=C,0}},{"../utils/common":41}],51:[function(e,t,r){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,r){"use strict";var n=e("../utils/common"),i=0,o=1;function a(e){for(var t=e.length;0<=--t;)e[t]=0}var s=0,l=29,u=256,c=u+1+l,h=30,d=19,f=2*c+1,p=15,m=16,y=7,g=256,v=16,b=17,x=18,w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],S=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],_=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],j=new Array(2*(c+2));a(j);var M=new Array(2*h);a(M);var C=new Array(512);a(C);var P=new Array(256);a(P);var T=new Array(l);a(T);var E,O,A,L=new Array(h);function N(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function R(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function D(e){return e<256?C[e]:C[256+(e>>>7)]}function I(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function F(e,t,r){e.bi_valid>m-r?(e.bi_buf|=t<<e.bi_valid&65535,I(e,e.bi_buf),e.bi_buf=t>>m-e.bi_valid,e.bi_valid+=r-m):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function B(e,t,r){F(e,r[2*t],r[2*t+1])}function U(e,t){for(var r=0;r|=1&e,e>>>=1,r<<=1,0<--t;);return r>>>1}function z(e,t,r){var n,i,o=new Array(p+1),a=0;for(n=1;n<=p;n++)o[n]=a=a+r[n-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=U(o[s]++,s))}}function q(e){var t;for(t=0;t<c;t++)e.dyn_ltree[2*t]=0;for(t=0;t<h;t++)e.dyn_dtree[2*t]=0;for(t=0;t<d;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*g]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function G(e){8<e.bi_valid?I(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function V(e,t,r,n){var i=2*t,o=2*r;return e[i]<e[o]||e[i]===e[o]&&n[t]<=n[r]}function H(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&V(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!V(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function W(e,t,r){var n,i,o,a,s=0;if(0!==e.last_lit)for(;n=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],i=e.pending_buf[e.l_buf+s],s++,0===n?B(e,i,t):(B(e,(o=P[i])+u+1,t),0!==(a=w[o])&&F(e,i-=T[o],a),B(e,o=D(--n),r),0!==(a=S[o])&&F(e,n-=L[o],a)),s<e.last_lit;);B(e,g,t)}function X(e,t){var r,n,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=f,r=0;r<l;r++)0!==o[2*r]?(e.heap[++e.heap_len]=u=r,e.depth[r]=0):o[2*r+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=u,r=e.heap_len>>1;1<=r;r--)H(e,o,r);for(i=l;r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],H(e,o,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,o[2*i]=o[2*r]+o[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,o[2*r+1]=o[2*n+1]=i,e.heap[1]=i++,H(e,o,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,i,o,a,s,l=t.dyn_tree,u=t.max_code,c=t.stat_desc.static_tree,h=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,m=t.stat_desc.extra_base,y=t.stat_desc.max_length,g=0;for(o=0;o<=p;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<f;r++)y<(o=l[2*l[2*(n=e.heap[r])+1]+1]+1)&&(o=y,g++),l[2*n+1]=o,u<n||(e.bl_count[o]++,a=0,m<=n&&(a=d[n-m]),s=l[2*n],e.opt_len+=s*(o+a),h&&(e.static_len+=s*(c[2*n+1]+a)));if(0!==g){do{for(o=y-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[y]--,g-=2}while(0<g);for(o=y;0!==o;o--)for(n=e.bl_count[o];0!==n;)u<(i=e.heap[--r])||(l[2*i+1]!==o&&(e.opt_len+=(o-l[2*i+1])*l[2*i],l[2*i+1]=o),n--)}}(e,t),z(o,u,e.bl_count)}function Y(e,t,r){var n,i,o=-1,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=a,a=t[2*(n+1)+1],++s<l&&i===a||(s<u?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[2*v]++):s<=10?e.bl_tree[2*b]++:e.bl_tree[2*x]++,o=i,u=(s=0)===a?(l=138,3):i===a?(l=6,3):(l=7,4))}function K(e,t,r){var n,i,o=-1,a=t[1],s=0,l=7,u=4;for(0===a&&(l=138,u=3),n=0;n<=r;n++)if(i=a,a=t[2*(n+1)+1],!(++s<l&&i===a)){if(s<u)for(;B(e,i,e.bl_tree),0!=--s;);else 0!==i?(i!==o&&(B(e,i,e.bl_tree),s--),B(e,v,e.bl_tree),F(e,s-3,2)):s<=10?(B(e,b,e.bl_tree),F(e,s-3,3)):(B(e,x,e.bl_tree),F(e,s-11,7));o=i,u=(s=0)===a?(l=138,3):i===a?(l=6,3):(l=7,4)}}a(L);var Z=!1;function $(e,t,r,i){F(e,(s<<1)+(i?1:0),3),function(e,t,r,i){G(e),i&&(I(e,r),I(e,~r)),n.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r,!0)}r._tr_init=function(e){Z||(function(){var e,t,r,n,i,o=new Array(p+1);for(n=r=0;n<l-1;n++)for(T[n]=r,e=0;e<1<<w[n];e++)P[r++]=n;for(P[r-1]=n,n=i=0;n<16;n++)for(L[n]=i,e=0;e<1<<S[n];e++)C[i++]=n;for(i>>=7;n<h;n++)for(L[n]=i<<7,e=0;e<1<<S[n]-7;e++)C[256+i++]=n;for(t=0;t<=p;t++)o[t]=0;for(e=0;e<=143;)j[2*e+1]=8,e++,o[8]++;for(;e<=255;)j[2*e+1]=9,e++,o[9]++;for(;e<=279;)j[2*e+1]=7,e++,o[7]++;for(;e<=287;)j[2*e+1]=8,e++,o[8]++;for(z(j,c+1,o),e=0;e<h;e++)M[2*e+1]=5,M[2*e]=U(e,5);E=new N(j,w,u+1,c,p),O=new N(M,S,0,h,p),A=new N(new Array(0),k,0,d,y)}(),Z=!0),e.l_desc=new R(e.dyn_ltree,E),e.d_desc=new R(e.dyn_dtree,O),e.bl_desc=new R(e.bl_tree,A),e.bi_buf=0,e.bi_valid=0,q(e)},r._tr_stored_block=$,r._tr_flush_block=function(e,t,r,n){var a,s,l=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return i;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return o;for(t=32;t<u;t++)if(0!==e.dyn_ltree[2*t])return o;return i}(e)),X(e,e.l_desc),X(e,e.d_desc),l=function(e){var t;for(Y(e,e.dyn_ltree,e.l_desc.max_code),Y(e,e.dyn_dtree,e.d_desc.max_code),X(e,e.bl_desc),t=d-1;3<=t&&0===e.bl_tree[2*_[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),a=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=a&&(a=s)):a=s=r+5,r+4<=a&&-1!==t?$(e,t,r,n):4===e.strategy||s===a?(F(e,2+(n?1:0),3),W(e,j,M)):(F(e,4+(n?1:0),3),function(e,t,r,n){var i;for(F(e,t-257,5),F(e,r-1,5),F(e,n-4,4),i=0;i<n;i++)F(e,e.bl_tree[2*_[i]+1],3);K(e,e.dyn_ltree,t-1),K(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),W(e,e.dyn_ltree,e.dyn_dtree)),q(e),n&&G(e)},r._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(P[r]+u+1)]++,e.dyn_dtree[2*D(t)]++),e.last_lit===e.lit_bufsize-1},r._tr_align=function(e){F(e,2,3),B(e,g,j),function(e){16===e.bi_valid?(I(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,r){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,n){(function(e){!function(e,t){"use strict";if(!e.setImmediate){var r,n,i,o,a=1,s={},l=!1,u=e.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(e);c=c&&c.setTimeout?c:e,r="[object process]"==={}.toString.call(e.process)?function(e){process.nextTick((function(){d(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?(o="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",f,!1):e.attachEvent("onmessage",f),function(t){e.postMessage(o+t,"*")}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){d(e.data)},function(e){i.port2.postMessage(e)}):u&&"onreadystatechange"in u.createElement("script")?(n=u.documentElement,function(e){var t=u.createElement("script");t.onreadystatechange=function(){d(e),t.onreadystatechange=null,n.removeChild(t),t=null},n.appendChild(t)}):function(e){setTimeout(d,0,e)},c.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return s[a]=i,r(a),a++},c.clearImmediate=h}function h(e){delete s[e]}function d(e){if(l)setTimeout(d,0,e);else{var r=s[e];if(r){l=!0;try{!function(e){var r=e.callback,n=e.args;switch(n.length){case 0:r();break;case 1:r(n[0]);break;case 2:r(n[0],n[1]);break;case 3:r(n[0],n[1],n[2]);break;default:r.apply(t,n)}}(r)}finally{h(e),l=!1}}}}function f(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&d(+t.data.slice(o.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,"undefined"!=typeof r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)},4235:function(e,t,r){var n,i=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",n={};function i(e,t){if(!n[e]){n[e]={};for(var r=0;r<e.length;r++)n[e][e.charAt(r)]=r}return n[e][t]}var o={compressToBase64:function(e){if(null==e)return"";var r=o._compress(e,6,(function(e){return t.charAt(e)}));switch(r.length%4){default:case 0:return r;case 1:return r+"===";case 2:return r+"==";case 3:return r+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:o._decompress(e.length,32,(function(r){return i(t,e.charAt(r))}))},compressToUTF16:function(t){return null==t?"":o._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:o._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=o.compress(e),r=new Uint8Array(2*t.length),n=0,i=t.length;n<i;n++){var a=t.charCodeAt(n);r[2*n]=a>>>8,r[2*n+1]=a%256}return r},decompressFromUint8Array:function(t){if(null===t||void 0===t)return o.decompress(t);for(var r=new Array(t.length/2),n=0,i=r.length;n<i;n++)r[n]=256*t[2*n]+t[2*n+1];var a=[];return r.forEach((function(t){a.push(e(t))})),o.decompress(a.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":o._compress(e,6,(function(e){return r.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),o._decompress(e.length,32,(function(t){return i(r,e.charAt(t))})))},compress:function(t){return o._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,r){if(null==e)return"";var n,i,o,a={},s={},l="",u="",c="",h=2,d=3,f=2,p=[],m=0,y=0;for(o=0;o<e.length;o+=1)if(l=e.charAt(o),Object.prototype.hasOwnProperty.call(a,l)||(a[l]=d++,s[l]=!0),u=c+l,Object.prototype.hasOwnProperty.call(a,u))c=u;else{if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(n=0;n<f;n++)m<<=1,y==t-1?(y=0,p.push(r(m)),m=0):y++;for(i=c.charCodeAt(0),n=0;n<8;n++)m=m<<1|1&i,y==t-1?(y=0,p.push(r(m)),m=0):y++,i>>=1}else{for(i=1,n=0;n<f;n++)m=m<<1|i,y==t-1?(y=0,p.push(r(m)),m=0):y++,i=0;for(i=c.charCodeAt(0),n=0;n<16;n++)m=m<<1|1&i,y==t-1?(y=0,p.push(r(m)),m=0):y++,i>>=1}0==--h&&(h=Math.pow(2,f),f++),delete s[c]}else for(i=a[c],n=0;n<f;n++)m=m<<1|1&i,y==t-1?(y=0,p.push(r(m)),m=0):y++,i>>=1;0==--h&&(h=Math.pow(2,f),f++),a[u]=d++,c=String(l)}if(""!==c){if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(n=0;n<f;n++)m<<=1,y==t-1?(y=0,p.push(r(m)),m=0):y++;for(i=c.charCodeAt(0),n=0;n<8;n++)m=m<<1|1&i,y==t-1?(y=0,p.push(r(m)),m=0):y++,i>>=1}else{for(i=1,n=0;n<f;n++)m=m<<1|i,y==t-1?(y=0,p.push(r(m)),m=0):y++,i=0;for(i=c.charCodeAt(0),n=0;n<16;n++)m=m<<1|1&i,y==t-1?(y=0,p.push(r(m)),m=0):y++,i>>=1}0==--h&&(h=Math.pow(2,f),f++),delete s[c]}else for(i=a[c],n=0;n<f;n++)m=m<<1|1&i,y==t-1?(y=0,p.push(r(m)),m=0):y++,i>>=1;0==--h&&(h=Math.pow(2,f),f++)}for(i=2,n=0;n<f;n++)m=m<<1|1&i,y==t-1?(y=0,p.push(r(m)),m=0):y++,i>>=1;for(;;){if(m<<=1,y==t-1){p.push(r(m));break}y++}return p.join("")},decompress:function(e){return null==e?"":""==e?null:o._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,r,n){var i,o,a,s,l,u,c,h=[],d=4,f=4,p=3,m="",y=[],g={val:n(0),position:r,index:1};for(i=0;i<3;i+=1)h[i]=i;for(a=0,l=Math.pow(2,2),u=1;u!=l;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=r,g.val=n(g.index++)),a|=(s>0?1:0)*u,u<<=1;switch(a){case 0:for(a=0,l=Math.pow(2,8),u=1;u!=l;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=r,g.val=n(g.index++)),a|=(s>0?1:0)*u,u<<=1;c=e(a);break;case 1:for(a=0,l=Math.pow(2,16),u=1;u!=l;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=r,g.val=n(g.index++)),a|=(s>0?1:0)*u,u<<=1;c=e(a);break;case 2:return""}for(h[3]=c,o=c,y.push(c);;){if(g.index>t)return"";for(a=0,l=Math.pow(2,p),u=1;u!=l;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=r,g.val=n(g.index++)),a|=(s>0?1:0)*u,u<<=1;switch(c=a){case 0:for(a=0,l=Math.pow(2,8),u=1;u!=l;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=r,g.val=n(g.index++)),a|=(s>0?1:0)*u,u<<=1;h[f++]=e(a),c=f-1,d--;break;case 1:for(a=0,l=Math.pow(2,16),u=1;u!=l;)s=g.val&g.position,g.position>>=1,0==g.position&&(g.position=r,g.val=n(g.index++)),a|=(s>0?1:0)*u,u<<=1;h[f++]=e(a),c=f-1,d--;break;case 2:return y.join("")}if(0==d&&(d=Math.pow(2,p),p++),h[c])m=h[c];else{if(c!==f)return null;m=o+o.charAt(0)}y.push(m),h[f++]=o+m.charAt(0),o=m,0==--d&&(d=Math.pow(2,p),p++)}}};return o}();void 0===(n=function(){return i}.call(t,r,t,e))||(e.exports=n)},2584:function(e,t,r){var n="function"===typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=n&&i&&"function"===typeof i.get?i.get:null,a=n&&Map.prototype.forEach,s="function"===typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=s&&l&&"function"===typeof l.get?l.get:null,c=s&&Set.prototype.forEach,h="function"===typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"===typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,f="function"===typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,p=Boolean.prototype.valueOf,m=Object.prototype.toString,y=Function.prototype.toString,g=String.prototype.match,v=String.prototype.slice,b=String.prototype.replace,x=String.prototype.toUpperCase,w=String.prototype.toLowerCase,S=RegExp.prototype.test,k=Array.prototype.concat,_=Array.prototype.join,j=Array.prototype.slice,M=Math.floor,C="function"===typeof BigInt?BigInt.prototype.valueOf:null,P=Object.getOwnPropertySymbols,T="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?Symbol.prototype.toString:null,E="function"===typeof Symbol&&"object"===typeof Symbol.iterator,O="function"===typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===E||"symbol")?Symbol.toStringTag:null,A=Object.prototype.propertyIsEnumerable,L=("function"===typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function N(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||S.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"===typeof e){var n=e<0?-M(-e):M(e);if(n!==e){var i=String(n),o=v.call(t,i.length+1);return b.call(i,r,"$&_")+"."+b.call(b.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(t,r,"$&_")}var R=r(4654),D=R.custom,I=q(D)?D:null;function F(e,t,r){var n="double"===(r.quoteStyle||t)?'"':"'";return n+e+n}function B(e){return b.call(String(e),/"/g,"&quot;")}function U(e){return"[object Array]"===H(e)&&(!O||!("object"===typeof e&&O in e))}function z(e){return"[object RegExp]"===H(e)&&(!O||!("object"===typeof e&&O in e))}function q(e){if(E)return e&&"object"===typeof e&&e instanceof Symbol;if("symbol"===typeof e)return!0;if(!e||"object"!==typeof e||!T)return!1;try{return T.call(e),!0}catch(t){}return!1}e.exports=function e(t,r,n,i){var s=r||{};if(V(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(V(s,"maxStringLength")&&("number"===typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var l=!V(s,"customInspect")||s.customInspect;if("boolean"!==typeof l&&"symbol"!==l)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(V(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(V(s,"numericSeparator")&&"boolean"!==typeof s.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var m=s.numericSeparator;if("undefined"===typeof t)return"undefined";if(null===t)return"null";if("boolean"===typeof t)return t?"true":"false";if("string"===typeof t)return X(t,s);if("number"===typeof t){if(0===t)return 1/0/t>0?"0":"-0";var x=String(t);return m?N(t,x):x}if("bigint"===typeof t){var S=String(t)+"n";return m?N(t,S):S}var M="undefined"===typeof s.depth?5:s.depth;if("undefined"===typeof n&&(n=0),n>=M&&M>0&&"object"===typeof t)return U(t)?"[Array]":"[Object]";var P=function(e,t){var r;if("\t"===e.indent)r="\t";else{if(!("number"===typeof e.indent&&e.indent>0))return null;r=_.call(Array(e.indent+1)," ")}return{base:r,prev:_.call(Array(t+1),r)}}(s,n);if("undefined"===typeof i)i=[];else if(W(i,t)>=0)return"[Circular]";function D(t,r,o){if(r&&(i=j.call(i)).push(r),o){var a={depth:s.depth};return V(s,"quoteStyle")&&(a.quoteStyle=s.quoteStyle),e(t,a,n+1,i)}return e(t,s,n+1,i)}if("function"===typeof t&&!z(t)){var G=function(e){if(e.name)return e.name;var t=g.call(y.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),Y=Q(t,D);return"[Function"+(G?": "+G:" (anonymous)")+"]"+(Y.length>0?" { "+_.call(Y,", ")+" }":"")}if(q(t)){var ee=E?b.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):T.call(t);return"object"!==typeof t||E?ee:K(ee)}if(function(e){if(!e||"object"!==typeof e)return!1;if("undefined"!==typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"===typeof e.nodeName&&"function"===typeof e.getAttribute}(t)){for(var te="<"+w.call(String(t.nodeName)),re=t.attributes||[],ne=0;ne<re.length;ne++)te+=" "+re[ne].name+"="+F(B(re[ne].value),"double",s);return te+=">",t.childNodes&&t.childNodes.length&&(te+="..."),te+="</"+w.call(String(t.nodeName))+">"}if(U(t)){if(0===t.length)return"[]";var ie=Q(t,D);return P&&!function(e){for(var t=0;t<e.length;t++)if(W(e[t],"\n")>=0)return!1;return!0}(ie)?"["+J(ie,P)+"]":"[ "+_.call(ie,", ")+" ]"}if(function(e){return"[object Error]"===H(e)&&(!O||!("object"===typeof e&&O in e))}(t)){var oe=Q(t,D);return"cause"in Error.prototype||!("cause"in t)||A.call(t,"cause")?0===oe.length?"["+String(t)+"]":"{ ["+String(t)+"] "+_.call(oe,", ")+" }":"{ ["+String(t)+"] "+_.call(k.call("[cause]: "+D(t.cause),oe),", ")+" }"}if("object"===typeof t&&l){if(I&&"function"===typeof t[I]&&R)return R(t,{depth:M-n});if("symbol"!==l&&"function"===typeof t.inspect)return t.inspect()}if(function(e){if(!o||!e||"object"!==typeof e)return!1;try{o.call(e);try{u.call(e)}catch(te){return!0}return e instanceof Map}catch(t){}return!1}(t)){var ae=[];return a&&a.call(t,(function(e,r){ae.push(D(r,t,!0)+" => "+D(e,t))})),$("Map",o.call(t),ae,P)}if(function(e){if(!u||!e||"object"!==typeof e)return!1;try{u.call(e);try{o.call(e)}catch(t){return!0}return e instanceof Set}catch(r){}return!1}(t)){var se=[];return c&&c.call(t,(function(e){se.push(D(e,t))})),$("Set",u.call(t),se,P)}if(function(e){if(!h||!e||"object"!==typeof e)return!1;try{h.call(e,h);try{d.call(e,d)}catch(te){return!0}return e instanceof WeakMap}catch(t){}return!1}(t))return Z("WeakMap");if(function(e){if(!d||!e||"object"!==typeof e)return!1;try{d.call(e,d);try{h.call(e,h)}catch(te){return!0}return e instanceof WeakSet}catch(t){}return!1}(t))return Z("WeakSet");if(function(e){if(!f||!e||"object"!==typeof e)return!1;try{return f.call(e),!0}catch(t){}return!1}(t))return Z("WeakRef");if(function(e){return"[object Number]"===H(e)&&(!O||!("object"===typeof e&&O in e))}(t))return K(D(Number(t)));if(function(e){if(!e||"object"!==typeof e||!C)return!1;try{return C.call(e),!0}catch(t){}return!1}(t))return K(D(C.call(t)));if(function(e){return"[object Boolean]"===H(e)&&(!O||!("object"===typeof e&&O in e))}(t))return K(p.call(t));if(function(e){return"[object String]"===H(e)&&(!O||!("object"===typeof e&&O in e))}(t))return K(D(String(t)));if(!function(e){return"[object Date]"===H(e)&&(!O||!("object"===typeof e&&O in e))}(t)&&!z(t)){var le=Q(t,D),ue=L?L(t)===Object.prototype:t instanceof Object||t.constructor===Object,ce=t instanceof Object?"":"null prototype",he=!ue&&O&&Object(t)===t&&O in t?v.call(H(t),8,-1):ce?"Object":"",de=(ue||"function"!==typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(he||ce?"["+_.call(k.call([],he||[],ce||[]),": ")+"] ":"");return 0===le.length?de+"{}":P?de+"{"+J(le,P)+"}":de+"{ "+_.call(le,", ")+" }"}return String(t)};var G=Object.prototype.hasOwnProperty||function(e){return e in this};function V(e,t){return G.call(e,t)}function H(e){return m.call(e)}function W(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function X(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return X(v.call(e,0,t.maxStringLength),t)+n}return F(b.call(b.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Y),"single",t)}function Y(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+x.call(t.toString(16))}function K(e){return"Object("+e+")"}function Z(e){return e+" { ? }"}function $(e,t,r,n){return e+" ("+t+") {"+(n?J(r,n):_.call(r,", "))+"}"}function J(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+_.call(e,","+r)+"\n"+t.prev}function Q(e,t){var r=U(e),n=[];if(r){n.length=e.length;for(var i=0;i<e.length;i++)n[i]=V(e,i)?t(e[i],e):""}var o,a="function"===typeof P?P(e):[];if(E){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var l in e)V(e,l)&&(r&&String(Number(l))===l&&l<e.length||E&&o["$"+l]instanceof Symbol||(S.call(/[^\w$]/,l)?n.push(t(l,e)+": "+t(e[l],e)):n.push(l+": "+t(e[l],e))));if("function"===typeof P)for(var u=0;u<a.length;u++)A.call(e,a[u])&&n.push("["+t(a[u])+"]: "+t(e[a[u]],e));return n}},2592:function(e){"use strict";var t=function(e){return e!==e};e.exports=function(e,r){return 0===e&&0===r?1/e===1/r:e===r||!(!t(e)||!t(r))}},3454:function(e,t,r){"use strict";var n=r(9396),i=r(9722),o=r(2592),a=r(3355),s=r(3118),l=i(a(),Object);n(l,{getPolyfill:a,implementation:o,shim:s}),e.exports=l},3355:function(e,t,r){"use strict";var n=r(2592);e.exports=function(){return"function"===typeof Object.is?Object.is:n}},3118:function(e,t,r){"use strict";var n=r(3355),i=r(9396);e.exports=function(){var e=n();return i(Object,{is:e},{is:function(){return Object.is!==e}}),e}},1949:function(e,t,r){"use strict";var n;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,a=r(7635),s=Object.prototype.propertyIsEnumerable,l=!s.call({toString:null},"toString"),u=s.call((function(){}),"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],h=function(e){var t=e.constructor;return t&&t.prototype===e},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"===typeof window)return!1;for(var e in window)try{if(!d["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"===typeof window[e])try{h(window[e])}catch(t){return!0}}catch(t){return!0}return!1}();n=function(e){var t=null!==e&&"object"===typeof e,r="[object Function]"===o.call(e),n=a(e),s=t&&"[object String]"===o.call(e),d=[];if(!t&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var p=u&&r;if(s&&e.length>0&&!i.call(e,0))for(var m=0;m<e.length;++m)d.push(String(m));if(n&&e.length>0)for(var y=0;y<e.length;++y)d.push(String(y));else for(var g in e)p&&"prototype"===g||!i.call(e,g)||d.push(String(g));if(l)for(var v=function(e){if("undefined"===typeof window||!f)return h(e);try{return h(e)}catch(t){return!1}}(e),b=0;b<c.length;++b)v&&"constructor"===c[b]||!i.call(e,c[b])||d.push(c[b]);return d}}e.exports=n},4892:function(e,t,r){"use strict";var n=Array.prototype.slice,i=r(7635),o=Object.keys,a=o?function(e){return o(e)}:r(1949),s=Object.keys;a.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return i(e)?s(n.call(e)):s(e)})}else Object.keys=a;return Object.keys||a},e.exports=a},7635:function(e){"use strict";var t=Object.prototype.toString;e.exports=function(e){var r=t.call(e),n="[object Arguments]"===r;return n||(n="[object Array]"!==r&&null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),n}},1811:function(e,t,r){"use strict";var n=r(4892),i=r(3297)(),o=r(4037),a=Object,s=o("Array.prototype.push"),l=o("Object.prototype.propertyIsEnumerable"),u=i?Object.getOwnPropertySymbols:null;e.exports=function(e,t){if(null==e)throw new TypeError("target must be an object");var r=a(e);if(1===arguments.length)return r;for(var o=1;o<arguments.length;++o){var c=a(arguments[o]),h=n(c),d=i&&(Object.getOwnPropertySymbols||u);if(d)for(var f=d(c),p=0;p<f.length;++p){var m=f[p];l(c,m)&&s(h,m)}for(var y=0;y<h.length;++y){var g=h[y];if(l(c,g)){var v=c[g];r[g]=v}}}return r}},4624:function(e,t,r){"use strict";var n=r(9396),i=r(9722),o=r(1811),a=r(6814),s=r(1966),l=i.apply(a()),u=function(e,t){return l(Object,arguments)};n(u,{getPolyfill:a,implementation:o,shim:s}),e.exports=u},6814:function(e,t,r){"use strict";var n=r(1811);e.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),r={},n=0;n<t.length;++n)r[t[n]]=t[n];var i=Object.assign({},r),o="";for(var a in i)o+=a;return e!==o}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}return!1}()?n:Object.assign:n}},1966:function(e,t,r){"use strict";var n=r(9396),i=r(6814);e.exports=function(){var e=i();return n(Object,{assign:e},{assign:function(){return Object.assign!==e}}),e}},2024:function(e,t,r){var n=r(7061).default;e.exports=function(){var e;return function e(t,r,n){function i(a,s){if(!r[a]){if(!t[a]){var l=void 0;if(!s&&l)return require(a,!0);if(o)return o(a,!0);throw(s=new Error("Cannot find module '"+a+"'")).code="MODULE_NOT_FOUND",s}l=r[a]={exports:{}},t[a][0].call(l.exports,(function(e){return i(t[a][1][e]||e)}),l,l.exports,e,t,r,n)}return r[a].exports}for(var o=void 0,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,t,r){"use strict";r.byteLength=function(e){return 3*((e=u(e))[0]+(e=e[1]))/4-e},r.toByteArray=function(e){var t,r,n=(a=u(e))[0],a=a[1],s=new o(function(e,t){return 3*(e+t)/4-t}(n,a)),l=0,c=0<a?n-4:n;for(r=0;r<c;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],s[l++]=t>>16&255,s[l++]=t>>8&255,s[l++]=255&t;return 2===a&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,s[l++]=255&t),1===a&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,s[l++]=t>>8&255,s[l++]=255&t),s},r.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=0,s=r-i;a<s;a+=16383)o.push(function(e,t,r){for(var i,o=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(function(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}(i));return o.join("")}(e,a,s<a+16383?s:a+16383));return 1==i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2==i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");return t=(e=-1===(e=e.indexOf("="))?t:e)===t?0:4-e%4,[e,t]}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],2:[function(e,t,r){},{}],3:[function(e,t,r){arguments[4][2][0].apply(r,arguments)},{dup:2}],4:[function(e,t,r){(function(t){"use strict";var n=e("base64-js"),i=e("ieee754"),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null,a=(r.Buffer=t,r.SlowBuffer=function(e){return+e!=e&&(e=0),t.alloc(+e)},r.INSPECT_MAX_BYTES=50,2147483647);function s(e){if(a<e)throw new RangeError('The value "'+e+'" is invalid for option "size"');return e=new Uint8Array(e),Object.setPrototypeOf(e,t.prototype),e}function t(e,t,r){if("number"!=typeof e)return l(e,t,r);if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return c(e)}function l(e,r,n){if("string"==typeof e){var i=e,o=r;if(t.isEncoding(o="string"==typeof o&&""!==o?o:"utf8"))return(i=(l=s(a=0|f(i,o))).write(i,o))!==a?l.slice(0,i):l;throw new TypeError("Unknown encoding: "+o)}if(ArrayBuffer.isView(e))return h(e);if(null!=e){if(O(e,ArrayBuffer)||e&&O(e.buffer,ArrayBuffer)){var a=e,l=n;if((i=r)<0||a.byteLength<i)throw new RangeError('"offset" is outside of buffer bounds');if(a.byteLength<i+(l||0))throw new RangeError('"length" is outside of buffer bounds');return a=void 0===i&&void 0===l?new Uint8Array(a):void 0===l?new Uint8Array(a,i):new Uint8Array(a,i,l),Object.setPrototypeOf(a,t.prototype),a}if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');if(null!=(o=e.valueOf&&e.valueOf())&&o!==e)return t.from(o,r,n);var u=function(e){var r,n;return t.isBuffer(e)?(0!==(n=s(r=0|d(e.length))).length&&e.copy(n,0,0,r),n):void 0!==e.length?"number"!=typeof e.length||A(e.length)?s(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(u)return u;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return t.from(e[Symbol.toPrimitive]("string"),r,n)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return u(e),s(e<0?0:0|d(e))}function h(e){for(var t=e.length<0?0:0|d(e.length),r=s(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function d(e){if(a<=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function f(e,r){if(t.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||O(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,i=2<arguments.length&&!0===arguments[2];if(!i&&0===n)return 0;for(var o=!1;;)switch(r){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return P(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return T(e).length;default:if(o)return i?-1:P(e).length;r=(""+r).toLowerCase(),o=!0}}function p(e,t,r){var i,o=!1;if((t=void 0===t||t<0?0:t)>this.length)return"";if((r=void 0===r||r>this.length?this.length:r)<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":var a=this,s=t,l=r,u=a.length;(!l||l<0||u<l)&&(l=u);for(var c="",h=s=!s||s<0?0:s;h<l;++h)c+=L[a[h]];return c;case"utf8":case"utf-8":return x(this,t,r);case"ascii":var d=this,f=(u=t,r),p="";f=Math.min(d.length,f);for(var m=u;m<f;++m)p+=String.fromCharCode(127&d[m]);return p;case"latin1":case"binary":var y=this,g=(s=t,r),v="";g=Math.min(y.length,g);for(var b=s;b<g;++b)v+=String.fromCharCode(y[b]);return v;case"base64":return w=this,i=r,0===(S=t)&&i===w.length?n.fromByteArray(w):n.fromByteArray(w.slice(S,i));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var w=t,S=r,k=this.slice(w,S),_="",j=0;j<k.length;j+=2)_+=String.fromCharCode(k[j]+256*k[j+1]);return _;default:if(o)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}}function m(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function y(e,r,n,i,o){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),(n=(n=A(n=+n)?o?0:e.length-1:n)<0?e.length+n:n)>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof r&&(r=t.from(r,i)),t.isBuffer(r))return 0===r.length?-1:g(e,r,n,i,o);if("number"==typeof r)return r&=255,"function"==typeof Uint8Array.prototype.indexOf?(o?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(e,r,n):g(e,[r],n,i,o);throw new TypeError("val must be string, number or Buffer")}function g(e,t,r,n,i){var o=1,a=e.length,s=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a/=o=2,s/=2,r/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i)for(var u=-1,c=r;c<a;c++)if(l(e,c)===l(t,-1===u?0:c-u)){if(c-(u=-1===u?c:u)+1===s)return u*o}else-1!==u&&(c-=c-u),u=-1;else for(c=r=a<r+s?a-s:r;0<=c;c--){for(var h=!0,d=0;d<s;d++)if(l(e,c+d)!==l(t,d)){h=!1;break}if(h)return c}return-1}function v(e,t,r,n){return E(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function b(e,t,r,n){return E(function(e,t){for(var r,n,i=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,n%=256,i.push(n),i.push(r);return i}(t,e.length-r),e,r,n)}function x(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,l,u=e[i],c=null,h=239<u?4:223<u?3:191<u?2:1;if(i+h<=r)switch(h){case 1:u<128&&(c=u);break;case 2:128==(192&(o=e[i+1]))&&127<(l=(31&u)<<6|63&o)&&(c=l);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&2047<(l=(15&u)<<12|(63&o)<<6|63&a)&&(l<55296||57343<l)&&(c=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&65535<(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)&&l<1114112&&(c=l)}null===c?(c=65533,h=1):65535<c&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=h}var d=n,f=d.length;if(f<=w)return String.fromCharCode.apply(String,d);for(var p="",m=0;m<f;)p+=String.fromCharCode.apply(String,d.slice(m,m+=w));return p}r.kMaxLength=a,(t.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(t.prototype,"parent",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.buffer}}),Object.defineProperty(t.prototype,"offset",{enumerable:!0,get:function(){if(t.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),t.poolSize=8192,t.from=l,Object.setPrototypeOf(t.prototype,Uint8Array.prototype),Object.setPrototypeOf(t,Uint8Array),t.alloc=function(e,t,r){return u(e),e<=0||void 0===t?s(e):"string"==typeof r?s(e).fill(t,r):s(e).fill(t)},t.allocUnsafe=c,t.allocUnsafeSlow=c,t.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==t.prototype},t.compare=function(e,r){if(O(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),O(r,Uint8Array)&&(r=t.from(r,r.offset,r.byteLength)),!t.isBuffer(e)||!t.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;for(var n=e.length,i=r.length,o=0,a=Math.min(n,i);o<a;++o)if(e[o]!==r[o]){n=e[o],i=r[o];break}return n<i?-1:i<n?1:0},t.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return t.alloc(0);if(void 0===r)for(o=r=0;o<e.length;++o)r+=e[o].length;for(var n=t.allocUnsafe(r),i=0,o=0;o<e.length;++o){var a=e[o];if(O(a,Uint8Array)&&(a=t.from(a)),!t.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},t.byteLength=f,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)m(this,t,t+1);return this},t.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},t.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},t.prototype.toLocaleString=t.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?x(this,0,e):p.apply(this,arguments)},t.prototype.equals=function(e){if(t.isBuffer(e))return this===e||0===t.compare(this,e);throw new TypeError("Argument must be a Buffer")},t.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},o&&(t.prototype[o]=t.prototype.inspect),t.prototype.compare=function(e,r,n,i,o){if(O(e,Uint8Array)&&(e=t.from(e,e.offset,e.byteLength)),!t.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),(r=void 0===r?0:r)<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(o<=i&&n<=r)return 0;if(o<=i)return-1;if(n<=r)return 1;if(this===e)return 0;for(var a=(o>>>=0)-(i>>>=0),s=(n>>>=0)-(r>>>=0),l=Math.min(a,s),u=this.slice(i,o),c=e.slice(r,n),h=0;h<l;++h)if(u[h]!==c[h]){a=u[h],s=c[h];break}return a<s?-1:s<a?1:0},t.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},t.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},t.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)},t.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||i<r)&&(r=i),0<e.length&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n=n||"utf8";for(var o,a,s,l=!1;;)switch(n){case"hex":var u=this,c=e,h=t,d=r,f=(h=Number(h)||0,u.length-h);(!d||f<(d=Number(d)))&&(d=f),(f=c.length)/2<d&&(d=f/2);for(var p=0;p<d;++p){var m=parseInt(c.substr(2*p,2),16);if(A(m))return p;u[h+p]=m}return p;case"utf8":case"utf-8":return f=t,s=r,E(P(e,(a=this).length-f),a,f,s);case"ascii":case"latin1":case"binary":return v(this,e,t,r);case"base64":return a=this,s=t,o=r,E(T(e),a,s,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,e,t,r);default:if(l)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),l=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var w=4096;function S(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(r<e+t)throw new RangeError("Trying to access beyond buffer length")}function k(e,r,n,i,o,a){if(!t.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(o<r||r<a)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function _(e,t,r,n){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function j(e,t,r,n,o){return t=+t,r>>>=0,o||_(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function M(e,t,r,n,o){return t=+t,r>>>=0,o||_(e,0,r,8),i.write(e,t,r,n,52,8),r+8}t.prototype.slice=function(e,r){var n=this.length;return(e=~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),(r=void 0===r?n:~~r)<0?(r+=n)<0&&(r=0):n<r&&(r=n),r<e&&(r=e),n=this.subarray(e,r),Object.setPrototypeOf(n,t.prototype),n},t.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||S(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},t.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||S(e,t,this.length);for(var n=this[e+--t],i=1;0<t&&(i*=256);)n+=this[e+--t]*i;return n},t.prototype.readUInt8=function(e,t){return e>>>=0,t||S(e,1,this.length),this[e]},t.prototype.readUInt16LE=function(e,t){return e>>>=0,t||S(e,2,this.length),this[e]|this[e+1]<<8},t.prototype.readUInt16BE=function(e,t){return e>>>=0,t||S(e,2,this.length),this[e]<<8|this[e+1]},t.prototype.readUInt32LE=function(e,t){return e>>>=0,t||S(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},t.prototype.readUInt32BE=function(e,t){return e>>>=0,t||S(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},t.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||S(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return(i*=128)<=n&&(n-=Math.pow(2,8*t)),n},t.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||S(e,t,this.length);for(var n=t,i=1,o=this[e+--n];0<n&&(i*=256);)o+=this[e+--n]*i;return(i*=128)<=o&&(o-=Math.pow(2,8*t)),o},t.prototype.readInt8=function(e,t){return e>>>=0,t||S(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},t.prototype.readInt16LE=function(e,t){return e>>>=0,t||S(e,2,this.length),32768&(t=this[e]|this[e+1]<<8)?4294901760|t:t},t.prototype.readInt16BE=function(e,t){return e>>>=0,t||S(e,2,this.length),32768&(t=this[e+1]|this[e]<<8)?4294901760|t:t},t.prototype.readInt32LE=function(e,t){return e>>>=0,t||S(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},t.prototype.readInt32BE=function(e,t){return e>>>=0,t||S(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},t.prototype.readFloatLE=function(e,t){return e>>>=0,t||S(e,4,this.length),i.read(this,e,!0,23,4)},t.prototype.readFloatBE=function(e,t){return e>>>=0,t||S(e,4,this.length),i.read(this,e,!1,23,4)},t.prototype.readDoubleLE=function(e,t){return e>>>=0,t||S(e,8,this.length),i.read(this,e,!0,52,8)},t.prototype.readDoubleBE=function(e,t){return e>>>=0,t||S(e,8,this.length),i.read(this,e,!1,52,8)},t.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||k(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},t.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||k(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;0<=--i&&(o*=256);)this[t+i]=e/o&255;return t+r},t.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,1,255,0),this[t]=255&e,t+1},t.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},t.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},t.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},t.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},t.prototype.writeIntLE=function(e,t,r,n){e=+e,t>>>=0,n||k(this,e,t,r,(n=Math.pow(2,8*r-1))-1,-n);var i=0,o=1,a=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},t.prototype.writeIntBE=function(e,t,r,n){e=+e,t>>>=0,n||k(this,e,t,r,(n=Math.pow(2,8*r-1))-1,-n);var i=r-1,o=1,a=0;for(this[t+i]=255&e;0<=--i&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},t.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,1,127,-128),this[t]=255&(e=e<0?255+e+1:e),t+1},t.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},t.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},t.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},t.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,4,2147483647,-2147483648),this[t]=(e=e<0?4294967295+e+1:e)>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},t.prototype.writeFloatLE=function(e,t,r){return j(this,e,t,!0,r)},t.prototype.writeFloatBE=function(e,t,r){return j(this,e,t,!1,r)},t.prototype.writeDoubleLE=function(e,t,r){return M(this,e,t,!0,r)},t.prototype.writeDoubleBE=function(e,t,r){return M(this,e,t,!1,r)},t.prototype.copy=function(e,r,n,i){if(!t.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n=n||0,i||0===i||(i=this.length),r>=e.length&&(r=e.length),(i=0<i&&i<n?n:i)===n)return 0;if(0===e.length||0===this.length)return 0;if((r=r||0)<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length);var o=(i=e.length-r<i-n?e.length-r+n:i)-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(r,n,i);else if(this===e&&n<r&&r<i)for(var a=o-1;0<=a;--a)e[a+r]=this[a+n];else Uint8Array.prototype.set.call(e,this.subarray(n,i),r);return o},t.prototype.fill=function(e,r,n,i){if("string"==typeof e){if("string"==typeof r?(i=r,r=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!t.isEncoding(i))throw new TypeError("Unknown encoding: "+i);var o;1===e.length&&(o=e.charCodeAt(0),("utf8"===i&&o<128||"latin1"===i)&&(e=o))}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");var a;if(!(n<=r))if(r>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(e=e||0))for(a=r;a<n;++a)this[a]=e;else{var s=t.isBuffer(e)?e:t.from(e,i),l=s.length;if(0===l)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(a=0;a<n-r;++a)this[a+r]=s[a%l]}return this};var C=/[^+/0-9A-Za-z-_]/g;function P(e,t){t=t||1/0;for(var r,n=e.length,i=null,o=[],a=0;a<n;++a){if(55295<(r=e.charCodeAt(a))&&r<57344){if(!i){if(56319<r){-1<(t-=3)&&o.push(239,191,189);continue}if(a+1===n){-1<(t-=3)&&o.push(239,191,189);continue}i=r;continue}if(r<56320){-1<(t-=3)&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&-1<(t-=3)&&o.push(239,191,189);if(i=null,r<128){if(--t<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function T(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(C,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function E(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function O(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function A(e){return e!=e}var L=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}()}).call(this,e("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:238}],5:[function(e,t,r){t.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},{}],6:[function(e,t,r){var n=e("../internals/is-object");t.exports=function(e){if(n(e)||null===e)return e;throw TypeError("Can't set "+String(e)+" as a prototype")}},{"../internals/is-object":74}],7:[function(e,t,r){var n=e("../internals/well-known-symbol"),i=e("../internals/object-create"),o=(e=e("../internals/object-define-property"),n("unscopables")),a=Array.prototype;null==a[o]&&e.f(a,o,{configurable:!0,value:i(null)}),t.exports=function(e){a[o][e]=!0}},{"../internals/object-create":90,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],8:[function(e,t,r){"use strict";var n=e("../internals/string-multibyte").charAt;t.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},{"../internals/string-multibyte":123}],9:[function(e,t,r){t.exports=function(e,t,r){if(e instanceof t)return e;throw TypeError("Incorrect "+(r?r+" ":"")+"invocation")}},{}],10:[function(e,t,r){var n=e("../internals/is-object");t.exports=function(e){if(n(e))return e;throw TypeError(String(e)+" is not an object")}},{"../internals/is-object":74}],11:[function(e,t,r){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},{}],12:[function(e,t,r){"use strict";function n(e){return l(e)&&u(M,c(e))}var i,o=e("../internals/array-buffer-native"),a=e("../internals/descriptors"),s=e("../internals/global"),l=e("../internals/is-object"),u=e("../internals/has"),c=e("../internals/classof"),h=e("../internals/create-non-enumerable-property"),d=e("../internals/redefine"),f=e("../internals/object-define-property").f,p=e("../internals/object-get-prototype-of"),m=e("../internals/object-set-prototype-of"),y=e("../internals/well-known-symbol"),g=(e=e("../internals/uid"),s.Int8Array),v=g&&g.prototype,b=(b=s.Uint8ClampedArray)&&b.prototype,x=g&&p(g),w=v&&p(v),S=Object.prototype,k=S.isPrototypeOf,_=(y=y("toStringTag"),e("TYPED_ARRAY_TAG")),j=o&&!!m&&"Opera"!==c(s.opera),M=(e=!1,{Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8});for(i in M)s[i]||(j=!1);if((!j||"function"!=typeof x||x===Function.prototype)&&(x=function(){throw TypeError("Incorrect invocation")},j))for(i in M)s[i]&&m(s[i],x);if((!j||!w||w===S)&&(w=x.prototype,j))for(i in M)s[i]&&m(s[i].prototype,w);if(j&&p(b)!==w&&m(b,w),a&&!u(w,y))for(i in e=!0,f(w,y,{get:function(){return l(this)?this[_]:void 0}}),M)s[i]&&h(s[i],_,i);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:j,TYPED_ARRAY_TAG:e&&_,aTypedArray:function(e){if(n(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(m){if(k.call(x,e))return e}else for(var t in M)if(u(M,i)&&(t=s[t])&&(e===t||k.call(t,e)))return e;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r){if(a){if(r)for(var n in M)(n=s[n])&&u(n.prototype,e)&&delete n.prototype[e];w[e]&&!r||d(w,e,!r&&j&&v[e]||t)}},exportTypedArrayStaticMethod:function(e,t,r){var n,i;if(a){if(m){if(r)for(n in M)(i=s[n])&&u(i,e)&&delete i[e];if(x[e]&&!r)return;try{return d(x,e,!r&&j&&g[e]||t)}catch(e){}}for(n in M)!(i=s[n])||i[e]&&!r||d(i,e,t)}},isView:function(e){return"DataView"===(e=c(e))||u(M,e)},isTypedArray:n,TypedArray:x,TypedArrayPrototype:w}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/uid":143,"../internals/well-known-symbol":146}],13:[function(e,t,r){"use strict";function n(e){return[255&e]}function i(e){return[255&e,e>>8&255]}function o(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function a(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function s(e){return U(e,23,4)}function l(e){return U(e,52,8)}function u(e,t){M(e[L],t,{get:function(){return T(this)[t]}})}function c(e,t,r,n){if((r=w(r))+t>(e=T(e)).byteLength)throw B(N);var i=T(e.buffer).bytes;return r+=e.byteOffset,e=i.slice(r,r+t),n?e:e.reverse()}function h(e,t,r,n,i,o){if((r=w(r))+t>(e=T(e)).byteLength)throw B(N);for(var a=T(e.buffer).bytes,s=r+e.byteOffset,l=n(+i),u=0;u<t;u++)a[s+u]=l[o?u:t-u-1]}var d=e("../internals/global"),f=e("../internals/descriptors"),p=e("../internals/array-buffer-native"),m=e("../internals/create-non-enumerable-property"),y=e("../internals/redefine-all"),g=e("../internals/fails"),v=e("../internals/an-instance"),b=e("../internals/to-integer"),x=e("../internals/to-length"),w=e("../internals/to-index"),S=e("../internals/ieee754"),k=e("../internals/object-get-prototype-of"),_=e("../internals/object-set-prototype-of"),j=e("../internals/object-get-own-property-names").f,M=e("../internals/object-define-property").f,C=e("../internals/array-fill"),P=e("../internals/set-to-string-tag"),T=(e=e("../internals/internal-state")).get,E=e.set,O="ArrayBuffer",A="DataView",L="prototype",N="Wrong index",R=d[O],D=R,I=d[A],F=(e=I&&I[L],Object.prototype),B=d.RangeError,U=S.pack,z=S.unpack;if(p){if(!g((function(){R(1)}))||!g((function(){new R(-1)}))||g((function(){return new R,new R(1.5),new R(NaN),R.name!=O}))){d=(D=function(e){return v(this,D),new R(w(e))})[L]=R[L];for(var q,G=j(R),V=0;G.length>V;)(q=G[V++])in D||m(D,q,R[q]);d.constructor=D}_&&k(e)!==F&&_(e,F),S=new I(new D(2));var H=e.setInt8;S.setInt8(0,2147483648),S.setInt8(1,2147483649),!S.getInt8(0)&&S.getInt8(1)||y(e,{setInt8:function(e,t){H.call(this,e,t<<24>>24)},setUint8:function(e,t){H.call(this,e,t<<24>>24)}},{unsafe:!0})}else D=function(e){v(this,D,O),e=w(e),E(this,{bytes:C.call(new Array(e),0),byteLength:e}),f||(this.byteLength=e)},I=function(e,t,r){v(this,I,A),v(e,D,A);var n=T(e).byteLength;if((t=b(t))<0||n<t)throw B("Wrong offset");if(n<t+(r=void 0===r?n-t:x(r)))throw B("Wrong length");E(this,{buffer:e,byteLength:r,byteOffset:t}),f||(this.buffer=e,this.byteLength=r,this.byteOffset=t)},f&&(u(D,"byteLength"),u(I,"buffer"),u(I,"byteLength"),u(I,"byteOffset")),y(I[L],{getInt8:function(e){return c(this,1,e)[0]<<24>>24},getUint8:function(e){return c(this,1,e)[0]},getInt16:function(e){return((e=c(this,2,e,1<arguments.length?arguments[1]:void 0))[1]<<8|e[0])<<16>>16},getUint16:function(e){return(e=c(this,2,e,1<arguments.length?arguments[1]:void 0))[1]<<8|e[0]},getInt32:function(e){return a(c(this,4,e,1<arguments.length?arguments[1]:void 0))},getUint32:function(e){return a(c(this,4,e,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(e){return z(c(this,4,e,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(e){return z(c(this,8,e,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(e,t){h(this,1,e,n,t)},setUint8:function(e,t){h(this,1,e,n,t)},setInt16:function(e,t){h(this,2,e,i,t,2<arguments.length?arguments[2]:void 0)},setUint16:function(e,t){h(this,2,e,i,t,2<arguments.length?arguments[2]:void 0)},setInt32:function(e,t){h(this,4,e,o,t,2<arguments.length?arguments[2]:void 0)},setUint32:function(e,t){h(this,4,e,o,t,2<arguments.length?arguments[2]:void 0)},setFloat32:function(e,t){h(this,4,e,s,t,2<arguments.length?arguments[2]:void 0)},setFloat64:function(e,t){h(this,8,e,l,t,2<arguments.length?arguments[2]:void 0)}});P(D,O),P(I,A),t.exports={ArrayBuffer:D,DataView:I}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/ieee754":65,"../internals/internal-state":70,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/to-index":131,"../internals/to-integer":133,"../internals/to-length":134}],14:[function(e,t,r){"use strict";var n=e("../internals/to-object"),i=e("../internals/to-absolute-index"),o=e("../internals/to-length"),a=Math.min;t.exports=[].copyWithin||function(e,t){var r=n(this),s=o(r.length),l=i(e,s),u=i(t,s),c=a((void 0===(e=2<arguments.length?arguments[2]:void 0)?s:i(e,s))-u,s-l),h=1;for(u<l&&l<u+c&&(h=-1,u+=c-1,l+=c-1);0<c--;)u in r?r[l]=r[u]:delete r[l],l+=h,u+=h;return r}},{"../internals/to-absolute-index":130,"../internals/to-length":134,"../internals/to-object":135}],15:[function(e,t,r){"use strict";var n=e("../internals/to-object"),i=e("../internals/to-absolute-index"),o=e("../internals/to-length");t.exports=function(e){for(var t,r=n(this),a=o(r.length),s=i(1<(t=arguments.length)?arguments[1]:void 0,a),l=void 0===(t=2<t?arguments[2]:void 0)?a:i(t,a);s<l;)r[s++]=e;return r}},{"../internals/to-absolute-index":130,"../internals/to-length":134,"../internals/to-object":135}],16:[function(e,t,r){"use strict";var n=e("../internals/array-iteration").forEach,i=e("../internals/array-method-is-strict");e=e("../internals/array-method-uses-to-length"),i=i("forEach"),e=e("forEach"),t.exports=i&&e?[].forEach:function(e){return n(this,e,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(e,t,r){"use strict";var n=e("../internals/function-bind-context"),i=e("../internals/to-object"),o=e("../internals/call-with-safe-iteration-closing"),a=e("../internals/is-array-iterator-method"),s=e("../internals/to-length"),l=e("../internals/create-property"),u=e("../internals/get-iterator-method");t.exports=function(e){var t,r,c,h,d,f,p=i(e),m=(e="function"==typeof this?this:Array,arguments.length),y=1<m?arguments[1]:void 0,g=void 0!==y,v=u(p),b=0;if(g&&(y=n(y,2<m?arguments[2]:void 0,2)),null==v||e==Array&&a(v))for(r=new e(t=s(p.length));b<t;b++)f=g?y(p[b],b):p[b],l(r,b,f);else for(d=(h=v.call(p)).next,r=new e;!(c=d.call(h)).done;b++)f=g?o(h,y,[c.value,b],!0):c.value,l(r,b,f);return r.length=b,r}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134,"../internals/to-object":135}],18:[function(e,t,r){function n(e){return function(t,r,n){var s,l=i(t),u=o(l.length),c=a(n,u);if(e&&r!=r){for(;c<u;)if((s=l[c++])!=s)return!0}else for(;c<u;c++)if((e||c in l)&&l[c]===r)return e||c||0;return!e&&-1}}var i=e("../internals/to-indexed-object"),o=e("../internals/to-length"),a=e("../internals/to-absolute-index");t.exports={includes:n(!0),indexOf:n(!1)}},{"../internals/to-absolute-index":130,"../internals/to-indexed-object":132,"../internals/to-length":134}],19:[function(e,t,r){function n(e){var t=1==e,r=2==e,n=3==e,c=4==e,h=6==e,d=5==e||h;return function(f,p,m,y){for(var g,v,b=a(f),x=o(b),w=i(p,m,3),S=s(x.length),k=0,_=(p=y||l,t?p(f,S):r?p(f,0):void 0);k<S;k++)if((d||k in x)&&(v=w(g=x[k],k,b),e))if(t)_[k]=v;else if(v)switch(e){case 3:return!0;case 5:return g;case 6:return k;case 2:u.call(_,g)}else if(c)return!1;return h?-1:n||c?c:_}}var i=e("../internals/function-bind-context"),o=e("../internals/indexed-object"),a=e("../internals/to-object"),s=e("../internals/to-length"),l=e("../internals/array-species-create"),u=[].push;t.exports={forEach:n(0),map:n(1),filter:n(2),some:n(3),every:n(4),find:n(5),findIndex:n(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":54,"../internals/indexed-object":66,"../internals/to-length":134,"../internals/to-object":135}],20:[function(e,t,r){"use strict";var n=e("../internals/to-indexed-object"),i=e("../internals/to-integer"),o=e("../internals/to-length"),a=e("../internals/array-method-is-strict"),s=(e=e("../internals/array-method-uses-to-length"),Math.min),l=[].lastIndexOf,u=!!l&&1/[1].lastIndexOf(1,-0)<0;a=a("lastIndexOf"),e=e("indexOf",{ACCESSORS:!0,1:0}),t.exports=!u&&a&&e?l:function(e){if(u)return l.apply(this,arguments)||0;var t=n(this),r=o(t.length),a=r-1;for((a=1<arguments.length?s(a,i(arguments[1])):a)<0&&(a=r+a);0<=a;a--)if(a in t&&t[a]===e)return a||0;return-1}},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":132,"../internals/to-integer":133,"../internals/to-length":134}],21:[function(e,t,r){var n=e("../internals/fails"),i=e("../internals/well-known-symbol"),o=e("../internals/engine-v8-version"),a=i("species");t.exports=function(e){return 51<=o||!n((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":146}],22:[function(e,t,r){"use strict";var n=e("../internals/fails");t.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){throw 1},1)}))}},{"../internals/fails":51}],23:[function(e,t,r){function n(e){throw e}var i=e("../internals/descriptors"),o=e("../internals/fails"),a=e("../internals/has"),s=Object.defineProperty,l={};t.exports=function(e,t){var r,u,c,h;return a(l,e)?l[e]:(r=[][e],u=!!a(t=t||{},"ACCESSORS")&&t.ACCESSORS,c=a(t,0)?t[0]:n,h=a(t,1)?t[1]:void 0,l[e]=!!r&&!o((function(){if(u&&!i)return!0;var e={length:-1};u?s(e,1,{enumerable:!0,get:n}):e[1]=1,r.call(e,c,h)})))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":60}],24:[function(e,t,r){function n(e){return function(t,r,n,l){i(r);var u=o(t),c=a(u),h=s(u.length),d=e?h-1:0,f=e?-1:1;if(n<2)for(;;){if(d in c){l=c[d],d+=f;break}if(d+=f,e?d<0:h<=d)throw TypeError("Reduce of empty array with no initial value")}for(;e?0<=d:d<h;d+=f)d in c&&(l=r(l,c[d],d,u));return l}}var i=e("../internals/a-function"),o=e("../internals/to-object"),a=e("../internals/indexed-object"),s=e("../internals/to-length");t.exports={left:n(!1),right:n(!0)}},{"../internals/a-function":5,"../internals/indexed-object":66,"../internals/to-length":134,"../internals/to-object":135}],25:[function(e,t,r){var n=e("../internals/is-object"),i=e("../internals/is-array"),o=e("../internals/well-known-symbol")("species");t.exports=function(e,t){var r;return new(void 0===(r=i(e)&&("function"==typeof(r=e.constructor)&&(r===Array||i(r.prototype))||n(r)&&null===(r=r[o]))?void 0:r)?Array:r)(0===t?0:t)}},{"../internals/is-array":72,"../internals/is-object":74,"../internals/well-known-symbol":146}],26:[function(e,t,r){var n=e("../internals/an-object");t.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){throw void 0!==(i=e.return)&&n(i.call(e)),t}}},{"../internals/an-object":10}],27:[function(e,t,r){var n=e("../internals/well-known-symbol")("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[n]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}t.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var o={};o[n]=function(){return{next:function(){return{done:r=!0}}}},e(o)}catch(e){}return r}},{"../internals/well-known-symbol":146}],28:[function(e,t,r){var n={}.toString;t.exports=function(e){return n.call(e).slice(8,-1)}},{}],29:[function(e,t,r){var n=e("../internals/to-string-tag-support"),i=e("../internals/classof-raw"),o=e("../internals/well-known-symbol")("toStringTag"),a="Arguments"==i(function(){return arguments}());t.exports=n?i:function(e){var t;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(t=function(e,t){try{return e[t]}catch(e){}}(e=Object(e),o))?t:a?i(e):"Object"==(t=i(e))&&"function"==typeof e.callee?"Arguments":t}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":139,"../internals/well-known-symbol":146}],30:[function(e,t,r){"use strict";var n=e("../internals/object-define-property").f,i=e("../internals/object-create"),o=e("../internals/redefine-all"),a=e("../internals/function-bind-context"),s=e("../internals/an-instance"),l=e("../internals/iterate"),u=e("../internals/define-iterator"),c=e("../internals/set-species"),h=e("../internals/descriptors"),d=e("../internals/internal-metadata").fastKey,f=(e=e("../internals/internal-state")).set,p=e.getterFor;t.exports={getConstructor:function(e,t,r,u){function c(e,t,r){var n,i=g(e),o=m(e,t);return o?o.value=r:(i.last=o={index:n=d(t,!0),key:t,value:r,previous:t=i.last,next:void 0,removed:!1},i.first||(i.first=o),t&&(t.next=o),h?i.size++:e.size++,"F"!==n&&(i.index[n]=o)),e}function m(e,t){e=g(e);var r,n=d(t);if("F"!==n)return e.index[n];for(r=e.first;r;r=r.next)if(r.key==t)return r}var y=e((function(e,n){s(e,y,t),f(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),h||(e.size=0),null!=n&&l(n,e[u],e,r)})),g=p(t);return o(y.prototype,{clear:function(){for(var e=g(this),t=e.index,r=e.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete t[r.index],r=r.next;e.first=e.last=void 0,h?e.size=0:this.size=0},delete:function(e){var t,r,n=g(this);return(e=m(this,e))&&(t=e.next,r=e.previous,delete n.index[e.index],e.removed=!0,r&&(r.next=t),t&&(t.previous=r),n.first==e&&(n.first=t),n.last==e&&(n.last=r),h?n.size--:this.size--),!!e},forEach:function(e){for(var t,r=g(this),n=a(e,1<arguments.length?arguments[1]:void 0,3);t=t?t.next:r.first;)for(n(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!m(this,e)}}),o(y.prototype,r?{get:function(e){return(e=m(this,e))&&e.value},set:function(e,t){return c(this,0===e?0:e,t)}}:{add:function(e){return c(this,e=0===e?0:e,e)}}),h&&n(y.prototype,"size",{get:function(){return g(this).size}}),y},setStrong:function(e,t,r){var n=t+" Iterator",i=p(t),o=p(n);u(e,t,(function(e,t){f(this,{type:n,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,r=e.last;r&&r.removed;)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?"keys"==t?{value:r.key,done:!1}:"values"==t?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:{value:e.target=void 0,done:!0}}),r?"entries":"values",!r,!0),c(t)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":54,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/iterate":77,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/redefine-all":107,"../internals/set-species":116}],31:[function(e,t,r){"use strict";function n(e){return e.frozen||(e.frozen=new i)}function i(){this.entries=[]}function o(e,t){return y(e.entries,(function(e){return e[0]===t}))}var a=e("../internals/redefine-all"),s=e("../internals/internal-metadata").getWeakData,l=e("../internals/an-object"),u=e("../internals/is-object"),c=e("../internals/an-instance"),h=e("../internals/iterate"),d=e("../internals/array-iteration"),f=e("../internals/has"),p=(e=e("../internals/internal-state")).set,m=e.getterFor,y=d.find,g=d.findIndex,v=0;i.prototype={get:function(e){if(e=o(this,e))return e[1]},has:function(e){return!!o(this,e)},set:function(e,t){var r=o(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(e){var t=g(this.entries,(function(t){return t[0]===e}));return~t&&this.entries.splice(t,1),!!~t}},t.exports={getConstructor:function(e,t,r,i){function o(e,t,r){var i=y(e),o=s(l(t),!0);return!0===o?n(i).set(t,r):o[i.id]=r,e}var d=e((function(e,n){c(e,d,t),p(e,{type:t,id:v++,frozen:void 0}),null!=n&&h(n,e[i],e,r)})),y=m(t);return a(d.prototype,{delete:function(e){var t,r=y(this);return!!u(e)&&(!0===(t=s(e))?n(r).delete(e):t&&f(t,r.id)&&delete t[r.id])},has:function(e){var t,r=y(this);return!!u(e)&&(!0===(t=s(e))?n(r).has(e):t&&f(t,r.id))}}),a(d.prototype,r?{get:function(e){var t,r=y(this);if(u(e))return!0===(t=s(e))?n(r).get(e):t?t[r.id]:void 0},set:function(e,t){return o(this,e,t)}}:{add:function(e){return o(this,e,!0)}}),d}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":60,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine-all":107}],32:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/global"),o=e("../internals/is-forced"),a=e("../internals/redefine"),s=e("../internals/internal-metadata"),l=e("../internals/iterate"),u=e("../internals/an-instance"),c=e("../internals/is-object"),h=e("../internals/fails"),d=e("../internals/check-correctness-of-iteration"),f=e("../internals/set-to-string-tag"),p=e("../internals/inherit-if-required");t.exports=function(e,t,r){function m(e){var t=j[e];a(j,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(S&&!c(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return S&&!c(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(S&&!c(e))&&t.call(this,0===e?0:e)}:function(e,r){return t.call(this,0===e?0:e,r),this})}var y,g,v,b,x,w=-1!==e.indexOf("Map"),S=-1!==e.indexOf("Weak"),k=w?"set":"add",_=i[e],j=_&&_.prototype,M=_,C={};return o(e,"function"!=typeof _||!(S||j.forEach&&!h((function(){(new _).entries().next()}))))?(M=r.getConstructor(t,e,w,k),s.REQUIRED=!0):o(e,!0)&&(g=(y=new M)[k](S?{}:-0,1)!=y,v=h((function(){y.has(1)})),b=d((function(e){new _(e)})),x=!S&&h((function(){for(var e=new _,t=5;t--;)e[k](t,t);return!e.has(-0)})),b||(((M=t((function(t,r){return u(t,M,e),t=p(new _,t,M),null!=r&&l(r,t[k],t,w),t}))).prototype=j).constructor=M),(v||x)&&(m("delete"),m("has"),w&&m("get")),(x||g)&&m(k),S&&j.clear&&delete j.clear),C[e]=M,n({global:!0,forced:M!=_},C),f(M,e),S||r.setStrong(M,e,w),M}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-metadata":69,"../internals/is-forced":73,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine":108,"../internals/set-to-string-tag":117}],33:[function(e,t,r){var n=e("../internals/has"),i=e("../internals/own-keys"),o=e("../internals/object-get-own-property-descriptor"),a=e("../internals/object-define-property");t.exports=function(e,t){for(var r=i(t),s=a.f,l=o.f,u=0;u<r.length;u++){var c=r[u];n(e,c)||s(e,c,l(t,c))}}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/own-keys":103}],34:[function(e,t,r){var n=e("../internals/well-known-symbol")("match");t.exports=function(t){var r=/./;try{"/./"[t](r)}catch(e){try{return r[n]=!1,"/./"[t](r)}catch(e){}}return!1}},{"../internals/well-known-symbol":146}],35:[function(e,t,r){e=e("../internals/fails"),t.exports=!e((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},{"../internals/fails":51}],36:[function(e,t,r){var n=e("../internals/require-object-coercible"),i=/"/g;t.exports=function(e,t,r,o){e=String(n(e));var a="<"+t;return""!==r&&(a+=" "+r+'="'+String(o).replace(i,"&quot;")+'"'),a+">"+e+"</"+t+">"}},{"../internals/require-object-coercible":113}],37:[function(e,t,r){"use strict";function n(){return this}var i=e("../internals/iterators-core").IteratorPrototype,o=e("../internals/object-create"),a=e("../internals/create-property-descriptor"),s=e("../internals/set-to-string-tag"),l=e("../internals/iterators");t.exports=function(e,t,r){return t+=" Iterator",e.prototype=o(i,{next:a(1,r)}),s(e,t,!1,!0),l[t]=n,e}},{"../internals/create-property-descriptor":39,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-create":90,"../internals/set-to-string-tag":117}],38:[function(e,t,r){var n=e("../internals/descriptors"),i=e("../internals/object-define-property"),o=e("../internals/create-property-descriptor");t.exports=n?function(e,t,r){return i.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":92}],39:[function(e,t,r){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],40:[function(e,t,r){"use strict";var n=e("../internals/to-primitive"),i=e("../internals/object-define-property"),o=e("../internals/create-property-descriptor");t.exports=function(e,t,r){(t=n(t))in e?i.f(e,t,o(0,r)):e[t]=r}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":92,"../internals/to-primitive":138}],41:[function(e,t,r){"use strict";function n(){return this}var i=e("../internals/export"),o=e("../internals/create-iterator-constructor"),a=e("../internals/object-get-prototype-of"),s=e("../internals/object-set-prototype-of"),l=e("../internals/set-to-string-tag"),u=e("../internals/create-non-enumerable-property"),c=e("../internals/redefine"),h=e("../internals/well-known-symbol"),d=e("../internals/is-pure"),f=e("../internals/iterators"),p=(e=e("../internals/iterators-core")).IteratorPrototype,m=e.BUGGY_SAFARI_ITERATORS,y=h("iterator"),g="values",v="entries";t.exports=function(e,t,r,h,b,x,w){function S(e){if(e===b&&P)return P;if(!m&&e in M)return M[e];switch(e){case"keys":case g:case v:return function(){return new r(this,e)}}return function(){return new r(this)}}o(r,t,h),h=t+" Iterator";var k,_,j=!1,M=e.prototype,C=M[y]||M["@@iterator"]||b&&M[b],P=!m&&C||S(b),T="Array"==t&&M.entries||C;if(T&&(T=a(T.call(new e)),p!==Object.prototype&&T.next&&(d||a(T)===p||(s?s(T,p):"function"!=typeof T[y]&&u(T,y,n)),l(T,h,!0,!0),d&&(f[h]=n))),b==g&&C&&C.name!==g&&(j=!0,P=function(){return C.call(this)}),d&&!w||M[y]===P||u(M,y,P),f[t]=P,b)if(k={values:S(g),keys:x?P:S("keys"),entries:S(v)},w)for(_ in k)!m&&!j&&_ in M||c(M,_,k[_]);else i({target:t,proto:!0,forced:m||j},k);return k}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":75,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":146}],42:[function(e,t,r){var n=e("../internals/path"),i=e("../internals/has"),o=e("../internals/well-known-symbol-wrapped"),a=e("../internals/object-define-property").f;t.exports=function(e){var t=n.Symbol||(n.Symbol={});i(t,e)||a(t,e,{value:o.f(e)})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/path":104,"../internals/well-known-symbol-wrapped":145}],43:[function(e,t,r){e=e("../internals/fails"),t.exports=!e((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},{"../internals/fails":51}],44:[function(e,t,r){var n=e("../internals/global"),i=(e=e("../internals/is-object"),n.document),o=e(i)&&e(i.createElement);t.exports=function(e){return o?i.createElement(e):{}}},{"../internals/global":59,"../internals/is-object":74}],45:[function(e,t,r){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(e,t,r){e=e("../internals/engine-user-agent"),t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(e)},{"../internals/engine-user-agent":47}],47:[function(e,t,r){e=e("../internals/get-built-in"),t.exports=e("navigator","userAgent")||""},{"../internals/get-built-in":56}],48:[function(e,t,r){var n,i,o=e("../internals/global");e=e("../internals/engine-user-agent"),(o=(o=(o=o.process)&&o.versions)&&o.v8)?i=(n=o.split("."))[0]+n[1]:e&&(!(n=e.match(/Edge\/(\d+)/))||74<=n[1])&&(n=e.match(/Chrome\/(\d+)/))&&(i=n[1]),t.exports=i&&+i},{"../internals/engine-user-agent":47,"../internals/global":59}],49:[function(e,t,r){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(e,t,r){var n=e("../internals/global"),i=e("../internals/object-get-own-property-descriptor").f,o=e("../internals/create-non-enumerable-property"),a=e("../internals/redefine"),s=e("../internals/set-global"),l=e("../internals/copy-constructor-properties"),u=e("../internals/is-forced");t.exports=function(e,t){var r,c,h,d=e.target,f=e.global,p=e.stat,m=f?n:p?n[d]||s(d,{}):(n[d]||{}).prototype;if(m)for(r in t){if(c=t[r],h=e.noTargetGet?(h=i(m,r))&&h.value:m[r],!u(f?r:d+(p?".":"#")+r,e.forced)&&void 0!==h){if(typeof c==typeof h)continue;l(c,h)}(e.sham||h&&h.sham)&&o(c,"sham",!0),a(m,r,c,e)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/is-forced":73,"../internals/object-get-own-property-descriptor":93,"../internals/redefine":108,"../internals/set-global":115}],51:[function(e,t,r){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],52:[function(e,t,r){"use strict";e("../modules/es.regexp.exec");var n=e("../internals/redefine"),i=e("../internals/fails"),o=e("../internals/well-known-symbol"),a=e("../internals/regexp-exec"),s=e("../internals/create-non-enumerable-property"),l=o("species"),u=!i((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),c="$0"==="a".replace(/./,"$0"),h=!!/./[e=o("replace")]&&""===/./[e]("a","$0"),d=!i((function(){var e=(t=/(?:)/).exec,t=(t.exec=function(){return e.apply(this,arguments)},"ab".split(t));return 2!==t.length||"a"!==t[0]||"b"!==t[1]}));t.exports=function(e,t,r,f){var p,m,y=o(e),g=!i((function(){var t={};return t[y]=function(){return 7},7!=""[e](t)})),v=g&&!i((function(){var t=!1,r=/a/;return"split"===e&&((r={constructor:{}}).constructor[l]=function(){return r},r.flags="",r[y]=/./[y]),r.exec=function(){return t=!0,null},r[y](""),!t}));g&&v&&("replace"!==e||u&&c&&!h)&&("split"!==e||d)||(p=/./[y],r=(v=r(y,""[e],(function(e,t,r,n,i){return t.exec===a?g&&!i?{done:!0,value:p.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}),{REPLACE_KEEPS_$0:c,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}))[0],m=v[1],n(String.prototype,e,r),n(RegExp.prototype,y,2==t?function(e,t){return m.call(e,this,t)}:function(e){return m.call(e,this)})),f&&s(RegExp.prototype[y],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-exec":110,"../internals/well-known-symbol":146,"../modules/es.regexp.exec":181}],53:[function(e,t,r){e=e("../internals/fails"),t.exports=!e((function(){return Object.isExtensible(Object.preventExtensions({}))}))},{"../internals/fails":51}],54:[function(e,t,r){var n=e("../internals/a-function");t.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},{"../internals/a-function":5}],55:[function(e,t,r){"use strict";var n=e("../internals/a-function"),i=e("../internals/is-object"),o=[].slice,a={};t.exports=Function.bind||function(e){var t=n(this),r=o.call(arguments,1),s=function n(){var i=r.concat(o.call(arguments));if(this instanceof n){var s=t,l=i.length,u=i;if(!(l in a)){for(var c=[],h=0;h<l;h++)c[h]="a["+h+"]";a[l]=Function("C,a","return new C("+c.join(",")+")")}return a[l](s,u)}return t.apply(e,i)};return i(t.prototype)&&(s.prototype=t.prototype),s}},{"../internals/a-function":5,"../internals/is-object":74}],56:[function(e,t,r){function n(e){return"function"==typeof e?e:void 0}var i=e("../internals/path"),o=e("../internals/global");t.exports=function(e,t){return arguments.length<2?n(i[e])||n(o[e]):i[e]&&i[e][t]||o[e]&&o[e][t]}},{"../internals/global":59,"../internals/path":104}],57:[function(e,t,r){var n=e("../internals/classof"),i=e("../internals/iterators"),o=e("../internals/well-known-symbol")("iterator");t.exports=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[n(e)]}},{"../internals/classof":29,"../internals/iterators":79,"../internals/well-known-symbol":146}],58:[function(e,t,r){var n=e("../internals/an-object"),i=e("../internals/get-iterator-method");t.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return n(t.call(e))}},{"../internals/an-object":10,"../internals/get-iterator-method":57}],59:[function(e,t,n){(function(e){function r(e){return e&&e.Math==Math&&e}t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof e&&e)||Function("return this")()}).call(this,"undefined"!=typeof r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],60:[function(e,t,r){var n={}.hasOwnProperty;t.exports=function(e,t){return n.call(e,t)}},{}],61:[function(e,t,r){t.exports={}},{}],62:[function(e,t,r){var n=e("../internals/global");t.exports=function(e,t){var r=n.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))}},{"../internals/global":59}],63:[function(e,t,r){e=e("../internals/get-built-in"),t.exports=e("document","documentElement")},{"../internals/get-built-in":56}],64:[function(e,t,r){var n=e("../internals/descriptors"),i=e("../internals/fails"),o=e("../internals/document-create-element");t.exports=!n&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],65:[function(e,t,r){var n=Math.abs,i=Math.pow,o=Math.floor,a=Math.log,s=Math.LN2;t.exports={pack:function(e,t,r){var l,u,c,h=new Array(r),d=8*r-t-1,f=(r=(1<<d)-1)>>1,p=23===t?i(2,-24)-i(2,-77):0,m=e<0||0===e&&1/e<0?1:0,y=0;for((e=n(e))!=e||e===1/0?(u=e!=e?1:0,l=r):(l=o(a(e)/s),e*(c=i(2,-l))<1&&(l--,c*=2),2<=(e+=1<=l+f?p/c:p*i(2,1-f))*c&&(l++,c/=2),r<=l+f?(u=0,l=r):1<=l+f?(u=(e*c-1)*i(2,t),l+=f):(u=e*i(2,f-1)*i(2,t),l=0));8<=t;h[y++]=255&u,u/=256,t-=8);for(l=l<<t|u,d+=t;0<d;h[y++]=255&l,l/=256,d-=8);return h[--y]|=128*m,h},unpack:function(e,t){var r,n,o=e.length,a=(1<<(n=8*o-t-1))-1,s=a>>1,l=n-7,u=o-1,c=127&(n=e[u--]);for(n>>=7;0<l;c=256*c+e[u],u--,l-=8);for(r=c&(1<<-l)-1,c>>=-l,l+=t;0<l;r=256*r+e[u],u--,l-=8);if(0===c)c=1-s;else{if(c===a)return r?NaN:n?-1/0:1/0;r+=i(2,t),c-=s}return(n?-1:1)*r*i(2,c-t)}}},{}],66:[function(e,t,r){var n=e("../internals/fails"),i=e("../internals/classof-raw"),o="".split;t.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],67:[function(e,t,r){var n=e("../internals/is-object"),i=e("../internals/object-set-prototype-of");t.exports=function(e,t,r){return i&&"function"==typeof(t=t.constructor)&&t!==r&&n(t=t.prototype)&&t!==r.prototype&&i(e,t),e}},{"../internals/is-object":74,"../internals/object-set-prototype-of":101}],68:[function(e,t,r){e=e("../internals/shared-store");var n=Function.toString;"function"!=typeof e.inspectSource&&(e.inspectSource=function(e){return n.call(e)}),t.exports=e.inspectSource},{"../internals/shared-store":119}],69:[function(e,t,r){function n(e){s(e,c,{value:{objectID:"O"+ ++h,weakData:{}}})}var i=e("../internals/hidden-keys"),o=e("../internals/is-object"),a=e("../internals/has"),s=e("../internals/object-define-property").f,l=e("../internals/uid"),u=e("../internals/freezing"),c=l("meta"),h=0,d=Object.isExtensible||function(){return!0},f=t.exports={REQUIRED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,c)){if(!d(e))return"F";if(!t)return"E";n(e)}return e[c].objectID},getWeakData:function(e,t){if(!a(e,c)){if(!d(e))return!0;if(!t)return!1;n(e)}return e[c].weakData},onFreeze:function(e){return u&&f.REQUIRED&&d(e)&&!a(e,c)&&n(e),e}};i[c]=!0},{"../internals/freezing":53,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/uid":143}],70:[function(e,t,r){var n,i,o,a,s,l,u,c,h=e("../internals/native-weak-map"),d=e("../internals/global"),f=e("../internals/is-object"),p=e("../internals/create-non-enumerable-property"),m=e("../internals/has"),y=e("../internals/shared-key");e=e("../internals/hidden-keys"),d=d.WeakMap,u=h?(n=new d,i=n.get,o=n.has,a=n.set,s=function(e,t){return a.call(n,e,t),t},l=function(e){return i.call(n,e)||{}},function(e){return o.call(n,e)}):(e[c=y("state")]=!0,s=function(e,t){return p(e,c,t),t},l=function(e){return m(e,c)?e[c]:{}},function(e){return m(e,c)}),t.exports={set:s,get:l,has:u,enforce:function(e){return u(e)?l(e):s(e,{})},getterFor:function(e){return function(t){if(f(t)&&(t=l(t)).type===e)return t;throw TypeError("Incompatible receiver, "+e+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/shared-key":118}],71:[function(e,t,r){var n=e("../internals/well-known-symbol"),i=e("../internals/iterators"),o=n("iterator"),a=Array.prototype;t.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},{"../internals/iterators":79,"../internals/well-known-symbol":146}],72:[function(e,t,r){var n=e("../internals/classof-raw");t.exports=Array.isArray||function(e){return"Array"==n(e)}},{"../internals/classof-raw":28}],73:[function(e,t,r){function n(e,t){return(e=s[a(e)])==u||e!=l&&("function"==typeof t?i(t):!!t)}var i=e("../internals/fails"),o=/#|\.prototype\./,a=n.normalize=function(e){return String(e).replace(o,".").toLowerCase()},s=n.data={},l=n.NATIVE="N",u=n.POLYFILL="P";t.exports=n},{"../internals/fails":51}],74:[function(e,t,r){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],75:[function(e,t,r){t.exports=!1},{}],76:[function(e,t,r){var n=e("../internals/is-object"),i=e("../internals/classof-raw"),o=e("../internals/well-known-symbol")("match");t.exports=function(e){var t;return n(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},{"../internals/classof-raw":28,"../internals/is-object":74,"../internals/well-known-symbol":146}],77:[function(e,t,r){function n(e,t){this.stopped=e,this.result=t}var i=e("../internals/an-object"),o=e("../internals/is-array-iterator-method"),a=e("../internals/to-length"),s=e("../internals/function-bind-context"),l=e("../internals/get-iterator-method"),u=e("../internals/call-with-safe-iteration-closing");(t.exports=function(e,t,r,c,h){var d,f,p,m,y,g,v=s(t,r,c?2:1);if(h)d=e;else{if("function"!=typeof(t=l(e)))throw TypeError("Target is not iterable");if(o(t)){for(f=0,p=a(e.length);f<p;f++)if((m=c?v(i(g=e[f])[0],g[1]):v(e[f]))&&m instanceof n)return m;return new n(!1)}d=t.call(e)}for(y=d.next;!(g=y.call(d)).done;)if("object"==typeof(m=u(d,v,g.value,c))&&m&&m instanceof n)return m;return new n(!1)}).stop=function(e){return new n(!0,e)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134}],78:[function(e,t,r){"use strict";var n,i,o=e("../internals/object-get-prototype-of"),a=e("../internals/create-non-enumerable-property"),s=e("../internals/has"),l=e("../internals/well-known-symbol"),u=(e=e("../internals/is-pure"),l=l("iterator"),!1);[].keys&&("next"in(i=[].keys())?(o=o(o(i)))!==Object.prototype&&(n=o):u=!0),null==n&&(n={}),e||s(n,l)||a(n,l,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:u}},{"../internals/create-non-enumerable-property":38,"../internals/has":60,"../internals/is-pure":75,"../internals/object-get-prototype-of":97,"../internals/well-known-symbol":146}],79:[function(e,t,r){t.exports={}},{}],80:[function(e,t,r){t.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},{}],81:[function(e,t,r){var n,i,o,a,s,l,u,c,h=e("../internals/global"),d=e("../internals/object-get-own-property-descriptor").f,f=e("../internals/classof-raw"),p=e("../internals/task").set,m=(e=e("../internals/engine-is-ios"),h.MutationObserver||h.WebKitMutationObserver),y=h.process,g=h.Promise,v="process"==f(y);f=d(h,"queueMicrotask"),(d=f&&f.value)||(n=function(){var e,t;for(v&&(e=y.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?a():o=void 0,e}}o=void 0,e&&e.enter()},a=v?function(){y.nextTick(n)}:m&&!e?(s=!0,l=document.createTextNode(""),new m(n).observe(l,{characterData:!0}),function(){l.data=s=!s}):g&&g.resolve?(u=g.resolve(void 0),c=u.then,function(){c.call(u,n)}):function(){p.call(h,n)}),t.exports=d||function(e){e={fn:e,next:void 0},o&&(o.next=e),i||(i=e,a()),o=e}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":59,"../internals/object-get-own-property-descriptor":93,"../internals/task":128}],82:[function(e,t,r){e=e("../internals/global"),t.exports=e.Promise},{"../internals/global":59}],83:[function(e,t,r){e=e("../internals/fails"),t.exports=!!Object.getOwnPropertySymbols&&!e((function(){return!String(Symbol())}))},{"../internals/fails":51}],84:[function(e,t,r){var n=e("../internals/fails"),i=e("../internals/well-known-symbol"),o=e("../internals/is-pure"),a=i("iterator");t.exports=!n((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),r+=n+e})),o&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},{"../internals/fails":51,"../internals/is-pure":75,"../internals/well-known-symbol":146}],85:[function(e,t,r){var n=e("../internals/global");e=e("../internals/inspect-source"),n=n.WeakMap,t.exports="function"==typeof n&&/native code/.test(e(n))},{"../internals/global":59,"../internals/inspect-source":68}],86:[function(e,t,r){"use strict";function n(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=i(t),this.reject=i(r)}var i=e("../internals/a-function");t.exports.f=function(e){return new n(e)}},{"../internals/a-function":5}],87:[function(e,t,r){var n=e("../internals/is-regexp");t.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},{"../internals/is-regexp":76}],88:[function(e,t,r){var n=e("../internals/global").isFinite;t.exports=Number.isFinite||function(e){return"number"==typeof e&&n(e)}},{"../internals/global":59}],89:[function(e,t,r){"use strict";var n=e("../internals/descriptors"),i=e("../internals/fails"),o=e("../internals/object-keys"),a=e("../internals/object-get-own-property-symbols"),s=e("../internals/object-property-is-enumerable"),l=e("../internals/to-object"),u=e("../internals/indexed-object"),c=Object.assign,h=Object.defineProperty;t.exports=!c||i((function(){var e,t,r,i;return!(!n||1===c({b:1},c(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)||(t={},i="abcdefghijklmnopqrst",(e={})[r=Symbol()]=7,i.split("").forEach((function(e){t[e]=e})),7!=c({},e)[r]||o(c({},t)).join("")!=i)}))?function(e,t){for(var r=l(e),i=arguments.length,c=1,h=a.f,d=s.f;c<i;)for(var f,p=u(arguments[c++]),m=h?o(p).concat(h(p)):o(p),y=m.length,g=0;g<y;)f=m[g++],n&&!d.call(p,f)||(r[f]=p[f]);return r}:c},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":66,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/to-object":135}],90:[function(e,t,r){function n(){}var i,o=e("../internals/an-object"),a=e("../internals/object-define-properties"),s=e("../internals/enum-bug-keys"),l=e("../internals/hidden-keys"),u=e("../internals/html"),c=e("../internals/document-create-element"),h=(e=e("../internals/shared-key"),"prototype"),d="script",f=e("IE_PROTO"),p=function(e){return"<"+d+">"+e+"</"+d+">"},m=function(){try{i=document.domain&&new ActiveXObject("htmlfile")}catch(e){}m=i?((e=i).write(p("")),e.close(),t=e.parentWindow.Object,e=null,t):(e=c("iframe"),t="java"+d+":",e.style.display="none",u.appendChild(e),e.src=String(t),(t=e.contentWindow.document).open(),t.write(p("document.F=Object")),t.close(),t.F);for(var e,t,r=s.length;r--;)delete m[h][s[r]];return m()};l[f]=!0,t.exports=Object.create||function(e,t){var r;return null!==e?(n[h]=o(e),r=new n,n[h]=null,r[f]=e):r=m(),void 0===t?r:a(r,t)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":61,"../internals/html":63,"../internals/object-define-properties":91,"../internals/shared-key":118}],91:[function(e,t,r){var n=e("../internals/descriptors"),i=e("../internals/object-define-property"),o=e("../internals/an-object"),a=e("../internals/object-keys");t.exports=n?Object.defineProperties:function(e,t){o(e);for(var r,n=a(t),s=n.length,l=0;l<s;)i.f(e,r=n[l++],t[r]);return e}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":92,"../internals/object-keys":99}],92:[function(e,t,r){var n=e("../internals/descriptors"),i=e("../internals/ie8-dom-define"),o=e("../internals/an-object"),a=e("../internals/to-primitive"),s=Object.defineProperty;r.f=n?s:function(e,t,r){if(o(e),t=a(t,!0),o(r),i)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":64,"../internals/to-primitive":138}],93:[function(e,t,r){var n=e("../internals/descriptors"),i=e("../internals/object-property-is-enumerable"),o=e("../internals/create-property-descriptor"),a=e("../internals/to-indexed-object"),s=e("../internals/to-primitive"),l=e("../internals/has"),u=e("../internals/ie8-dom-define"),c=Object.getOwnPropertyDescriptor;r.f=n?c:function(e,t){if(e=a(e),t=s(t,!0),u)try{return c(e,t)}catch(e){}if(l(e,t))return o(!i.f.call(e,t),e[t])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":60,"../internals/ie8-dom-define":64,"../internals/object-property-is-enumerable":100,"../internals/to-indexed-object":132,"../internals/to-primitive":138}],94:[function(e,t,r){var n=e("../internals/to-indexed-object"),i=e("../internals/object-get-own-property-names").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(e){if(!a||"[object Window]"!=o.call(e))return i(n(e));try{return i(e)}catch(e){return a.slice()}}},{"../internals/object-get-own-property-names":95,"../internals/to-indexed-object":132}],95:[function(e,t,r){var n=e("../internals/object-keys-internal"),i=e("../internals/enum-bug-keys").concat("length","prototype");r.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],96:[function(e,t,r){r.f=Object.getOwnPropertySymbols},{}],97:[function(e,t,r){var n=e("../internals/has"),i=e("../internals/to-object"),o=e("../internals/shared-key"),a=(e=e("../internals/correct-prototype-getter"),o("IE_PROTO")),s=Object.prototype;t.exports=e?Object.getPrototypeOf:function(e){return e=i(e),n(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},{"../internals/correct-prototype-getter":35,"../internals/has":60,"../internals/shared-key":118,"../internals/to-object":135}],98:[function(e,t,r){var n=e("../internals/has"),i=e("../internals/to-indexed-object"),o=e("../internals/array-includes").indexOf,a=e("../internals/hidden-keys");t.exports=function(e,t){var r,s=i(e),l=0,u=[];for(r in s)!n(a,r)&&n(s,r)&&u.push(r);for(;t.length>l;)!n(s,r=t[l++])||~o(u,r)||u.push(r);return u}},{"../internals/array-includes":18,"../internals/has":60,"../internals/hidden-keys":61,"../internals/to-indexed-object":132}],99:[function(e,t,r){var n=e("../internals/object-keys-internal"),i=e("../internals/enum-bug-keys");t.exports=Object.keys||function(e){return n(e,i)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],100:[function(e,t,r){"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!n.call({1:2},1);r.f=o?function(e){return!!(e=i(this,e))&&e.enumerable}:n},{}],101:[function(e,t,r){var n=e("../internals/an-object"),i=e("../internals/a-possible-prototype");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),t=r instanceof Array}catch(r){}return function(r,o){return n(r),i(o),t?e.call(r,o):r.__proto__=o,r}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],102:[function(e,t,r){"use strict";var n=e("../internals/to-string-tag-support"),i=e("../internals/classof");t.exports=n?{}.toString:function(){return"[object "+i(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":139}],103:[function(e,t,r){var n=e("../internals/get-built-in"),i=e("../internals/object-get-own-property-names"),o=e("../internals/object-get-own-property-symbols"),a=e("../internals/an-object");t.exports=n("Reflect","ownKeys")||function(e){var t=i.f(a(e)),r=o.f;return r?t.concat(r(e)):t}},{"../internals/an-object":10,"../internals/get-built-in":56,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-symbols":96}],104:[function(e,t,r){e=e("../internals/global"),t.exports=e},{"../internals/global":59}],105:[function(e,t,r){t.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},{}],106:[function(e,t,r){var n=e("../internals/an-object"),i=e("../internals/is-object"),o=e("../internals/new-promise-capability");t.exports=function(e,t){return n(e),i(t)&&t.constructor===e?t:((0,(e=o.f(e)).resolve)(t),e.promise)}},{"../internals/an-object":10,"../internals/is-object":74,"../internals/new-promise-capability":86}],107:[function(e,t,r){var n=e("../internals/redefine");t.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},{"../internals/redefine":108}],108:[function(e,t,r){var n=e("../internals/global"),i=e("../internals/create-non-enumerable-property"),o=e("../internals/has"),a=e("../internals/set-global"),s=e("../internals/inspect-source"),l=(e=e("../internals/internal-state")).get,u=e.enforce,c=String(String).split("String");(t.exports=function(e,t,r,s){var l=!!s&&!!s.unsafe,h=!!s&&!!s.enumerable;s=!!s&&!!s.noTargetGet,"function"==typeof r&&("string"!=typeof t||o(r,"name")||i(r,"name",t),u(r).source=c.join("string"==typeof t?t:"")),e===n?h?e[t]=r:a(t,r):(l?!s&&e[t]&&(h=!0):delete e[t],h?e[t]=r:i(e,t,r))})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||s(this)}))},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/set-global":115}],109:[function(e,t,r){var n=e("./classof-raw"),i=e("./regexp-exec");t.exports=function(e,t){var r=e.exec;if("function"==typeof r){if("object"!=typeof(r=r.call(e,t)))throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},{"./classof-raw":28,"./regexp-exec":110}],110:[function(e,t,r){"use strict";var n,i,o=e("./regexp-flags"),a=(e=e("./regexp-sticky-helpers"),RegExp.prototype.exec),s=String.prototype.replace,l=a,u=(n=/a/,i=/b*/g,a.call(n,"a"),a.call(i,"a"),0!==n.lastIndex||0!==i.lastIndex),c=e.UNSUPPORTED_Y||e.BROKEN_CARET,h=void 0!==/()??/.exec("")[1];t.exports=l=u||h||c?function(e){var t,r,n,i,l=this,d=c&&l.sticky,f=o.call(l),p=l.source,m=0,y=e;return d&&(-1===(f=f.replace("y","")).indexOf("g")&&(f+="g"),y=String(e).slice(l.lastIndex),0<l.lastIndex&&(!l.multiline||l.multiline&&"\n"!==e[l.lastIndex-1])&&(p="(?: "+p+")",y=" "+y,m++),r=new RegExp("^(?:"+p+")",f)),h&&(r=new RegExp("^"+p+"$(?!\\s)",f)),u&&(t=l.lastIndex),n=a.call(d?r:l,y),d?n?(n.input=n.input.slice(m),n[0]=n[0].slice(m),n.index=l.lastIndex,l.lastIndex+=n[0].length):l.lastIndex=0:u&&n&&(l.lastIndex=l.global?n.index+n[0].length:t),h&&n&&1<n.length&&s.call(n[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(n[i]=void 0)})),n}:l},{"./regexp-flags":111,"./regexp-sticky-helpers":112}],111:[function(e,t,r){"use strict";var n=e("../internals/an-object");t.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},{"../internals/an-object":10}],112:[function(e,t,r){"use strict";function n(e,t){return RegExp(e,t)}e=e("./fails"),r.UNSUPPORTED_Y=e((function(){var e=n("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),r.BROKEN_CARET=e((function(){var e=n("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},{"./fails":51}],113:[function(e,t,r){t.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},{}],114:[function(e,t,r){t.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},{}],115:[function(e,t,r){var n=e("../internals/global"),i=e("../internals/create-non-enumerable-property");t.exports=function(t,r){try{i(n,t,r)}catch(e){n[t]=r}return r}},{"../internals/create-non-enumerable-property":38,"../internals/global":59}],116:[function(e,t,r){"use strict";var n=e("../internals/get-built-in"),i=e("../internals/object-define-property"),o=e("../internals/well-known-symbol"),a=e("../internals/descriptors"),s=o("species");t.exports=function(e){e=n(e);var t=i.f;a&&e&&!e[s]&&t(e,s,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":56,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],117:[function(e,t,r){var n=e("../internals/object-define-property").f,i=e("../internals/has"),o=e("../internals/well-known-symbol")("toStringTag");t.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],118:[function(e,t,r){var n=e("../internals/shared"),i=e("../internals/uid"),o=n("keys");t.exports=function(e){return o[e]||(o[e]=i(e))}},{"../internals/shared":120,"../internals/uid":143}],119:[function(e,t,r){var n=e("../internals/global"),i=(e=e("../internals/set-global"),"__core-js_shared__");n=n[i]||e(i,{}),t.exports=n},{"../internals/global":59,"../internals/set-global":115}],120:[function(e,t,r){var n=e("../internals/is-pure"),i=e("../internals/shared-store");(t.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.5",mode:n?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":75,"../internals/shared-store":119}],121:[function(e,t,r){var n=e("../internals/an-object"),i=e("../internals/a-function"),o=e("../internals/well-known-symbol")("species");t.exports=function(e,t){return void 0===(e=n(e).constructor)||null==(e=n(e)[o])?t:i(e)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":146}],122:[function(e,t,r){var n=e("../internals/fails");t.exports=function(e){return n((function(){var t=""[e]('"');return t!==t.toLowerCase()||3<t.split('"').length}))}},{"../internals/fails":51}],123:[function(e,t,r){function n(e){return function(t,r){t=String(o(t)),r=i(r);var n,a=t.length;return r<0||a<=r?e?"":void 0:(n=t.charCodeAt(r))<55296||56319<n||r+1===a||(a=t.charCodeAt(r+1))<56320||57343<a?e?t.charAt(r):n:e?t.slice(r,r+2):a-56320+(n-55296<<10)+65536}}var i=e("../internals/to-integer"),o=e("../internals/require-object-coercible");t.exports={codeAt:n(!1),charAt:n(!0)}},{"../internals/require-object-coercible":113,"../internals/to-integer":133}],124:[function(e,t,r){"use strict";function n(e){return e+22+75*(e<26)}function i(e){var t,r=[],i=(e=function(e){for(var t=[],r=0,n=e.length;r<n;){var i,o=e.charCodeAt(r++);55296<=o&&o<=56319&&r<n?56320==(64512&(i=e.charCodeAt(r++)))?t.push(((1023&o)<<10)+(1023&i)+65536):(t.push(o),r--):t.push(o)}return t}(e)).length,c=128,h=0,y=72;for(x=0;x<e.length;x++)(t=e[x])<128&&r.push(m(t));var g=r.length,v=g;for(g&&r.push("-");v<i;){for(var b=o,x=0;x<e.length;x++)c<=(t=e[x])&&t<b&&(b=t);var w=v+1;if(b-c>p((o-h)/w))throw RangeError(d);for(h+=(b-c)*w,c=b,x=0;x<e.length;x++){if((t=e[x])<c&&++h>o)throw RangeError(d);if(t==c){for(var S=h,k=a;;k+=a){var _=k<=y?1:y+s<=k?s:k-y;if(S<_)break;var j=S-_,M=a-_;r.push(m(n(_+j%M))),S=p(j/M)}r.push(m(n(S))),y=function(e,t,r){var n=0;for(e=r?p(e/u):e>>1,e+=p(e/t);f*s>>1<e;n+=a)e=p(e/f);return p(n+(f+1)*e/(e+l))}(h,w,v==g),h=0,++v}}++h,++c}return r.join("")}var o=2147483647,a=36,s=26,l=38,u=700,c=/[^\0-\u007E]/,h=/[.\u3002\uFF0E\uFF61]/g,d="Overflow: input needs wider integers to process",f=a-1,p=Math.floor,m=String.fromCharCode;t.exports=function(e){for(var t,r=[],n=e.toLowerCase().replace(h,".").split("."),o=0;o<n.length;o++)t=n[o],r.push(c.test(t)?"xn--"+i(t):t);return r.join(".")}},{}],125:[function(e,t,r){"use strict";var n=e("../internals/to-integer"),i=e("../internals/require-object-coercible");t.exports="".repeat||function(e){var t=String(i(this)),r="",o=n(e);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;0<o;(o>>>=1)&&(t+=t))1&o&&(r+=t);return r}},{"../internals/require-object-coercible":113,"../internals/to-integer":133}],126:[function(e,t,r){var n=e("../internals/fails"),i=e("../internals/whitespaces");t.exports=function(e){return n((function(){return!!i[e]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[e]()||i[e].name!==e}))}},{"../internals/fails":51,"../internals/whitespaces":147}],127:[function(e,t,r){function n(e){return function(t){return t=String(i(t)),1&e&&(t=t.replace(o,"")),2&e?t.replace(a,""):t}}var i=e("../internals/require-object-coercible"),o=(e="["+e("../internals/whitespaces")+"]",RegExp("^"+e+e+"*")),a=RegExp(e+e+"*$");t.exports={start:n(1),end:n(2),trim:n(3)}},{"../internals/require-object-coercible":113,"../internals/whitespaces":147}],128:[function(e,t,r){function n(e){return function(){S(e)}}function i(e){S(e.data)}function o(e){s.postMessage(e+"",f.protocol+"//"+f.host)}var a,s=e("../internals/global"),l=e("../internals/fails"),u=e("../internals/classof-raw"),c=e("../internals/function-bind-context"),h=e("../internals/html"),d=e("../internals/document-create-element"),f=(e=e("../internals/engine-is-ios"),s.location),p=s.setImmediate,m=s.clearImmediate,y=s.process,g=s.MessageChannel,v=s.Dispatch,b=0,x={},w="onreadystatechange",S=function(e){var t;x.hasOwnProperty(e)&&(t=x[e],delete x[e],t())};p&&m||(p=function(e){for(var t=[],r=1;r<arguments.length;)t.push(arguments[r++]);return x[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},a(b),b},m=function(e){delete x[e]},"process"==u(y)?a=function(e){y.nextTick(n(e))}:v&&v.now?a=function(e){v.now(n(e))}:g&&!e?(e=(u=new g).port2,u.port1.onmessage=i,a=c(e.postMessage,e,1)):!s.addEventListener||"function"!=typeof postMessage||s.importScripts||l(o)||"file:"===f.protocol?a=w in d("script")?function(e){h.appendChild(d("script"))[w]=function(){h.removeChild(this),S(e)}}:function(e){setTimeout(n(e),0)}:(a=o,s.addEventListener("message",i,!1))),t.exports={set:p,clear:m}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":54,"../internals/global":59,"../internals/html":63}],129:[function(e,t,r){var n=e("../internals/classof-raw");t.exports=function(e){if("number"!=typeof e&&"Number"!=n(e))throw TypeError("Incorrect invocation");return+e}},{"../internals/classof-raw":28}],130:[function(e,t,r){var n=e("../internals/to-integer"),i=Math.max,o=Math.min;t.exports=function(e,t){return(e=n(e))<0?i(e+t,0):o(e,t)}},{"../internals/to-integer":133}],131:[function(e,t,r){var n=e("../internals/to-integer"),i=e("../internals/to-length");t.exports=function(e){if(void 0===e)return 0;e=n(e);var t=i(e);if(e!==t)throw RangeError("Wrong length or index");return t}},{"../internals/to-integer":133,"../internals/to-length":134}],132:[function(e,t,r){var n=e("../internals/indexed-object"),i=e("../internals/require-object-coercible");t.exports=function(e){return n(i(e))}},{"../internals/indexed-object":66,"../internals/require-object-coercible":113}],133:[function(e,t,r){var n=Math.ceil,i=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(0<e?i:n)(e)}},{}],134:[function(e,t,r){var n=e("../internals/to-integer"),i=Math.min;t.exports=function(e){return 0<e?i(n(e),9007199254740991):0}},{"../internals/to-integer":133}],135:[function(e,t,r){var n=e("../internals/require-object-coercible");t.exports=function(e){return Object(n(e))}},{"../internals/require-object-coercible":113}],136:[function(e,t,r){var n=e("../internals/to-positive-integer");t.exports=function(e,t){if((e=n(e))%t)throw RangeError("Wrong offset");return e}},{"../internals/to-positive-integer":137}],137:[function(e,t,r){var n=e("../internals/to-integer");t.exports=function(e){if((e=n(e))<0)throw RangeError("The argument can't be less than 0");return e}},{"../internals/to-integer":133}],138:[function(e,t,r){var n=e("../internals/is-object");t.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e))||"function"==typeof(r=e.valueOf)&&!n(i=r.call(e))||!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":74}],139:[function(e,t,r){var n={};n[e("../internals/well-known-symbol")("toStringTag")]="z",t.exports="[object z]"===String(n)},{"../internals/well-known-symbol":146}],140:[function(e,t,r){"use strict";function n(e,t){for(var r=0,n=t.length,i=new(X(e))(n);r<n;)i[r]=t[r++];return i}function i(e,t){I(e,t,{get:function(){return R(this)[t]}})}function o(e){return e instanceof z||"ArrayBuffer"==(e=k(e))||"SharedArrayBuffer"==e}function a(e,t){return Y(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)}function s(e,t){return a(e,t=w(t,!0))?y(2,e[t]):F(e,t)}function l(e,t,r){return!(a(e,t=w(t,!0))&&_(r)&&S(r,"value"))||S(r,"get")||S(r,"set")||r.configurable||S(r,"writable")&&!r.writable||S(r,"enumerable")&&!r.enumerable?I(e,t,r):(e[t]=r.value,e)}var u=e("../internals/export"),c=e("../internals/global"),h=e("../internals/descriptors"),d=e("../internals/typed-array-constructors-require-wrappers"),f=e("../internals/array-buffer-view-core"),p=e("../internals/array-buffer"),m=e("../internals/an-instance"),y=e("../internals/create-property-descriptor"),g=e("../internals/create-non-enumerable-property"),v=e("../internals/to-length"),b=e("../internals/to-index"),x=e("../internals/to-offset"),w=e("../internals/to-primitive"),S=e("../internals/has"),k=e("../internals/classof"),_=e("../internals/is-object"),j=e("../internals/object-create"),M=e("../internals/object-set-prototype-of"),C=e("../internals/object-get-own-property-names").f,P=e("../internals/typed-array-from"),T=e("../internals/array-iteration").forEach,E=e("../internals/set-species"),O=e("../internals/object-define-property"),A=e("../internals/object-get-own-property-descriptor"),L=e("../internals/internal-state"),N=e("../internals/inherit-if-required"),R=L.get,D=L.set,I=O.f,F=A.f,B=Math.round,U=c.RangeError,z=p.ArrayBuffer,q=p.DataView,G=f.NATIVE_ARRAY_BUFFER_VIEWS,V=f.TYPED_ARRAY_TAG,H=f.TypedArray,W=f.TypedArrayPrototype,X=f.aTypedArrayConstructor,Y=f.isTypedArray,K="BYTES_PER_ELEMENT",Z="Wrong length";h?(G||(A.f=s,O.f=l,i(W,"buffer"),i(W,"byteOffset"),i(W,"byteLength"),i(W,"length")),u({target:"Object",stat:!0,forced:!G},{getOwnPropertyDescriptor:s,defineProperty:l}),t.exports=function(e,t,r){function i(e,t){I(e,t,{get:function(){var e=this,r=t;return(e=R(e)).view[l](r*a+e.byteOffset,!0)},set:function(e){var n=this,i=t;n=R(n),r&&(e=(e=B(e))<0?0:255<e?255:255&e),n.view[h](i*a+n.byteOffset,e,!0)},enumerable:!0})}var a=e.match(/\d+$/)[0]/8,s=e+(r?"Clamped":"")+"Array",l="get"+e,h="set"+e,f=c[s],p=f,y=(e=p&&p.prototype,{});G?d&&(p=t((function(e,t,r,i){return m(e,p,s),N(_(t)?o(t)?void 0!==i?new f(t,x(r,a),i):void 0!==r?new f(t,x(r,a)):new f(t):Y(t)?n(p,t):P.call(p,t):new f(b(t)),e,p)})),M&&M(p,H),T(C(f),(function(e){e in p||g(p,e,f[e])})),p.prototype=e):(p=t((function(e,t,r,l){m(e,p,s);var u,c,h=0,d=0;if(_(t)){if(!o(t))return Y(t)?n(p,t):P.call(p,t);var f=t;if(d=x(r,a),r=t.byteLength,void 0===l){if(r%a)throw U(Z);if((u=r-d)<0)throw U(Z)}else if(r<(u=v(l)*a)+d)throw U(Z);c=u/a}else c=b(t),f=new z(u=c*a);for(D(e,{buffer:f,byteOffset:d,byteLength:u,length:c,view:new q(f)});h<c;)i(e,h++)})),M&&M(p,H),e=p.prototype=j(W)),e.constructor!==p&&g(e,"constructor",p),V&&g(e,V,s),y[s]=p,u({global:!0,forced:p!=f,sham:!G},y),K in p||g(p,K,a),K in e||g(e,K,a),E(s)}):t.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-object":74,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-set-prototype-of":101,"../internals/set-species":116,"../internals/to-index":131,"../internals/to-length":134,"../internals/to-offset":136,"../internals/to-primitive":138,"../internals/typed-array-constructors-require-wrappers":141,"../internals/typed-array-from":142}],141:[function(e,t,r){var n=e("../internals/global"),i=e("../internals/fails"),o=e("../internals/check-correctness-of-iteration"),a=(e=e("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,n.ArrayBuffer),s=n.Int8Array;t.exports=!e||!i((function(){s(1)}))||!i((function(){new s(-1)}))||!o((function(e){new s,new s(null),new s(1.5),new s(e)}),!0)||i((function(){return 1!==new s(new a(2),1,void 0).length}))},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":59}],142:[function(e,t,r){var n=e("../internals/to-object"),i=e("../internals/to-length"),o=e("../internals/get-iterator-method"),a=e("../internals/is-array-iterator-method"),s=e("../internals/function-bind-context"),l=e("../internals/array-buffer-view-core").aTypedArrayConstructor;t.exports=function(e){var t,r,u,c,h,d,f=n(e),p=arguments.length,m=1<p?arguments[1]:void 0,y=void 0!==m,g=o(f);if(null!=g&&!a(g))for(d=(h=g.call(f)).next,f=[];!(c=d.call(h)).done;)f.push(c.value);for(y&&2<p&&(m=s(m,arguments[2],2)),r=i(f.length),u=new(l(this))(r),t=0;t<r;t++)u[t]=y?m(f[t],t):f[t];return u}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134,"../internals/to-object":135}],143:[function(e,t,r){var n=0,i=Math.random();t.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+i).toString(36)}},{}],144:[function(e,t,r){e=e("../internals/native-symbol"),t.exports=e&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},{"../internals/native-symbol":83}],145:[function(e,t,r){e=e("../internals/well-known-symbol"),r.f=e},{"../internals/well-known-symbol":146}],146:[function(e,t,r){var n=e("../internals/global"),i=e("../internals/shared"),o=e("../internals/has"),a=e("../internals/uid"),s=e("../internals/native-symbol"),l=(e=e("../internals/use-symbol-as-uid"),i("wks")),u=n.Symbol,c=e?u:u&&u.withoutSetter||a;t.exports=function(e){return o(l,e)||(s&&o(u,e)?l[e]=u[e]:l[e]=c("Symbol."+e)),l[e]}},{"../internals/global":59,"../internals/has":60,"../internals/native-symbol":83,"../internals/shared":120,"../internals/uid":143,"../internals/use-symbol-as-uid":144}],147:[function(e,t,r){t.exports="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},{}],148:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/global"),o=e("../internals/array-buffer"),a=(e=e("../internals/set-species"),"ArrayBuffer");o=o[a],n({global:!0,forced:i[a]!==o},{ArrayBuffer:o}),e(a)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":59,"../internals/set-species":116}],149:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/fails"),o=e("../internals/is-array"),a=e("../internals/is-object"),s=e("../internals/to-object"),l=e("../internals/to-length"),u=e("../internals/create-property"),c=e("../internals/array-species-create"),h=e("../internals/array-method-has-species-support"),d=e("../internals/well-known-symbol"),f=(e=e("../internals/engine-v8-version"),d("isConcatSpreadable")),p=9007199254740991,m="Maximum allowed index exceeded";d=51<=e||!i((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),e=h("concat"),n({target:"Array",proto:!0,forced:!d||!e},{concat:function(e){for(var t,r,n,i,h,d=s(this),y=c(d,0),g=0,v=-1,b=arguments.length;v<b;v++)if(h=void 0,a(i=n=-1===v?d:arguments[v])&&(void 0!==(h=i[f])?h:o(i))){if(r=l(n.length),p<g+r)throw TypeError(m);for(t=0;t<r;t++,g++)t in n&&u(y,g,n[t])}else{if(p<=g)throw TypeError(m);u(y,g++,n)}return y.length=g,y}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-length":134,"../internals/to-object":135,"../internals/well-known-symbol":146}],150:[function(e,t,r){var n=e("../internals/export"),i=e("../internals/array-copy-within");e=e("../internals/add-to-unscopables"),n({target:"Array",proto:!0},{copyWithin:i}),e("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],151:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/array-iteration").every,o=e("../internals/array-method-is-strict");e=e("../internals/array-method-uses-to-length"),o=o("every"),e=e("every"),n({target:"Array",proto:!0,forced:!o||!e},{every:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],152:[function(e,t,r){var n=e("../internals/export"),i=e("../internals/array-fill");e=e("../internals/add-to-unscopables"),n({target:"Array",proto:!0},{fill:i}),e("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],153:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/array-iteration").filter,o=e("../internals/array-method-has-species-support");e=e("../internals/array-method-uses-to-length"),o=o("filter"),e=e("filter"),n({target:"Array",proto:!0,forced:!o||!e},{filter:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],154:[function(e,t,r){"use strict";var n=e("../internals/export");e=e("../internals/array-for-each"),n({target:"Array",proto:!0,forced:[].forEach!=e},{forEach:e})},{"../internals/array-for-each":16,"../internals/export":50}],155:[function(e,t,r){var n=e("../internals/export"),i=e("../internals/array-from");n({target:"Array",stat:!0,forced:!e("../internals/check-correctness-of-iteration")((function(e){Array.from(e)}))},{from:i})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],156:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/array-includes").includes,o=e("../internals/add-to-unscopables");n({target:"Array",proto:!0,forced:!e("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),o("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],157:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/array-includes").indexOf,o=e("../internals/array-method-is-strict"),a=(e=e("../internals/array-method-uses-to-length"),[].indexOf),s=!!a&&1/[1].indexOf(1,-0)<0;o=o("indexOf"),e=e("indexOf",{ACCESSORS:!0,1:0}),n({target:"Array",proto:!0,forced:s||!o||!e},{indexOf:function(e){return s?a.apply(this,arguments)||0:i(this,e,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(e,t,r){"use strict";var n=e("../internals/to-indexed-object"),i=e("../internals/add-to-unscopables"),o=e("../internals/iterators"),a=e("../internals/internal-state"),s=(e=e("../internals/define-iterator"),"Array Iterator"),l=a.set,u=a.getterFor(s);t.exports=e(Array,"Array",(function(e,t){l(this,{type:s,target:n(e),index:0,kind:t})}),(function(){var e=u(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?{value:e.target=void 0,done:!0}:"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/iterators":79,"../internals/to-indexed-object":132}],159:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/indexed-object"),o=e("../internals/to-indexed-object"),a=(e=e("../internals/array-method-is-strict"),[].join);i=i!=Object,e=e("join",","),n({target:"Array",proto:!0,forced:i||!e},{join:function(e){return a.call(o(this),void 0===e?",":e)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":66,"../internals/to-indexed-object":132}],160:[function(e,t,r){e("../internals/export")({target:"Array",proto:!0,forced:(e=e("../internals/array-last-index-of"))!==[].lastIndexOf},{lastIndexOf:e})},{"../internals/array-last-index-of":20,"../internals/export":50}],161:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/array-iteration").map,o=e("../internals/array-method-has-species-support");e=e("../internals/array-method-uses-to-length"),o=o("map"),e=e("map"),n({target:"Array",proto:!0,forced:!o||!e},{map:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],162:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/is-object"),o=e("../internals/is-array"),a=e("../internals/to-absolute-index"),s=e("../internals/to-length"),l=e("../internals/to-indexed-object"),u=e("../internals/create-property"),c=e("../internals/well-known-symbol"),h=e("../internals/array-method-has-species-support"),d=(e=e("../internals/array-method-uses-to-length"),h=h("slice"),e=e("slice",{ACCESSORS:!0,0:0,1:2}),c("species")),f=[].slice,p=Math.max;n({target:"Array",proto:!0,forced:!h||!e},{slice:function(e,t){var r,n,c,h=l(this),m=s(h.length),y=a(e,m),g=a(void 0===t?m:t,m);if(o(h)&&((r="function"==typeof(r=h.constructor)&&(r===Array||o(r.prototype))||i(r)&&null===(r=r[d])?void 0:r)===Array||void 0===r))return f.call(h,y,g);for(n=new(void 0===r?Array:r)(p(g-y,0)),c=0;y<g;y++,c++)y in h&&u(n,c,h[y]);return n.length=c,n}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-absolute-index":130,"../internals/to-indexed-object":132,"../internals/to-length":134,"../internals/well-known-symbol":146}],163:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/array-iteration").some,o=e("../internals/array-method-is-strict");e=e("../internals/array-method-uses-to-length"),o=o("some"),e=e("some"),n({target:"Array",proto:!0,forced:!o||!e},{some:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/to-absolute-index"),o=e("../internals/to-integer"),a=e("../internals/to-length"),s=e("../internals/to-object"),l=e("../internals/array-species-create"),u=e("../internals/create-property"),c=e("../internals/array-method-has-species-support"),h=(e=e("../internals/array-method-uses-to-length"),c=c("splice"),e=e("splice",{ACCESSORS:!0,0:0,1:2}),Math.max),d=Math.min;n({target:"Array",proto:!0,forced:!c||!e},{splice:function(e,t){var r,n,c,f,p,m,y=s(this),g=a(y.length),v=i(e,g);if(0===(e=arguments.length)?r=n=0:n=1===e?(r=0,g-v):(r=e-2,d(h(o(t),0),g-v)),9007199254740991<g+r-n)throw TypeError("Maximum allowed length exceeded");for(c=l(y,n),f=0;f<n;f++)(p=v+f)in y&&u(c,f,y[p]);if(r<(c.length=n)){for(f=v;f<g-n;f++)m=f+r,(p=f+n)in y?y[m]=y[p]:delete y[m];for(f=g;g-n+r<f;f--)delete y[f-1]}else if(n<r)for(f=g-n;v<f;f--)m=f+r-1,(p=f+n-1)in y?y[m]=y[p]:delete y[m];for(f=0;f<r;f++)y[f+v]=arguments[f+2];return y.length=g-n+r,c}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":130,"../internals/to-integer":133,"../internals/to-length":134,"../internals/to-object":135}],165:[function(e,t,r){var n=e("../internals/descriptors"),i=(e=e("../internals/object-define-property").f,Function.prototype),o=i.toString,a=/^\s*function ([^ (]*)/;!n||"name"in i||e(i,"name",{configurable:!0,get:function(){try{return o.call(this).match(a)[1]}catch(e){return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":92}],166:[function(e,t,r){"use strict";var n=e("../internals/collection");e=e("../internals/collection-strong"),t.exports=n("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),e)},{"../internals/collection":32,"../internals/collection-strong":30}],167:[function(e,t,r){e=e("../internals/export");var n=Math.hypot,i=Math.abs,o=Math.sqrt;e({target:"Math",stat:!0,forced:!!n&&n(1/0,NaN)!==1/0},{hypot:function(e,t){for(var r,n,a=0,s=0,l=arguments.length,u=0;s<l;)u<(r=i(arguments[s++]))?(a=a*(n=u/r)*n+1,u=r):a+=0<r?(n=r/u)*n:r;return u===1/0?1/0:u*o(a)}})},{"../internals/export":50}],168:[function(e,t,r){e("../internals/export")({target:"Math",stat:!0},{sign:e("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":80}],169:[function(e,t,r){"use strict";function n(e){var t,r,n,i,o,a,s,l=h(e,!1);if("string"==typeof l&&2<l.length)if(43===(e=(l=g(l)).charCodeAt(0))||45===e){if(88===(t=l.charCodeAt(2))||120===t)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+l}for(o=(i=l.slice(2)).length,a=0;a<o;a++)if((s=i.charCodeAt(a))<48||n<s)return NaN;return parseInt(i,r)}return+l}var i=e("../internals/descriptors"),o=e("../internals/global"),a=e("../internals/is-forced"),s=e("../internals/redefine"),l=e("../internals/has"),u=e("../internals/classof-raw"),c=e("../internals/inherit-if-required"),h=e("../internals/to-primitive"),d=e("../internals/fails"),f=e("../internals/object-create"),p=e("../internals/object-get-own-property-names").f,m=e("../internals/object-get-own-property-descriptor").f,y=e("../internals/object-define-property").f,g=e("../internals/string-trim").trim,v="Number",b=o[v],x=b.prototype,w=u(f(x))==v;if(a(v,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var S,k=function e(t){t=arguments.length<1?0:t;var r=this;return r instanceof e&&(w?d((function(){x.valueOf.call(r)})):u(r)!=v)?c(new b(n(t)),r,e):n(t)},_=i?p(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),j=0;_.length>j;j++)l(b,S=_[j])&&!l(k,S)&&y(k,S,m(b,S));(k.prototype=x).constructor=k,s(o,v,k)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/is-forced":73,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/string-trim":127,"../internals/to-primitive":138}],170:[function(e,t,r){e("../internals/export")({target:"Number",stat:!0},{isFinite:e("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":88}],171:[function(e,t,r){"use strict";function n(e,t,r){return 0===t?r:t%2==1?n(e,t-1,r*e):n(e*e,t/2,r)}var i=e("../internals/export"),o=e("../internals/to-integer"),a=e("../internals/this-number-value"),s=e("../internals/string-repeat"),l=(e=e("../internals/fails"),1..toFixed),u=Math.floor;i({target:"Number",proto:!0,forced:l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!e((function(){l.call({})}))},{toFixed:function(e){function t(e,t){for(var r=-1,n=t;++r<6;)n+=e*d[r],d[r]=n%1e7,n=u(n/1e7)}function r(e){for(var t=6,r=0;0<=--t;)r+=d[t],d[t]=u(r/e),r=r%e*1e7}function i(){for(var e,t=6,r="";0<=--t;)""===r&&0!==t&&0===d[t]||(e=String(d[t]),r=""===r?e:r+s.call("0",7-e.length)+e);return r}var l,c,h=a(this),d=(e=o(e),[0,0,0,0,0,0]),f="",p="0";if(e<0||20<e)throw RangeError("Incorrect fraction digits");if(h!=h)return"NaN";if(h<=-1e21||1e21<=h)return String(h);if(h<0&&(f="-",h=-h),1e-21<h)if(h=(l=function(e){for(var t=0,r=e;4096<=r;)t+=12,r/=4096;for(;2<=r;)t+=1,r/=2;return t}(h*n(2,69,1))-69)<0?h*n(2,-l,1):h/n(2,l,1),h*=4503599627370496,0<(l=52-l)){for(t(0,h),c=e;7<=c;)t(1e7,0),c-=7;for(t(n(10,c,1),0),c=l-1;23<=c;)r(1<<23),c-=23;r(1<<c),t(1,1),r(2),p=i()}else t(0,h),t(1<<-l,0),p=i()+s.call("0",e);return 0<e?f+((h=p.length)<=e?"0."+s.call("0",e-h)+p:p.slice(0,h-e)+"."+p.slice(h-e)):f+p}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":125,"../internals/this-number-value":129,"../internals/to-integer":133}],172:[function(e,t,r){var n=e("../internals/export");e=e("../internals/object-assign"),n({target:"Object",stat:!0,forced:Object.assign!==e},{assign:e})},{"../internals/export":50,"../internals/object-assign":89}],173:[function(e,t,r){var n=e("../internals/export"),i=e("../internals/fails"),o=e("../internals/to-indexed-object"),a=e("../internals/object-get-own-property-descriptor").f;e=e("../internals/descriptors"),i=i((function(){a(1)})),n({target:"Object",stat:!0,forced:!e||i,sham:!e},{getOwnPropertyDescriptor:function(e,t){return a(o(e),t)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":93,"../internals/to-indexed-object":132}],174:[function(e,t,r){var n=e("../internals/export"),i=e("../internals/fails");e=e("../internals/object-get-own-property-names-external").f,n({target:"Object",stat:!0,forced:i((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:e})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":94}],175:[function(e,t,r){var n=e("../internals/export"),i=e("../internals/fails"),o=e("../internals/to-object"),a=e("../internals/object-get-prototype-of");e=e("../internals/correct-prototype-getter"),n({target:"Object",stat:!0,forced:i((function(){a(1)})),sham:!e},{getPrototypeOf:function(e){return a(o(e))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":97,"../internals/to-object":135}],176:[function(e,t,r){var n=e("../internals/export"),i=e("../internals/to-object"),o=e("../internals/object-keys");n({target:"Object",stat:!0,forced:e("../internals/fails")((function(){o(1)}))},{keys:function(e){return o(i(e))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":99,"../internals/to-object":135}],177:[function(e,t,r){var n=e("../internals/to-string-tag-support"),i=e("../internals/redefine");e=e("../internals/object-to-string"),n||i(Object.prototype,"toString",e,{unsafe:!0})},{"../internals/object-to-string":102,"../internals/redefine":108,"../internals/to-string-tag-support":139}],178:[function(e,t,r){"use strict";var n,i,o,a,s=e("../internals/export"),l=e("../internals/is-pure"),u=e("../internals/global"),c=e("../internals/get-built-in"),h=e("../internals/native-promise-constructor"),d=e("../internals/redefine"),f=e("../internals/redefine-all"),p=e("../internals/set-to-string-tag"),m=e("../internals/set-species"),y=e("../internals/is-object"),g=e("../internals/a-function"),v=e("../internals/an-instance"),b=e("../internals/classof-raw"),x=e("../internals/inspect-source"),w=e("../internals/iterate"),S=e("../internals/check-correctness-of-iteration"),k=e("../internals/species-constructor"),_=e("../internals/task").set,j=e("../internals/microtask"),M=e("../internals/promise-resolve"),C=e("../internals/host-report-errors"),P=e("../internals/new-promise-capability"),T=e("../internals/perform"),E=e("../internals/internal-state"),O=e("../internals/is-forced"),A=e("../internals/well-known-symbol"),L=e("../internals/engine-v8-version"),N=A("species"),R="Promise",D=E.get,I=E.set,F=E.getterFor(R),B=h,U=u.TypeError,z=u.document,q=u.process,G=c("fetch"),V=P.f,H=V,W="process"==b(q),X=!!(z&&z.createEvent&&u.dispatchEvent),Y="unhandledrejection",K="rejectionhandled",Z=1,$=2,J=1,Q=2,ee=(e=O(R,(function(){var e,t;if(x(B)===String(B)){if(66===L)return!0;if(!W&&"function"!=typeof PromiseRejectionEvent)return!0}return!(!l||B.prototype.finally)||!(51<=L&&/native code/.test(B))&&(t=function(e){e((function(){}),(function(){}))},((e=B.resolve(1)).constructor={})[N]=t,!(e.then((function(){}))instanceof t))})),A=e||!S((function(e){B.all(e).catch((function(){}))})),function(e){var t;return!(!y(e)||"function"!=typeof(t=e.then))&&t}),te=function(e,t,r){var n;t.notified||(t.notified=!0,n=t.reactions,j((function(){for(var i,o,a=t.value,s=t.state==Z,l=0;n.length>l;){var c,h,d,f=n[l++],p=s?f.ok:f.fail,m=f.resolve,y=f.reject,g=f.domain;try{p?(s||(t.rejection===Q&&function(e,t){_.call(u,(function(){W?q.emit("rejectionHandled",e):re(K,e,t.value)}))}(e,t),t.rejection=J),!0===p?c=a:(g&&g.enter(),c=p(a),g&&(g.exit(),d=!0)),c===f.promise?y(U("Promise-chain cycle")):(h=ee(c))?h.call(c,m,y):m(c)):y(a)}catch(a){g&&!d&&g.exit(),y(a)}}t.reactions=[],t.notified=!1,r&&!t.rejection&&(i=e,o=t,_.call(u,(function(){var e=o.value,t=ne(o);if(t&&(t=T((function(){W?q.emit("unhandledRejection",e,i):re(Y,i,e)})),o.rejection=W||ne(o)?Q:J,t.error))throw t.value})))})))},re=function(e,t,r){var n;X?((n=z.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),u.dispatchEvent(n)):n={promise:t,reason:r},(t=u["on"+e])?t(n):e===Y&&C("Unhandled promise rejection",r)},ne=function(e){return e.rejection!==J&&!e.parent},ie=function(e,t,r,n){return function(i){e(t,r,i,n)}},oe=function(e,t,r,n){t.done||(t.done=!0,(t=n||t).value=r,t.state=$,te(e,t,!0))},ae=function e(t,r,n,i){if(!r.done){r.done=!0,i&&(r=i);try{if(t===n)throw U("Promise can't be resolved itself");var o=ee(n);o?j((function(){var i={done:!1};try{o.call(n,ie(e,t,i,r),ie(oe,t,i,r))}catch(n){oe(t,i,n,r)}})):(r.value=n,r.state=Z,te(t,r,!1))}catch(n){oe(t,{done:!1},n,r)}}};e&&(B=function(e){v(this,B,R),g(e),n.call(this);var t=D(this);try{e(ie(ae,this,t),ie(oe,this,t))}catch(e){oe(this,t,e)}},(n=function(e){I(this,{type:R,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=f(B.prototype,{then:function(e,t){var r=F(this),n=V(k(this,B));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=W?q.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&te(this,r,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new n,t=D(e);this.promise=e,this.resolve=ie(ae,e,t),this.reject=ie(oe,e,t)},P.f=V=function(e){return e===B||e===o?new i:H(e)},l||"function"!=typeof h||(a=h.prototype.then,d(h.prototype,"then",(function(e,t){var r=this;return new B((function(e,t){a.call(r,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof G&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return M(B,G.apply(u,arguments))}}))),s({global:!0,wrap:!0,forced:e},{Promise:B}),p(B,R,!1,!0),m(R),o=c(R),s({target:R,stat:!0,forced:e},{reject:function(e){var t=V(this);return t.reject.call(void 0,e),t.promise}}),s({target:R,stat:!0,forced:l||e},{resolve:function(e){return M(l&&this===o?B:this,e)}}),s({target:R,stat:!0,forced:A},{all:function(e){var t=this,r=V(t),n=r.resolve,i=r.reject,o=T((function(){var r=g(t.resolve),o=[],a=0,s=1;w(e,(function(e){var l=a++,u=!1;o.push(void 0),s++,r.call(t,e).then((function(e){u||(u=!0,o[l]=e,--s||n(o))}),i)})),--s||n(o)}));return o.error&&i(o.value),r.promise},race:function(e){var t=this,r=V(t),n=r.reject,i=T((function(){var i=g(t.resolve);w(e,(function(e){i.call(t,e).then(r.resolve,n)}))}));return i.error&&n(i.value),r.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":56,"../internals/global":59,"../internals/host-report-errors":62,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-object":74,"../internals/is-pure":75,"../internals/iterate":77,"../internals/microtask":81,"../internals/native-promise-constructor":82,"../internals/new-promise-capability":86,"../internals/perform":105,"../internals/promise-resolve":106,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-species":116,"../internals/set-to-string-tag":117,"../internals/species-constructor":121,"../internals/task":128,"../internals/well-known-symbol":146}],179:[function(e,t,r){var n=e("../internals/export"),i=e("../internals/get-built-in"),o=e("../internals/a-function"),a=e("../internals/an-object"),s=e("../internals/is-object"),l=e("../internals/object-create"),u=e("../internals/function-bind"),c=(e=e("../internals/fails"),i("Reflect","construct")),h=e((function(){function e(){}return!(c((function(){}),[],e)instanceof e)})),d=!e((function(){c((function(){}))}));n({target:"Reflect",stat:!0,forced:i=h||d,sham:i},{construct:function(e,t){o(e),a(t);var r=arguments.length<3?e:o(arguments[2]);if(d&&!h)return c(e,t,r);if(e==r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return n.push.apply(n,t),new(u.apply(e,n))}return n=r.prototype,r=l(s(n)?n:Object.prototype),n=Function.apply.call(e,r,t),s(n)?n:r}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":55,"../internals/get-built-in":56,"../internals/is-object":74,"../internals/object-create":90}],180:[function(e,t,r){var n=e("../internals/descriptors"),i=e("../internals/global"),o=e("../internals/is-forced"),a=e("../internals/inherit-if-required"),s=e("../internals/object-define-property").f,l=e("../internals/object-get-own-property-names").f,u=e("../internals/is-regexp"),c=e("../internals/regexp-flags"),h=e("../internals/regexp-sticky-helpers"),d=e("../internals/redefine"),f=e("../internals/fails"),p=e("../internals/internal-state").set,m=e("../internals/set-species"),y=e("../internals/well-known-symbol")("match"),g=i.RegExp,v=g.prototype,b=/a/g,x=/a/g,w=new g(b)!==b,S=h.UNSUPPORTED_Y;if(n&&o("RegExp",!w||S||f((function(){return x[y]=!1,g(b)!=b||g(x)==x||"/a/i"!=g(b,"i")})))){for(var k=function e(t,r){var n,i=this instanceof e,o=u(t),s=void 0===r;return!i&&o&&t.constructor===e&&s?t:(w?o&&!s&&(t=t.source):t instanceof e&&(s&&(r=c.call(t)),t=t.source),S&&(n=!!r&&-1<r.indexOf("y"))&&(r=r.replace(/y/g,"")),o=a(w?new g(t,r):g(t,r),i?this:v,e),S&&n&&p(o,{sticky:n}),o)},_=l(g),j=0;_.length>j;)!function(e){e in k||s(k,e,{configurable:!0,get:function(){return g[e]},set:function(t){g[e]=t}})}(_[j++]);(v.constructor=k).prototype=v,d(i,"RegExp",k)}m("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-regexp":76,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/regexp-flags":111,"../internals/regexp-sticky-helpers":112,"../internals/set-species":116,"../internals/well-known-symbol":146}],181:[function(e,t,r){"use strict";var n=e("../internals/export");e=e("../internals/regexp-exec"),n({target:"RegExp",proto:!0,forced:/./.exec!==e},{exec:e})},{"../internals/export":50,"../internals/regexp-exec":110}],182:[function(e,t,r){"use strict";var n=e("../internals/redefine"),i=e("../internals/an-object"),o=e("../internals/fails"),a=e("../internals/regexp-flags"),s=(e="toString",RegExp.prototype),l=s[e],u=(o=o((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),l.name!=e);(o||u)&&n(RegExp.prototype,e,(function(){var e=i(this),t=String(e.source),r=e.flags;return"/"+t+"/"+String(void 0===r&&e instanceof RegExp&&!("flags"in s)?a.call(e):r)}),{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-flags":111}],183:[function(e,t,r){"use strict";var n=e("../internals/collection");e=e("../internals/collection-strong"),t.exports=n("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),e)},{"../internals/collection":32,"../internals/collection-strong":30}],184:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/object-get-own-property-descriptor").f,o=e("../internals/to-length"),a=e("../internals/not-a-regexp"),s=e("../internals/require-object-coercible"),l=e("../internals/correct-is-regexp-logic"),u=(e=e("../internals/is-pure"),"".endsWith),c=Math.min;l=l("endsWith"),n({target:"String",proto:!0,forced:!(!e&&!l&&(n=i(String.prototype,"endsWith"))&&!n.writable)&&!l},{endsWith:function(e){var t=String(s(this)),r=(a(e),1<arguments.length?arguments[1]:void 0),n=o(t.length);return r=void 0===r?n:c(o(r),n),n=String(e),u?u.call(t,n,r):t.slice(r-n.length,r)===n}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":134}],185:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/not-a-regexp"),o=e("../internals/require-object-coercible");n({target:"String",proto:!0,forced:!e("../internals/correct-is-regexp-logic")("includes")},{includes:function(e){return!!~String(o(this)).indexOf(i(e),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":87,"../internals/require-object-coercible":113}],186:[function(e,t,r){"use strict";var n=e("../internals/string-multibyte").charAt,i=e("../internals/internal-state"),o=(e=e("../internals/define-iterator"),"String Iterator"),a=i.set,s=i.getterFor(o);e(String,"String",(function(e){a(this,{type:o,string:String(e),index:0})}),(function(){var e=s(this),t=e.string,r=e.index;return r>=t.length?{value:void 0,done:!0}:(t=n(t,r),e.index+=t.length,{value:t,done:!1})}))},{"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/string-multibyte":123}],187:[function(e,t,r){"use strict";var n=e("../internals/fix-regexp-well-known-symbol-logic"),i=e("../internals/an-object"),o=e("../internals/to-length"),a=e("../internals/require-object-coercible"),s=e("../internals/advance-string-index"),l=e("../internals/regexp-exec-abstract");n("match",1,(function(e,t,r){return[function(t){var r=a(this),n=null==t?void 0:t[e];return void 0!==n?n.call(t,r):new RegExp(t)[e](String(r))},function(e){var n=r(t,e,this);if(n.done)return n.value;var a=i(e),u=String(this);if(!a.global)return l(a,u);for(var c=a.unicode,h=[],d=a.lastIndex=0;null!==(f=l(a,u));){var f=String(f[0]);""===(h[d]=f)&&(a.lastIndex=s(u,o(a.lastIndex),c)),d++}return 0===d?null:h}]}))},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-length":134}],188:[function(e,t,r){e("../internals/export")({target:"String",proto:!0},{repeat:e("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":125}],189:[function(e,t,r){"use strict";var n=e("../internals/fix-regexp-well-known-symbol-logic"),i=e("../internals/an-object"),o=e("../internals/to-object"),a=e("../internals/to-length"),s=e("../internals/to-integer"),l=e("../internals/require-object-coercible"),u=e("../internals/advance-string-index"),c=e("../internals/regexp-exec-abstract"),h=Math.max,d=Math.min,f=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,m=/\$([$&'`]|\d\d?)/g;n("replace",2,(function(e,t,r,n){var y=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,g=n.REPLACE_KEEPS_$0,v=y?"$":"$0";return[function(r,n){var i=l(this),o=null==r?void 0:r[e];return void 0!==o?o.call(r,i,n):t.call(String(i),r,n)},function(e,n){if(!y&&g||"string"==typeof n&&-1===n.indexOf(v)){var l=r(t,e,this,n);if(l.done)return l.value}for(var b,x=i(e),w=String(this),S="function"==typeof n,k=(S||(n=String(n)),x.global),_=(k&&(b=x.unicode,x.lastIndex=0),[]);null!==(T=c(x,w))&&(_.push(T),k);)""===String(T[0])&&(x.lastIndex=u(w,a(x.lastIndex),b));for(var j,M="",C=0,P=0;P<_.length;P++){for(var T=_[P],E=String(T[0]),O=h(d(s(T.index),w.length),0),A=[],L=1;L<T.length;L++)A.push(void 0===(j=T[L])?j:String(j));var N=T.groups,R=S?(R=[E].concat(A,O,w),void 0!==N&&R.push(N),String(n.apply(void 0,R))):function(e,r,n,i,a,s){var l=n+e.length,u=i.length,c=m;return void 0!==a&&(a=o(a),c=p),t.call(s,c,(function(t,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return e;case"`":return r.slice(0,n);case"'":return r.slice(l);case"<":s=a[o.slice(1,-1)];break;default:var c,h=+o;if(0==h)return t;if(u<h)return 0!==(c=f(h/10))&&c<=u?void 0===i[c-1]?o.charAt(1):i[c-1]+o.charAt(1):t;s=i[h-1]}return void 0===s?"":s}))}(E,w,O,A,N,n);C<=O&&(M+=w.slice(C,O)+R,C=O+E.length)}return M+w.slice(C)}]}))},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-integer":133,"../internals/to-length":134,"../internals/to-object":135}],190:[function(e,t,r){"use strict";var n=e("../internals/fix-regexp-well-known-symbol-logic"),i=e("../internals/an-object"),o=e("../internals/require-object-coercible"),a=e("../internals/same-value"),s=e("../internals/regexp-exec-abstract");n("search",1,(function(e,t,r){return[function(t){var r=o(this),n=null==t?void 0:t[e];return void 0!==n?n.call(t,r):new RegExp(t)[e](String(r))},function(e){var n,o=r(t,e,this);return o.done?o.value:(o=i(e),e=String(this),n=o.lastIndex,a(n,0)||(o.lastIndex=0),e=s(o,e),a(o.lastIndex,n)||(o.lastIndex=n),null===e?-1:e.index)}]}))},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/same-value":114}],191:[function(e,t,r){"use strict";var n=e("../internals/fix-regexp-well-known-symbol-logic"),i=e("../internals/is-regexp"),o=e("../internals/an-object"),a=e("../internals/require-object-coercible"),s=e("../internals/species-constructor"),l=e("../internals/advance-string-index"),u=e("../internals/to-length"),c=e("../internals/regexp-exec-abstract"),h=e("../internals/regexp-exec"),d=(e=e("../internals/fails"),[].push),f=Math.min,p=4294967295,m=!e((function(){return!RegExp(p,"y")}));n("split",2,(function(e,t,r){var n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(e,r){var n=String(a(this)),o=void 0===r?p:r>>>0;if(0==o)return[];if(void 0===e)return[n];if(!i(e))return t.call(n,e,o);for(var s,l,u,c=[],f=(r=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),0),m=new RegExp(e.source,r+"g");(s=h.call(m,n))&&!(f<(l=m.lastIndex)&&(c.push(n.slice(f,s.index)),1<s.length&&s.index<n.length&&d.apply(c,s.slice(1)),u=s[0].length,f=l,c.length>=o));)m.lastIndex===s.index&&m.lastIndex++;return f===n.length?!u&&m.test("")||c.push(""):c.push(n.slice(f)),c.length>o?c.slice(0,o):c}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:t.call(this,e,r)}:t;return[function(t,r){var i=a(this),o=null==t?void 0:t[e];return void 0!==o?o.call(t,i,r):n.call(String(i),t,r)},function(e,i){if((a=r(n,e,this,i,n!==t)).done)return a.value;var a=o(e),h=String(this),d=(e=s(a,RegExp),a.unicode),y=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(m?"y":"g"),g=new e(m?a:"^(?:"+a.source+")",y),v=void 0===i?p:i>>>0;if(0==v)return[];if(0===h.length)return null===c(g,h)?[h]:[];for(var b=0,x=0,w=[];x<h.length;){g.lastIndex=m?x:0;var S,k=c(g,m?h:h.slice(x));if(null===k||(S=f(u(g.lastIndex+(m?0:x)),h.length))===b)x=l(h,x,d);else{if(w.push(h.slice(b,x)),w.length===v)return w;for(var _=1;_<=k.length-1;_++)if(w.push(k[_]),w.length===v)return w;x=b=S}}return w.push(h.slice(b)),w}]}),!m)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":76,"../internals/regexp-exec":110,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/species-constructor":121,"../internals/to-length":134}],192:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/create-html");n({target:"String",proto:!0,forced:e("../internals/string-html-forced")("sub")},{sub:function(){return i(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":122}],193:[function(e,t,r){"use strict";var n=e("../internals/export"),i=e("../internals/string-trim").trim;n({target:"String",proto:!0,forced:e("../internals/string-trim-forced")("trim")},{trim:function(){return i(this)}})},{"../internals/export":50,"../internals/string-trim":127,"../internals/string-trim-forced":126}],194:[function(e,t,r){"use strict";var n,i,o,a,s,l=e("../internals/export"),u=e("../internals/descriptors"),c=e("../internals/global"),h=e("../internals/has"),d=e("../internals/is-object"),f=e("../internals/object-define-property").f,p=(e=e("../internals/copy-constructor-properties"),c.Symbol);!u||"function"!=typeof p||"description"in p.prototype&&void 0===p().description||(n={},e(i=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof i?new p(e):void 0===e?p():p(e);return""===e&&(n[t]=!0),t},p),(c=i.prototype=p.prototype).constructor=i,o=c.toString,a="Symbol(test)"==String(p("test")),s=/^Symbol\((.*)\)[^)]+$/,f(c,"description",{configurable:!0,get:function(){var e=d(this)?this.valueOf():this,t=o.call(e);return h(n,e)?"":""===(e=a?t.slice(7,-1):t.replace(s,"$1"))?void 0:e}}),l({global:!0,forced:!0},{Symbol:i}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92}],195:[function(e,t,r){e("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],196:[function(e,t,r){"use strict";function n(e,t){var r=te[e]=k(K[H]);return W(r,{type:V,tag:e,description:t}),h||(r.description=t),r}function i(e,t){v(e);var r=x(t);return t=_(r).concat(ce(r)),q(t,(function(t){h&&!ue.call(r,t)||le(e,t,r[t])})),e}function o(e,t){var r;if(e=x(e),t=w(t,!0),e!==Y||!m(te,t)||m(re,t))return!(r=$(e,t))||!m(te,t)||m(e,G)&&e[G][t]||(r.enumerable=!0),r}function a(e){e=Q(x(e));var t=[];return q(e,(function(e){m(te,e)||m(R,e)||t.push(e)})),t}var s=e("../internals/export"),l=e("../internals/global"),u=e("../internals/get-built-in"),c=e("../internals/is-pure"),h=e("../internals/descriptors"),d=e("../internals/native-symbol"),f=e("../internals/use-symbol-as-uid"),p=e("../internals/fails"),m=e("../internals/has"),y=e("../internals/is-array"),g=e("../internals/is-object"),v=e("../internals/an-object"),b=e("../internals/to-object"),x=e("../internals/to-indexed-object"),w=e("../internals/to-primitive"),S=e("../internals/create-property-descriptor"),k=e("../internals/object-create"),_=e("../internals/object-keys"),j=e("../internals/object-get-own-property-names"),M=e("../internals/object-get-own-property-names-external"),C=e("../internals/object-get-own-property-symbols"),P=e("../internals/object-get-own-property-descriptor"),T=e("../internals/object-define-property"),E=e("../internals/object-property-is-enumerable"),O=e("../internals/create-non-enumerable-property"),A=e("../internals/redefine"),L=e("../internals/shared"),N=e("../internals/shared-key"),R=e("../internals/hidden-keys"),D=e("../internals/uid"),I=e("../internals/well-known-symbol"),F=e("../internals/well-known-symbol-wrapped"),B=e("../internals/define-well-known-symbol"),U=e("../internals/set-to-string-tag"),z=e("../internals/internal-state"),q=e("../internals/array-iteration").forEach,G=N("hidden"),V="Symbol",H="prototype",W=(e=I("toPrimitive"),z.set),X=z.getterFor(V),Y=Object[H],K=l.Symbol,Z=u("JSON","stringify"),$=P.f,J=T.f,Q=M.f,ee=E.f,te=L("symbols"),re=L("op-symbols"),ne=L("string-to-symbol-registry"),ie=L("symbol-to-string-registry"),oe=(N=L("wks"),!(z=l.QObject)||!z[H]||!z[H].findChild),ae=h&&p((function(){return 7!=k(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=$(Y,t);n&&delete Y[t],J(e,t,r),n&&e!==Y&&J(Y,t,n)}:J,se=f?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof K},le=function e(t,r,n){return t===Y&&e(re,r,n),v(t),r=w(r,!0),v(n),(m(te,r)?(n.enumerable?(m(t,G)&&t[G][r]&&(t[G][r]=!1),n=k(n,{enumerable:S(0,!1)})):(m(t,G)||J(t,G,S(1,{})),t[G][r]=!0),ae):J)(t,r,n)},ue=function(e){e=w(e,!0);var t=ee.call(this,e);return!(this===Y&&m(te,e)&&!m(re,e))&&(!(t||!m(this,e)||!m(te,e)||m(this,G)&&this[G][e])||t)},ce=function(e){var t=e===Y,r=(e=Q(t?re:x(e)),[]);return q(e,(function(e){!m(te,e)||t&&!m(Y,e)||r.push(te[e])})),r};d||(A((K=function(){if(this instanceof K)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=D(e),r=function e(r){this===Y&&e.call(re,r),m(this,G)&&m(this[G],t)&&(this[G][t]=!1),ae(this,t,S(1,r))};return h&&oe&&ae(Y,t,{configurable:!0,set:r}),n(t,e)})[H],"toString",(function(){return X(this).tag})),A(K,"withoutSetter",(function(e){return n(D(e),e)})),E.f=ue,T.f=le,P.f=o,j.f=M.f=a,C.f=ce,F.f=function(e){return n(I(e),e)},h&&(J(K[H],"description",{configurable:!0,get:function(){return X(this).description}}),c||A(Y,"propertyIsEnumerable",ue,{unsafe:!0}))),s({global:!0,wrap:!0,forced:!d,sham:!d},{Symbol:K}),q(_(N),(function(e){B(e)})),s({target:V,stat:!0,forced:!d},{for:function(e){var t;return e=String(e),m(ne,e)?ne[e]:(t=K(e),ne[e]=t,ie[t]=e,t)},keyFor:function(e){if(!se(e))throw TypeError(e+" is not a symbol");if(m(ie,e))return ie[e]},useSetter:function(){oe=!0},useSimple:function(){oe=!1}}),s({target:"Object",stat:!0,forced:!d,sham:!h},{create:function(e,t){return void 0===t?k(e):i(k(e),t)},defineProperty:le,defineProperties:i,getOwnPropertyDescriptor:o}),s({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:a,getOwnPropertySymbols:ce}),s({target:"Object",stat:!0,forced:p((function(){C.f(1)}))},{getOwnPropertySymbols:function(e){return C.f(b(e))}}),Z&&s({target:"JSON",stat:!0,forced:!d||p((function(){var e=K();return"[null]"!=Z([e])||"{}"!=Z({a:e})||"{}"!=Z(Object(e))}))},{stringify:function(e,t,r){for(var n,i=[e],o=1;o<arguments.length;)i.push(arguments[o++]);if((g(n=t)||void 0!==e)&&!se(e))return y(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!se(t))return t}),i[1]=t,Z.apply(null,i)}}),K[H][e]||O(K[H],e,K[H].valueOf),U(K,V),R[G]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":56,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/internal-state":70,"../internals/is-array":72,"../internals/is-object":74,"../internals/is-pure":75,"../internals/native-symbol":83,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-names-external":94,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/shared":120,"../internals/shared-key":118,"../internals/to-indexed-object":132,"../internals/to-object":135,"../internals/to-primitive":138,"../internals/uid":143,"../internals/use-symbol-as-uid":144,"../internals/well-known-symbol":146,"../internals/well-known-symbol-wrapped":145}],197:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-copy-within"),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("copyWithin",(function(e,t){return i.call(o(this),e,t,2<arguments.length?arguments[2]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],198:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").every,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("every",(function(e){return i(o(this),e,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],199:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-fill"),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("fill",(function(e){return i.apply(o(this),arguments)}))},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],200:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").filter,o=e("../internals/species-constructor"),a=n.aTypedArray,s=n.aTypedArrayConstructor;(0,n.exportTypedArrayMethod)("filter",(function(e){for(var t=i(a(this),e,1<arguments.length?arguments[1]:void 0),r=(e=o(this,this.constructor),0),n=t.length,l=new(s(e))(n);r<n;)l[r]=t[r++];return l}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],201:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").findIndex,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("findIndex",(function(e){return i(o(this),e,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],202:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").find,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("find",(function(e){return i(o(this),e,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],203:[function(e,t,r){e("../internals/typed-array-constructor")("Float32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},{"../internals/typed-array-constructor":140}],204:[function(e,t,r){e("../internals/typed-array-constructor")("Float64",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},{"../internals/typed-array-constructor":140}],205:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").forEach,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("forEach",(function(e){i(o(this),e,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],206:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-includes").includes,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("includes",(function(e){return i(o(this),e,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],207:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-includes").indexOf,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("indexOf",(function(e){return i(o(this),e,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],208:[function(e,t,r){e("../internals/typed-array-constructor")("Int16",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},{"../internals/typed-array-constructor":140}],209:[function(e,t,r){e("../internals/typed-array-constructor")("Int32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},{"../internals/typed-array-constructor":140}],210:[function(e,t,r){"use strict";function n(){return s.call(c(this))}var i=e("../internals/global"),o=e("../internals/array-buffer-view-core"),a=e("../modules/es.array.iterator"),s=(e=e("../internals/well-known-symbol")("iterator"),i=i.Uint8Array,a.values),l=a.keys,u=a.entries,c=o.aTypedArray;a=o.exportTypedArrayMethod,i=!!(o=i&&i.prototype[e])&&("values"==o.name||null==o.name),a("entries",(function(){return u.call(c(this))})),a("keys",(function(){return l.call(c(this))})),a("values",n,!i),a(e,n,!i)},{"../internals/array-buffer-view-core":12,"../internals/global":59,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],211:[function(e,t,r){"use strict";var n=(e=e("../internals/array-buffer-view-core")).aTypedArray,i=(e=e.exportTypedArrayMethod,[].join);e("join",(function(e){return i.apply(n(this),arguments)}))},{"../internals/array-buffer-view-core":12}],212:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-last-index-of"),o=n.aTypedArray;(0,n.exportTypedArrayMethod)("lastIndexOf",(function(e){return i.apply(o(this),arguments)}))},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],213:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").map,o=e("../internals/species-constructor"),a=n.aTypedArray,s=n.aTypedArrayConstructor;(0,n.exportTypedArrayMethod)("map",(function(e){return i(a(this),e,1<arguments.length?arguments[1]:void 0,(function(e,t){return new(s(o(e,e.constructor)))(t)}))}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],214:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-reduce").right,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduceRight",(function(e){return i(o(this),e,arguments.length,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],215:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-reduce").left,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduce",(function(e){return i(o(this),e,arguments.length,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],216:[function(e,t,r){"use strict";var n=(e=e("../internals/array-buffer-view-core")).aTypedArray,i=(e=e.exportTypedArrayMethod,Math.floor);e("reverse",(function(){for(var e,t=n(this).length,r=i(t/2),o=0;o<r;)e=this[o],this[o++]=this[--t],this[t]=e;return this}))},{"../internals/array-buffer-view-core":12}],217:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/to-length"),o=e("../internals/to-offset"),a=e("../internals/to-object"),s=(e=e("../internals/fails"),n.aTypedArray);(0,n.exportTypedArrayMethod)("set",(function(e){s(this);var t=o(1<arguments.length?arguments[1]:void 0,1),r=this.length,n=a(e),l=i(n.length),u=0;if(r<l+t)throw RangeError("Wrong length");for(;u<l;)this[t+u]=n[u++]}),e((function(){new Int8Array(1).set({})})))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":134,"../internals/to-object":135,"../internals/to-offset":136}],218:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/species-constructor"),o=(e=e("../internals/fails"),n.aTypedArray),a=n.aTypedArrayConstructor,s=(n=n.exportTypedArrayMethod,[].slice);n("slice",(function(e,t){for(var r=s.call(o(this),e,t),n=(e=i(this,this.constructor),0),l=r.length,u=new(a(e))(l);n<l;)u[n]=r[n++];return u}),e((function(){new Int8Array(1).slice()})))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":121}],219:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/array-iteration").some,o=n.aTypedArray;(0,n.exportTypedArrayMethod)("some",(function(e){return i(o(this),e,1<arguments.length?arguments[1]:void 0)}))},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],220:[function(e,t,r){"use strict";var n=(e=e("../internals/array-buffer-view-core")).aTypedArray,i=(e=e.exportTypedArrayMethod,[].sort);e("sort",(function(e){return i.call(n(this),e)}))},{"../internals/array-buffer-view-core":12}],221:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core"),i=e("../internals/to-length"),o=e("../internals/to-absolute-index"),a=e("../internals/species-constructor"),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("subarray",(function(e,t){var r=s(this),n=r.length;return e=o(e,n),new(a(r,r.constructor))(r.buffer,r.byteOffset+e*r.BYTES_PER_ELEMENT,i((void 0===t?n:o(t,n))-e))}))},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":121,"../internals/to-absolute-index":130,"../internals/to-length":134}],222:[function(e,t,r){"use strict";var n=e("../internals/global"),i=e("../internals/array-buffer-view-core"),o=(e=e("../internals/fails"),n.Int8Array),a=i.aTypedArray,s=(n=i.exportTypedArrayMethod,[].toLocaleString),l=[].slice,u=!!o&&e((function(){s.call(new o(1))}));n("toLocaleString",(function(){return s.apply(u?l.call(a(this)):a(this),arguments)}),e((function(){return[1,2].toLocaleString()!=new o([1,2]).toLocaleString()}))||!e((function(){o.prototype.toLocaleString.call([1,2])})))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],223:[function(e,t,r){"use strict";var n=e("../internals/array-buffer-view-core").exportTypedArrayMethod,i=e("../internals/fails"),o=(e=(e=e("../internals/global").Uint8Array)&&e.prototype||{},[].toString),a=[].join;i((function(){o.call({})}))&&(o=function(){return a.call(this)}),i=e.toString!=o,n("toString",o,i)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],224:[function(e,t,r){e("../internals/typed-array-constructor")("Uint16",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},{"../internals/typed-array-constructor":140}],225:[function(e,t,r){e("../internals/typed-array-constructor")("Uint32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},{"../internals/typed-array-constructor":140}],226:[function(e,t,r){e("../internals/typed-array-constructor")("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},{"../internals/typed-array-constructor":140}],227:[function(e,t,r){e("../internals/typed-array-constructor")("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}),!0)},{"../internals/typed-array-constructor":140}],228:[function(e,t,r){"use strict";function n(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}var i,o,a,s,l,u=e("../internals/global"),c=e("../internals/redefine-all"),h=e("../internals/internal-metadata"),d=e("../internals/collection"),f=e("../internals/collection-weak"),p=e("../internals/is-object"),m=e("../internals/internal-state").enforce,y=(e=e("../internals/native-weak-map"),u=!u.ActiveXObject&&"ActiveXObject"in u,Object.isExtensible);t=t.exports=d("WeakMap",n,f),e&&u&&(i=f.getConstructor(n,"WeakMap",!0),h.REQUIRED=!0,d=t.prototype,o=d.delete,a=d.has,s=d.get,l=d.set,c(d,{delete:function(e){var t;return p(e)&&!y(e)?((t=m(this)).frozen||(t.frozen=new i),o.call(this,e)||t.frozen.delete(e)):o.call(this,e)},has:function(e){var t;return p(e)&&!y(e)?((t=m(this)).frozen||(t.frozen=new i),a.call(this,e)||t.frozen.has(e)):a.call(this,e)},get:function(e){var t;return!p(e)||y(e)||((t=m(this)).frozen||(t.frozen=new i),a.call(this,e))?s.call(this,e):t.frozen.get(e)},set:function(e,t){var r;return!p(e)||y(e)||((r=m(this)).frozen||(r.frozen=new i),a.call(this,e))?l.call(this,e,t):r.frozen.set(e,t),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":59,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/redefine-all":107}],229:[function(e,t,r){var n,i=e("../internals/global"),o=e("../internals/dom-iterables"),a=e("../internals/array-for-each"),s=e("../internals/create-non-enumerable-property");for(n in o){var l;if((l=(l=i[n])&&l.prototype)&&l.forEach!==a)try{s(l,"forEach",a)}catch(e){l.forEach=a}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59}],230:[function(e,t,r){var n,i=e("../internals/global"),o=e("../internals/dom-iterables"),a=e("../modules/es.array.iterator"),s=e("../internals/create-non-enumerable-property"),l=(e=e("../internals/well-known-symbol"))("iterator"),u=e("toStringTag"),c=a.values;for(n in o){var h=i[n],d=h&&h.prototype;if(d){if(d[l]!==c)try{s(d,l,c)}catch(e){d[l]=c}if(d[u]||s(d,u,n),o[n])for(var f in a)if(d[f]!==a[f])try{s(d,f,a[f])}catch(e){d[f]=a[f]}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],231:[function(e,t,r){"use strict";function n(t){try{return decodeURIComponent(t)}catch(e){return t}}function i(e){return F[e]}function o(e){return encodeURIComponent(e).replace(I,i)}function a(e){this.entries.length=0,B(this.entries,e)}function s(e,t){if(e<t)throw TypeError("Not enough arguments")}function l(){g(this,l,T);var e,t,r,n,i,o,s,u,c=0<arguments.length?arguments[0]:void 0,h=[];if(O(this,{type:T,entries:h,updateURL:function(){},updateSearchParams:a}),void 0!==c)if(S(c))if("function"==typeof(e=M(c)))for(r=(t=e.call(c)).next;!(n=r.call(t)).done;){if((o=(i=(n=j(w(n.value))).next).call(n)).done||(s=i.call(n)).done||!i.call(n).done)throw TypeError("Expected sequence with length 2");h.push({key:o.value+"",value:s.value+""})}else for(u in c)v(c,u)&&h.push({key:u,value:c[u]+""});else B(h,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")}e("../modules/es.array.iterator");var u=e("../internals/export"),c=e("../internals/get-built-in"),h=e("../internals/native-url"),d=e("../internals/redefine"),f=e("../internals/redefine-all"),p=e("../internals/set-to-string-tag"),m=e("../internals/create-iterator-constructor"),y=e("../internals/internal-state"),g=e("../internals/an-instance"),v=e("../internals/has"),b=e("../internals/function-bind-context"),x=e("../internals/classof"),w=e("../internals/an-object"),S=e("../internals/is-object"),k=e("../internals/object-create"),_=e("../internals/create-property-descriptor"),j=e("../internals/get-iterator"),M=e("../internals/get-iterator-method"),C=(e=e("../internals/well-known-symbol"),c("fetch")),P=c("Headers"),T=(c=e("iterator"),"URLSearchParams"),E=T+"Iterator",O=y.set,A=y.getterFor(T),L=y.getterFor(E),N=/\+/g,R=Array(4),D=function(e){var t,r=e.replace(N," "),i=4;try{return decodeURIComponent(r)}catch(e){for(;i;)r=r.replace((t=i--,R[t-1]||(R[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))),n);return r}},I=/[!'()~]|%20/g,F={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},B=function(e,t){if(t)for(var r,n=t.split("&"),i=0;i<n.length;)(r=n[i++]).length&&(r=r.split("="),e.push({key:D(r.shift()),value:D(r.join("="))}))},U=m((function(e,t){O(this,{type:E,iterator:j(A(e).entries),kind:t})}),"Iterator",(function(){var e,t=(e=L(this)).kind,r=(e=e.iterator.next()).value;return e.done||(e.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),e}));f(e=l.prototype,{append:function(e,t){s(arguments.length,2);var r=A(this);r.entries.push({key:e+"",value:t+""}),r.updateURL()},delete:function(e){s(arguments.length,1);for(var t=A(this),r=t.entries,n=e+"",i=0;i<r.length;)r[i].key===n?r.splice(i,1):i++;t.updateURL()},get:function(e){s(arguments.length,1);for(var t=A(this).entries,r=e+"",n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){s(arguments.length,1);for(var t=A(this).entries,r=e+"",n=[],i=0;i<t.length;i++)t[i].key===r&&n.push(t[i].value);return n},has:function(e){s(arguments.length,1);for(var t=A(this).entries,r=e+"",n=0;n<t.length;)if(t[n++].key===r)return!0;return!1},set:function(e,t){s(arguments.length,1);for(var r,n=A(this),i=n.entries,o=!1,a=e+"",l=t+"",u=0;u<i.length;u++)(r=i[u]).key===a&&(o?i.splice(u--,1):(o=!0,r.value=l));o||i.push({key:a,value:l}),n.updateURL()},sort:function(){for(var e,t,r=A(this),n=r.entries,i=n.slice(),o=n.length=0;o<i.length;o++){for(e=i[o],t=0;t<o;t++)if(n[t].key>e.key){n.splice(t,0,e);break}t===o&&n.push(e)}r.updateURL()},forEach:function(e){for(var t,r=A(this).entries,n=b(e,1<arguments.length?arguments[1]:void 0,3),i=0;i<r.length;)n((t=r[i++]).value,t.key,this)},keys:function(){return new U(this,"keys")},values:function(){return new U(this,"values")},entries:function(){return new U(this,"entries")}},{enumerable:!0}),d(e,c,e.entries),d(e,"toString",(function(){for(var e,t=A(this).entries,r=[],n=0;n<t.length;)e=t[n++],r.push(o(e.key)+"="+o(e.value));return r.join("&")}),{enumerable:!0}),p(l,T),u({global:!0,forced:!h},{URLSearchParams:l}),h||"function"!=typeof C||"function"!=typeof P||u({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,r,n;return e=[e],1<arguments.length&&(S(t=arguments[1])&&(r=t.body,x(r)===T&&((n=t.headers?new P(t.headers):new P).has("content-type")||n.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=k(t,{body:_(0,String(r)),headers:_(0,n)}))),e.push(t)),C.apply(this,e)}}),t.exports={URLSearchParams:l,getState:A}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":54,"../internals/get-built-in":56,"../internals/get-iterator":58,"../internals/get-iterator-method":57,"../internals/has":60,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-url":84,"../internals/object-create":90,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],232:[function(e,t,r){"use strict";function n(e){var t,r,n,i;if("number"==typeof e){for(t=[],r=0;r<4;r++)t.unshift(e%256),e=E(e/256);return t.join(".")}if("object"!=typeof e)return e;for(t="",n=Y(e),r=0;r<8;r++)i&&0===e[r]||(i=i&&!1,n===r?(t+=r?":":"::",i=!0):(t+=e[r].toString(16),r<7&&(t+=":")));return"["+t+"]"}function i(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme}function o(e,t,r,n){var i,o,a,s=r||le,u=0,c="",h=!1,d=!1,f=!1;for(r||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(H,"")),t=t.replace(W,""),i=x(t);u<=i.length;){switch(o=i[u],s){case le:if(!o||!D.test(o)){if(r)return L;s=ce;continue}c+=o.toLowerCase(),s=ue;break;case ue:if(o&&(I.test(o)||"+"==o||"-"==o||"."==o))c+=o.toLowerCase();else{if(":"!=o){if(r)return L;c="",s=ce,u=0;continue}if(r&&(te(e)!=v(ee,c)||"file"==c&&(re(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=c,r)return void(te(e)&&ee[e.scheme]==e.port&&(e.port=null));c="","file"==e.scheme?s=we:te(e)&&n&&n.scheme==e.scheme?s=he:te(e)?s=me:"/"==i[u+1]?(s=de,u++):(e.cannotBeABaseURL=!0,e.path.push(""),s=Me)}break;case ce:if(!n||n.cannotBeABaseURL&&"#"!=o)return L;if(n.cannotBeABaseURL&&"#"==o){e.scheme=n.scheme,e.path=n.path.slice(),e.query=n.query,e.fragment="",e.cannotBeABaseURL=!0,s=Pe;break}s="file"==n.scheme?we:fe;continue;case he:if("/"!=o||"/"!=i[u+1]){s=fe;continue}s=ye,u++;break;case de:if("/"==o){s=ge;break}s=je;continue;case fe:if(e.scheme=n.scheme,o==l)e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.query=n.query;else if("/"==o||"\\"==o&&te(e))s=pe;else if("?"==o)e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.query="",s=Ce;else{if("#"!=o){e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.path.pop(),s=je;continue}e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.query=n.query,e.fragment="",s=Pe}break;case pe:if(!te(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,s=je;continue}s=ge}else s=ye;break;case me:if(s=ye,"/"!=o||"/"!=c.charAt(u+1))continue;u++;break;case ye:if("/"==o||"\\"==o)break;s=ge;continue;case ge:if("@"==o){h&&(c="%40"+c),h=!0;for(var p=x(c),m=0;m<p.length;m++){var y=p[m];":"!=y||f?(y=Q(y,J),f?e.password+=y:e.username+=y):f=!0}c=""}else if(o==l||"/"==o||"?"==o||"#"==o||"\\"==o&&te(e)){if(h&&""==c)return A;u-=x(c).length+1,c="",s=ve}else c+=o;break;case ve:case be:if(r&&"file"==e.scheme){s=ke;continue}if(":"!=o||d){if(o==l||"/"==o||"?"==o||"#"==o||"\\"==o&&te(e)){if(te(e)&&""==c)return N;if(r&&""==c&&(re(e)||null!==e.port))return;if(a=X(e,c))return a;if(c="",s=_e,r)return;continue}"["==o?d=!0:"]"==o&&(d=!1),c+=o}else{if(""==c)return N;if(a=X(e,c))return a;if(c="",s=xe,r==be)return}break;case xe:if(!F.test(o)){if(o==l||"/"==o||"?"==o||"#"==o||"\\"==o&&te(e)||r){if(""!=c){var g=parseInt(c,10);if(65535<g)return R;e.port=te(e)&&g===ee[e.scheme]?null:g,c=""}if(r)return;s=_e;continue}return R}c+=o;break;case we:if(e.scheme="file","/"==o||"\\"==o)s=Se;else{if(!n||"file"!=n.scheme){s=je;continue}if(o==l)e.host=n.host,e.path=n.path.slice(),e.query=n.query;else if("?"==o)e.host=n.host,e.path=n.path.slice(),e.query="",s=Ce;else{if("#"!=o){ie(i.slice(u).join(""))||(e.host=n.host,e.path=n.path.slice(),oe(e)),s=je;continue}e.host=n.host,e.path=n.path.slice(),e.query=n.query,e.fragment="",s=Pe}}break;case Se:if("/"==o||"\\"==o){s=ke;break}n&&"file"==n.scheme&&!ie(i.slice(u).join(""))&&(ne(n.path[0],!0)?e.path.push(n.path[0]):e.host=n.host),s=je;continue;case ke:if(o==l||"/"==o||"\\"==o||"?"==o||"#"==o){if(!r&&ne(c))s=je;else{if(""==c){if(e.host="",r)return}else{if(a=X(e,c))return a;if("localhost"==e.host&&(e.host=""),r)return;c=""}s=_e}continue}c+=o;break;case _e:if(te(e)){if(s=je,"/"!=o&&"\\"!=o)continue}else if(r||"?"!=o)if(r||"#"!=o){if(o!=l&&(s=je,"/"!=o))continue}else e.fragment="",s=Pe;else e.query="",s=Ce;break;case je:if(o==l||"/"==o||"\\"==o&&te(e)||!r&&("?"==o||"#"==o)){if(se(c)?(oe(e),"/"==o||"\\"==o&&te(e)||e.path.push("")):ae(c)?"/"==o||"\\"==o&&te(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&ne(c)&&(e.host&&(e.host=""),c=c.charAt(0)+":"),e.path.push(c)),c="","file"==e.scheme&&(o==l||"?"==o||"#"==o))for(;1<e.path.length&&""===e.path[0];)e.path.shift();"?"==o?(e.query="",s=Ce):"#"==o&&(e.fragment="",s=Pe)}else c+=Q(o,$);break;case Me:"?"==o?(e.query="",s=Ce):"#"==o?(e.fragment="",s=Pe):o!=l&&(e.path[0]+=Q(o,K));break;case Ce:r||"#"!=o?o!=l&&("'"==o&&te(e)?e.query+="%27":e.query+="#"==o?"%23":Q(o,K)):(e.fragment="",s=Pe);break;case Pe:o!=l&&(e.fragment+=Q(o,Z))}u++}}function a(e){var t,r,n=g(this,a,"URL"),i=1<arguments.length?arguments[1]:void 0,s=(e=String(e),P(n,{type:"URL"}));if(void 0!==i)if(i instanceof a)t=T(i);else if(r=o(t={},String(i)))throw TypeError(r);if(r=o(s,e,null,t))throw TypeError(r);var l=s.searchParams=new M;(i=C(l)).updateSearchParams(s.query),i.updateURL=function(){s.query=String(l)||null},d||(n.href=Te.call(n),n.origin=Ee.call(n),n.protocol=Oe.call(n),n.username=Ae.call(n),n.password=Le.call(n),n.host=Ne.call(n),n.hostname=Re.call(n),n.port=De.call(n),n.pathname=Ie.call(n),n.search=Fe.call(n),n.searchParams=Be.call(n),n.hash=Ue.call(n))}function s(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}}e("../modules/es.string.iterator");var l,u,c,h=e("../internals/export"),d=e("../internals/descriptors"),f=e("../internals/native-url"),p=e("../internals/global"),m=e("../internals/object-define-properties"),y=e("../internals/redefine"),g=e("../internals/an-instance"),v=e("../internals/has"),b=e("../internals/object-assign"),x=e("../internals/array-from"),w=e("../internals/string-multibyte").codeAt,S=e("../internals/string-punycode-to-ascii"),k=e("../internals/set-to-string-tag"),_=e("../modules/web.url-search-params"),j=(e=e("../internals/internal-state"),p.URL),M=_.URLSearchParams,C=_.getState,P=e.set,T=e.getterFor("URL"),E=Math.floor,O=Math.pow,A="Invalid authority",L="Invalid scheme",N="Invalid host",R="Invalid port",D=/[A-Za-z]/,I=/[\d+-.A-Za-z]/,F=/\d/,B=/^(0x|0X)/,U=/^[0-7]+$/,z=/^\d+$/,q=/^[\dA-Fa-f]+$/,G=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,V=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,H=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,W=/[\u0009\u000A\u000D]/g,X=function(e,t){var r,n,i;if("["==t.charAt(0))return"]"==t.charAt(t.length-1)&&(r=function(e){var t,r,n,i,o,a,s,l=[0,0,0,0,0,0,0,0],u=0,c=null,h=0,d=function(){return e.charAt(h)};if(":"==d()){if(":"!=e.charAt(1))return;h+=2,c=++u}for(;d();){if(8==u)return;if(":"!=d()){for(t=r=0;r<4&&q.test(d());)t=16*t+parseInt(d(),16),h++,r++;if("."==d()){if(0==r)return;if(h-=r,u>6)return;for(n=0;d();){if(i=null,n>0){if(!("."==d()&&n<4))return;h++}if(!F.test(d()))return;for(;F.test(d());){if(o=parseInt(d(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;h++}l[u]=256*l[u]+i,2!=++n&&4!=n||u++}if(4!=n)return;break}if(":"==d()){if(h++,!d())return}else if(d())return;l[u++]=t}else{if(null!==c)return;h++,c=++u}}if(null!==c)for(a=u-c,u=7;0!=u&&a>0;)s=l[u],l[u--]=l[c+a-1],l[c+--a]=s;else if(8!=u)return;return l}(t.slice(1,-1)))?void(e.host=r):N;if(te(e))return t=S(t),G.test(t)||null===(r=function(e){var t,r,n,i,o,a,s,l=e.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),(t=l.length)>4)return e;for(r=[],n=0;n<t;n++){if(""==(i=l[n]))return e;if(o=10,i.length>1&&"0"==i.charAt(0)&&(o=B.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)a=0;else{if(!(10==o?z:8==o?U:q).test(i))return e;a=parseInt(i,o)}r.push(a)}for(n=0;n<t;n++)if(a=r[n],n==t-1){if(a>=O(256,5-t))return null}else if(a>255)return null;for(s=r.pop(),n=0;n<r.length;n++)s+=r[n]*O(256,3-n);return s}(t))?N:void(e.host=r);if(V.test(t))return N;for(r="",n=x(t),i=0;i<n.length;i++)r+=Q(n[i],K);e.host=r},Y=function(e){for(var t=null,r=1,n=null,i=0,o=0;o<8;o++)0!==e[o]?(r<i&&(t=n,r=i),n=null,i=0):(null===n&&(n=o),++i);return r<i&&(t=n,r=i),t},K={},Z=b({},K,{" ":1,'"':1,"<":1,">":1,"`":1}),$=b({},Z,{"#":1,"?":1,"{":1,"}":1}),J=b({},$,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Q=function(e,t){var r=w(e,0);return 32<r&&r<127&&!v(t,e)?e:encodeURIComponent(e)},ee={ftp:21,file:null,http:80,https:443,ws:80,wss:443},te=function(e){return v(ee,e.scheme)},re=function(e){return""!=e.username||""!=e.password},ne=function(e,t){return 2==e.length&&D.test(e.charAt(0))&&(":"==(e=e.charAt(1))||!t&&"|"==e)},ie=function(e){return 1<e.length&&ne(e.slice(0,2))&&(2==e.length||"/"===(e=e.charAt(2))||"\\"===e||"?"===e||"#"===e)},oe=function(e){var t=e.path,r=t.length;!r||"file"==e.scheme&&1==r&&ne(t[0],!0)||t.pop()},ae=function(e){return"."===e||"%2e"===e.toLowerCase()},se=function(e){return".."===(e=e.toLowerCase())||"%2e."===e||".%2e"===e||"%2e%2e"===e},le={},ue={},ce={},he={},de={},fe={},pe={},me={},ye={},ge={},ve={},be={},xe={},we={},Se={},ke={},_e={},je={},Me={},Ce={},Pe={},Te=(p=a.prototype,function(){var e=T(this),t=e.scheme,r=e.username,i=e.password,o=e.host,a=e.port,s=e.path,l=e.query,u=e.fragment,c=t+":";return null!==o?(c+="//",re(e)&&(c+=r+(i?":"+i:"")+"@"),c+=n(o),null!==a&&(c+=":"+a)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?s[0]:s.length?"/"+s.join("/"):"",null!==l&&(c+="?"+l),null!==u&&(c+="#"+u),c}),Ee=function(){var e=T(this),t=e.scheme,r=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&te(e)?t+"://"+n(e.host)+(null!==r?":"+r:""):"null"},Oe=function(){return T(this).scheme+":"},Ae=function(){return T(this).username},Le=function(){return T(this).password},Ne=function(){var e=(t=T(this)).host,t=t.port;return null===e?"":null===t?n(e):n(e)+":"+t},Re=function(){var e=T(this).host;return null===e?"":n(e)},De=function(){var e=T(this).port;return null===e?"":String(e)},Ie=function(){var e=T(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Fe=function(){var e=T(this).query;return e?"?"+e:""},Be=function(){return T(this).searchParams},Ue=function(){var e=T(this).fragment;return e?"#"+e:""};d&&m(p,{href:s(Te,(function(e){var t=T(this);if(e=o(t,e=String(e)))throw TypeError(e);C(t.searchParams).updateSearchParams(t.query)})),origin:s(Ee),protocol:s(Oe,(function(e){o(T(this),String(e)+":",le)})),username:s(Ae,(function(e){var t=T(this),r=x(String(e));if(!i(t)){t.username="";for(var n=0;n<r.length;n++)t.username+=Q(r[n],J)}})),password:s(Le,(function(e){var t=T(this),r=x(String(e));if(!i(t)){t.password="";for(var n=0;n<r.length;n++)t.password+=Q(r[n],J)}})),host:s(Ne,(function(e){var t=T(this);t.cannotBeABaseURL||o(t,String(e),ve)})),hostname:s(Re,(function(e){var t=T(this);t.cannotBeABaseURL||o(t,String(e),be)})),port:s(De,(function(e){var t=T(this);i(t)||(""==(e=String(e))?t.port=null:o(t,e,xe))})),pathname:s(Ie,(function(e){var t=T(this);t.cannotBeABaseURL||(t.path=[],o(t,e+"",_e))})),search:s(Fe,(function(e){var t=T(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",o(t,e,Ce)),C(t.searchParams).updateSearchParams(t.query)})),searchParams:s(Be),hash:s(Ue,(function(e){var t=T(this);""==(e=String(e))?t.fragment=null:("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",o(t,e,Pe))}))}),y(p,"toJSON",(function(){return Te.call(this)}),{enumerable:!0}),y(p,"toString",(function(){return Te.call(this)}),{enumerable:!0}),j&&(u=j.createObjectURL,c=j.revokeObjectURL,u&&y(a,"createObjectURL",(function(e){return u.apply(j,arguments)})),c&&y(a,"revokeObjectURL",(function(e){return c.apply(j,arguments)}))),k(a,"URL"),h({global:!0,forced:!f,sham:!d},{URL:a})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/internal-state":70,"../internals/native-url":84,"../internals/object-assign":89,"../internals/object-define-properties":91,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/string-multibyte":123,"../internals/string-punycode-to-ascii":124,"../modules/es.string.iterator":186,"../modules/web.url-search-params":231}],233:[function(e,t,r){"use strict";t.exports=e("./").polyfill()},{"./":234}],234:[function(t,n,i){(function(r,o){var a,s;a=this,s=function(){"use strict";function e(e){return"function"==typeof e}var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=0,a=void 0,s=void 0,l=function(e,t){p[i]=e,p[i+1]=t,2===(i+=2)&&(s?s(m):x())},u="undefined"!=typeof window?window:void 0,c=(c=u||{}).MutationObserver||c.WebKitMutationObserver,h="undefined"==typeof self&&void 0!==r&&"[object process]"==={}.toString.call(r),d="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function f(){var e=setTimeout;return function(){return e(m,1)}}var p=new Array(1e3);function m(){for(var e=0;e<i;e+=2)(0,p[e])(p[e+1]),p[e]=void 0,p[e+1]=void 0;i=0}function y(){try{var e=Function("return this")().require("vertx");return void 0!==(a=e.runOnLoop||e.runOnContext)?function(){a(m)}:f()}catch(e){return f()}}var g,v,b,x=void 0;function w(e,t){var r,n=this,i=new this.constructor(_),o=(void 0===i[k]&&F(i),n._state);return o?(r=arguments[o-1],l((function(){return D(o,i,r,n._result)}))):N(n,i,e,t),i}function S(e){var t;return e&&"object"==typeof e&&e.constructor===this?e:(E(t=new this(_),e),t)}x=h?function(){return r.nextTick(m)}:c?(v=0,h=new c(m),b=document.createTextNode(""),h.observe(b,{characterData:!0}),function(){b.data=v=++v%2}):d?((g=new MessageChannel).port1.onmessage=m,function(){return g.port2.postMessage(0)}):(void 0===u&&"function"==typeof t?y:f)();var k=Math.random().toString(36).substring(2);function _(){}var j=void 0,M=1,C=2;function P(e,t,r){l((function(e){var n=!1,i=function(e,t,r,n){try{e.call(t,r,n)}catch(e){return e}}(r,t,(function(r){n||(n=!0,(t!==r?E:A)(e,r))}),(function(t){n||(n=!0,L(e,t))}),e._label);!n&&i&&(n=!0,L(e,i))}),e)}function T(t,r,n){var i,o;r.constructor===t.constructor&&n===w&&r.constructor.resolve===S?(i=t,(o=r)._state===M?A(i,o._result):o._state===C?L(i,o._result):N(o,void 0,(function(e){return E(i,e)}),(function(e){return L(i,e)}))):void 0!==n&&e(n)?P(t,r,n):A(t,r)}function E(e,t){if(e===t)L(e,new TypeError("You cannot resolve a promise with itself"));else if(r=typeof t,null===t||"object"!=r&&"function"!=r)A(e,t);else{r=void 0;try{r=t.then}catch(t){return void L(e,t)}T(e,t,r)}var r}function O(e){e._onerror&&e._onerror(e._result),R(e)}function A(e,t){e._state===j&&(e._result=t,e._state=M,0!==e._subscribers.length&&l(R,e))}function L(e,t){e._state===j&&(e._state=C,e._result=t,l(O,e))}function N(e,t,r,n){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+M]=r,i[o+C]=n,0===o&&e._state&&l(R,e)}function R(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n,i=void 0,o=e._result,a=0;a<t.length;a+=3)n=t[a],i=t[a+r],n?D(r,n,i,o):i(o);e._subscribers.length=0}}function D(t,r,n,i){var o=e(n),a=void 0,s=void 0,l=!0;if(o){try{a=n(i)}catch(t){l=!1,s=t}if(r===a)return void L(r,new TypeError("A promises callback cannot return that same promise."))}else a=i;r._state===j&&(o&&l?E(r,a):!1===l?L(r,s):t===M?A(r,a):t===C&&L(r,a))}var I=0;function F(e){e[k]=I++,e._state=void 0,e._result=void 0,e._subscribers=[]}U.prototype._enumerate=function(e){for(var t=0;this._state===j&&t<e.length;t++)this._eachEntry(e[t],t)},U.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,n=r.resolve;if(n===S){var i,o=void 0,a=void 0,s=!1;try{o=e.then}catch(t){s=!0,a=t}o===w&&e._state!==j?this._settledAt(e._state,t,e._result):"function"!=typeof o?(this._remaining--,this._result[t]=e):r===z?(i=new r(_),s?L(i,a):T(i,e,o),this._willSettleAt(i,t)):this._willSettleAt(new r((function(t){return t(e)})),t)}else this._willSettleAt(n(e),t)},U.prototype._settledAt=function(e,t,r){var n=this.promise;n._state===j&&(this._remaining--,e===C?L(n,r):this._result[t]=r),0===this._remaining&&A(n,this._result)},U.prototype._willSettleAt=function(e,t){var r=this;N(e,void 0,(function(e){return r._settledAt(M,t,e)}),(function(e){return r._settledAt(C,t,e)}))};var B=U;function U(e,t){this._instanceConstructor=e,this.promise=new e(_),this.promise[k]||F(this.promise),n(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0!==this.length&&(this.length=this.length||0,this._enumerate(t),0!==this._remaining)||A(this.promise,this._result)):L(this.promise,new Error("Array Methods must be provided an Array"))}q.prototype.catch=function(e){return this.then(null,e)},q.prototype.finally=function(t){var r=this.constructor;return e(t)?this.then((function(e){return r.resolve(t()).then((function(){return e}))}),(function(e){return r.resolve(t()).then((function(){throw e}))})):this.then(t,t)};var z=q;function q(e){if(this[k]=I++,this._result=this._state=void 0,this._subscribers=[],_!==e){if("function"!=typeof e)throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof q))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var t=this;try{e((function(e){E(t,e)}),(function(e){L(t,e)}))}catch(e){L(t,e)}}}return z.prototype.then=w,z.all=function(e){return new B(this,e).promise},z.race=function(e){var t=this;return n(e)?new t((function(r,n){for(var i=e.length,o=0;o<i;o++)t.resolve(e[o]).then(r,n)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))},z.resolve=S,z.reject=function(e){var t=new this(_);return L(t,e),t},z._setScheduler=function(e){s=e},z._setAsap=function(e){l=e},z._asap=l,z.polyfill=function(){var e=void 0;if(void 0!==o)e=o;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=z},z.Promise=z},"object"==typeof i&&void 0!==n?n.exports=s():"function"==typeof e&&e.amd?e(s):a.ES6Promise=s()}).call(this,t("_process"),"undefined"!=typeof r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:243}],235:[function(t,r,n){var i,o;i=this,o=function(e,t){"use strict";var r=5e3,n="callback";function i(t){try{delete window[t]}catch(e){window[t]=void 0}}function o(e){(e=document.getElementById(e))&&document.getElementsByTagName("head")[0].removeChild(e)}t.exports=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=e,s=t.timeout||r,l=t.jsonpCallback||n,u=void 0;return new Promise((function(r,n){var c=t.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),h=l+"_"+c,d=(window[c]=function(e){r({ok:!0,json:function(){return Promise.resolve(e)}}),u&&clearTimeout(u),o(h),i(c)},a+=-1===a.indexOf("?")?"?":"&",document.createElement("script"));d.setAttribute("src",""+a+l+"="+c),t.charset&&d.setAttribute("charset",t.charset),d.id=h,document.getElementsByTagName("head")[0].appendChild(d),u=setTimeout((function(){n(new Error("JSONP request to "+e+" timed out")),i(c),o(h),window[c]=function(){i(c)}}),s),d.onerror=function(){n(new Error("JSONP request to "+e+" failed")),i(c),o(h),u&&clearTimeout(u)}}))}},"function"==typeof e&&e.amd?e(["exports","module"],o):void 0!==n&&void 0!==r?o(0,r):(o(o={exports:{}},o),i.fetchJsonp=o.exports)},{}],236:[function(t,r,n){var i=function(e){"use strict";var t,r,n,i,o,a,s,l,u,c,h;if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent)))return h=e.document,t=function(){return e.URL||e.webkitURL||e},r=h.createElementNS("http://www.w3.org/1999/xhtml","a"),n="download"in r,i=/constructor/i.test(e.HTMLElement)||e.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent),a=function(t){(e.setImmediate||e.setTimeout)((function(){throw t}),0)},s=4e4,l=function(e){setTimeout((function(){"string"==typeof e?t().revokeObjectURL(e):e.remove()}),s)},u=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},h=(c=function(s,c,h){h||(s=u(s));var d,f,p=this,m=(h="application/octet-stream"===s.type,function(){for(var e=p,t="writestart progress write writeend".split(" "),r=void 0,n=(t=[].concat(t)).length;n--;){var i=e["on"+t[n]];if("function"==typeof i)try{i.call(e,r||e)}catch(e){a(e)}}});p.readyState=p.INIT,n?(d=t().createObjectURL(s),setTimeout((function(){var e,t;r.href=d,r.download=c,e=r,t=new MouseEvent("click"),e.dispatchEvent(t),m(),l(d),p.readyState=p.DONE}))):(o||h&&i)&&e.FileReader?((f=new FileReader).onloadend=function(){var t=o?f.result:f.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,p.readyState=p.DONE,m()},f.readAsDataURL(s),p.readyState=p.INIT):(d=d||t().createObjectURL(s),!h&&e.open(d,"_blank")||(e.location.href=d),p.readyState=p.DONE,m(),l(d))}).prototype,"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,r){return t=t||e.name||"download",r||(e=u(e)),navigator.msSaveOrOpenBlob(e,t)}:(h.abort=function(){},h.readyState=h.INIT=0,h.WRITING=1,h.DONE=2,h.error=h.onwritestart=h.onprogress=h.onwrite=h.onabort=h.onerror=h.onwriteend=null,function(e,t,r){return new c(e,t||e.name||"download",r)})}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);void 0!==r&&r.exports?r.exports.saveAs=i:null!=e&&null!==e.amd&&e("FileSaver.js",(function(){return i}))},{}],237:[function(e,t,r){var n,i=Object.defineProperty,o=(i(r,"__esModule",{value:!0}),r),a={GIFEncoder:function(){return k},applyPalette:function(){return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"rgb565";if(!e||!e.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(e instanceof Uint8Array||e instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<t.length)throw new Error("applyPalette() only works with 256 colors or less");var n=new Uint32Array(e.buffer),i=n.length,o="rgb444"===r?4096:65536,a=new Uint8Array(i),s=new Array(o);if("rgba4444"===r)for(var l=0;l<i;l++){var u,c=(u=n[l])>>24&255,p=u>>16&255,m=u>>8&255,y=(y=d(u&=255,m,p,c))in s?s[y]:s[y]=function(e,t,r,n,i){for(var o=0,a=1e100,s=0;s<i.length;s++){var l=i[s],u=x(l[3]-n);u>a||(u+=x(l[0]-e))>a||(u+=x(l[1]-t))>a||(u+=x(l[2]-r))>a||(a=u,o=s)}return o}(u,m,p,c,t);a[l]=y}else for(var g="rgb444"===r?f:h,v=0;v<i;v++){var b,w=(b=n[v])>>16&255,S=b>>8&255,k=(k=g(b&=255,S,w))in s?s[k]:s[k]=function(e,t,r,n){for(var i=0,o=1e100,a=0;a<n.length;a++){var s=n[a],l=x(s[0]-e);l>o||(l+=x(s[1]-t))>o||(l+=x(s[2]-r))>o||(o=l,i=a)}return i}(b,S,w,t);a[v]=k}return a}},default:function(){return P},nearestColor:function(){return function(e,t){return e[w(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:v)]}},nearestColorIndex:function(){return w},nearestColorIndexWithDistance:function(){return S},prequantize:function(){return function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.roundRGB,n=void 0===r?5:r,i=t.roundAlpha,o=void 0===i?10:i,a=t.oneBitAlpha,s=void 0===a?null:a,l=new Uint32Array(e.buffer),u=0;u<l.length;u++){var c=(f=l[u])>>24&255,h=f>>16&255,d=f>>8&255,f=255&f;c=b(c,o),s&&(c=c<=("number"==typeof s?s:127)?0:255),f=b(f,n),d=b(d,n),h=b(h,n),l[u]=c<<24|h<<16|d<<8|f<<0}}},quantize:function(){return function(e,t){var r,n,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=o.format,s=void 0===a?"rgb565":a,l=o.clearAlpha,u=void 0===l||l,c=o.clearAlphaColor,v=void 0===c?0:c,b=o.clearAlphaThreshold,x=void 0===b?0:b,w=o.oneBitAlpha,S=void 0!==w&&w;if(!e||!e.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(e instanceof Uint8Array||e instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");e=new Uint32Array(e.buffer);for(var k=!1!==o.useSqrt,_="rgba4444"===s,j=function(e,t){var r=new Array("rgb444"===t?4096:65536),n=e.length;if("rgba4444"===t)for(var i=0;i<n;++i){var o,a=(o=e[i])>>24&255,s=o>>16&255,l=o>>8&255,u=d(o&=255,l,s,a),c=u in r?r[u]:r[u]=g();c.rc+=o,c.gc+=l,c.bc+=s,c.ac+=a,c.cnt++}else if("rgb444"===t)for(var p=0;p<n;++p){var m,y=(m=e[p])>>16&255,v=m>>8&255,b=f(m&=255,v,y),x=b in r?r[b]:r[b]=g();x.rc+=m,x.gc+=v,x.bc+=y,x.cnt++}else for(var w=0;w<n;++w){var S,k=(S=e[w])>>16&255,_=S>>8&255,j=h(S&=255,_,k),M=j in r?r[j]:r[j]=g();M.rc+=S,M.gc+=_,M.bc+=k,M.cnt++}return r}(e,s),M=j.length,C=M-1,P=new Uint32Array(M+1),T=0,E=0;E<M;++E){var O=j[E];null!=O&&(B=1/O.cnt,_&&(O.ac*=B),O.rc*=B,O.gc*=B,O.bc*=B,j[T++]=O)}for(m(t)/T<.022&&(k=!1),E=0;E<T-1;++E)j[E].fw=E+1,j[E+1].bk=E,k&&(j[E].cnt=Math.sqrt(j[E].cnt));for(k&&(j[E].cnt=Math.sqrt(j[E].cnt)),E=0;E<T;++E){y(j,E,!1);var A=j[E].err;for(n=++P[0];1<n&&!(j[r=P[i=n>>1]].err<=A);n=i)P[n]=r;P[n]=E}var L,N=T-t;for(E=0;E<N;){for(;;){var R=P[1];if((L=j[R]).tm>=L.mtm&&j[L.nn].mtm<=L.tm)break;for(L.mtm==C?R=P[1]=P[P[0]--]:(y(j,R,!1),L.tm=E),A=j[R].err,n=1;(i=n+n)<=P[0]&&(i<P[0]&&j[P[i]].err>j[P[i+1]].err&&i++,!(A<=j[r=P[i]].err));n=i)P[n]=r;P[n]=R}var D=j[L.nn],I=L.cnt,F=D.cnt,B=1/(I+F);_&&(L.ac=B*(I*L.ac+F*D.ac)),L.rc=B*(I*L.rc+F*D.rc),L.gc=B*(I*L.gc+F*D.gc),L.bc=B*(I*L.bc+F*D.bc),L.cnt+=D.cnt,L.mtm=++E,j[D.bk].fw=D.fw,j[D.fw].bk=D.bk,D.mtm=C}var U=[];for(E=0;;0){var z=p(Math.round(j[E].rc),0,255),q=p(Math.round(j[E].gc),0,255),G=p(Math.round(j[E].bc),0,255),V=255;_&&(V=p(Math.round(j[E].ac),0,255),S&&(V=V<=(H="number"==typeof S?S:127)?0:255),u&&V<=x&&(z=q=G=v,V=0));var H=_?[z,q,G,V]:[z,q,G];if(function(e,t){for(var r=0;r<e.length;r++){var n=(i=e[r])[0]===t[0]&&i[1]===t[1]&&i[2]===t[2],i=!(4<=i.length&&4<=t.length)||i[3]===t[3];if(n&&i)return!0}return!1}(U,H)||U.push(H),0==(E=j[E].fw))break}return U}},snapColorsToPalette:function(){return function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;if(e.length&&t.length)for(var n=e.map((function(e){return e.slice(0,3)})),i=r*r,o=e[0].length,a=0;a<t.length;a++){var s,l=t[a],u=(s=S(n,(l=l.length<o?[l[0],l[1],l[2],255]:l.length>o?l.slice(0,3):l.slice()).slice(0,3),v))[0];0<(s=s[1])&&s<=i&&(e[u]=l)}}}};for(n in a)i(o,n,{get:a[n],enumerable:!0});var s={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function l(){var e=0,t=new Uint8Array(arguments.length>0&&void 0!==arguments[0]?arguments[0]:256);return{get buffer(){return t.buffer},reset:function(){e=0},bytesView:function(){return t.subarray(0,e)},bytes:function(){return t.slice(0,e)},writeByte:function(n){r(e+1),t[e]=n,e++},writeBytes:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.length;r(e+o);for(var a=0;a<o;a++)t[e++]=n[a+i]},writeBytesView:function(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.byteLength;r(e+o),t.set(n.subarray(i,i+o),e),e+=o}};function r(r){var n=t.length;if(!(r<=n)){r=Math.max(r,n*(n<1048576?2:1.125)>>>0),0!=n&&(r=Math.max(r,256));var i=t;t=new Uint8Array(r),0<e&&t.set(i.subarray(0,e),0)}}}var u=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],c=function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:l(512),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new Uint8Array(256),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:new Int32Array(5003),s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:new Int32Array(5003);return function(e){var t=a.length;e=Math.max(2,e),o.fill(0),s.fill(0),a.fill(-1);for(var n=0,l=0,c=e+1,h=c,d=!1,f=h,p=(1<<f)-1,m=1<<c-1,y=1+m,g=2+m,v=0,b=r[0],x=0,w=t;w<65536;w*=2)++x;x=8-x,i.writeByte(e),P(m);for(var S=r.length,k=1;k<S;k++)e:{var _=r[k],j=(_<<12)+b,M=_<<x^b;if(a[M]===j)b=s[M];else{for(var C=0===M?1:t-M;0<=a[M];)if((M-=C)<0&&(M+=t),a[M]===j){b=s[M];break e}P(b),b=_,g<4096?(s[M]=g++,a[M]=j):(a.fill(-1),g=2+m,d=!0,P(m))}}return P(b),P(y),i.writeByte(0),i.bytesView();function P(e){for(n&=u[l],0<l?n|=e<<l:n=e,l+=f;8<=l;)o[v++]=255&n,254<=v&&(i.writeByte(v),i.writeBytesView(o,0,v),v=0),n>>=8,l-=8;if((g>p||d)&&(d?(p=(1<<(f=h))-1,d=!1):(++f,p=12===f?1<<f:(1<<f)-1)),e==y){for(;0<l;)o[v++]=255&n,254<=v&&(i.writeByte(v),i.writeBytesView(o,0,v),v=0),n>>=8,l-=8;0<v&&(i.writeByte(v),i.writeBytesView(o,0,v),v=0)}}}(n)};function h(e,t,r){return e<<8&63488|t<<2&992|r>>3}function d(e,t,r,n){return e>>4|240&t|(240&r)<<4|(240&n)<<8}function f(e,t,r){return e>>4<<8|240&t|r>>4}function p(e,t,r){return e<t?t:r<e?r:e}function m(e){return e*e}function y(e,t,r){for(var n=0,i=1e100,o=e[t],a=o.cnt,s=o.ac,l=o.rc,u=o.gc,c=o.bc,h=o.fw;0!=h;h=e[h].fw){var d,f,p=e[h];i<=(f=a*(f=p.cnt)/(a+f))||(d=0,r&&i<=(d+=f*m(p.ac-s))||i<=(d+=f*m(p.rc-l))||i<=(d+=f*m(p.gc-u))||i<=(d+=f*m(p.bc-c))||(i=d,n=h))}o.err=i,o.nn=n}function g(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function v(e,t){for(var r=0,n=0;n<e.length;n++){var i=e[n]-t[n];r+=i*i}return r}function b(e,t){return 1<t?Math.round(e/t)*t:e}function x(e){return e*e}function w(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v,n=1/0,i=-1,o=0;o<e.length;o++){var a=r(t,e[o]);a<n&&(n=a,i=o)}return i}function S(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v,n=1/0,i=-1,o=0;o<e.length;o++){var a=r(t,e[o]);a<n&&(n=a,i=o)}return[i,n]}function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.initialCapacity,r=void 0===t?4096:t,n=e.auto,i=void 0===n||n,o=l(r),a=new Uint8Array(256),u=new Int32Array(5003),h=new Int32Array(5003),d=!1;return{reset:function(){o.reset(),d=!1},finish:function(){o.writeByte(s.trailer)},bytes:function(){return o.bytes()},bytesView:function(){return o.bytesView()},get buffer(){return o.buffer},get stream(){return o},writeHeader:f,writeFrame:function(e,t,r){return function(n){var s,l,p=n,m=p.transparent,y=void 0!==m&&m,g=p.transparentIndex,v=void 0===g?0:g,b=p.delay,x=void 0===b?0:b,w=p.palette,S=void 0===w?null:w,k=p.repeat,P=void 0===k?0:k,T=p.colorDepth,E=void 0===T?8:T,O=p.dispose,A=void 0===O?-1:O,L=!1;if(i?d||(L=!0,f(),d=!0):L=Boolean(n.first),t=Math.max(0,Math.floor(t)),r=Math.max(0,Math.floor(r)),L){if(!S)throw new Error("First frame must include a { palette } option");n=o;var N=t,R=r;I=128|(I=void 0===E?8:E)-1<<4|(F=C((F=S).length)-1),j(n,N),j(n,R),n.writeBytes([I,0,0]),_(o,S),0<=P&&(N=P,(F=o).writeByte(33),F.writeByte(255),F.writeByte(11),M(F,"NETSCAPE2.0"),F.writeByte(3),F.writeByte(1),j(F,N),F.writeByte(0))}var D,I=A,F=(P=R=Math.round(x/10),N=y,v);(n=o).writeByte(33),n.writeByte(249),n.writeByte(4),F<0&&(F=0,N=!1),N=N?(D=1,2):D=0,0<=I&&(N=7&I),N<<=2,n.writeByte(0|N|D),j(n,P),n.writeByte(F||0),n.writeByte(0),x=Boolean(S)&&!L,y=t,v=r,D=x?S:null,(A=o).writeByte(44),j(A,0),j(A,0),j(A,y),j(A,v),D?(y=C(D.length)-1,A.writeByte(128|y)):A.writeByte(0),x&&_(o,S),P=(s=[o,e,t,r,E,a,u,h])[0],n=s[1],v=s[2],y=s[3],A=void 0===(l=s[4])?8:l,x=s[5],S=s[6],e=s[7],c(v,y,n,A,P,x,S,e)}(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}};function f(){M(o,"GIF89a")}}function _(e,t){for(var r=1<<C(t.length),n=0;n<r;n++){var i=[0,0,0];n<t.length&&(i=t[n]),e.writeByte(i[0]),e.writeByte(i[1]),e.writeByte(i[2])}}function j(e,t){e.writeByte(255&t),e.writeByte(t>>8&255)}function M(e,t){for(var r=0;r<t.length;r++)e.writeByte(t.charCodeAt(r))}function C(e){return Math.max(Math.ceil(Math.log2(e)),1)}var P=k},{}],238:[function(e,t,r){r.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,l=(1<<s)-1,u=l>>1,c=-7,h=r?i-1:0,d=r?-1:1;for(i=e[t+h],h+=d,o=i&(1<<-c)-1,i>>=-c,c+=s;0<c;o=256*o+e[t+h],h+=d,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=n;0<c;a=256*a+e[t+h],h+=d,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(i?-1:1);a+=Math.pow(2,n),o-=u}return(i?-1:1)*a*Math.pow(2,o-n)},r.write=function(e,t,r,n,i,o){var a,s,l=8*o-i-1,u=(1<<l)-1,c=u>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,f=n?1:-1;for(o=t<0||0===t&&1/t<0?1:0,t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(n=Math.pow(2,-a))<1&&(a--,n*=2),2<=(t+=1<=a+c?h/n:h*Math.pow(2,1-c))*n&&(a++,n/=2),u<=a+c?(s=0,a=u):1<=a+c?(s=(t*n-1)*Math.pow(2,i),a+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,i),a=0));8<=i;e[r+d]=255&s,d+=f,s/=256,i-=8);for(a=a<<i|s,l+=i;0<l;e[r+d]=255&a,d+=f,a/=256,l-=8);e[r+d-f]|=128*o}},{}],239:[function(e,t,r){"use strict";var n;function i(e,t){return e.b===t.b&&e.a===t.a}function o(e,t){return e.b<t.b||e.b===t.b&&e.a<=t.a}function a(e,t,r){var n=t.b-e.b,i=r.b-t.b;return 0<n+i?n<i?t.a-e.a+n/(n+i)*(e.a-r.a):t.a-r.a+i/(n+i)*(r.a-e.a):0}function s(e,t,r){var n=t.b-e.b,i=r.b-t.b;return 0<n+i?(t.a-r.a)*n+(t.a-e.a)*i:0}function l(e,t){return e.a<t.a||e.a===t.a&&e.b<=t.b}function u(e,t,r){var n=t.a-e.a,i=r.a-t.a;return 0<n+i?n<i?t.b-e.b+n/(n+i)*(e.b-r.b):t.b-r.b+i/(n+i)*(r.b-e.b):0}function c(e,t,r){var n=t.a-e.a,i=r.a-t.a;return 0<n+i?(t.b-r.b)*n+(t.b-e.b)*i:0}function h(e,t,r,n){return(e=e<0?0:e)<=(r=r<0?0:r)?0===r?(t+n)/2:t+e/(e+r)*(n-t):n+r/(e+r)*(t-n)}function d(e){var t=g(e.b);return b(t,e.c),b(t.b,e.c),x(t,e.a),t}function f(e,t){var r=!1,n=!1;e!==t&&(t.a!==e.a&&(n=!0,S(t.a,e.a)),t.d!==e.d&&(r=!0,k(t.d,e.d)),v(t,e),n||(b(t,e.a),e.a.c=e),r||(x(t,e.d),e.d.a=e))}function p(e){var t=e.b,r=!1;e.d!==e.b.d&&(r=!0,k(e.d,e.b.d)),e.c===e?S(e.a,null):(e.b.d.a=e.b.e,e.a.c=e.c,v(e,e.b.e),r||x(e,e.d)),t.c===t?(S(t.a,null),k(t.d,null)):(e.d.a=t.b.e,t.a.c=t.c,v(t,t.b.e)),w(e)}function m(e){var t=g(e),r=t.b;return v(t,e.e),t.a=e.b.a,b(r,t.a),t.d=r.d=e.d,t=t.b,v(e.b,e.b.b.e),v(e.b,t),e.b.a=t.a,t.b.a.c=t.b,t.b.d=e.b.d,t.f=e.f,t.b.f=e.b.f,t}function y(e,t){var r=!1,n=g(e),i=n.b;return t.d!==e.d&&(r=!0,k(t.d,e.d)),v(n,e.e),v(i,t),n.a=e.b.a,i.a=t.a,n.d=i.d=e.d,e.d.a=i,r||x(n,e.d),n}function g(e){var t=new K,r=new K,n=e.b.h;return(((r.h=n).b.h=t).h=e).b.h=r,t.b=r,((t.c=t).e=r).b=t,(r.c=r).e=t}function v(e,t){var r=e.c,n=t.c;r.b.e=t,(n.b.e=e).c=n,t.c=r}function b(e,t){var r=t.f,n=new $(t,r);for(r.e=n,r=(t.f=n).c=e;r.a=n,(r=r.c)!==e;);}function x(e,t){var r=t.d,n=new Y(t,r);for(r.b=n,(t.d=n).a=e,n.c=t.c,r=e;r.d=n,(r=r.e)!==e;);}function w(e){var t=e.h;e=e.b.h,(t.b.h=e).b.h=t}function S(e,t){for(var r=e.c,n=r;n.a=t,(n=n.c)!==r;);r=e.f,((n=e.e).f=r).e=n}function k(e,t){for(var r=e.a,n=r;n.d=t,(n=n.e)!==r;);r=e.d,((n=e.b).d=r).b=n}function _(e){var t=0;return Math.abs(e[1])>Math.abs(e[0])&&(t=1),Math.abs(e[2])>Math.abs(e[t])?2:t}function j(e,t){e.f+=t.f,e.b.f+=t.b.f}function M(e,t,r){return e=e.a,t=t.a,r=r.a,t.b.a===e?r.b.a===e?o(t.a,r.a)?s(r.b.a,t.a,r.a)<=0:0<=s(t.b.a,r.a,t.a):s(r.b.a,e,r.a)<=0:r.b.a===e?0<=s(t.b.a,e,t.a):(t=a(t.b.a,e,t.a),(e=a(r.b.a,e,r.a))<=t)}function C(e){e.a.i=null;var t=e.e;t.a.c=t.c,t.c.a=t.a,e.e=null}function P(e,t){p(e.a),e.c=!1,(e.a=t).i=e}function T(e){for(var t=e.a.a;(e=ue(e)).a.a===t;);return e.c&&(P(e,t=y(le(e).a.b,e.a.e)),e=ue(e)),e}function E(e,t,r){var n=new se;return n.a=r,n.e=G(e.f,t.e,n),r.i=n}function O(e,t){switch(e.s){case 100130:return 0!=(1&t);case 100131:return 0!==t;case 100132:return 0<t;case 100133:return t<0;case 100134:return 2<=t||t<=-2}return!1}function A(e){var t=e.a,r=t.d;r.c=e.d,r.a=t,C(e)}function L(e,t,r){for(t=(e=t).a;e!==r;){e.c=!1;var n=le(e),i=n.a;if(i.a!==t.a){if(!n.c){A(e);break}P(n,i=y(t.c.b,i.b))}t.c!==i&&(f(i.b.e,i),f(t,i)),A(e),t=n.a,e=n}return t}function N(e,t,r,n,i,o){for(var a=!0;E(e,t,r.b),(r=r.c)!==n;);for(null===i&&(i=le(t).a.b.c);(r=(n=le(t)).a.b).a===i.a;)r.c!==i&&(f(r.b.e,r),f(i.b.e,r)),n.f=t.f-r.f,n.d=O(e,n.f),t.b=!0,!a&&F(e,t)&&(j(r,i),C(t),p(i)),a=!1,t=n,i=r;t.b=!0,o&&U(e,t)}function R(e,t,r,n,i){var o=[t.g[0],t.g[1],t.g[2]];t.d=null,t.d=e.o&&e.o(o,r,n,e.c)||null,null===t.d&&(i?e.n||(X(e,100156),e.n=!0):t.d=r[0])}function D(e,t,r){var n=[null,null,null,null];n[0]=t.a.d,n[1]=r.a.d,R(e,t.a,n,[.5,.5,0,0],!1),f(t,r)}function I(e,t,r,n,i){var o=Math.abs(t.b-e.b)+Math.abs(t.a-e.a),a=Math.abs(r.b-e.b)+Math.abs(r.a-e.a),s=i+1;n[i]=.5*a/(o+a),n[s]=.5*o/(o+a),e.g[0]+=n[i]*t.g[0]+n[s]*r.g[0],e.g[1]+=n[i]*t.g[1]+n[s]*r.g[1],e.g[2]+=n[i]*t.g[2]+n[s]*r.g[2]}function F(e,t){var r=le(t),n=t.a,a=r.a;if(o(n.a,a.a)){if(0<s(a.b.a,n.a,a.a))return;if(i(n.a,a.a)){if(n.a!==a.a){r=e.e;var l=n.a.h;if(0<=l){var u=(r=r.b).d,c=r.e,h=r.c,d=h[l];u[d]=u[r.a],(h[u[d]]=d)<=--r.a&&(d<=1||o(c[u[d>>1]],c[u[d]])?oe:ae)(r,d),c[l]=null,h[l]=r.b,r.b=l}else for(r.c[-(l+1)]=null;0<r.a&&null===r.c[r.d[r.a-1]];)--r.a;D(e,a.b.e,n)}}else m(a.b),f(n,a.b.e),t.b=r.b=!0}else{if(s(n.b.a,a.a,n.a)<0)return;ue(t).b=t.b=!0,m(n.b),f(a.b.e,n)}return 1}function B(e,t){var r=le(t),n=t.a,d=r.a,p=n.a,y=d.a,g=n.b.a,v=d.b.a,b=new $;if(s(g,e.a,p),s(v,e.a,y),!(p===y||Math.min(p.a,g.a)>Math.max(y.a,v.a))){if(o(p,y)){if(0<s(v,p,y))return}else if(s(g,y,p)<0)return;var x,w,S=g,k=p,_=v,j=y;if(o(S,k)||(x=S,S=k,k=x),o(_,j)||(x=_,_=j,j=x),o(S,_)||(x=S,S=_,_=x,x=k,k=j,j=x),o(_,k)?o(k,j)?((x=a(S,_,k))+(w=a(_,k,j))<0&&(x=-x,w=-w),b.b=h(x,_.b,w,k.b)):((x=s(S,_,k))+(w=-s(S,j,k))<0&&(x=-x,w=-w),b.b=h(x,_.b,w,j.b)):b.b=(_.b+k.b)/2,l(S,k)||(x=S,S=k,k=x),l(_,j)||(x=_,_=j,j=x),l(S,_)||(x=S,S=_,_=x,x=k,k=j,j=x),l(_,k)?l(k,j)?((x=u(S,_,k))+(w=u(_,k,j))<0&&(x=-x,w=-w),b.a=h(x,_.a,w,k.a)):((x=c(S,_,k))+(w=-c(S,j,k))<0&&(x=-x,w=-w),b.a=h(x,_.a,w,j.a)):b.a=(_.a+k.a)/2,o(b,e.a)&&(b.b=e.a.b,b.a=e.a.a),S=o(p,y)?p:y,o(S,b)&&(b.b=S.b,b.a=S.a),i(b,p)||i(b,y))return F(e,t),0;if(!i(g,e.a)&&0<=s(g,e.a,b)||!i(v,e.a)&&s(v,e.a,b)<=0){if(v===e.a)m(n.b),f(d.b,n),n=le(t=T(t)).a,L(e,le(t),r),N(e,t,n.b.e,n,n,!0);else{if(g!==e.a)return 0<=s(g,e.a,b)&&(ue(t).b=t.b=!0,m(n.b),n.a.b=e.a.b,n.a.a=e.a.a),void(s(v,e.a,b)<=0&&(t.b=r.b=!0,m(d.b),d.a.b=e.a.b,d.a.a=e.a.a));for(m(d.b),f(n.e,d.b.e),y=(p=r=t).a.b.a;(p=ue(p)).a.b.a===y;);p=le(t=p).a.b.c,r.a=d.b.e,N(e,t,(d=L(e,r,null)).c,n.b.c,p,!0)}return 1}m(n.b),m(d.b),f(d.b.e,n),n.a.b=b.b,n.a.a=b.a,n.a.h=Q(e.e,n.a),n=n.a,d=[0,0,0,0],b=[p.d,g.d,y.d,v.d],n.g[0]=n.g[1]=n.g[2]=0,I(n,p,g,d,0),I(n,y,v,d,2),R(e,n,b,d,!0),ue(t).b=t.b=r.b=!0}}function U(e,t){for(var r=le(t);;){for(;r.b;)r=le(t=r);if(!t.b&&(null===(t=ue(r=t))||!t.b))break;t.b=!1;var n=t.a,i=r.a;if(a=n.b.a!==i.b.a)e:{var a,l=le(a=t),u=a.a,c=l.a,h=void 0;if(o(u.b.a,c.b.a)){if(s(u.b.a,c.b.a,u.a)<0){a=!1;break e}ue(a).b=a.b=!0,h=m(u),f(c.b,h),h.d.c=a.d}else{if(0<s(c.b.a,u.b.a,c.a)){a=!1;break e}a.b=l.b=!0,h=m(c),f(u.e,c.b),h.b.d.c=a.d}a=!0}if(a&&(r.c?(C(r),p(i),i=(r=le(t)).a):t.c&&(C(t),p(n),n=(t=ue(r)).a)),n.a!==i.a)if(n.b.a===i.b.a||t.c||r.c||n.b.a!==e.a&&i.b.a!==e.a)F(e,t);else if(B(e,t))break;n.a===i.a&&n.b.a===i.b.a&&(j(i,n),C(t),p(n),t=ue(r))}}function z(e,t){var r=new se,n=d(e.b);n.a.b=4e150,n.a.a=t,n.b.a.b=-4e150,n.b.a.a=t,e.a=n.b.a,r.a=n,r.f=0,r.d=!1,r.c=!1,r.h=!0,r.b=!1,n=G(n=e.f,n.a,r),r.e=n}function q(e){this.a=new V,this.b=e,this.c=M}function G(e,t,r){for(;null!==(t=t.c).b&&!e.c(e.b,t.b,r););return e=new V(r,t.a,t),t.a.c=e,t.a=e}function V(e,t,r){this.b=e||null,this.a=t||this,this.c=r||this}function H(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function W(e,t){if(e.d!==t)for(;e.d!==t;)if(e.d<t)switch(e.d){case 0:X(e,100151),e.u(null);break;case 1:X(e,100152),e.t()}else switch(e.d){case 2:X(e,100154),e.v();break;case 1:X(e,100153),e.w()}}function X(e,t){e.p&&e.p(t,e.c)}function Y(e,t){this.b=e||this,this.d=t||this,this.a=null,this.c=!1}function K(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function Z(){this.c=new $,this.a=new Y,this.b=new K,this.d=new K,this.b.b=this.d,this.d.b=this.b}function $(e,t){this.e=e||this,this.f=t||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function J(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new te}function Q(e,t){var r,n,i;return e.e?(2*(n=++(r=e.b).a)>r.f&&(r.f*=2,r.c=re(r.c,r.f+1)),0===r.b?i=n:(i=r.b,r.b=r.c[r.b]),r.e[i]=t,r.c[i]=n,r.d[n]=i,r.h&&ae(r,n),i):(r=e.a++,e.c[r]=t,-(r+1))}function ee(e){if(0===e.a)return ie(e.b);var t=e.c[e.d[e.a-1]];if(0!==e.b.a&&o(ne(e.b),t))return ie(e.b);for(;--e.a,0<e.a&&null===e.c[e.d[e.a-1]];);return t}function te(){this.d=re([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function re(e,t){for(var r=Array(t),n=0;n<e.length;n++)r[n]=e[n];for(;n<t;n++)r[n]=0;return r}function ne(e){return e.e[e.d[1]]}function ie(e){var t=e.d,r=e.e,n=e.c,i=t[1],o=r[i];return 0<e.a&&(t[1]=t[e.a],n[t[1]]=1,r[i]=null,n[i]=e.b,e.b=i,0<--e.a&&oe(e,1)),o}function oe(e,t){for(var r=e.d,n=e.e,i=e.c,a=t,s=r[a];;){var l=a<<1,u=(l<e.a&&o(n[r[l+1]],n[r[l]])&&(l+=1),r[l]);if(l>e.a||o(n[s],n[u])){i[r[a]=s]=a;break}i[r[a]=u]=a,a=l}}function ae(e,t){for(var r=e.d,n=e.e,i=e.c,a=t,s=r[a];;){var l=a>>1,u=r[l];if(0==l||o(n[u],n[s])){i[r[a]=s]=a;break}i[r[a]=u]=a,a=l}}function se(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function le(e){return e.e.c.b}function ue(e){return e.e.a.b}(n=H.prototype).x=function(){W(this,0)},n.B=function(e,t){switch(e){case 100142:return;case 100140:switch(t){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=t)}break;case 100141:return void(this.m=!!t);default:return void X(this,100900)}X(this,100901)},n.y=function(e){switch(e){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:X(this,100900)}return!1},n.A=function(e,t,r){this.j[0]=e,this.j[1]=t,this.j[2]=r},n.z=function(e,t){var r=t||null;switch(e){case 100100:case 100106:this.h=r;break;case 100104:case 100110:this.l=r;break;case 100101:case 100107:this.k=r;break;case 100102:case 100108:this.i=r;break;case 100103:case 100109:this.p=r;break;case 100105:case 100111:this.o=r;break;case 100112:this.r=r;break;default:X(this,100900)}},n.C=function(e,t){var r=!1,n=[0,0,0];W(this,2);for(var i=0;i<3;++i){var o=e[i];o<-1e150&&(o=-1e150,r=!0),1e150<o&&(o=1e150,r=!0),n[i]=o}r&&X(this,100155),null===(r=this.q)?f(r=d(this.b),r.b):(m(r),r=r.e),r.a.d=t,r.a.g[0]=n[0],r.a.g[1]=n[1],r.a.g[2]=n[2],r.f=1,r.b.f=-1,this.q=r},n.u=function(e){W(this,0),this.d=1,this.b=new Z,this.c=e},n.t=function(){W(this,1),this.d=2,this.q=null},n.v=function(){W(this,2),this.d=1},n.w=function(){W(this,1),this.d=0;var e,t,r=!1,n=[h=this.j[0],a=this.j[1],u=this.j[2]];if(0===h&&0===a&&0===u){for(var a=[-2e150,-2e150,-2e150],l=[2e150,2e150,2e150],u=[],c=[],h=(r=this.b.c).e;h!==r;h=h.e)for(var d=0;d<3;++d){var g=h.g[d];g<l[d]&&(l[d]=g,c[d]=h),g>a[d]&&(a[d]=g,u[d]=h)}if(a[1]-l[1]>a[h=0]-l[0]&&(h=1),l[h=a[2]-l[2]>a[h]-l[h]?2:h]>=a[h])n[0]=0,n[1]=0,n[2]=1;else{for(l=c[h],u=u[h],c=[a=0,0,0],l=[l.g[0]-u.g[0],l.g[1]-u.g[1],l.g[2]-u.g[2]],d=[0,0,0],h=r.e;h!==r;h=h.e)d[0]=h.g[0]-u.g[0],d[1]=h.g[1]-u.g[1],d[2]=h.g[2]-u.g[2],c[0]=l[1]*d[2]-l[2]*d[1],c[1]=l[2]*d[0]-l[0]*d[2],c[2]=l[0]*d[1]-l[1]*d[0],a<(g=c[0]*c[0]+c[1]*c[1]+c[2]*c[2])&&(a=g,n[0]=c[0],n[1]=c[1],n[2]=c[2]);a<=0&&(n[0]=n[1]=n[2]=0,n[_(l)]=1)}r=!0}for(c=_(n),h=this.b.c,a=(c+1)%3,u=(c+2)%3,c=0<n[c]?1:-1,n=h.e;n!==h;n=n.e)n.b=n.g[a],n.a=c*n.g[u];if(r){for(n=0,h=(r=this.b.a).b;h!==r;h=h.b)if(!((a=h.a).f<=0))for(;n+=(a.a.b-a.b.a.b)*(a.a.a+a.b.a.a),(a=a.e)!==h.a;);if(n<0)for(r=(n=this.b.c).e;r!==n;r=r.e)r.a=-r.a}for(this.n=!1,h=(n=this.b.b).h;h!==n;h=r)r=h.h,a=h.e,i(h.a,h.b.a)&&h.e.e!==h&&(D(this,a,h),p(h),a=(h=a).e),a.e===h&&(a!==h&&(a!==r&&a!==r.b||(r=r.h),p(a)),h!==r&&h!==r.b||(r=r.h),p(h));for(this.e=n=new J,h=(r=this.b.c).e;h!==r;h=h.e)h.h=Q(n,h);var b=n;b.d=[];for(var x=0;x<b.a;x++)b.d[x]=x;b.d.sort(function(e){return function(t,r){return o(e[t],e[r])?1:-1}}(b.c)),b.e=!0;for(var k=b.b,M=k.a;1<=M;--M)oe(k,M);for(k.h=!0,this.f=new q(this),z(this,-4e150),z(this,4e150);null!==(n=ee(this.e));){for(;;){e:if(0===(h=this.e).a)r=ne(h.b);else if(r=h.c[h.d[h.a-1]],0!==h.b.a&&o(h=ne(h.b),r)){r=h;break e}if(null===r||!i(r,n))break;r=ee(this.e),D(this,n.c,r.c)}!function e(t,r){for(var n,a=(t.a=r).c;null===a.i;)if((a=a.c)===r.c){a=t;var l=r;(g=new se).a=l.c.b;for(var u=(c=a.f).a;null!==(u=u.a).b&&!c.c(c.b,g,u.b););var c,h,d=le(c=u.b),g=c.a;return u=d.a,void(0===s(g.b.a,l,g.a)?i((g=c.a).a,l)||i(g.b.a,l)||(m(g.b),c.c&&(p(g.c),c.c=!1),f(l.c,g),e(a,l)):(h=o(u.b.a,g.b.a)?c:d,d=void 0,c.d||h.c?(d=h===c?y(l.c.b,g.e):y(u.b.c.b,l.c).b,h.c?P(h,d):((c=E(g=a,c,d)).f=ue(c).f+c.a.f,c.d=O(g,c.f)),e(a,l)):N(a,c,l.c,l.c,null,!0)))}c=(g=le(a=T(a.i))).a,(g=L(t,g,null)).c===c?(g=(c=g).c,u=le(a),d=a.a,h=u.a,n=!1,d.b.a!==h.b.a&&B(t,a),i(d.a,t.a)&&(f(g.b.e,d),g=le(a=T(a)).a,L(t,le(a),u),n=!0),i(h.a,t.a)&&(f(c,h.b.e),c=L(t,u,null),n=!0),n?N(t,a,c.c,g,g,!0):(l=o(h.a,d.a)?h.b.e:d,N(t,a,l=y(c.c.b,l),l.c,l.c,!1),l.b.i.c=!0,U(t,a))):N(t,a,g.c,c,c,!0)}(this,n)}for(this.a=this.f.a.a.b.a.a,n=0;null!==(r=this.f.a.a.b);)r.h||++n,C(r);for(this.f=null,(n=this.e).b=null,n.d=null,this.e=n.c=null,h=(n=this.b).a.b;h!==n.a;h=r)r=h.b,(h=h.a).e.e===h&&(j(h.c,h),p(h));if(!this.n){if(n=this.b,this.m)for(h=n.b.h;h!==n.b;h=r)r=h.h,h.b.d.c!==h.d.c?h.f=h.d.c?1:-1:p(h);else for(h=n.a.b;h!==n.a;h=r)if(r=h.b,h.c){for(h=h.a;o(h.b.a,h.a);h=h.c.b);for(;o(h.a,h.b.a);h=h.e);for(a=h.c.b,u=void 0;h.e!==a;)if(o(h.b.a,a.a)){for(;a.e!==h&&(o((t=a.e).b.a,t.a)||s(a.a,a.b.a,a.e.b.a)<=0);)a=(u=y(a.e,a)).b;a=a.c.b}else{for(;a.e!==h&&(o((e=h.c.b).a,e.b.a)||0<=s(h.b.a,h.a,h.c.b.a));)h=(u=y(h,h.c.b)).b;h=h.e}for(;a.e.e!==h;)a=(u=y(a.e,a)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(r=(n=this.b).a.b;r!==n.a;r=r.b)if(r.c){for(this.h&&this.h(2,this.c),h=r.a;this.k&&this.k(h.a.d,this.c),(h=h.e)!==r.a;);this.i&&this.i(this.c)}}else{for(n=this.b,r=!!this.l,h=!1,a=-1,u=n.a.d;u!==n.a;u=u.d)if(u.c)for(h||(this.h&&this.h(4,this.c),h=!0),c=u.a;r&&a!==(l=c.b.d.c?0:1)&&(a=l,this.l&&this.l(!!a,this.c)),this.k&&this.k(c.a.d,this.c),(c=c.e)!==u.a;);h&&this.i&&this.i(this.c)}if(this.r){for(h=(n=this.b).a.b;h!==n.a;h=r)if(r=h.b,!h.c){for(u=(a=h.a).e,c=void 0;u=(c=u).e,(c.d=null)===c.b.d&&(c.c===c?S(c.a,null):(c.a.c=c.c,v(c,c.b.e)),(l=c.b).c===l?S(l.a,null):(l.a.c=l.c,v(l,l.b.e)),w(c)),c!==a;);a=h.d,((h=h.b).d=a).b=h}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:H,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},H.prototype.gluDeleteTess=H.prototype.x,H.prototype.gluTessProperty=H.prototype.B,H.prototype.gluGetTessProperty=H.prototype.y,H.prototype.gluTessNormal=H.prototype.A,H.prototype.gluTessCallback=H.prototype.z,H.prototype.gluTessVertex=H.prototype.C,H.prototype.gluTessBeginPolygon=H.prototype.u,H.prototype.gluTessBeginContour=H.prototype.t,H.prototype.gluTessEndContour=H.prototype.v,H.prototype.gluTessEndPolygon=H.prototype.w,void 0!==t&&(t.exports=this.libtess)},{}],240:[function(e,t,r){"use strict";function n(e,t,r,n){var i=0,o=void 0===(n=void 0===n?{}:n).loop?null:n.loop,a=void 0===n.palette?null:n.palette;if(t<=0||r<=0||65535<t||65535<r)throw new Error("Width/Height invalid.");function s(e){if((e=e.length)<2||256<e||e&e-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return e}e[i++]=71,e[i++]=73,e[i++]=70,e[i++]=56,e[i++]=57,e[i++]=97;var l=0,u=0;if(null!==a){for(var c=s(a);c>>=1;)++l;if(c=1<<l,--l,void 0!==n.background){if(c<=(u=n.background))throw new Error("Background index out of range.");if(0===u)throw new Error("Background index explicitly passed as 0.")}}if(e[i++]=255&t,e[i++]=t>>8&255,e[i++]=255&r,e[i++]=r>>8&255,e[i++]=(null!==a?128:0)|l,e[i++]=u,e[i++]=0,null!==a)for(var h=0,d=a.length;h<d;++h){var f=a[h];e[i++]=f>>16&255,e[i++]=f>>8&255,e[i++]=255&f}if(null!==o){if(o<0||65535<o)throw new Error("Loop count invalid.");e[i++]=33,e[i++]=255,e[i++]=11,e[i++]=78,e[i++]=69,e[i++]=84,e[i++]=83,e[i++]=67,e[i++]=65,e[i++]=80,e[i++]=69,e[i++]=50,e[i++]=46,e[i++]=48,e[i++]=3,e[i++]=1,e[i++]=255&o,e[i++]=o>>8&255,e[i++]=0}var p=!1;this.addFrame=function(t,r,n,o,l,u){if(!0===p&&(--i,p=!1),u=void 0===u?{}:u,t<0||r<0||65535<t||65535<r)throw new Error("x/y invalid.");if(n<=0||o<=0||65535<n||65535<o)throw new Error("Width/Height invalid.");if(l.length<n*o)throw new Error("Not enough pixels for the frame size.");var c=!0,h=u.palette;if(null==h&&(c=!1,h=a),null==h)throw new Error("Must supply either a local or global palette.");for(var d=s(h),f=0;d>>=1;)++f;d=1<<f;var m=void 0===u.delay?0:u.delay,y=void 0===u.disposal?0:u.disposal;if(y<0||3<y)throw new Error("Disposal out of range.");var g=!1,v=0;if(void 0!==u.transparent&&null!==u.transparent&&(g=!0,(v=u.transparent)<0||d<=v))throw new Error("Transparent color index.");if(0===y&&!g&&0===m||(e[i++]=33,e[i++]=249,e[i++]=4,e[i++]=y<<2|(!0===g?1:0),e[i++]=255&m,e[i++]=m>>8&255,e[i++]=v,e[i++]=0),e[i++]=44,e[i++]=255&t,e[i++]=t>>8&255,e[i++]=255&r,e[i++]=r>>8&255,e[i++]=255&n,e[i++]=n>>8&255,e[i++]=255&o,e[i++]=o>>8&255,e[i++]=!0===c?128|f-1:0,!0===c)for(var b=0,x=h.length;b<x;++b){var w=h[b];e[i++]=w>>16&255,e[i++]=w>>8&255,e[i++]=255&w}return i=function(e,t,r,n){e[t++]=r;var i=t++,o=1<<r,a=o-1,s=1+o,l=1+s,u=r+1,c=0,h=0;function d(r){for(;r<=c;)e[t++]=255&h,h>>=8,c-=8,t===i+256&&(e[i]=255,i=t++)}function f(e){h|=e<<c,c+=u,d(8)}var p=n[0]&a,m={};f(o);for(var y=1,g=n.length;y<g;++y){var v=n[y]&a,b=p<<8|v,x=m[b];if(void 0===x){for(h|=p<<c,c+=u;8<=c;)e[t++]=255&h,h>>=8,c-=8,t===i+256&&(e[i]=255,i=t++);4096===l?(f(o),l=1+s,u=r+1,m={}):(1<<u<=l&&++u,m[b]=l++),p=v}else p=x}return f(p),f(s),d(1),i+1===t?e[i]=0:(e[i]=t-i-1,e[t++]=0),t}(e,i,f<2?2:f,l)},this.end=function(){return!1===p&&(e[i++]=59,p=!0),i},this.getOutputBuffer=function(){return e},this.setOutputBuffer=function(t){e=t},this.getOutputBufferPosition=function(){return i},this.setOutputBufferPosition=function(e){i=e}}function i(e,t,r,n){for(var i=e[t++],o=1<<i,a=1+o,s=1+a,l=i+1,u=(1<<l)-1,c=0,h=0,d=0,f=e[t++],p=new Int32Array(4096),m=null;;){for(;c<16&&0!==f;)h|=e[t++]<<c,c+=8,1===f?f=e[t++]:--f;if(c<l)break;var y=h&u;if(h>>=l,c-=l,y==o)s=1+a,u=(1<<(l=i+1))-1,m=null;else{if(y==a)break;for(var g=y<s?y:m,v=0,b=g;o<b;)b=p[b]>>8,++v;var x=b;if(n<d+v+(g!==y?1:0))return void console.log("Warning, gif stream longer than expected.");r[d++]=x;var w=d+=v;for(g!==y&&(r[d++]=x),b=g;v--;)b=p[b],r[--w]=255&b,b>>=8;null!==m&&s<4096&&(p[s++]=m<<8|x,u+1<=s&&l<12&&(++l,u=u<<1|1)),m=y}}d!==n&&console.log("Warning, gif stream shorter than expected.")}try{r.GifWriter=n,r.GifReader=function(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,o=e[t++],a=1<<1+(7&o),s=(e[t++],e[t++],null),l=null,u=(o>>7&&(s=t,t+=3*(l=a)),!0),c=[],h=0,d=null,f=0,p=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,p=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!(0<=(y=e[t++])))throw Error("Invalid block size");if(0===y)break;t+=y}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var m=e[t++];h=e[t++]|e[t++]<<8,d=e[t++],0==(1&m)&&(d=null),f=m>>2&7,t++;break;case 254:for(;;){if(!(0<=(y=e[t++])))throw Error("Invalid block size");if(0===y)break;t+=y}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var y,g=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,w=(j=e[t++])>>6&1,S=s,k=l,_=!1,j=(j>>7&&(_=!0,S=t,t+=3*(k=1<<1+(7&j))),t);for(t++;;){if(!(0<=(y=e[t++])))throw Error("Invalid block size");if(0===y)break;t+=y}c.push({x:g,y:v,width:b,height:x,has_local_palette:_,palette_offset:S,palette_size:k,data_offset:j,data_length:t-j,transparent_index:d,interlaced:!!w,delay:h,disposal:f});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return p},this.frameInfo=function(e){if(e<0||e>=c.length)throw new Error("Frame index out of range.");return c[e]},this.decodeAndBlitFrameBGRA=function(t,n){for(var o=(t=this.frameInfo(t)).width*t.height,a=new Uint8Array(o),s=(i(e,t.data_offset,a,o),t.palette_offset),l=t.transparent_index,u=(null===l&&(l=256),t.width),c=r-u,h=u,d=4*(t.y*r+t.x),f=4*((t.y+t.height)*r+t.x),p=d,m=4*c,y=(!0===t.interlaced&&(m+=4*r*7),8),g=0,v=a.length;g<v;++g){var b,x,w=a[g];0===h&&(h=u,f<=(p+=m)&&(m=4*c+4*r*(y-1),p=d+(u+c)*(y<<1),y>>=1)),w===l?p+=4:(b=e[s+3*w],x=e[s+3*w+1],w=e[s+3*w+2],n[p++]=w,n[p++]=x,n[p++]=b,n[p++]=255),--h}},this.decodeAndBlitFrameRGBA=function(t,n){for(var o=(t=this.frameInfo(t)).width*t.height,a=new Uint8Array(o),s=(i(e,t.data_offset,a,o),t.palette_offset),l=t.transparent_index,u=(null===l&&(l=256),t.width),c=r-u,h=u,d=4*(t.y*r+t.x),f=4*((t.y+t.height)*r+t.x),p=d,m=4*c,y=(!0===t.interlaced&&(m+=4*r*7),8),g=0,v=a.length;g<v;++g){var b,x,w=a[g];0===h&&(h=u,f<=(p+=m)&&(m=4*c+4*r*(y-1),p=d+(u+c)*(y<<1),y>>=1)),w===l?p+=4:(b=e[s+3*w],x=e[s+3*w+1],w=e[s+3*w+2],n[p++]=b,n[p++]=x,n[p++]=w,n[p++]=255),--h}}}}catch(e){}},{}],241:[function(t,r,n){(function(i){var o,a;o=this,a=function(e){"use strict";function r(e){if(null==this)throw TypeError();var t,r=String(this),n=r.length;if(!((e=(e=e?Number(e):0)!=e?0:e)<0||n<=e))return 55296<=(t=r.charCodeAt(e))&&t<=56319&&e+1<n&&56320<=(n=r.charCodeAt(e+1))&&n<=57343?1024*(t-55296)+n-56320+65536:t}String.prototype.codePointAt||((n=function(){try{var e={},t=Object.defineProperty,r=t(e,e,e)&&t}catch(e){}return r}())?n(String.prototype,"codePointAt",{value:r,configurable:!0,writable:!0}):String.prototype.codePointAt=r);var n,o=0,a=-3;function s(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function l(e,t){this.source=e,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=t,this.destLen=0,this.ltree=new s,this.dtree=new s}var u=new s,c=new s,h=new Uint8Array(30),d=new Uint16Array(30),f=new Uint8Array(30),p=new Uint16Array(30),m=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),y=new s,g=new Uint8Array(320);function v(e,t,r,n){for(var i,o=0;o<r;++o)e[o]=0;for(o=0;o<30-r;++o)e[o+r]=o/r|0;for(i=n,o=0;o<30;++o)t[o]=i,i+=1<<e[o]}var b=new Uint16Array(16);function x(e,t,r,n){for(var i,o=0;o<16;++o)e.table[o]=0;for(o=0;o<n;++o)e.table[t[r+o]]++;for(o=i=e.table[0]=0;o<16;++o)b[o]=i,i+=e.table[o];for(o=0;o<n;++o)t[r+o]&&(e.trans[b[t[r+o]]++]=o)}function w(e,t,r){if(!t)return r;for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var n=e.tag&65535>>>16-t;return e.tag>>>=t,e.bitcount-=t,n+r}function S(e,t){for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;for(var r=0,n=0,i=0,o=e.tag;n=2*n+(1&o),o>>>=1,r+=t.table[++i],0<=(n-=t.table[i]););return e.tag=o,e.bitcount-=i,t.trans[r+n]}function k(e,t,r){for(;;){if(256===(a=S(e,t)))return o;if(a<256)e.dest[e.destLen++]=a;else for(var n,i=w(e,h[a-=257],d[a]),a=S(e,r),s=n=e.destLen-w(e,f[a],p[a]);s<n+i;++s)e.dest[e.destLen++]=e.dest[s]}}for(var _=u,j=c,M=0;M<7;++M)_.table[M]=0;for(_.table[7]=24,_.table[8]=152,_.table[9]=112,M=0;M<24;++M)_.trans[M]=256+M;for(M=0;M<144;++M)_.trans[24+M]=M;for(M=0;M<8;++M)_.trans[168+M]=280+M;for(M=0;M<112;++M)_.trans[176+M]=144+M;for(M=0;M<5;++M)j.table[M]=0;for(j.table[5]=32,M=0;M<32;++M)j.trans[M]=M;v(h,d,4,3),v(f,p,2,1),h[28]=0,d[28]=258;var C=function(e,t){var r,n,i,s=new l(e,t);do{switch(i=void 0,(n=s).bitcount--||(n.tag=n.source[n.sourceIndex++],n.bitcount=7),i=1&n.tag,n.tag>>>=1,n=i,w(s,2,0)){case 0:r=function(e){for(var t,r;8<e.bitcount;)e.sourceIndex--,e.bitcount-=8;if((t=256*e.source[e.sourceIndex+1]+e.source[e.sourceIndex])!==(65535&~(256*e.source[e.sourceIndex+3]+e.source[e.sourceIndex+2])))return a;for(e.sourceIndex+=4,r=t;r;--r)e.dest[e.destLen++]=e.source[e.sourceIndex++];return e.bitcount=0,o}(s);break;case 1:r=k(s,u,c);break;case 2:P=C=M=T=h=j=_=b=v=p=f=d=void 0;for(var h,d=s,f=s.ltree,p=s.dtree,v=w(d,5,257),b=w(d,5,1),_=w(d,4,4),j=0;j<19;++j)g[j]=0;for(j=0;j<_;++j){var M=w(d,3,0);g[m[j]]=M}for(x(y,g,0,19),h=0;h<v+b;){var C=S(d,y);switch(C){case 16:for(var P=g[h-1],T=w(d,2,3);T;--T)g[h++]=P;break;case 17:for(T=w(d,3,3);T;--T)g[h++]=0;break;case 18:for(T=w(d,7,11);T;--T)g[h++]=0;break;default:g[h++]=C}}x(f,g,0,v),x(p,g,v,b),r=k(s,s.ltree,s.dtree);break;default:r=a}if(r!==o)throw new Error("Data error")}while(!n);return s.destLen<s.dest.length?"function"==typeof s.dest.slice?s.dest.slice(0,s.destLen):s.dest.subarray(0,s.destLen):s.dest};function P(e,t,r,n,i){return Math.pow(1-i,3)*e+3*Math.pow(1-i,2)*i*t+3*(1-i)*Math.pow(i,2)*r+Math.pow(i,3)*n}function T(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function E(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function O(e){throw new Error(e)}function A(e,t){e||O(t)}T.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},T.prototype.addPoint=function(e,t){"number"==typeof e&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),"number"==typeof t&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))},T.prototype.addX=function(e){this.addPoint(e,null)},T.prototype.addY=function(e){this.addPoint(null,e)},T.prototype.addBezier=function(e,t,r,n,i,o,a,s){var l=[e,t],u=[r,n],c=[i,o],h=[a,s];this.addPoint(e,t),this.addPoint(a,s);for(var d=0;d<=1;d++){var f,p=6*l[d]-12*u[d]+6*c[d],m=-3*l[d]+9*u[d]-9*c[d]+3*h[d],y=3*u[d]-3*l[d];0==m?0==p||0<(f=-y/p)&&f<1&&(0===d&&this.addX(P(l[d],u[d],c[d],h[d],f)),1===d&&this.addY(P(l[d],u[d],c[d],h[d],f))):(f=Math.pow(p,2)-4*y*m)<0||(0<(y=(-p+Math.sqrt(f))/(2*m))&&y<1&&(0===d&&this.addX(P(l[d],u[d],c[d],h[d],y)),1===d&&this.addY(P(l[d],u[d],c[d],h[d],y))),0<(y=(-p-Math.sqrt(f))/(2*m))&&y<1&&(0===d&&this.addX(P(l[d],u[d],c[d],h[d],y)),1===d&&this.addY(P(l[d],u[d],c[d],h[d],y))))}},T.prototype.addQuad=function(e,t,r,n,i,o){r=e+2/3*(r-e),n=t+2/3*(n-t),this.addBezier(e,t,r,n,r+1/3*(i-e),n+1/3*(o-t),i,o)},E.prototype.moveTo=function(e,t){this.commands.push({type:"M",x:e,y:t})},E.prototype.lineTo=function(e,t){this.commands.push({type:"L",x:e,y:t})},E.prototype.curveTo=E.prototype.bezierCurveTo=function(e,t,r,n,i,o){this.commands.push({type:"C",x1:e,y1:t,x2:r,y2:n,x:i,y:o})},E.prototype.quadTo=E.prototype.quadraticCurveTo=function(e,t,r,n){this.commands.push({type:"Q",x1:e,y1:t,x:r,y:n})},E.prototype.close=E.prototype.closePath=function(){this.commands.push({type:"Z"})},E.prototype.extend=function(e){var t;if(e.commands)e=e.commands;else if(e instanceof T)return t=e,this.moveTo(t.x1,t.y1),this.lineTo(t.x2,t.y1),this.lineTo(t.x2,t.y2),this.lineTo(t.x1,t.y2),void this.close();Array.prototype.push.apply(this.commands,e)},E.prototype.getBoundingBox=function(){for(var e=new T,t=0,r=0,n=0,i=0,o=0;o<this.commands.length;o++){var a=this.commands[o];switch(a.type){case"M":e.addPoint(a.x,a.y),t=n=a.x,r=i=a.y;break;case"L":e.addPoint(a.x,a.y),n=a.x,i=a.y;break;case"Q":e.addQuad(n,i,a.x1,a.y1,a.x,a.y),n=a.x,i=a.y;break;case"C":e.addBezier(n,i,a.x1,a.y1,a.x2,a.y2,a.x,a.y),n=a.x,i=a.y;break;case"Z":n=t,i=r;break;default:throw new Error("Unexpected path command "+a.type)}}return e.isEmpty()&&e.addPoint(0,0),e},E.prototype.draw=function(e){e.beginPath();for(var t=0;t<this.commands.length;t+=1){var r=this.commands[t];"M"===r.type?e.moveTo(r.x,r.y):"L"===r.type?e.lineTo(r.x,r.y):"C"===r.type?e.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y):"Q"===r.type?e.quadraticCurveTo(r.x1,r.y1,r.x,r.y):"Z"===r.type&&e.closePath()}this.fill&&(e.fillStyle=this.fill,e.fill()),this.stroke&&(e.strokeStyle=this.stroke,e.lineWidth=this.strokeWidth,e.stroke())},E.prototype.toPathData=function(e){function t(){for(var t=arguments,r="",n=0;n<arguments.length;n+=1){var i=t[n];0<=i&&0<n&&(r+=" "),r+=Math.round(i)===i?""+Math.round(i):i.toFixed(e)}return r}e=void 0!==e?e:2;for(var r="",n=0;n<this.commands.length;n+=1){var i=this.commands[n];"M"===i.type?r+="M"+t(i.x,i.y):"L"===i.type?r+="L"+t(i.x,i.y):"C"===i.type?r+="C"+t(i.x1,i.y1,i.x2,i.y2,i.x,i.y):"Q"===i.type?r+="Q"+t(i.x1,i.y1,i.x,i.y):"Z"===i.type&&(r+="Z")}return r},E.prototype.toSVG=function(e){var t=(t='<path d="')+this.toPathData(e)+'"';return this.fill&&"black"!==this.fill&&(null===this.fill?t+=' fill="none"':t+=' fill="'+this.fill+'"'),this.stroke&&(t+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),t+"/>"},E.prototype.toDOMElement=function(e){e=this.toPathData(e);var t=document.createElementNS("http://www.w3.org/2000/svg","path");return t.setAttribute("d",e),t};var L={fail:O,argument:A,assert:A},N={},R={},D={};function I(e){return function(){return e}}R.BYTE=function(e){return L.argument(0<=e&&e<=255,"Byte value should be between 0 and 255."),[e]},D.BYTE=I(1),R.CHAR=function(e){return[e.charCodeAt(0)]},D.CHAR=I(1),R.CHARARRAY=function(e){for(var t=[],r=0;r<e.length;r+=1)t[r]=e.charCodeAt(r);return t},D.CHARARRAY=function(e){return e.length},R.USHORT=function(e){return[e>>8&255,255&e]},D.USHORT=I(2),R.SHORT=function(e){return[(e=32768<=e?-(65536-e):e)>>8&255,255&e]},D.SHORT=I(2),R.UINT24=function(e){return[e>>16&255,e>>8&255,255&e]},D.UINT24=I(3),R.ULONG=function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},D.ULONG=I(4),R.LONG=function(e){return[(e=2147483648<=e?-(4294967296-e):e)>>24&255,e>>16&255,e>>8&255,255&e]},D.LONG=I(4),R.FIXED=R.ULONG,D.FIXED=D.ULONG,R.FWORD=R.SHORT,D.FWORD=D.SHORT,R.UFWORD=R.USHORT,D.UFWORD=D.USHORT,R.LONGDATETIME=function(e){return[0,0,0,0,e>>24&255,e>>16&255,e>>8&255,255&e]},D.LONGDATETIME=I(8),R.TAG=function(e){return L.argument(4===e.length,"Tag should be exactly 4 ASCII characters."),[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]},D.TAG=I(4),R.Card8=R.BYTE,D.Card8=D.BYTE,R.Card16=R.USHORT,D.Card16=D.USHORT,R.OffSize=R.BYTE,D.OffSize=D.BYTE,R.SID=R.USHORT,D.SID=D.USHORT,R.NUMBER=function(e){return-107<=e&&e<=107?[e+139]:108<=e&&e<=1131?[247+((e-=108)>>8),255&e]:-1131<=e&&e<=-108?[251+((e=-e-108)>>8),255&e]:-32768<=e&&e<=32767?R.NUMBER16(e):R.NUMBER32(e)},D.NUMBER=function(e){return R.NUMBER(e).length},R.NUMBER16=function(e){return[28,e>>8&255,255&e]},D.NUMBER16=I(3),R.NUMBER32=function(e){return[29,e>>24&255,e>>16&255,e>>8&255,255&e]},D.NUMBER32=I(5),R.REAL=function(e){for(var t=e.toString(),r=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(t),n=(r&&(r=parseFloat("1e"+((r[2]?+r[2]:0)+r[1].length)),t=(Math.round(e*r)/r).toString()),""),i=0,o=t.length;i<o;i+=1){var a=t[i];n+="e"===a?"-"===t[++i]?"c":"b":"."===a?"a":"-"===a?"e":a}for(var s=[30],l=0,u=(n+=1&n.length?"f":"ff").length;l<u;l+=2)s.push(parseInt(n.substr(l,2),16));return s},D.REAL=function(e){return R.REAL(e).length},R.NAME=R.CHARARRAY,D.NAME=D.CHARARRAY,R.STRING=R.CHARARRAY,D.STRING=D.CHARARRAY,N.UTF8=function(e,t,r){for(var n=[],i=r,o=0;o<i;o++,t+=1)n[o]=e.getUint8(t);return String.fromCharCode.apply(null,n)},N.UTF16=function(e,t,r){for(var n=[],i=r/2,o=0;o<i;o++,t+=2)n[o]=e.getUint16(t);return String.fromCharCode.apply(null,n)},R.UTF16=function(e){for(var t=[],r=0;r<e.length;r+=1){var n=e.charCodeAt(r);t[t.length]=n>>8&255,t[t.length]=255&n}return t},D.UTF16=function(e){return 2*e.length};var F,B={"x-mac-croatian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\u0160\u2122\xb4\xa8\u2260\u017d\xd8\u221e\xb1\u2264\u2265\u2206\xb5\u2202\u2211\u220f\u0161\u222b\xaa\xba\u03a9\u017e\xf8\xbf\xa1\xac\u221a\u0192\u2248\u0106\xab\u010c\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u0110\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\uf8ff\xa9\u2044\u20ac\u2039\u203a\xc6\xbb\u2013\xb7\u201a\u201e\u2030\xc2\u0107\xc1\u010d\xc8\xcd\xce\xcf\xcc\xd3\xd4\u0111\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u03c0\xcb\u02da\xb8\xca\xe6\u02c7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041a\u041b\u041c\u041d\u041e\u041f\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042a\u042b\u042c\u042d\u042e\u042f\u2020\xb0\u0490\xa3\xa7\u2022\xb6\u0406\xae\xa9\u2122\u0402\u0452\u2260\u0403\u0453\u221e\xb1\u2264\u2265\u0456\xb5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040a\u045a\u0458\u0405\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\u040b\u045b\u040c\u045c\u0455\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u201e\u040e\u045e\u040f\u045f\u2116\u0401\u0451\u044f\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043a\u043b\u043c\u043d\u043e\u043f\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044a\u044b\u044c\u044d\u044e","x-mac-gaelic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u1e02\xb1\u2264\u2265\u1e03\u010a\u010b\u1e0a\u1e0b\u1e1e\u1e1f\u0120\u0121\u1e40\xe6\xf8\u1e41\u1e56\u1e57\u027c\u0192\u017f\u1e60\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\u1e61\u1e9b\xff\u0178\u1e6a\u20ac\u2039\u203a\u0176\u0177\u1e6b\xb7\u1ef2\u1ef3\u204a\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\u2663\xd2\xda\xdb\xd9\u0131\xdd\xfd\u0174\u0175\u1e84\u1e85\u1e80\u1e81\u1e82\u1e83","x-mac-greek":"\xc4\xb9\xb2\xc9\xb3\xd6\xdc\u0385\xe0\xe2\xe4\u0384\xa8\xe7\xe9\xe8\xea\xeb\xa3\u2122\xee\xef\u2022\xbd\u2030\xf4\xf6\xa6\u20ac\xf9\xfb\xfc\u2020\u0393\u0394\u0398\u039b\u039e\u03a0\xdf\xae\xa9\u03a3\u03aa\xa7\u2260\xb0\xb7\u0391\xb1\u2264\u2265\xa5\u0392\u0395\u0396\u0397\u0399\u039a\u039c\u03a6\u03ab\u03a8\u03a9\u03ac\u039d\xac\u039f\u03a1\u2248\u03a4\xab\xbb\u2026\xa0\u03a5\u03a7\u0386\u0388\u0153\u2013\u2015\u201c\u201d\u2018\u2019\xf7\u0389\u038a\u038c\u038e\u03ad\u03ae\u03af\u03cc\u038f\u03cd\u03b1\u03b2\u03c8\u03b4\u03b5\u03c6\u03b3\u03b7\u03b9\u03be\u03ba\u03bb\u03bc\u03bd\u03bf\u03c0\u03ce\u03c1\u03c3\u03c4\u03b8\u03c9\u03c2\u03c7\u03c5\u03b6\u03ca\u03cb\u0390\u03b0\xad","x-mac-icelandic":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xdd\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\xd0\xf0\xde\xfe\xfd\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140a\u140b\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144e\u144f\u1450\u1451\u1455\u1456\u1466\u146d\u146e\u146f\u1470\u1472\u1473\u1483\u148b\u148c\u148d\u148e\u1490\u1491\xb0\u14a1\u14a5\u14a6\u2022\xb6\u14a7\xae\xa9\u2122\u14a8\u14aa\u14ab\u14bb\u14c2\u14c3\u14c4\u14c5\u14c7\u14c8\u14d0\u14ef\u14f0\u14f1\u14f2\u14f4\u14f5\u1505\u14d5\u14d6\u14d7\u14d8\u14da\u14db\u14ea\u1528\u1529\u152a\u152b\u152d\u2026\xa0\u152e\u153e\u1555\u1556\u1557\u2013\u2014\u201c\u201d\u2018\u2019\u1558\u1559\u155a\u155d\u1546\u1547\u1548\u1549\u154b\u154c\u1550\u157f\u1580\u1581\u1582\u1583\u1584\u1585\u158f\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15a0\u15a1\u15a2\u15a3\u15a4\u15a5\u15a6\u157c\u0141\u0142","x-mac-ce":"\xc4\u0100\u0101\xc9\u0104\xd6\xdc\xe1\u0105\u010c\xe4\u010d\u0106\u0107\xe9\u0179\u017a\u010e\xed\u010f\u0112\u0113\u0116\xf3\u0117\xf4\xf6\xf5\xfa\u011a\u011b\xfc\u2020\xb0\u0118\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\u0119\xa8\u2260\u0123\u012e\u012f\u012a\u2264\u2265\u012b\u0136\u2202\u2211\u0142\u013b\u013c\u013d\u013e\u0139\u013a\u0145\u0146\u0143\xac\u221a\u0144\u0147\u2206\xab\xbb\u2026\xa0\u0148\u0150\xd5\u0151\u014c\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\u014d\u0154\u0155\u0158\u2039\u203a\u0159\u0156\u0157\u0160\u201a\u201e\u0161\u015a\u015b\xc1\u0164\u0165\xcd\u017d\u017e\u016a\xd3\xd4\u016b\u016e\xda\u016f\u0170\u0171\u0172\u0173\xdd\xfd\u0137\u017b\u0141\u017c\u0122\u02c7",macintosh:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\ufb01\ufb02\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-romanian":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\u0102\u0218\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\u0103\u0219\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u2044\u20ac\u2039\u203a\u021a\u021b\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\u0131\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7","x-mac-turkish":"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\u2020\xb0\xa2\xa3\xa7\u2022\xb6\xdf\xae\xa9\u2122\xb4\xa8\u2260\xc6\xd8\u221e\xb1\u2264\u2265\xa5\xb5\u2202\u2211\u220f\u03c0\u222b\xaa\xba\u03a9\xe6\xf8\xbf\xa1\xac\u221a\u0192\u2248\u2206\xab\xbb\u2026\xa0\xc0\xc3\xd5\u0152\u0153\u2013\u2014\u201c\u201d\u2018\u2019\xf7\u25ca\xff\u0178\u011e\u011f\u0130\u0131\u015e\u015f\u2021\xb7\u201a\u201e\u2030\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\uf8ff\xd2\xda\xdb\xd9\uf8a0\u02c6\u02dc\xaf\u02d8\u02d9\u02da\xb8\u02dd\u02db\u02c7"},U=(N.MACSTRING=function(e,t,r,n){var i=B[n];if(void 0!==i){for(var o="",a=0;a<r;a++){var s=e.getUint8(t+a);o+=s<=127?String.fromCharCode(s):i[127&s]}return o}},"function"==typeof WeakMap&&new WeakMap);function z(e){return-128<=e&&e<=127}R.MACSTRING=function(e,t){var r=function(e){if(!F)for(var t in F={},B)F[t]=new String(t);var r=F[e];if(void 0!==r){if(U){var n=U.get(r);if(void 0!==n)return n}var i=B[e];if(void 0!==i){for(var o={},a=0;a<i.length;a++)o[i.charCodeAt(a)]=a+128;return U&&U.set(r,o),o}}}(t);if(void 0!==r){for(var n=[],i=0;i<e.length;i++){var o=e.charCodeAt(i);if(128<=o&&void 0===(o=r[o]))return;n[i]=o}return n}},D.MACSTRING=function(e,t){return void 0!==(e=R.MACSTRING(e,t))?e.length:0},R.VARDELTAS=function(e){for(var t=0,r=[];t<e.length;){var n=e[t];t=(0===n?function(e,t,r){for(var n=0,i=e.length;t<i&&n<64&&0===e[t];)++t,++n;return r.push(128|n-1),t}:-128<=n&&n<=127?function(e,t,r){for(var n=0,i=e.length,o=t;o<i&&n<64;){var a=e[o];if(!z(a))break;if(0===a&&o+1<i&&0===e[o+1])break;++o,++n}r.push(n-1);for(var s=t;s<o;++s)r.push(e[s]+256&255);return o}:function(e,t,r){for(var n=0,i=e.length,o=t;o<i&&n<64;){var a=e[o];if(0===a)break;if(z(a)&&o+1<i&&z(e[o+1]))break;++o,++n}r.push(64|n-1);for(var s=t;s<o;++s){var l=e[s];r.push(l+65536>>8&255,l+256&255)}return o})(e,t,r)}return r},R.INDEX=function(e){for(var t=1,r=[t],n=[],i=0;i<e.length;i+=1){var o=R.OBJECT(e[i]);Array.prototype.push.apply(n,o),t+=o.length,r.push(t)}if(0===n.length)return[0,0];for(var a=[],s=1+Math.floor(Math.log(t)/Math.log(2))/8|0,l=[void 0,R.BYTE,R.USHORT,R.UINT24,R.ULONG][s],u=0;u<r.length;u+=1){var c=l(r[u]);Array.prototype.push.apply(a,c)}return Array.prototype.concat(R.Card16(e.length),R.OffSize(s),a,n)},D.INDEX=function(e){return R.INDEX(e).length},R.DICT=function(e){for(var t=[],r=Object.keys(e),n=r.length,i=0;i<n;i+=1){var o=parseInt(r[i],0),a=e[o];t=(t=t.concat(R.OPERAND(a.value,a.type))).concat(R.OPERATOR(o))}return t},D.DICT=function(e){return R.DICT(e).length},R.OPERATOR=function(e){return e<1200?[e]:[12,e-1200]},R.OPERAND=function(e,t){var r=[];if(Array.isArray(t))for(var n=0;n<t.length;n+=1)L.argument(e.length===t.length,"Not enough arguments given for type"+t),r=r.concat(R.OPERAND(e[n],t[n]));else if("SID"===t)r=r.concat(R.NUMBER(e));else if("offset"===t)r=r.concat(R.NUMBER32(e));else if("number"===t)r=r.concat(R.NUMBER(e));else{if("real"!==t)throw new Error("Unknown operand type "+t);r=r.concat(R.REAL(e))}return r},R.OP=R.BYTE,D.OP=D.BYTE;var q="function"==typeof WeakMap&&new WeakMap;function G(e,t,r){for(var n=0;n<t.length;n+=1){var i=t[n];this[i.name]=i.value}if(this.tableName=e,this.fields=t,r)for(var o=Object.keys(r),a=0;a<o.length;a+=1){var s=o[a],l=r[s];void 0!==this[s]&&(this[s]=l)}}function V(e,t,r){void 0===r&&(r=t.length);var n=new Array(t.length+1);n[0]={name:e+"Count",type:"USHORT",value:r};for(var i=0;i<t.length;i++)n[i+1]={name:e+i,type:"USHORT",value:t[i]};return n}function H(e,t,r){var n=t.length,i=new Array(n+1);i[0]={name:e+"Count",type:"USHORT",value:n};for(var o=0;o<n;o++)i[o+1]={name:e+o,type:"TABLE",value:r(t[o],o)};return i}function W(e,t,r){var n=t.length,i=[];i[0]={name:e+"Count",type:"USHORT",value:n};for(var o=0;o<n;o++)i=i.concat(r(t[o],o));return i}function X(e){1===e.format?G.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(V("glyph",e.glyphs))):L.assert(!1,"Can't create coverage table format 2 yet.")}function Y(e){G.call(this,"scriptListTable",W("scriptRecord",e,(function(e,t){var r=e.script,n=r.defaultLangSys;return L.assert(!!n,"Unable to write GSUB: script "+e.tag+" has no default language system."),[{name:"scriptTag"+t,type:"TAG",value:e.tag},{name:"script"+t,type:"TABLE",value:new G("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new G("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:n.reqFeatureIndex}].concat(V("featureIndex",n.featureIndexes)))}].concat(W("langSys",r.langSysRecords,(function(e,t){var r=e.langSys;return[{name:"langSysTag"+t,type:"TAG",value:e.tag},{name:"langSys"+t,type:"TABLE",value:new G("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:r.reqFeatureIndex}].concat(V("featureIndex",r.featureIndexes)))}]}))))}]})))}function K(e){G.call(this,"featureListTable",W("featureRecord",e,(function(e,t){var r=e.feature;return[{name:"featureTag"+t,type:"TAG",value:e.tag},{name:"feature"+t,type:"TABLE",value:new G("featureTable",[{name:"featureParams",type:"USHORT",value:r.featureParams}].concat(V("lookupListIndex",r.lookupListIndexes)))}]})))}function Z(e,t){G.call(this,"lookupListTable",H("lookup",e,(function(e){var r=t[e.lookupType];return L.assert(!!r,"Unable to write GSUB lookup type "+e.lookupType+" tables."),new G("lookupTable",[{name:"lookupType",type:"USHORT",value:e.lookupType},{name:"lookupFlag",type:"USHORT",value:e.lookupFlag}].concat(H("subtable",e.subtables,r)))})))}R.CHARSTRING=function(e){if(q){var t=q.get(e);if(void 0!==t)return t}for(var r=[],n=e.length,i=0;i<n;i+=1){var o=e[i];r=r.concat(R[o.type](o.value))}return q&&q.set(e,r),r},D.CHARSTRING=function(e){return R.CHARSTRING(e).length},R.OBJECT=function(e){var t=R[e.type];return L.argument(void 0!==t,"No encoding function for type "+e.type),t(e.value)},D.OBJECT=function(e){var t=D[e.type];return L.argument(void 0!==t,"No sizeOf function for type "+e.type),t(e.value)},R.TABLE=function(e){for(var t=[],r=e.fields.length,n=[],i=[],o=0;o<r;o+=1){var a=e.fields[o],s=R[a.type],l=(L.argument(void 0!==s,"No encoding function for field type "+a.type+" ("+a.name+")"),e[a.name]);s=s(l=void 0===l?a.value:l),"TABLE"===a.type?(i.push(t.length),t=t.concat([0,0]),n.push(s)):t=t.concat(s)}for(var u=0;u<n.length;u+=1){var c=i[u],h=t.length;L.argument(h<65536,"Table "+e.tableName+" too big."),t[c]=h>>8,t[c+1]=255&h,t=t.concat(n[u])}return t},D.TABLE=function(e){for(var t=0,r=e.fields.length,n=0;n<r;n+=1){var i=e.fields[n],o=D[i.type],a=(L.argument(void 0!==o,"No sizeOf function for field type "+i.type+" ("+i.name+")"),e[i.name]);t+=o(a=void 0===a?i.value:a),"TABLE"===i.type&&(t+=2)}return t},R.RECORD=R.TABLE,D.RECORD=D.TABLE,R.LITERAL=function(e){return e},D.LITERAL=function(e){return e.length},G.prototype.encode=function(){return R.TABLE(this)},G.prototype.sizeOf=function(){return D.TABLE(this)};var $={Table:G,Record:G,Coverage:(X.prototype=Object.create(G.prototype)).constructor=X,ScriptList:(Y.prototype=Object.create(G.prototype)).constructor=Y,FeatureList:(K.prototype=Object.create(G.prototype)).constructor=K,LookupList:(Z.prototype=Object.create(G.prototype)).constructor=Z,ushortList:V,tableList:H,recordList:W};function J(e,t){return e.getUint8(t)}function Q(e,t){return e.getUint16(t,!1)}function ee(e,t){return e.getUint32(t,!1)}function te(e,t){return e.getInt16(t,!1)+e.getUint16(t+2,!1)/65535}var re={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function ne(e,t){this.data=e,this.offset=t,this.relativeOffset=0}ne.prototype.parseByte=function(){var e=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},ne.prototype.parseChar=function(){var e=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e},ne.prototype.parseCard8=ne.prototype.parseByte,ne.prototype.parseCard16=ne.prototype.parseUShort=function(){var e=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},ne.prototype.parseSID=ne.prototype.parseUShort,ne.prototype.parseOffset16=ne.prototype.parseUShort,ne.prototype.parseShort=function(){var e=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e},ne.prototype.parseF2Dot14=function(){var e=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,e},ne.prototype.parseOffset32=ne.prototype.parseULong=function(){var e=ee(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},ne.prototype.parseFixed=function(){var e=te(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e},ne.prototype.parseString=function(e){var t=this.data,r=this.offset+this.relativeOffset,n="";this.relativeOffset+=e;for(var i=0;i<e;i++)n+=String.fromCharCode(t.getUint8(r+i));return n},ne.prototype.parseTag=function(){return this.parseString(4)},ne.prototype.parseLongDateTime=function(){var e=ee(this.data,this.offset+this.relativeOffset+4);return e-=2082844800,this.relativeOffset+=8,e},ne.prototype.parseVersion=function(e){var t=Q(this.data,this.offset+this.relativeOffset),r=Q(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,t+r/(e=void 0===e?4096:e)/10},ne.prototype.skip=function(e,t){this.relativeOffset+=re[e]*(t=void 0===t?1:t)},ne.prototype.parseULongList=function(e){void 0===e&&(e=this.parseULong());for(var t=new Array(e),r=this.data,n=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=r.getUint32(n),n+=4;return this.relativeOffset+=4*e,t},ne.prototype.parseOffset16List=ne.prototype.parseUShortList=function(e){void 0===e&&(e=this.parseUShort());for(var t=new Array(e),r=this.data,n=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=r.getUint16(n),n+=2;return this.relativeOffset+=2*e,t},ne.prototype.parseShortList=function(e){for(var t=new Array(e),r=this.data,n=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=r.getInt16(n),n+=2;return this.relativeOffset+=2*e,t},ne.prototype.parseByteList=function(e){for(var t=new Array(e),r=this.data,n=this.offset+this.relativeOffset,i=0;i<e;i++)t[i]=r.getUint8(n++);return this.relativeOffset+=e,t},ne.prototype.parseList=function(e,t){t||(t=e,e=this.parseUShort());for(var r=new Array(e),n=0;n<e;n++)r[n]=t.call(this);return r},ne.prototype.parseList32=function(e,t){t||(t=e,e=this.parseULong());for(var r=new Array(e),n=0;n<e;n++)r[n]=t.call(this);return r},ne.prototype.parseRecordList=function(e,t){t||(t=e,e=this.parseUShort());for(var r=new Array(e),n=Object.keys(t),i=0;i<e;i++){for(var o={},a=0;a<n.length;a++){var s=n[a],l=t[s];o[s]=l.call(this)}r[i]=o}return r},ne.prototype.parseRecordList32=function(e,t){t||(t=e,e=this.parseULong());for(var r=new Array(e),n=Object.keys(t),i=0;i<e;i++){for(var o={},a=0;a<n.length;a++){var s=n[a],l=t[s];o[s]=l.call(this)}r[i]=o}return r},ne.prototype.parseStruct=function(e){if("function"==typeof e)return e.call(this);for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var i=t[n],o=e[i];r[i]=o.call(this)}return r},ne.prototype.parseValueRecord=function(e){var t;if(0!==(e=void 0===e?this.parseUShort():e))return t={},1&e&&(t.xPlacement=this.parseShort()),2&e&&(t.yPlacement=this.parseShort()),4&e&&(t.xAdvance=this.parseShort()),8&e&&(t.yAdvance=this.parseShort()),16&e&&(t.xPlaDevice=void 0,this.parseShort()),32&e&&(t.yPlaDevice=void 0,this.parseShort()),64&e&&(t.xAdvDevice=void 0,this.parseShort()),128&e&&(t.yAdvDevice=void 0,this.parseShort()),t},ne.prototype.parseValueRecordList=function(){for(var e=this.parseUShort(),t=this.parseUShort(),r=new Array(t),n=0;n<t;n++)r[n]=this.parseValueRecord(e);return r},ne.prototype.parsePointer=function(e){var t=this.parseOffset16();if(0<t)return new ne(this.data,this.offset+t).parseStruct(e)},ne.prototype.parsePointer32=function(e){var t=this.parseOffset32();if(0<t)return new ne(this.data,this.offset+t).parseStruct(e)},ne.prototype.parseListOfLists=function(e){for(var t=this.parseOffset16List(),r=t.length,n=this.relativeOffset,i=new Array(r),o=0;o<r;o++){var a=t[o];if(0===a)i[o]=void 0;else if(this.relativeOffset=a,e){for(var s=this.parseOffset16List(),l=new Array(s.length),u=0;u<s.length;u++)this.relativeOffset=a+s[u],l[u]=e.call(this);i[o]=l}else i[o]=this.parseUShortList()}return this.relativeOffset=n,i},ne.prototype.parseCoverage=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort(),r=this.parseUShort();if(1===t)return{format:1,glyphs:this.parseUShortList(r)};if(2!==t)throw new Error("0x"+e.toString(16)+": Coverage format must be 1 or 2.");for(var n=new Array(r),i=0;i<r;i++)n[i]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:n}},ne.prototype.parseClassDef=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(1===t)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(2===t)return{format:2,ranges:this.parseRecordList({start:ne.uShort,end:ne.uShort,classId:ne.uShort})};throw new Error("0x"+e.toString(16)+": ClassDef format must be 1 or 2.")},ne.list=function(e,t){return function(){return this.parseList(e,t)}},ne.list32=function(e,t){return function(){return this.parseList32(e,t)}},ne.recordList=function(e,t){return function(){return this.parseRecordList(e,t)}},ne.recordList32=function(e,t){return function(){return this.parseRecordList32(e,t)}},ne.pointer=function(e){return function(){return this.parsePointer(e)}},ne.pointer32=function(e){return function(){return this.parsePointer32(e)}},ne.tag=ne.prototype.parseTag,ne.byte=ne.prototype.parseByte,ne.uShort=ne.offset16=ne.prototype.parseUShort,ne.uShortList=ne.prototype.parseUShortList,ne.uLong=ne.offset32=ne.prototype.parseULong,ne.uLongList=ne.prototype.parseULongList,ne.struct=ne.prototype.parseStruct,ne.coverage=ne.prototype.parseCoverage,ne.classDef=ne.prototype.parseClassDef;var ie={reserved:ne.uShort,reqFeatureIndex:ne.uShort,featureIndexes:ne.uShortList},oe=(ne.prototype.parseScriptList=function(){return this.parsePointer(ne.recordList({tag:ne.tag,script:ne.pointer({defaultLangSys:ne.pointer(ie),langSysRecords:ne.recordList({tag:ne.tag,langSys:ne.pointer(ie)})})}))||[]},ne.prototype.parseFeatureList=function(){return this.parsePointer(ne.recordList({tag:ne.tag,feature:ne.pointer({featureParams:ne.offset16,lookupListIndexes:ne.uShortList})}))||[]},ne.prototype.parseLookupList=function(e){return this.parsePointer(ne.list(ne.pointer((function(){var t=this.parseUShort(),r=(L.argument(1<=t&&t<=9,"GPOS/GSUB lookup type "+t+" unknown."),this.parseUShort()),n=16&r;return{lookupType:t,lookupFlag:r,subtables:this.parseList(ne.pointer(e[t])),markFilteringSet:n?this.parseUShort():void 0}}))))||[]},ne.prototype.parseFeatureVariationsList=function(){return this.parsePointer32((function(){var e=this.parseUShort(),t=this.parseUShort();return L.argument(1===e&&t<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:ne.offset32,featureTableSubstitutionOffset:ne.offset32})}))||[]},{getByte:J,getCard8:J,getUShort:Q,getCard16:Q,getShort:function(e,t){return e.getInt16(t,!1)},getULong:ee,getFixed:te,getTag:function(e,t){for(var r="",n=t;n<t+4;n+=1)r+=String.fromCharCode(e.getInt8(n));return r},getOffset:function(e,t,r){for(var n=0,i=0;i<r;i+=1)n=(n<<=8)+e.getUint8(t+i);return n},getBytes:function(e,t,r){for(var n=[],i=t;i<r;i+=1)n.push(e.getUint8(i));return n},bytesToString:function(e){for(var t="",r=0;r<e.length;r+=1)t+=String.fromCharCode(e[r]);return t},Parser:ne}),ae={parse:function(e,t){for(var r={},n=(r.version=oe.getUShort(e,t),L.argument(0===r.version,"cmap table version should be 0."),r.numTables=oe.getUShort(e,t+2),-1),i=r.numTables-1;0<=i;--i){var o=oe.getUShort(e,t+4+8*i),a=oe.getUShort(e,t+4+8*i+2);if(3===o&&(0===a||1===a||10===a)||0===o&&(0===a||1===a||2===a||3===a||4===a)){n=oe.getULong(e,t+4+8*i+4);break}}if(-1===n)throw new Error("No valid cmap sub-tables found.");var s=new oe.Parser(e,t+n);if(r.format=s.parseUShort(),12===r.format){var l,u=r,c=s;c.parseUShort(),u.length=c.parseULong(),u.language=c.parseULong(),u.groupCount=l=c.parseULong(),u.glyphIndexMap={};for(var h=0;h<l;h+=1)for(var d=c.parseULong(),f=c.parseULong(),p=c.parseULong(),m=d;m<=f;m+=1)u.glyphIndexMap[m]=p,p++}else{if(4!==r.format)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+r.format+").");var y=r,g=e,v=t,b=n;y.length=s.parseUShort(),y.language=s.parseUShort(),y.segCount=x=s.parseUShort()>>1,s.skip("uShort",3),y.glyphIndexMap={};for(var x,w=new oe.Parser(g,v+b+14),S=new oe.Parser(g,v+b+16+2*x),k=new oe.Parser(g,v+b+16+4*x),_=new oe.Parser(g,v+b+16+6*x),j=v+b+16+8*x,M=0;M<x-1;M+=1)for(var C=void 0,P=w.parseUShort(),T=S.parseUShort(),E=k.parseShort(),O=_.parseUShort(),A=T;A<=P;A+=1)0!==O?(j=(j=_.offset+_.relativeOffset-2)+O+2*(A-T),0!==(C=oe.getUShort(g,j))&&(C=C+E&65535)):C=A+E&65535,y.glyphIndexMap[A]=C}return r},make:function(e){for(var t=!0,r=e.length-1;0<r;--r)if(65535<e.get(r).unicode){console.log("Adding CMAP format 12 (needed!)"),t=!1;break}var n,i,o=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:t?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:t?12:20}],a=(o=(o=t?o:o.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new $.Table("cmap",o));for(a.segments=[],r=0;r<e.length;r+=1){for(var s=e.get(r),l=0;l<s.unicodes.length;l+=1)n=s.unicodes[l],i=r,a.segments.push({end:n,start:n,delta:-(n-i),offset:0,glyphIndex:i});a.segments=a.segments.sort((function(e,t){return e.start-t.start}))}a.segments.push({end:65535,start:65535,delta:1,offset:0});var u=a.segments.length,c=0,h=[],d=[],f=[],p=[],m=[],y=[];for(r=0;r<u;r+=1){var g=a.segments[r];g.end<=65535&&g.start<=65535?(h=h.concat({name:"end_"+r,type:"USHORT",value:g.end}),d=d.concat({name:"start_"+r,type:"USHORT",value:g.start}),f=f.concat({name:"idDelta_"+r,type:"SHORT",value:g.delta}),p=p.concat({name:"idRangeOffset_"+r,type:"USHORT",value:g.offset}),void 0!==g.glyphId&&(m=m.concat({name:"glyph_"+r,type:"USHORT",value:g.glyphId}))):c+=1,t||void 0===g.glyphIndex||(y=(y=(y=y.concat({name:"cmap12Start_"+r,type:"ULONG",value:g.start})).concat({name:"cmap12End_"+r,type:"ULONG",value:g.end})).concat({name:"cmap12Glyph_"+r,type:"ULONG",value:g.glyphIndex}))}return a.segCountX2=2*(u-c),a.searchRange=2*Math.pow(2,Math.floor(Math.log(u-c)/Math.log(2))),a.entrySelector=Math.log(a.searchRange/2)/Math.log(2),a.rangeShift=a.segCountX2-a.searchRange,a.fields=a.fields.concat(h),a.fields.push({name:"reservedPad",type:"USHORT",value:0}),a.fields=a.fields.concat(d),a.fields=a.fields.concat(f),a.fields=a.fields.concat(p),a.fields=a.fields.concat(m),a.cmap4Length=14+2*h.length+2+2*d.length+2*f.length+2*p.length+2*m.length,t||(o=16+4*y.length,a.cmap12Offset=20+a.cmap4Length,a.fields=a.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:o},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:y.length/3}]),a.fields=a.fields.concat(y)),a}},se=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],le=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],ue=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],ce=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function he(e){this.font=e}function de(e){this.cmap=e}function fe(e,t){this.encoding=e,this.charset=t}function pe(e){switch(e.version){case 1:this.names=ce.slice();break;case 2:this.names=new Array(e.numberOfGlyphs);for(var t=0;t<e.numberOfGlyphs;t++)e.glyphNameIndex[t]<ce.length?this.names[t]=ce[e.glyphNameIndex[t]]:this.names[t]=e.names[e.glyphNameIndex[t]-ce.length];break;case 2.5:this.names=new Array(e.numberOfGlyphs);for(var r=0;r<e.numberOfGlyphs;r++)this.names[r]=ce[r+e.glyphNameIndex[r]];break;default:this.names=[]}}he.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),r=this.font.glyphs;if(r)for(var n=0;n<r.length;n+=1)for(var i=r.get(n),o=0;o<i.unicodes.length;o+=1)if(i.unicodes[o]===t)return n;return null},de.prototype.charToGlyphIndex=function(e){return this.cmap.glyphIndexMap[e.codePointAt(0)]||0},fe.prototype.charToGlyphIndex=function(e){return e=e.codePointAt(0),e=this.encoding[e],this.charset.indexOf(e)},pe.prototype.nameToGlyphIndex=function(e){return this.names.indexOf(e)},pe.prototype.glyphIndexToName=function(e){return this.names[e]};var me={line:function(e,t,r,n,i){e.beginPath(),e.moveTo(t,r),e.lineTo(n,i),e.stroke()}};function ye(e){this.bindConstructorValues(e)}function ge(e,t,r){Object.defineProperty(e,t,{get:function(){return e.path,e[r]},set:function(t){e[r]=t},enumerable:!0,configurable:!0})}function ve(e,t){if(this.font=e,this.glyphs={},Array.isArray(t))for(var r=0;r<t.length;r++)this.glyphs[r]=t[r];this.length=t&&t.length||0}ye.prototype.bindConstructorValues=function(e){var t;this.index=e.index||0,this.name=e.name||null,this.unicode=e.unicode||void 0,this.unicodes=e.unicodes||void 0!==e.unicode?[e.unicode]:[],e.xMin&&(this.xMin=e.xMin),e.yMin&&(this.yMin=e.yMin),e.xMax&&(this.xMax=e.xMax),e.yMax&&(this.yMax=e.yMax),e.advanceWidth&&(this.advanceWidth=e.advanceWidth),Object.defineProperty(this,"path",(e=e.path,t=e||new E,{configurable:!0,get:function(){return t="function"==typeof t?t():t},set:function(e){t=e}}))},ye.prototype.addUnicode=function(e){0===this.unicodes.length&&(this.unicode=e),this.unicodes.push(e)},ye.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},ye.prototype.getPath=function(e,t,r,n,i){e=void 0!==e?e:0,t=void 0!==t?t:0,r=void 0!==r?r:72;for(var o,a,s=(n=n||{}).xScale,l=n.yScale,u=((o=n.hinting&&i&&i.hinting?this.path&&i.hinting.exec(this,r):o)?(a=i.hinting.getCommands(o),e=Math.round(e),t=Math.round(t),s=l=1):(a=this.path.commands,n=1/this.path.unitsPerEm*r,void 0===s&&(s=n),void 0===l&&(l=n)),new E),c=0;c<a.length;c+=1){var h=a[c];"M"===h.type?u.moveTo(e+h.x*s,t+-h.y*l):"L"===h.type?u.lineTo(e+h.x*s,t+-h.y*l):"Q"===h.type?u.quadraticCurveTo(e+h.x1*s,t+-h.y1*l,e+h.x*s,t+-h.y*l):"C"===h.type?u.curveTo(e+h.x1*s,t+-h.y1*l,e+h.x2*s,t+-h.y2*l,e+h.x*s,t+-h.y*l):"Z"===h.type&&u.closePath()}return u},ye.prototype.getContours=function(){if(void 0===this.points)return[];for(var e=[],t=[],r=0;r<this.points.length;r+=1){var n=this.points[r];t.push(n),n.lastPointOfContour&&(e.push(t),t=[])}return L.argument(0===t.length,"There are still points left in the current contour."),e},ye.prototype.getMetrics=function(){for(var e=this.path.commands,t=[],r=[],n=0;n<e.length;n+=1){var i=e[n];"Z"!==i.type&&(t.push(i.x),r.push(i.y)),"Q"!==i.type&&"C"!==i.type||(t.push(i.x1),r.push(i.y1)),"C"===i.type&&(t.push(i.x2),r.push(i.y2))}var o={xMin:Math.min.apply(null,t),yMin:Math.min.apply(null,r),xMax:Math.max.apply(null,t),yMax:Math.max.apply(null,r),leftSideBearing:this.leftSideBearing};return isFinite(o.xMin)||(o.xMin=0),isFinite(o.xMax)||(o.xMax=this.advanceWidth),isFinite(o.yMin)||(o.yMin=0),isFinite(o.yMax)||(o.yMax=0),o.rightSideBearing=this.advanceWidth-o.leftSideBearing-(o.xMax-o.xMin),o},ye.prototype.draw=function(e,t,r,n,i){this.getPath(t,r,n,i).draw(e)},ye.prototype.drawPoints=function(e,t,r,n){function i(t,r,n,i){var o=2*Math.PI;e.beginPath();for(var a=0;a<t.length;a+=1)e.moveTo(r+t[a].x*i,n+t[a].y*i),e.arc(r+t[a].x*i,n+t[a].y*i,2,0,o,!1);e.closePath(),e.fill()}t=void 0!==t?t:0,r=void 0!==r?r:0,n=1/this.path.unitsPerEm*(n=void 0!==n?n:24);for(var o=[],a=[],s=this.path,l=0;l<s.commands.length;l+=1){var u=s.commands[l];void 0!==u.x&&o.push({x:u.x,y:-u.y}),void 0!==u.x1&&a.push({x:u.x1,y:-u.y1}),void 0!==u.x2&&a.push({x:u.x2,y:-u.y2})}e.fillStyle="blue",i(o,t,r,n),e.fillStyle="red",i(a,t,r,n)},ye.prototype.drawMetrics=function(e,t,r,n){t=void 0!==t?t:0,r=void 0!==r?r:0,n=1/this.path.unitsPerEm*(n=void 0!==n?n:24),e.lineWidth=1,e.strokeStyle="black",me.line(e,t,-1e4,t,1e4),me.line(e,-1e4,r,1e4,r);var i=this.xMin||0,o=this.yMin||0,a=this.xMax||0,s=this.yMax||0,l=this.advanceWidth||0;e.strokeStyle="blue",me.line(e,t+i*n,-1e4,t+i*n,1e4),me.line(e,t+a*n,-1e4,t+a*n,1e4),me.line(e,-1e4,r+-o*n,1e4,r+-o*n),me.line(e,-1e4,r+-s*n,1e4,r+-s*n),e.strokeStyle="green",me.line(e,t+l*n,-1e4,t+l*n,1e4)},ve.prototype.get=function(e){return"function"==typeof this.glyphs[e]&&(this.glyphs[e]=this.glyphs[e]()),this.glyphs[e]},ve.prototype.push=function(e,t){this.glyphs[e]=t,this.length++};var be={GlyphSet:ve,glyphLoader:function(e,t){return new ye({index:t,font:e})},ttfGlyphLoader:function(e,t,r,n,i,o){return function(){var a=new ye({index:t,font:e});return a.path=function(){r(a,n,i);var t=o(e.glyphs,a);return t.unitsPerEm=e.unitsPerEm,t},ge(a,"xMin","_xMin"),ge(a,"xMax","_xMax"),ge(a,"yMin","_yMin"),ge(a,"yMax","_yMax"),a}},cffGlyphLoader:function(e,t,r,n){return function(){var i=new ye({index:t,font:e});return i.path=function(){var t=r(e,i,n);return t.unitsPerEm=e.unitsPerEm,t},i}}};function xe(e){return e=e.length<1240?107:e.length<33900?1131:32768}function we(e,t,r){var n,i=[],o=[],a=oe.getCard16(e,t);if(0!==a){for(var s=oe.getByte(e,t+2),l=t+(a+1)*s+2,u=t+3,c=0;c<a+1;c+=1)i.push(oe.getOffset(e,u,s)),u+=s;n=l+i[a]}else n=t+2;for(var h=0;h<i.length-1;h+=1){var d=oe.getBytes(e,l+i[h],l+i[h+1]);r&&(d=r(d)),o.push(d)}return{objects:o,startOffset:t,endOffset:n}}function Se(e,t){if(28===t)return e.parseByte()<<8|e.parseByte();if(29===t)return e.parseByte()<<24|e.parseByte()<<16|e.parseByte()<<8|e.parseByte();if(30===t){for(var r=e,n="",i=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var o=(a=r.parseByte())>>4,a=15&a;if(15==o)break;if(n+=i[o],15==a)break;n+=i[a]}return parseFloat(n)}if(32<=t&&t<=246)return t-139;if(247<=t&&t<=250)return 256*(t-247)+e.parseByte()+108;if(251<=t&&t<=254)return 256*-(t-251)-e.parseByte()-108;throw new Error("Invalid b0 "+t)}function ke(e,t,r){var n=new oe.Parser(e,t=void 0!==t?t:0),i=[],o=[];for(r=void 0!==r?r:e.length;n.relativeOffset<r;){var a=n.parseByte();a<=21?(12===a&&(a=1200+n.parseByte()),i.push([a,o]),o=[]):o.push(Se(n,a))}for(var s=i,l={},u=0;u<s.length;u+=1){var c=s[u][0],h=s[u][1],d=void 0;if(d=1===h.length?h[0]:h,l.hasOwnProperty(c)&&!isNaN(l[c]))throw new Error("Object "+l+" already has key "+c);l[c]=d}return l}function _e(e,t){return t<=390?se[t]:e[t-391]}function je(e,t,r){for(var n,i={},o=0;o<t.length;o+=1){var a=t[o];if(Array.isArray(a.type)){var s=[];s.length=a.type.length;for(var l=0;l<a.type.length;l++)void 0===(n=void 0!==e[a.op]?e[a.op][l]:void 0)&&(n=void 0!==a.value&&void 0!==a.value[l]?a.value[l]:null),"SID"===a.type[l]&&(n=_e(r,n)),s[l]=n;i[a.name]=s}else void 0===(n=e[a.op])&&(n=void 0!==a.value?a.value:null),"SID"===a.type&&(n=_e(r,n)),i[a.name]=n}return i}var Me=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Ce=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Pe(e,t,r,n){return je(ke(e,t,r),Ce,n)}function Te(e,t,r,n){for(var i=[],o=0;o<r.length;o+=1){var a,s=((s=n,a=je(ke(a=new DataView(new Uint8Array(r[o]).buffer),0,a.byteLength),Me,s))._subrs=[],a._subrsBias=0,a.private[0]),l=a.private[1];0!==s&&0!==l&&(s=Pe(e,l+t,s,n),a._defaultWidthX=s.defaultWidthX,a._nominalWidthX=s.nominalWidthX,0!==s.subrs&&(l=we(e,l+s.subrs+t),a._subrs=l.objects,a._subrsBias=xe(a._subrs)),a._privateDict=s),i.push(a)}return i}function Ee(e,t,r){var n,i,o,a,s,l,u,c,h,d=new E,f=[],p=0,m=!1,y=!1,g=0,v=0,b=(h=(e.isCIDFont?(s=e.tables.cff.topDict._fdSelect[t.index],s=e.tables.cff.topDict._fdArray[s],l=s._subrs,u=s._subrsBias,c=s._defaultWidthX,s):(l=e.tables.cff.topDict._subrs,u=e.tables.cff.topDict._subrsBias,c=e.tables.cff.topDict._defaultWidthX,e.tables.cff.topDict))._nominalWidthX,c);function x(e,t){y&&d.closePath(),d.moveTo(e,t),y=!0}function w(){f.length%2==0||m||(b=f.shift()+h),p+=f.length>>1,f.length=0,m=!0}return function r(s){for(var c,S,k,_,j,M,C,P,T,E,O,A,L=0;L<s.length;){var N=s[L];switch(L+=1,N){case 1:case 3:case 18:case 23:w();break;case 4:1<f.length&&!m&&(b=f.shift()+h,m=!0),v+=f.pop(),x(g,v);break;case 5:for(;0<f.length;)g+=f.shift(),v+=f.shift(),d.lineTo(g,v);break;case 6:for(;0<f.length&&(g+=f.shift(),d.lineTo(g,v),0!==f.length);)v+=f.shift(),d.lineTo(g,v);break;case 7:for(;0<f.length&&(v+=f.shift(),d.lineTo(g,v),0!==f.length);)g+=f.shift(),d.lineTo(g,v);break;case 8:for(;0<f.length;)n=g+f.shift(),i=v+f.shift(),o=n+f.shift(),a=i+f.shift(),g=o+f.shift(),v=a+f.shift(),d.curveTo(n,i,o,a,g,v);break;case 10:j=f.pop()+u,(M=l[j])&&r(M);break;case 11:return;case 12:switch(N=s[L],L+=1,N){case 35:n=g+f.shift(),i=v+f.shift(),o=n+f.shift(),a=i+f.shift(),C=o+f.shift(),P=a+f.shift(),T=C+f.shift(),E=P+f.shift(),O=T+f.shift(),A=E+f.shift(),g=O+f.shift(),v=A+f.shift(),f.shift(),d.curveTo(n,i,o,a,C,P),d.curveTo(T,E,O,A,g,v);break;case 34:n=g+f.shift(),i=v,o=n+f.shift(),a=i+f.shift(),C=o+f.shift(),P=a,T=C+f.shift(),E=a,O=T+f.shift(),A=v,g=O+f.shift(),d.curveTo(n,i,o,a,C,P),d.curveTo(T,E,O,A,g,v);break;case 36:n=g+f.shift(),i=v+f.shift(),o=n+f.shift(),a=i+f.shift(),C=o+f.shift(),P=a,T=C+f.shift(),E=a,O=T+f.shift(),A=E+f.shift(),g=O+f.shift(),d.curveTo(n,i,o,a,C,P),d.curveTo(T,E,O,A,g,v);break;case 37:n=g+f.shift(),i=v+f.shift(),o=n+f.shift(),a=i+f.shift(),C=o+f.shift(),P=a+f.shift(),T=C+f.shift(),E=P+f.shift(),O=T+f.shift(),A=E+f.shift(),Math.abs(O-g)>Math.abs(A-v)?g=O+f.shift():v=A+f.shift(),d.curveTo(n,i,o,a,C,P),d.curveTo(T,E,O,A,g,v);break;default:console.log("Glyph "+t.index+": unknown operator 1200"+N),f.length=0}break;case 14:0<f.length&&!m&&(b=f.shift()+h,m=!0),y&&(d.closePath(),y=!1);break;case 19:case 20:w(),L+=p+7>>3;break;case 21:2<f.length&&!m&&(b=f.shift()+h,m=!0),v+=f.pop(),x(g+=f.pop(),v);break;case 22:1<f.length&&!m&&(b=f.shift()+h,m=!0),x(g+=f.pop(),v);break;case 24:for(;2<f.length;)n=g+f.shift(),i=v+f.shift(),o=n+f.shift(),a=i+f.shift(),g=o+f.shift(),v=a+f.shift(),d.curveTo(n,i,o,a,g,v);g+=f.shift(),v+=f.shift(),d.lineTo(g,v);break;case 25:for(;6<f.length;)g+=f.shift(),v+=f.shift(),d.lineTo(g,v);n=g+f.shift(),i=v+f.shift(),o=n+f.shift(),a=i+f.shift(),g=o+f.shift(),v=a+f.shift(),d.curveTo(n,i,o,a,g,v);break;case 26:for(f.length%2&&(g+=f.shift());0<f.length;)n=g,i=v+f.shift(),o=n+f.shift(),a=i+f.shift(),g=o,v=a+f.shift(),d.curveTo(n,i,o,a,g,v);break;case 27:for(f.length%2&&(v+=f.shift());0<f.length;)n=g+f.shift(),i=v,o=n+f.shift(),a=i+f.shift(),g=o+f.shift(),v=a,d.curveTo(n,i,o,a,g,v);break;case 28:c=s[L],S=s[L+1],f.push((c<<24|S<<16)>>16),L+=2;break;case 29:j=f.pop()+e.gsubrsBias,(M=e.gsubrs[j])&&r(M);break;case 30:for(;0<f.length&&(n=g,i=v+f.shift(),o=n+f.shift(),a=i+f.shift(),g=o+f.shift(),v=a+(1===f.length?f.shift():0),d.curveTo(n,i,o,a,g,v),0!==f.length);)n=g+f.shift(),i=v,o=n+f.shift(),a=i+f.shift(),v=a+f.shift(),g=o+(1===f.length?f.shift():0),d.curveTo(n,i,o,a,g,v);break;case 31:for(;0<f.length&&(n=g+f.shift(),i=v,o=n+f.shift(),a=i+f.shift(),v=a+f.shift(),g=o+(1===f.length?f.shift():0),d.curveTo(n,i,o,a,g,v),0!==f.length);)n=g,i=v+f.shift(),o=n+f.shift(),a=i+f.shift(),g=o+f.shift(),v=a+(1===f.length?f.shift():0),d.curveTo(n,i,o,a,g,v);break;default:N<32?console.log("Glyph "+t.index+": unknown operator "+N):N<247?f.push(N-139):N<251?(c=s[L],L+=1,f.push(256*(N-247)+c+108)):N<255?(c=s[L],L+=1,f.push(256*-(N-251)-c-108)):(c=s[L],S=s[L+1],k=s[L+2],_=s[L+3],L+=4,f.push((c<<24|S<<16|k<<8|_)/65536))}}}(r),t.advanceWidth=b,d}function Oe(e,t){var r,n=se.indexOf(e);return 0<=n&&(r=n),0<=(n=t.indexOf(e))?r=n+se.length:(r=se.length+t.length,t.push(e)),r}function Ae(e,t,r){for(var n={},i=0;i<e.length;i+=1){var o=e[i],a=t[o.name];void 0===a||function e(t,r){if(t===r)return 1;if(Array.isArray(t)&&Array.isArray(r)&&t.length===r.length){for(var n=0;n<t.length;n+=1)if(!e(t[n],r[n]))return;return 1}}(a,o.value)||("SID"===o.type&&(a=Oe(a,r)),n[o.op]={name:o.name,type:o.type,value:a})}return n}function Le(e,t){var r=new $.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return r.dict=Ae(Me,e,t),r}function Ne(e){var t=new $.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return t.topDicts=[{name:"topDict_0",type:"TABLE",value:e}],t}function Re(e){for(var t=new $.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),r=0;r<e.length;r+=1){var n=e.get(r),i=function(e){for(var t=[],r=e.path,n=(t.push({name:"width",type:"NUMBER",value:e.advanceWidth}),0),i=0,o=0;o<r.commands.length;o+=1){var a,s,l,u,c=void 0,h=void 0,d=r.commands[o];"M"===(d="Q"===d.type?{type:"C",x:d.x,y:d.y,x1:1/3*n+2/3*d.x1,y1:1/3*i+2/3*d.y1,x2:1/3*d.x+2/3*d.x1,y2:1/3*d.y+2/3*d.y1}:d).type?(c=Math.round(d.x-n),h=Math.round(d.y-i),t.push({name:"dx",type:"NUMBER",value:c}),t.push({name:"dy",type:"NUMBER",value:h}),t.push({name:"rmoveto",type:"OP",value:21}),n=Math.round(d.x),i=Math.round(d.y)):"L"===d.type?(c=Math.round(d.x-n),h=Math.round(d.y-i),t.push({name:"dx",type:"NUMBER",value:c}),t.push({name:"dy",type:"NUMBER",value:h}),t.push({name:"rlineto",type:"OP",value:5}),n=Math.round(d.x),i=Math.round(d.y)):"C"===d.type&&(a=Math.round(d.x1-n),s=Math.round(d.y1-i),l=Math.round(d.x2-d.x1),u=Math.round(d.y2-d.y1),c=Math.round(d.x-d.x2),h=Math.round(d.y-d.y2),t.push({name:"dx1",type:"NUMBER",value:a}),t.push({name:"dy1",type:"NUMBER",value:s}),t.push({name:"dx2",type:"NUMBER",value:l}),t.push({name:"dy2",type:"NUMBER",value:u}),t.push({name:"dx",type:"NUMBER",value:c}),t.push({name:"dy",type:"NUMBER",value:h}),t.push({name:"rrcurveto",type:"OP",value:8}),n=Math.round(d.x),i=Math.round(d.y))}return t.push({name:"endchar",type:"OP",value:14}),t}(n);t.charStrings.push({name:n.name,type:"CHARSTRING",value:i})}return t}var De={parse:function(e,t,r){r.tables.cff={},n=e,i=t,(o={}).formatMajor=oe.getCard8(n,i),o.formatMinor=oe.getCard8(n,i+1),o.size=oe.getCard8(n,i+2),o.offsetSize=oe.getCard8(n,i+3),o.startOffset=i,o.endOffset=i+4;var n=we(e,o.endOffset,oe.bytesToString),i=we(e,n.endOffset),o=we(e,i.endOffset,oe.bytesToString);if(n=we(e,o.endOffset),r.gsubrs=n.objects,r.gsubrsBias=xe(r.gsubrs),1!==(n=Te(e,t,i.objects,o.objects)).length)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+n.length);if(i=n[0],(r.tables.cff.topDict=i)._privateDict&&(r.defaultWidthX=i._privateDict.defaultWidthX,r.nominalWidthX=i._privateDict.nominalWidthX),void 0!==i.ros[0]&&void 0!==i.ros[1]&&(r.isCIDFont=!0),r.isCIDFont){n=i.fdArray;var a=i.fdSelect;if(0===n||0===a)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");n=Te(e,t,we(e,n+=t).objects,o.objects),i._fdArray=n,i._fdSelect=function(e,t,r,n){var i,o=[],a=new oe.Parser(e,t);if(0===(e=a.parseCard8()))for(var s=0;s<r;s++){if(n<=(i=a.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+i+" (FD count "+n+")");o.push(i)}else{if(3!==e)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+e);var l,u=a.parseCard16(),c=a.parseCard16();if(0!==c)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+c);for(var h=0;h<u;h++){if(i=a.parseCard8(),l=a.parseCard16(),n<=i)throw new Error("CFF table CID Font FDSelect has bad FD index value "+i+" (FD count "+n+")");if(r<l)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+l);for(;c<l;c++)o.push(i);c=l}if(l!==r)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+l)}return o}(e,a+=t,r.numGlyphs,n.length)}n=Pe(e,a=t+i.private[1],i.private[0],o.objects);var s=(r.defaultWidthX=n.defaultWidthX,r.nominalWidthX=n.nominalWidthX,0!==n.subrs?(a=we(e,a+n.subrs),r.subrs=a.objects,r.subrsBias=xe(r.subrs)):(r.subrs=[],r.subrsBias=0),we(e,t+i.charStrings));r.nGlyphs=s.objects.length,n=function(e,t,r,n){var i=new oe.Parser(e,t),o=(--r,[".notdef"]);if(0===(e=i.parseCard8()))for(var a=0;a<r;a+=1)s=i.parseSID(),o.push(_e(n,s));else if(1===e)for(;o.length<=r;)for(var s=i.parseSID(),l=i.parseCard8(),u=0;u<=l;u+=1)o.push(_e(n,s)),s+=1;else{if(2!==e)throw new Error("Unknown charset format "+e);for(;o.length<=r;){s=i.parseSID(),l=i.parseCard16();for(var c=0;c<=l;c+=1)o.push(_e(n,s)),s+=1}}return o}(e,t+i.charset,r.nGlyphs,o.objects),0===i.encoding?r.cffEncoding=new fe(le,n):1===i.encoding?r.cffEncoding=new fe(ue,n):r.cffEncoding=function(e,t,r){var n={},i=new oe.Parser(e,t);if(0===(e=i.parseCard8()))for(var o=i.parseCard8(),a=0;a<o;a+=1)n[l=i.parseCard8()]=a;else{if(1!==e)throw new Error("Unknown encoding format "+e);for(var s=i.parseCard8(),l=1,u=0;u<s;u+=1)for(var c=i.parseCard8(),h=i.parseCard8(),d=c;d<=c+h;d+=1)n[d]=l,l+=1}return new fe(n,r)}(e,t+i.encoding,n),r.encoding=r.encoding||r.cffEncoding,r.glyphs=new be.GlyphSet(r);for(var l=0;l<r.nGlyphs;l+=1){var u=s.objects[l];r.glyphs.push(l,be.cffGlyphLoader(r,l,Ee,u))}},make:function(e,t){for(var r,n=new $.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),i=1/t.unitsPerEm,o=(i={version:t.version,fullName:t.fullName,familyName:t.familyName,weight:t.weightName,fontBBox:t.fontBBox||[0,0,0,0],fontMatrix:[i,0,0,i,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},[]),a=1;a<e.length;a+=1)r=e.get(a),o.push(r.name);var s,l,u=[],c=(n.header=new $.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),n.nameIndex=function(e){var t=new $.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);t.names=[];for(var r=0;r<e.length;r+=1)t.names.push({name:"name_"+r,type:"NAME",value:e[r]});return t}([t.postScriptName]),t=Le(i,u),n.topDictIndex=Ne(t),n.globalSubrIndex=new $.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),n.charsets=function(e,t){for(var r=new $.Record("Charsets",[{name:"format",type:"Card8",value:0}]),n=0;n<e.length;n+=1){var i=Oe(e[n],t);r.fields.push({name:"glyph_"+n,type:"SID",value:i})}return r}(o,u),n.charStringsIndex=Re(e),n.privateDict=(c={},s=u,(l=new $.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=Ae(Ce,c,s),l),n.stringIndex=function(e){var t=new $.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);t.strings=[];for(var r=0;r<e.length;r+=1)t.strings.push({name:"string_"+r,type:"STRING",value:e[r]});return t}(u),n.header.sizeOf()+n.nameIndex.sizeOf()+n.topDictIndex.sizeOf()+n.stringIndex.sizeOf()+n.globalSubrIndex.sizeOf());return i.charset=c,i.encoding=0,i.charStrings=i.charset+n.charsets.sizeOf(),i.private[1]=i.charStrings+n.charStringsIndex.sizeOf(),t=Le(i,u),n.topDictIndex=Ne(t),n}},Ie={parse:function(e,t){var r={};return e=new oe.Parser(e,t),r.version=e.parseVersion(),r.fontRevision=Math.round(1e3*e.parseFixed())/1e3,r.checkSumAdjustment=e.parseULong(),r.magicNumber=e.parseULong(),L.argument(1594834165===r.magicNumber,"Font header has wrong magic number."),r.flags=e.parseUShort(),r.unitsPerEm=e.parseUShort(),r.created=e.parseLongDateTime(),r.modified=e.parseLongDateTime(),r.xMin=e.parseShort(),r.yMin=e.parseShort(),r.xMax=e.parseShort(),r.yMax=e.parseShort(),r.macStyle=e.parseUShort(),r.lowestRecPPEM=e.parseUShort(),r.fontDirectionHint=e.parseShort(),r.indexToLocFormat=e.parseShort(),r.glyphDataFormat=e.parseShort(),r},make:function(e){var t=Math.round((new Date).getTime()/1e3)+2082844800,r=t;return e.createdTimestamp&&(r=e.createdTimestamp+2082844800),new $.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:r},{name:"modified",type:"LONGDATETIME",value:t},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],e)}},Fe={parse:function(e,t){var r={};return e=new oe.Parser(e,t),r.version=e.parseVersion(),r.ascender=e.parseShort(),r.descender=e.parseShort(),r.lineGap=e.parseShort(),r.advanceWidthMax=e.parseUShort(),r.minLeftSideBearing=e.parseShort(),r.minRightSideBearing=e.parseShort(),r.xMaxExtent=e.parseShort(),r.caretSlopeRise=e.parseShort(),r.caretSlopeRun=e.parseShort(),r.caretOffset=e.parseShort(),e.relativeOffset+=8,r.metricDataFormat=e.parseShort(),r.numberOfHMetrics=e.parseUShort(),r},make:function(e){return new $.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],e)}},Be={parse:function(e,t,r,n,i){for(var o,a,s=new oe.Parser(e,t),l=0;l<n;l+=1){l<r&&(o=s.parseUShort(),a=s.parseShort());var u=i.get(l);u.advanceWidth=o,u.leftSideBearing=a}},make:function(e){for(var t=new $.Table("hmtx",[]),r=0;r<e.length;r+=1){var n=(i=e.get(r)).advanceWidth||0,i=i.leftSideBearing||0;t.fields.push({name:"advanceWidth_"+r,type:"USHORT",value:n}),t.fields.push({name:"leftSideBearing_"+r,type:"SHORT",value:i})}return t}},Ue={make:function(e){for(var t=new $.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:e.length}]),r="",n=12+4*e.length,i=0;i<e.length;++i){var o=r.indexOf(e[i]);o<0&&(o=r.length,r+=e[i]),t.fields.push({name:"offset "+i,type:"USHORT",value:n+o}),t.fields.push({name:"length "+i,type:"USHORT",value:e[i].length})}return t.fields.push({name:"stringPool",type:"CHARARRAY",value:r}),t},parse:function(e,t){for(var r=new oe.Parser(e,t),n=r.parseULong(),i=(L.argument(1===n,"Unsupported ltag table version."),r.skip("uLong",1),r.parseULong()),o=[],a=0;a<i;a++){for(var s="",l=t+r.parseUShort(),u=r.parseUShort(),c=l;c<l+u;++c)s+=String.fromCharCode(e.getInt8(c));o.push(s)}return o}},ze={parse:function(e,t){var r={};return e=new oe.Parser(e,t),r.version=e.parseVersion(),r.numGlyphs=e.parseUShort(),1===r.version&&(r.maxPoints=e.parseUShort(),r.maxContours=e.parseUShort(),r.maxCompositePoints=e.parseUShort(),r.maxCompositeContours=e.parseUShort(),r.maxZones=e.parseUShort(),r.maxTwilightPoints=e.parseUShort(),r.maxStorage=e.parseUShort(),r.maxFunctionDefs=e.parseUShort(),r.maxInstructionDefs=e.parseUShort(),r.maxStackElements=e.parseUShort(),r.maxSizeOfInstructions=e.parseUShort(),r.maxComponentElements=e.parseUShort(),r.maxComponentDepth=e.parseUShort()),r},make:function(e){return new $.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:e}])}},qe=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Ge={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Ve={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},He={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},We="utf-16",Xe={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Ye={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Ke(e,t,r){switch(e){case 0:return We;case 1:return Ye[r]||Xe[t];case 3:if(1===t||10===t)return We}}function Ze(e){var t,r={};for(t in e)r[e[t]]=parseInt(t);return r}function $e(e,t,r,n,i,o){return new $.Record("NameRecord",[{name:"platformID",type:"USHORT",value:e},{name:"encodingID",type:"USHORT",value:t},{name:"languageID",type:"USHORT",value:r},{name:"nameID",type:"USHORT",value:n},{name:"length",type:"USHORT",value:i},{name:"offset",type:"USHORT",value:o}])}function Je(e,t){if((r=function(e,t){var r=e.length,n=t.length-r+1;e:for(var i=0;i<n;i++)for(;i<n;i++){for(var o=0;o<r;o++)if(t[i+o]!==e[o])continue e;return i}return-1}(e,t))<0)for(var r=t.length,n=0,i=e.length;n<i;++n)t.push(e[n]);return r}var Qe={parse:function(e,t,r){for(var n={},i=new oe.Parser(e,t),o=(t=i.parseUShort(),i.parseUShort()),a=i.offset+i.parseUShort(),s=0;s<o;s++){var l=i.parseUShort(),u=i.parseUShort(),c=i.parseUShort(),h=i.parseUShort(),d=(h=qe[h]||h,i.parseUShort()),f=i.parseUShort(),p=function(e,t,r){switch(e){case 0:if(65535===t)return"und";if(r)return r[t];break;case 1:return Ge[t];case 3:return He[t]}}(l,c,r);void 0!==(l=Ke(l,u,c))&&void 0!==p&&(u=void 0,(u=l===We?N.UTF16(e,a+f,d):N.MACSTRING(e,a+f,d,l))&&((c=void 0===(c=n[h])?n[h]={}:c)[p]=u))}return 1===t&&i.parseUShort(),n},make:function(e,t){var r,n=[],i={},o=Ze(qe);for(r in e){var a=o[r];if(void 0===a&&(a=r),d=parseInt(a),isNaN(d))throw new Error('Name table entry "'+r+'" does not exist, see nameTableNames for complete list.');i[d]=e[r],n.push(d)}for(var s=Ze(Ge),l=Ze(He),u=[],c=[],h=0;h<n.length;h++){var d,f,p=i[d=n[h]];for(f in p){var m=p[f],y=1,g=s[f],v=Ve[g],b=Ke(y,v,g),x=(void 0===(b=R.MACSTRING(m,b))&&(y=0,(g=t.indexOf(f))<0&&(g=t.length,t.push(f)),v=4,b=R.UTF16(m)),Je(b,c));void 0!==(u.push($e(y,v,g,d,b.length,x)),y=l[f])&&(g=Je(v=R.UTF16(m),c),u.push($e(3,1,y,d,v.length,g)))}}u.sort((function(e,t){return e.platformID-t.platformID||e.encodingID-t.encodingID||e.languageID-t.languageID||e.nameID-t.nameID}));for(var w=new $.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:u.length},{name:"stringOffset",type:"USHORT",value:6+12*u.length}]),S=0;S<u.length;S++)w.fields.push({name:"record_"+S,type:"RECORD",value:u[S]});return w.fields.push({name:"strings",type:"LITERAL",value:c}),w}},et=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],tt={parse:function(e,t){var r={},n=new oe.Parser(e,t);r.version=n.parseUShort(),r.xAvgCharWidth=n.parseShort(),r.usWeightClass=n.parseUShort(),r.usWidthClass=n.parseUShort(),r.fsType=n.parseUShort(),r.ySubscriptXSize=n.parseShort(),r.ySubscriptYSize=n.parseShort(),r.ySubscriptXOffset=n.parseShort(),r.ySubscriptYOffset=n.parseShort(),r.ySuperscriptXSize=n.parseShort(),r.ySuperscriptYSize=n.parseShort(),r.ySuperscriptXOffset=n.parseShort(),r.ySuperscriptYOffset=n.parseShort(),r.yStrikeoutSize=n.parseShort(),r.yStrikeoutPosition=n.parseShort(),r.sFamilyClass=n.parseShort(),r.panose=[];for(var i=0;i<10;i++)r.panose[i]=n.parseByte();return r.ulUnicodeRange1=n.parseULong(),r.ulUnicodeRange2=n.parseULong(),r.ulUnicodeRange3=n.parseULong(),r.ulUnicodeRange4=n.parseULong(),r.achVendID=String.fromCharCode(n.parseByte(),n.parseByte(),n.parseByte(),n.parseByte()),r.fsSelection=n.parseUShort(),r.usFirstCharIndex=n.parseUShort(),r.usLastCharIndex=n.parseUShort(),r.sTypoAscender=n.parseShort(),r.sTypoDescender=n.parseShort(),r.sTypoLineGap=n.parseShort(),r.usWinAscent=n.parseUShort(),r.usWinDescent=n.parseUShort(),1<=r.version&&(r.ulCodePageRange1=n.parseULong(),r.ulCodePageRange2=n.parseULong()),2<=r.version&&(r.sxHeight=n.parseShort(),r.sCapHeight=n.parseShort(),r.usDefaultChar=n.parseUShort(),r.usBreakChar=n.parseUShort(),r.usMaxContent=n.parseUShort()),r},make:function(e){return new $.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],e)},unicodeRanges:et,getUnicodeRange:function(e){for(var t=0;t<et.length;t+=1){var r=et[t];if(e>=r.begin&&e<r.end)return t}return-1}},rt={parse:function(e,t){var r={},n=new oe.Parser(e,t);switch(r.version=n.parseVersion(),r.italicAngle=n.parseFixed(),r.underlinePosition=n.parseShort(),r.underlineThickness=n.parseShort(),r.isFixedPitch=n.parseULong(),r.minMemType42=n.parseULong(),r.maxMemType42=n.parseULong(),r.minMemType1=n.parseULong(),r.maxMemType1=n.parseULong(),r.version){case 1:r.names=ce.slice();break;case 2:r.numberOfGlyphs=n.parseUShort(),r.glyphNameIndex=new Array(r.numberOfGlyphs);for(var i=0;i<r.numberOfGlyphs;i++)r.glyphNameIndex[i]=n.parseUShort();r.names=[];for(var o,a=0;a<r.numberOfGlyphs;a++)r.glyphNameIndex[a]>=ce.length&&(o=n.parseChar(),r.names.push(n.parseString(o)));break;case 2.5:r.numberOfGlyphs=n.parseUShort(),r.offset=new Array(r.numberOfGlyphs);for(var s=0;s<r.numberOfGlyphs;s++)r.offset[s]=n.parseChar()}return r},make:function(){return new $.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},nt=new Array(9),it=(nt[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{substFormat:1,coverage:this.parsePointer(ne.coverage),deltaGlyphId:this.parseUShort()}:2===t?{substFormat:2,coverage:this.parsePointer(ne.coverage),substitute:this.parseOffset16List()}:void L.assert(!1,"0x"+e.toString(16)+": lookup type 1 format must be 1 or 2.")},nt[2]=function(){var e=this.parseUShort();return L.argument(1===e,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(ne.coverage),sequences:this.parseListOfLists()}},nt[3]=function(){var e=this.parseUShort();return L.argument(1===e,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(ne.coverage),alternateSets:this.parseListOfLists()}},nt[4]=function(){var e=this.parseUShort();return L.argument(1===e,"GSUB ligature table identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(ne.coverage),ligatureSets:this.parseListOfLists((function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}}))}},{sequenceIndex:ne.uShort,lookupListIndex:ne.uShort});nt[5]=function(){var e,t,r=this.offset+this.relativeOffset,n=this.parseUShort();return 1===n?{substFormat:n,coverage:this.parsePointer(ne.coverage),ruleSets:this.parseListOfLists((function(){var e=this.parseUShort(),t=this.parseUShort();return{input:this.parseUShortList(e-1),lookupRecords:this.parseRecordList(t,it)}}))}:2===n?{substFormat:n,coverage:this.parsePointer(ne.coverage),classDef:this.parsePointer(ne.classDef),classSets:this.parseListOfLists((function(){var e=this.parseUShort(),t=this.parseUShort();return{classes:this.parseUShortList(e-1),lookupRecords:this.parseRecordList(t,it)}}))}:3===n?(e=this.parseUShort(),t=this.parseUShort(),{substFormat:n,coverages:this.parseList(e,ne.pointer(ne.coverage)),lookupRecords:this.parseRecordList(t,it)}):void L.assert(!1,"0x"+r.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},nt[6]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{substFormat:1,coverage:this.parsePointer(ne.coverage),chainRuleSets:this.parseListOfLists((function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(it)}}))}:2===t?{substFormat:2,coverage:this.parsePointer(ne.coverage),backtrackClassDef:this.parsePointer(ne.classDef),inputClassDef:this.parsePointer(ne.classDef),lookaheadClassDef:this.parsePointer(ne.classDef),chainClassSet:this.parseListOfLists((function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(it)}}))}:3===t?{substFormat:3,backtrackCoverage:this.parseList(ne.pointer(ne.coverage)),inputCoverage:this.parseList(ne.pointer(ne.coverage)),lookaheadCoverage:this.parseList(ne.pointer(ne.coverage)),lookupRecords:this.parseRecordList(it)}:void L.assert(!1,"0x"+e.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},nt[7]=function(){var e=this.parseUShort(),t=(L.argument(1===e,"GSUB Extension Substitution subtable identifier-format must be 1"),e=this.parseUShort(),new ne(this.data,this.offset+this.parseULong()));return{substFormat:1,lookupType:e,extension:nt[e].call(t)}},nt[8]=function(){var e=this.parseUShort();return L.argument(1===e,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(ne.coverage),backtrackCoverage:this.parseList(ne.pointer(ne.coverage)),lookaheadCoverage:this.parseList(ne.pointer(ne.coverage)),substitutes:this.parseUShortList()}};var ot=new Array(9);ot[1]=function(e){return 1===e.substFormat?new $.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new $.Coverage(e.coverage)},{name:"deltaGlyphID",type:"USHORT",value:e.deltaGlyphId}]):new $.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new $.Coverage(e.coverage)}].concat($.ushortList("substitute",e.substitute)))},ot[3]=function(e){return L.assert(1===e.substFormat,"Lookup type 3 substFormat must be 1."),new $.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new $.Coverage(e.coverage)}].concat($.tableList("altSet",e.alternateSets,(function(e){return new $.Table("alternateSetTable",$.ushortList("alternate",e))}))))},ot[4]=function(e){return L.assert(1===e.substFormat,"Lookup type 4 substFormat must be 1."),new $.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new $.Coverage(e.coverage)}].concat($.tableList("ligSet",e.ligatureSets,(function(e){return new $.Table("ligatureSetTable",$.tableList("ligature",e,(function(e){return new $.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:e.ligGlyph}].concat($.ushortList("component",e.components,e.components.length+1)))})))}))))};var at={parse:function(e,t){return t=(e=new ne(e,t=t||0)).parseVersion(1),L.argument(1===t||1.1===t,"Unsupported GSUB table version."),1===t?{version:t,scripts:e.parseScriptList(),features:e.parseFeatureList(),lookups:e.parseLookupList(nt)}:{version:t,scripts:e.parseScriptList(),features:e.parseFeatureList(),lookups:e.parseLookupList(nt),variations:e.parseFeatureVariationsList()}},make:function(e){return new $.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new $.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new $.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new $.LookupList(e.lookups,ot)}])}},st={parse:function(e,t){for(var r=new oe.Parser(e,t),n=r.parseULong(),i=(L.argument(1===n,"Unsupported META table version."),r.parseULong(),r.parseULong(),r.parseULong()),o={},a=0;a<i;a++){var s=r.parseTag(),l=r.parseULong(),u=r.parseULong();l=N.UTF8(e,t+l,u),o[s]=l}return o},make:function(e){var t,r=Object.keys(e).length,n="",i=16+12*r,o=new $.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:i},{name:"numTags",type:"ULONG",value:r}]);for(t in e){var a=n.length;n+=e[t],o.fields.push({name:"tag "+t,type:"TAG",value:t}),o.fields.push({name:"offset "+t,type:"ULONG",value:i+a}),o.fields.push({name:"length "+t,type:"ULONG",value:e[t].length})}return o.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),o}};function lt(e){return Math.log(e)/Math.log(2)|0}function ut(e){for(;e.length%4!=0;)e.push(0);for(var t=0,r=0;r<e.length;r+=4)t+=(e[r]<<24)+(e[r+1]<<16)+(e[r+2]<<8)+e[r+3];return t%Math.pow(2,32)}function ct(e,t,r,n){return new $.Record("Table Record",[{name:"tag",type:"TAG",value:void 0!==e?e:""},{name:"checkSum",type:"ULONG",value:void 0!==t?t:0},{name:"offset",type:"ULONG",value:void 0!==r?r:0},{name:"length",type:"ULONG",value:void 0!==n?n:0}])}function ht(e){for(var t=new $.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),r=(t.tables=e,t.numTables=e.length,Math.pow(2,lt(t.numTables))),n=(t.searchRange=16*r,t.entrySelector=lt(r),t.rangeShift=16*t.numTables-t.searchRange,[]),i=[],o=t.sizeOf()+ct().sizeOf()*t.numTables;o%4!=0;)o+=1,i.push({name:"padding",type:"BYTE",value:0});for(var a=0;a<e.length;a+=1){var s=e[a],l=(L.argument(4===s.tableName.length,"Table name"+s.tableName+" is invalid."),s.sizeOf()),u=ct(s.tableName,ut(s.encode()),o,l);for(n.push({name:u.tag+" Table Record",type:"RECORD",value:u}),i.push({name:s.tableName+" table",type:"RECORD",value:s}),o+=l,L.argument(!isNaN(o),"Something went wrong calculating the offset.");o%4!=0;)o+=1,i.push({name:"padding",type:"BYTE",value:0})}return n.sort((function(e,t){return e.value.tag>t.value.tag?1:-1})),t.fields=t.fields.concat(n),t.fields=t.fields.concat(i),t}function dt(e,t,r){for(var n=0;n<t.length;n+=1){var i=e.charToGlyphIndex(t[n]);if(0<i)return e.glyphs.get(i).getMetrics()}return r}var ft={make:ht,fontToTable:function(e){for(var t,r=[],n=[],i=[],o=[],a=[],s=[],l=[],u=0,c=0,h=0,d=0,f=0,p=0;p<e.glyphs.length;p+=1){var m=e.glyphs.get(p),y=0|m.unicode;if(isNaN(m.advanceWidth))throw new Error("Glyph "+m.name+" ("+p+"): advanceWidth is not a number.");if((y<t||void 0===t)&&0<y&&(t=y),u<y&&(u=y),(y=tt.getUnicodeRange(y))<32)c|=1<<y;else if(y<64)h|=1<<y-32;else if(y<96)d|=1<<y-64;else{if(!(y<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");f|=1<<y-96}".notdef"!==m.name&&(y=m.getMetrics(),r.push(y.xMin),n.push(y.yMin),i.push(y.xMax),o.push(y.yMax),s.push(y.leftSideBearing),l.push(y.rightSideBearing),a.push(m.advanceWidth))}var g,v={xMin:Math.min.apply(null,r),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,i),yMax:Math.max.apply(null,o),advanceWidthMax:Math.max.apply(null,a),advanceWidthAvg:function(e){for(var t=0,r=0;r<e.length;r+=1)t+=e[r];return t/e.length}(a),minLeftSideBearing:Math.min.apply(null,s),maxLeftSideBearing:Math.max.apply(null,s),minRightSideBearing:Math.min.apply(null,l)},b=(v.ascender=e.ascender,v.descender=e.descender,Ie.make({flags:3,unitsPerEm:e.unitsPerEm,xMin:v.xMin,yMin:v.yMin,xMax:v.xMax,yMax:v.yMax,lowestRecPPEM:3,createdTimestamp:e.createdTimestamp})),x=Fe.make({ascender:v.ascender,descender:v.descender,advanceWidthMax:v.advanceWidthMax,minLeftSideBearing:v.minLeftSideBearing,minRightSideBearing:v.minRightSideBearing,xMaxExtent:v.maxLeftSideBearing+(v.xMax-v.xMin),numberOfHMetrics:e.glyphs.length}),w=ze.make(e.glyphs.length),S=tt.make({xAvgCharWidth:Math.round(v.advanceWidthAvg),usWeightClass:e.tables.os2.usWeightClass,usWidthClass:e.tables.os2.usWidthClass,usFirstCharIndex:t,usLastCharIndex:u,ulUnicodeRange1:c,ulUnicodeRange2:h,ulUnicodeRange3:d,ulUnicodeRange4:f,fsSelection:e.tables.os2.fsSelection,sTypoAscender:v.ascender,sTypoDescender:v.descender,sTypoLineGap:0,usWinAscent:v.yMax,usWinDescent:Math.abs(v.yMin),ulCodePageRange1:1,sxHeight:dt(e,"xyvw",{yMax:Math.round(v.ascender/2)}).yMax,sCapHeight:dt(e,"HIKLEFJMNTZBDPRAGOQSUVWXY",v).yMax,usDefaultChar:e.hasChar(" ")?32:0,usBreakChar:e.hasChar(" ")?32:0}),k=Be.make(e.glyphs),_=ae.make(e.glyphs),j=(O=e.getEnglishName("fontFamily"))+" "+(A=e.getEnglishName("fontSubfamily")),M=(M=e.getEnglishName("postScriptName"))||O.replace(/\s/g,"")+"-"+A,C={};for(g in e.names)C[g]=e.names[g];C.uniqueID||(C.uniqueID={en:e.getEnglishName("manufacturer")+":"+j}),C.postScriptName||(C.postScriptName={en:M}),C.preferredFamily||(C.preferredFamily=e.names.fontFamily),C.preferredSubfamily||(C.preferredSubfamily=e.names.fontSubfamily);var P=[],T=Qe.make(C,P),E=(P=0<P.length?Ue.make(P):void 0,rt.make()),O=(j=De.make(e.glyphs,{version:e.getEnglishName("version"),fullName:j,familyName:O,weightName:A,postScriptName:M,unitsPerEm:e.unitsPerEm,fontBBox:[0,v.yMin,v.ascender,v.advanceWidthMax]}),e.metas&&0<Object.keys(e.metas).length?st.make(e.metas):void 0),A=[b,x,w,S,T,_,E,j,k];P&&A.push(P),e.tables.gsub&&A.push(at.make(e.tables.gsub)),O&&A.push(O);for(var L=ut((M=ht(A)).encode()),N=M.fields,R=!1,D=0;D<N.length;D+=1)if("head table"===N[D].name){N[D].value.checkSumAdjustment=2981146554-L,R=!0;break}if(R)return M;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:ut};function pt(e,t){for(var r=0,n=e.length-1;r<=n;){var i=r+n>>>1,o=e[i].tag;if(o===t)return i;o<t?r=1+i:n=i-1}return-r-1}function mt(e,t){for(var r=0,n=e.length-1;r<=n;){var i=r+n>>>1,o=e[i];if(o===t)return i;o<t?r=1+i:n=i-1}return-r-1}function yt(e,t){for(var r=0,n=e.length-1;r<=n;){var i,o=r+n>>>1,a=(i=e[o]).start;if(a===t)return i;a<t?r=1+o:n=o-1}if(0<r)return t>(i=e[r-1]).end?0:i}function gt(e,t){this.font=e,this.tableName=t}function vt(e){gt.call(this,e,"gpos")}function bt(e){gt.call(this,e,"gsub")}function xt(e,t,r){for(var n=e.subtables,i=0;i<n.length;i++){var o=n[i];if(o.substFormat===t)return o}if(r)return n.push(r),r}function wt(e){for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n<e.length;++n)r[n]=e[n];return t}function St(e,t){if(!e)throw t}function kt(e,t,r,n,i){var o=0<(t&n)?(o=e.parseByte(),r+(o=0==(t&i)?-o:o)):0<(t&i)?r:r+e.parseShort();return o}function _t(e,t,r){var n,i=new oe.Parser(t,r);if(e.numberOfContours=i.parseShort(),e._xMin=i.parseShort(),e._yMin=i.parseShort(),e._xMax=i.parseShort(),e._yMax=i.parseShort(),0<e.numberOfContours){for(var o=e.endPointIndices=[],a=0;a<e.numberOfContours;a+=1)o.push(i.parseUShort());e.instructionLength=i.parseUShort(),e.instructions=[];for(var s=0;s<e.instructionLength;s+=1)e.instructions.push(i.parseByte());for(var l=o[o.length-1]+1,u=[],c=0;c<l;c+=1)if(n=i.parseByte(),u.push(n),0<(8&n))for(var h=i.parseByte(),d=0;d<h;d+=1)u.push(n),c+=1;if(L.argument(u.length===l,"Bad flags."),0<o.length){var f,p=[];if(0<l){for(var m=0;m<l;m+=1)n=u[m],(f={}).onCurve=!!(1&n),f.lastPointOfContour=0<=o.indexOf(m),p.push(f);for(var y=0,g=0;g<l;g+=1)n=u[g],(f=p[g]).x=kt(i,n,y,2,16),y=f.x;for(var v=0,b=0;b<l;b+=1)n=u[b],(f=p[b]).y=kt(i,n,v,4,32),v=f.y}e.points=p}else e.points=[]}else if(0===e.numberOfContours)e.points=[];else{e.isComposite=!0,e.points=[],e.components=[];for(var x=!0;x;){u=i.parseUShort();var w={glyphIndex:i.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&u)?0<(2&u)?(w.dx=i.parseShort(),w.dy=i.parseShort()):w.matchedPoints=[i.parseUShort(),i.parseUShort()]:0<(2&u)?(w.dx=i.parseChar(),w.dy=i.parseChar()):w.matchedPoints=[i.parseByte(),i.parseByte()],0<(8&u)?w.xScale=w.yScale=i.parseF2Dot14():0<(64&u)?(w.xScale=i.parseF2Dot14(),w.yScale=i.parseF2Dot14()):0<(128&u)&&(w.xScale=i.parseF2Dot14(),w.scale01=i.parseF2Dot14(),w.scale10=i.parseF2Dot14(),w.yScale=i.parseF2Dot14()),e.components.push(w),x=!!(32&u)}if(256&u){e.instructionLength=i.parseUShort(),e.instructions=[];for(var S=0;S<e.instructionLength;S+=1)e.instructions.push(i.parseByte())}}}function jt(e,t){for(var r=[],n=0;n<e.length;n+=1){var i=e[n];i={x:t.xScale*i.x+t.scale01*i.y+t.dx,y:t.scale10*i.x+t.yScale*i.y+t.dy,onCurve:i.onCurve,lastPointOfContour:i.lastPointOfContour},r.push(i)}return r}function Mt(e){var t=new E;if(e)for(var r=function(e){for(var t=[],r=[],n=0;n<e.length;n+=1){var i=e[n];r.push(i),i.lastPointOfContour&&(t.push(r),r=[])}return L.argument(0===r.length,"There are still points left in the current contour."),t}(e),n=0;n<r.length;++n){var i,o=r[n],a=o[o.length-1],s=o[0];a.onCurve?t.moveTo(a.x,a.y):s.onCurve?t.moveTo(s.x,s.y):(i={x:.5*(a.x+s.x),y:.5*(a.y+s.y)},t.moveTo(i.x,i.y));for(var l=0;l<o.length;++l){var u,c=a;a=s,s=o[(l+1)%o.length],a.onCurve?t.lineTo(a.x,a.y):(u=s,c.onCurve||(a.x,c.x,a.y,c.y),s.onCurve||(u={x:.5*(a.x+s.x),y:.5*(a.y+s.y)}),t.quadraticCurveTo(a.x,a.y,u.x,u.y))}t.closePath()}return t}function Ct(e,t){if(t.isComposite)for(var r=0;r<t.components.length;r+=1){var n=t.components[r],i=e.get(n.glyphIndex);if(i.getPath(),i.points){var o=void 0;if(void 0===n.matchedPoints)o=jt(i.points,n);else{if(n.matchedPoints[0]>t.points.length-1||n.matchedPoints[1]>i.points.length-1)throw Error("Matched points out of range in "+t.name);var a=t.points[n.matchedPoints[0]],s=jt([s=i.points[n.matchedPoints[1]]],n={xScale:n.xScale,scale01:n.scale01,scale10:n.scale10,yScale:n.yScale,dx:0,dy:0})[0];n.dx=a.x-s.x,n.dy=a.y-s.y,o=jt(i.points,n)}t.points=t.points.concat(o)}}return Mt(t.points)}(vt.prototype=gt.prototype={searchTag:pt,binSearch:mt,getTable:function(e){var t=this.font.tables[this.tableName];return!t&&e?this.font.tables[this.tableName]=this.createDefaultTable():t},getScriptNames:function(){var e=this.getTable();return e?e.scripts.map((function(e){return e.tag})):[]},getDefaultScriptName:function(){var e=this.getTable();if(e){for(var t=!1,r=0;r<e.scripts.length;r++){var n=e.scripts[r].tag;if("DFLT"===n)return n;"latn"===n&&(t=!0)}return t?"latn":void 0}},getScriptTable:function(e,t){var r,n=this.getTable(t);if(n)return r=n.scripts,0<=(n=pt(n.scripts,e=e||"DFLT"))?r[n].script:t?(r.splice(-1-n,0,t={tag:e,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),t.script):void 0},getLangSysTable:function(e,t,r){var n;if(e=this.getScriptTable(e,r))return t&&"dflt"!==t&&"DFLT"!==t?0<=(n=pt(e.langSysRecords,t))?e.langSysRecords[n].langSys:r?(e.langSysRecords.splice(-1-n,0,r={tag:t,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),r.langSys):void 0:e.defaultLangSys},getFeatureTable:function(e,t,r,n){if(e=this.getLangSysTable(e,t,n)){for(var i,o=e.featureIndexes,a=this.font.tables[this.tableName].features,s=0;s<o.length;s++)if((i=a[o[s]]).tag===r)return i.feature;if(n)return t=a.length,L.assert(0===t||r>=a[t-1].tag,"Features must be added in alphabetical order."),a.push(i={tag:r,feature:{params:0,lookupListIndexes:[]}}),o.push(t),i.feature}},getLookupTables:function(e,t,r,n,i){var o=[];if(e=this.getFeatureTable(e,t,r,i)){for(var a,s=e.lookupListIndexes,l=this.font.tables[this.tableName].lookups,u=0;u<s.length;u++)(a=l[s[u]]).lookupType===n&&o.push(a);if(0===o.length&&i)return t=l.length,l.push(a={lookupType:n,lookupFlag:0,subtables:[],markFilteringSet:void 0}),s.push(t),[a]}return o},getGlyphClass:function(e,t){switch(e.format){case 1:return e.startGlyph<=t&&t<e.startGlyph+e.classes.length?e.classes[t-e.startGlyph]:0;case 2:var r=yt(e.ranges,t);return r?r.classId:0}},getCoverageIndex:function(e,t){switch(e.format){case 1:var r=mt(e.glyphs,t);return 0<=r?r:-1;case 2:return(r=yt(e.ranges,t))?r.index+t-r.start:-1}},expandCoverage:function(e){if(1===e.format)return e.glyphs;for(var t=[],r=e.ranges,n=0;n<r.length;n++)for(var i=r[n],o=i.start,a=i.end,s=o;s<=a;s++)t.push(s);return t}}).init=function(){var e=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(e)},vt.prototype.getKerningValue=function(e,t,r){for(var n=0;n<e.length;n++)for(var i=e[n].subtables,o=0;o<i.length;o++){var a=i[o],s=this.getCoverageIndex(a.coverage,t);if(!(s<0))switch(a.posFormat){case 1:for(var l=a.pairSets[s],u=0;u<l.length;u++){var c=l[u];if(c.secondGlyph===r)return c.value1&&c.value1.xAdvance||0}break;case 2:var h=this.getGlyphClass(a.classDef1,t),d=this.getGlyphClass(a.classDef2,r);return(h=a.classRecords[h][d]).value1&&h.value1.xAdvance||0}}return 0},vt.prototype.getKerningTables=function(e,t){if(this.font.tables.gpos)return this.getLookupTables(e,t,"kern",2)},(bt.prototype=gt.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},bt.prototype.getSingle=function(e,t,r){for(var n=[],i=this.getLookupTables(t,r,e,1),o=0;o<i.length;o++)for(var a=i[o].subtables,s=0;s<a.length;s++){var l=a[s],u=this.expandCoverage(l.coverage),c=void 0;if(1===l.substFormat){var h=l.deltaGlyphId;for(c=0;c<u.length;c++){var d=u[c];n.push({sub:d,by:d+h})}}else{var f=l.substitute;for(c=0;c<u.length;c++)n.push({sub:u[c],by:f[c]})}}return n},bt.prototype.getAlternates=function(e,t,r){for(var n=[],i=this.getLookupTables(t,r,e,3),o=0;o<i.length;o++)for(var a=i[o].subtables,s=0;s<a.length;s++)for(var l=a[s],u=this.expandCoverage(l.coverage),c=l.alternateSets,h=0;h<u.length;h++)n.push({sub:u[h],by:c[h]});return n},bt.prototype.getLigatures=function(e,t,r){for(var n=[],i=this.getLookupTables(t,r,e,4),o=0;o<i.length;o++)for(var a=i[o].subtables,s=0;s<a.length;s++)for(var l=a[s],u=this.expandCoverage(l.coverage),c=l.ligatureSets,h=0;h<u.length;h++)for(var d=u[h],f=c[h],p=0;p<f.length;p++){var m=f[p];n.push({sub:[d].concat(m.components),by:m.ligGlyph})}return n},bt.prototype.addSingle=function(e,t,r,n){r=xt(this.getLookupTables(r,n,e,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),L.assert(1===r.coverage.format,"Ligature: unable to modify coverage table format "+r.coverage.format),n=t.sub,(e=this.binSearch(r.coverage.glyphs,n))<0&&(r.coverage.glyphs.splice(e=-1-e,0,n),r.substitute.splice(e,0,0)),r.substitute[e]=t.by},bt.prototype.addAlternate=function(e,t,r,n){r=xt(this.getLookupTables(r,n,e,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),L.assert(1===r.coverage.format,"Ligature: unable to modify coverage table format "+r.coverage.format),n=t.sub,(e=this.binSearch(r.coverage.glyphs,n))<0&&(r.coverage.glyphs.splice(e=-1-e,0,n),r.alternateSets.splice(e,0,0)),r.alternateSets[e]=t.by},bt.prototype.addLigature=function(e,t,r,n){(n=(r=this.getLookupTables(r,n,e,4,!0)[0]).subtables[0])||(r.subtables[0]=n={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),L.assert(1===n.coverage.format,"Ligature: unable to modify coverage table format "+n.coverage.format),e=t.sub[0];var i=t.sub.slice(1);if(r={ligGlyph:t.by,components:i},0<=(t=this.binSearch(n.coverage.glyphs,e))){for(var o=n.ligatureSets[t],a=0;a<o.length;a++)if(function(e,t){var r=e.length;if(r===t.length){for(var n=0;n<r;n++)if(e[n]!==t[n])return;return 1}}(o[a].components,i))return;o.push(r)}else n.coverage.glyphs.splice(t=-1-t,0,e),n.ligatureSets.splice(t,0,[r])},bt.prototype.getFeature=function(e,t,r){if(/ss\d\d/.test(e))return this.getSingle(e,t,r);switch(e){case"aalt":case"salt":return this.getSingle(e,t,r).concat(this.getAlternates(e,t,r));case"dlig":case"liga":case"rlig":return this.getLigatures(e,t,r)}},bt.prototype.add=function(e,t,r,n){if(/ss\d\d/.test(e))return this.addSingle(e,t,r,n);switch(e){case"aalt":case"salt":return"number"==typeof t.by?this.addSingle(e,t,r,n):this.addAlternate(e,t,r,n);case"dlig":case"liga":case"rlig":return this.addLigature(e,t,r,n)}};var Pt={getPath:Mt,parse:function(e,t,r,n){for(var i=new be.GlyphSet(n),o=0;o<r.length-1;o+=1){var a=r[o];a!==r[o+1]?i.push(o,be.ttfGlyphLoader(n,o,_t,e,t+a,Ct)):i.push(o,be.glyphLoader(n,o))}return i}};function Tt(e){this.font=e,this.getCommands=function(e){return Pt.getPath(e).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Et(e){return e}function Ot(e){return Math.sign(e)*Math.round(Math.abs(e))}function At(e){return Math.sign(e)*Math.round(Math.abs(2*e))/2}function Lt(e){return Math.sign(e)*(Math.round(Math.abs(e)+.5)-.5)}function Nt(e){return Math.sign(e)*Math.ceil(Math.abs(e))}function Rt(e){return Math.sign(e)*Math.floor(Math.abs(e))}function Dt(e){var t=this.srPeriod,r=this.srPhase,n=1;return e<0&&(e=-e,n=-1),e+=this.srThreshold-r,e=Math.trunc(e/t)*t,(e+=r)<0?r*n:e*n}var It={x:1,y:0,axis:"x",distance:function(e,t,r,n){return(r?e.xo:e.x)-(n?t.xo:t.x)},interpolate:function(e,t,r,n){var i,o,a,s,l,u,c;if(!n||n===this)return i=e.xo-t.xo,o=e.xo-r.xo,l=t.x-t.xo,u=r.x-r.xo,0===(c=(a=Math.abs(i))+(s=Math.abs(o)))?void(e.x=e.xo+(l+u)/2):void(e.x=e.xo+(l*s+u*a)/c);i=n.distance(e,t,!0,!0),o=n.distance(e,r,!0,!0),l=n.distance(t,t,!1,!0),u=n.distance(r,r,!1,!0),0===(c=(a=Math.abs(i))+(s=Math.abs(o)))?It.setRelative(e,e,(l+u)/2,n,!0):It.setRelative(e,e,(l*s+u*a)/c,n,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(e,t,r,n,i){var o,a;n&&n!==this?(o=i?t.xo:t.x,a=i?t.yo:t.y,o+=r*n.x,a+=r*n.y,e.x=o+(e.y-a)/n.normalSlope):e.x=(i?t.xo:t.x)+r},slope:0,touch:function(e){e.xTouched=!0},touched:function(e){return e.xTouched},untouch:function(e){e.xTouched=!1}},Ft={x:0,y:1,axis:"y",distance:function(e,t,r,n){return(r?e.yo:e.y)-(n?t.yo:t.y)},interpolate:function(e,t,r,n){var i,o,a,s,l,u,c;if(!n||n===this)return i=e.yo-t.yo,o=e.yo-r.yo,l=t.y-t.yo,u=r.y-r.yo,0===(c=(a=Math.abs(i))+(s=Math.abs(o)))?void(e.y=e.yo+(l+u)/2):void(e.y=e.yo+(l*s+u*a)/c);i=n.distance(e,t,!0,!0),o=n.distance(e,r,!0,!0),l=n.distance(t,t,!1,!0),u=n.distance(r,r,!1,!0),0===(c=(a=Math.abs(i))+(s=Math.abs(o)))?Ft.setRelative(e,e,(l+u)/2,n,!0):Ft.setRelative(e,e,(l*s+u*a)/c,n,!0)},normalSlope:0,setRelative:function(e,t,r,n,i){var o,a;n&&n!==this?(o=i?t.xo:t.x,a=i?t.yo:t.y,o+=r*n.x,a+=r*n.y,e.y=a+n.normalSlope*(e.x-o)):e.y=(i?t.yo:t.y)+r},slope:Number.POSITIVE_INFINITY,touch:function(e){e.yTouched=!0},touched:function(e){return e.yTouched},untouch:function(e){e.yTouched=!1}};function Bt(e,t){this.x=e,this.y=t,this.axis=void 0,this.slope=t/e,this.normalSlope=-e/t,Object.freeze(this)}function Ut(e,t){var r=Math.sqrt(e*e+t*t);return t/=r,1===(e/=r)&&0===t?It:0===e&&1===t?Ft:new Bt(e,t)}function zt(e,t,r,n){this.x=this.xo=Math.round(64*e)/64,this.y=this.yo=Math.round(64*t)/64,this.lastPointOfContour=r,this.onCurve=n,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(It),Object.freeze(Ft),Bt.prototype.distance=function(e,t,r,n){return this.x*It.distance(e,t,r,n)+this.y*Ft.distance(e,t,r,n)},Bt.prototype.interpolate=function(e,t,r,n){var i=n.distance(e,t,!0,!0),o=n.distance(e,r,!0,!0),a=(t=n.distance(t,t,!1,!0),r=n.distance(r,r,!1,!0),(i=Math.abs(i))+(o=Math.abs(o)));0===a?this.setRelative(e,e,(t+r)/2,n,!0):this.setRelative(e,e,(t*o+r*i)/a,n,!0)},Bt.prototype.setRelative=function(e,t,r,n,i){var o=i?t.xo:t.x,a=(i=i?t.yo:t.y,t=o+r*(n=n||this).x,o=i+r*n.y,i=n.normalSlope,r=this.slope,n=e.x,e.y);e.x=(r*n-i*t+o-a)/(r-i),e.y=r*(e.x-n)+a},Bt.prototype.touch=function(e){e.xTouched=!0,e.yTouched=!0},zt.prototype.nextTouched=function(e){for(var t=this.nextPointOnContour;!e.touched(t)&&t!==this;)t=t.nextPointOnContour;return t},zt.prototype.prevTouched=function(e){for(var t=this.prevPointOnContour;!e.touched(t)&&t!==this;)t=t.prevPointOnContour;return t};var qt=Object.freeze(new zt(0,0)),Gt={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Vt(e,t){switch(this.env=e,this.stack=[],this.prog=t,e){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=It,this.round=Ot}}function Ht(e){for(var t=e.tZone=new Array(e.gZone.length),r=0;r<t.length;r++)t[r]=new zt(0,0)}function Wt(e,t){var r,n=e.prog,i=e.ip,o=1;do{if(88===(r=n[++i]))o++;else if(89===r)o--;else if(64===r)i+=n[i+1]+1;else if(65===r)i+=2*n[i+1]+1;else if(176<=r&&r<=183)i+=r-176+1;else if(184<=r&&r<=191)i+=2*(r-184+1);else if(t&&1===o&&27===r)break}while(0<o);e.ip=i}function Xt(t,r){e.DEBUG&&console.log(r.step,"SVTCA["+t.axis+"]"),r.fv=r.pv=r.dpv=t}function Yt(t,r){e.DEBUG&&console.log(r.step,"SPVTCA["+t.axis+"]"),r.pv=r.dpv=t}function Kt(t,r){e.DEBUG&&console.log(r.step,"SFVTCA["+t.axis+"]"),r.fv=t}function Zt(t,r){var n,i=(o=r.stack).pop(),o=o.pop(),a=r.z2[i],s=r.z1[o];e.DEBUG&&console.log("SPVTL["+t+"]",i,o),i=t?(n=a.y-s.y,s.x-a.x):(n=s.x-a.x,s.y-a.y),r.pv=r.dpv=Ut(n,i)}function $t(t,r){var n,i=(o=r.stack).pop(),o=o.pop(),a=r.z2[i],s=r.z1[o];e.DEBUG&&console.log("SFVTL["+t+"]",i,o),i=t?(n=a.y-s.y,s.x-a.x):(n=s.x-a.x,s.y-a.y),r.fv=Ut(n,i)}function Jt(t){e.DEBUG&&console.log(t.step,"POP[]"),t.stack.pop()}function Qt(t,r){var n=r.stack.pop(),i=r.z0[n],o=r.fv,a=r.pv,s=(e.DEBUG&&console.log(r.step,"MDAP["+t+"]",n),a.distance(i,qt));t&&(s=r.round(s)),o.setRelative(i,qt,s,a),o.touch(i),r.rp0=r.rp1=n}function er(t,r){var n,i,o,a=r.z2,s=a.length-2;e.DEBUG&&console.log(r.step,"IUP["+t.axis+"]");for(var l=0;l<s;l++)n=a[l],t.touched(n)||(i=n.prevTouched(t))!==n&&(i===(o=n.nextTouched(t))&&t.setRelative(n,n,t.distance(i,i,!1,!0),t,!0),t.interpolate(n,i,o,t))}function tr(t,r){for(var n=r.stack,i=t?r.rp1:r.rp2,o=(t?r.z0:r.z1)[i],a=r.fv,s=r.pv,l=r.loop,u=r.z2;l--;){var c=n.pop(),h=u[c],d=s.distance(o,o,!1,!0);a.setRelative(h,h,d,s),a.touch(h),e.DEBUG&&console.log(r.step,(1<r.loop?"loop "+(r.loop-l)+": ":"")+"SHP["+(t?"rp1":"rp2")+"]",c)}r.loop=1}function rr(t,r){for(var n=r.stack,i=t?r.rp1:r.rp2,o=(t?r.z0:r.z1)[i],a=r.fv,s=r.pv,l=(i=n.pop(),r.z2[r.contours[i]]),u=l,c=(e.DEBUG&&console.log(r.step,"SHC["+t+"]",i),s.distance(o,o,!1,!0));u!==o&&a.setRelative(u,u,c,s),(u=u.nextPointOnContour)!==l;);}function nr(t,r){var n,i,o=r.stack,a=t?r.rp1:r.rp2,s=(a=(t?r.z0:r.z1)[a],r.fv),l=r.pv;switch(o=o.pop(),e.DEBUG&&console.log(r.step,"SHZ["+t+"]",o),o){case 0:n=r.tZone;break;case 1:n=r.gZone;break;default:throw new Error("Invalid zone")}for(var u=l.distance(a,a,!1,!0),c=n.length-2,h=0;h<c;h++)i=n[h],s.setRelative(i,i,u,l)}function ir(t,r){var n=(i=r.stack).pop()/64,i=i.pop(),o=r.z1[i],a=r.z0[r.rp0],s=r.fv,l=r.pv;s.setRelative(o,a,n,l),s.touch(o),e.DEBUG&&console.log(r.step,"MSIRP["+t+"]",n,i),r.rp1=r.rp0,r.rp2=i,t&&(r.rp0=i)}function or(t,r){var n=(i=r.stack).pop(),i=i.pop(),o=r.z0[i],a=r.fv,s=r.pv,l=r.cvt[n];e.DEBUG&&console.log(r.step,"MIAP["+t+"]",n,"(",l,")",i),n=s.distance(o,qt),t&&(Math.abs(n-l)<r.cvCutIn&&(n=l),n=r.round(n)),a.setRelative(o,qt,n,s),0===r.zp0&&(o.xo=o.x,o.yo=o.y),a.touch(o),r.rp0=r.rp1=i}function ar(t,r){var n=r.stack,i=n.pop(),o=r.z2[i];e.DEBUG&&console.log(r.step,"GC["+t+"]",i),n.push(64*r.dpv.distance(o,qt,t,!1))}function sr(t,r){var n=(i=r.stack).pop(),i=i.pop(),o=r.z1[n],a=r.z0[i];a=r.dpv.distance(a,o,t,t),e.DEBUG&&console.log(r.step,"MD["+t+"]",n,i,"->",a),r.stack.push(Math.round(64*a))}function lr(t,r){var n=r.stack,i=n.pop(),o=r.fv,a=r.pv,s=r.ppem,l=r.deltaBase+16*(t-1),u=r.deltaShift,c=r.z0;e.DEBUG&&console.log(r.step,"DELTAP["+t+"]",i,n);for(var h=0;h<i;h++){var d=n.pop(),f=n.pop();l+((240&f)>>4)===s&&(0<=(f=(15&f)-8)&&f++,e.DEBUG&&console.log(r.step,"DELTAPFIX",d,"by",f*u),d=c[d],o.setRelative(d,d,f*u,a))}}function ur(t,r){var n=r.stack,i=n.pop();e.DEBUG&&console.log(r.step,"ROUND[]"),n.push(64*r.round(i/64))}function cr(t,r){var n=r.stack,i=n.pop(),o=r.ppem,a=r.deltaBase+16*(t-1),s=r.deltaShift;e.DEBUG&&console.log(r.step,"DELTAC["+t+"]",i,n);for(var l=0;l<i;l++){var u=n.pop(),c=n.pop();a+((240&c)>>4)===o&&(0<=(c=(15&c)-8)&&c++,c*=s,e.DEBUG&&console.log(r.step,"DELTACFIX",u,"by",c),r.cvt[u]+=c)}}function hr(t,r){var n,i=(o=r.stack).pop(),o=o.pop(),a=r.z2[i],s=r.z1[o];e.DEBUG&&console.log(r.step,"SDPVTL["+t+"]",i,o),i=t?(n=a.y-s.y,s.x-a.x):(n=s.x-a.x,s.y-a.y),r.dpv=Ut(n,i)}function dr(t,r){var n=r.stack,i=r.prog,o=r.ip;e.DEBUG&&console.log(r.step,"PUSHB["+t+"]");for(var a=0;a<t;a++)n.push(i[++o]);r.ip=o}function fr(t,r){var n=r.ip,i=r.prog,o=r.stack;e.DEBUG&&console.log(r.ip,"PUSHW["+t+"]");for(var a=0;a<t;a++){var s=i[++n]<<8|i[++n];32768&s&&(s=-(1+(65535^s))),o.push(s)}r.ip=n}function pr(t,r,n,i,o,a){var s,l,u=a.stack,c=t&&u.pop(),h=(u=u.pop(),a.rp0),d=(h=a.z0[h],a.z1[u]),f=a.minDis,p=a.fv,m=a.dpv,y=s=m.distance(d,h,!0,!0),g=0<=y?1:-1;y=Math.abs(y),t&&(l=a.cvt[c],i&&Math.abs(y-l)<a.cvCutIn&&(y=l)),n&&y<f&&(y=f),i&&(y=a.round(y)),p.setRelative(d,h,g*y,m),p.touch(d),e.DEBUG&&console.log(a.step,(t?"MIRP[":"MDRP[")+(r?"M":"m")+(n?">":"_")+(i?"R":"_")+(0===o?"Gr":1===o?"Bl":2===o?"Wh":"")+"]",t?c+"("+a.cvt[c]+","+l+")":"",u,"(d =",s,"->",g*y,")"),a.rp1=a.rp0,a.rp2=u,r&&(a.rp0=u)}Tt.prototype.exec=function(t,r){if("number"!=typeof r)throw new Error("Point size is not a number!");if(!(2<this._errorState)){var n=this.font,i=this._prepState;if(!i||i.ppem!==r){var o=this._fpgmState;if(!o){Vt.prototype=Gt,(o=this._fpgmState=new Vt("fpgm",n.tables.fpgm)).funcs=[],o.font=n,e.DEBUG&&(console.log("---EXEC FPGM---"),o.step=-1);try{gr(o)}catch(t){return console.log("Hinting error in FPGM:"+t),void(this._errorState=3)}}Vt.prototype=o,(i=this._prepState=new Vt("prep",n.tables.prep)).ppem=r;var a=n.tables.cvt;if(a)for(var s=i.cvt=new Array(a.length),l=r/n.unitsPerEm,u=0;u<a.length;u++)s[u]=a[u]*l;else i.cvt=[];e.DEBUG&&(console.log("---EXEC PREP---"),i.step=-1);try{gr(i)}catch(t){this._errorState<2&&console.log("Hinting error in PREP:"+t),this._errorState=2}}if(!(1<this._errorState))try{return mr(t,i)}catch(t){this._errorState<1&&(console.log("Hinting error:"+t),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var mr=function(t,r){var n=r.ppem/r.font.unitsPerEm,i=n,o=t.components;if(Vt.prototype=r,o){for(var a=r.font,s=[],l=[],u=0;u<o.length;u++){var c=o[u],h=a.glyphs.get(c.glyphIndex),d=new Vt("glyf",h.instructions);e.DEBUG&&(console.log("---EXEC COMP "+u+"---"),d.step=-1),yr(h,d,n,i);for(var f=Math.round(c.dx*n),p=Math.round(c.dy*i),m=d.gZone,y=d.contours,g=0;g<m.length;g++){var v=m[g];v.xTouched=v.yTouched=!1,v.xo=v.x=v.x+f,v.yo=v.y=v.y+p}var b=s.length;s.push.apply(s,m);for(var x=0;x<y.length;x++)l.push(y[x]+b)}t.instructions&&!d.inhibitGridFit&&((d=new Vt("glyf",t.instructions)).gZone=d.z0=d.z1=d.z2=s,d.contours=l,s.push(new zt(0,0),new zt(Math.round(t.advanceWidth*n),0)),e.DEBUG&&(console.log("---EXEC COMPOSITE---"),d.step=-1),gr(d),s.length-=2)}else d=new Vt("glyf",t.instructions),e.DEBUG&&(console.log("---EXEC GLYPH---"),d.step=-1),yr(t,d,n,i),s=d.gZone;return s},yr=function(t,r,n,i){for(var o,a,s,l=t.points||[],u=l.length,c=r.gZone=r.z0=r.z1=r.z2=[],h=r.contours=[],d=0;d<u;d++)o=l[d],c[d]=new zt(o.x*n,o.y*i,o.lastPointOfContour,o.onCurve);for(var f=0;f<u;f++)o=c[f],a||(a=o,h.push(f)),o.lastPointOfContour?((o.nextPointOnContour=a).prevPointOnContour=o,a=void 0):(s=c[f+1],(o.nextPointOnContour=s).prevPointOnContour=o);if(!r.inhibitGridFit){if(e.DEBUG){console.log("PROCESSING GLYPH",r.stack);for(var p=0;p<u;p++)console.log(p,c[p].x,c[p].y)}if(c.push(new zt(0,0),new zt(Math.round(t.advanceWidth*n),0)),gr(r),c.length-=2,e.DEBUG){console.log("FINISHED GLYPH",r.stack);for(var m=0;m<u;m++)console.log(m,c[m].x,c[m].y)}}},gr=function(t){var r=t.prog;if(r){var n,i=r.length;for(t.ip=0;t.ip<i;t.ip++){if(e.DEBUG&&t.step++,!(n=vr[r[t.ip]]))throw new Error("unknown instruction: 0x"+Number(r[t.ip]).toString(16));n(t)}}},vr=[Xt.bind(void 0,Ft),Xt.bind(void 0,It),Yt.bind(void 0,Ft),Yt.bind(void 0,It),Kt.bind(void 0,Ft),Kt.bind(void 0,It),Zt.bind(void 0,0),Zt.bind(void 0,1),$t.bind(void 0,0),$t.bind(void 0,1),function(t){var r=(n=t.stack).pop(),n=n.pop();e.DEBUG&&console.log(t.step,"SPVFS[]",r,n),t.pv=t.dpv=Ut(n,r)},function(t){var r=(n=t.stack).pop(),n=n.pop();e.DEBUG&&console.log(t.step,"SPVFS[]",r,n),t.fv=Ut(n,r)},function(t){var r=t.stack,n=t.pv;e.DEBUG&&console.log(t.step,"GPV[]"),r.push(16384*n.x),r.push(16384*n.y)},function(t){var r=t.stack,n=t.fv;e.DEBUG&&console.log(t.step,"GFV[]"),r.push(16384*n.x),r.push(16384*n.y)},function(t){t.fv=t.pv,e.DEBUG&&console.log(t.step,"SFVTPV[]")},function(t){var r=(a=t.stack).pop(),n=a.pop(),i=a.pop(),o=a.pop(),a=a.pop(),s=t.z0,l=t.z1,u=s[r],c=(s=s[n],l[i]),h=(l=l[o],t=t.z2[a],e.DEBUG&&console.log("ISECT[], ",r,n,i,o,a),r=u.x,n=u.y,i=s.x,o=s.y,a=c.x,u=c.y,s=l.x,l=(r-i)*(u-(c=l.y))-(n-o)*(a-s),r*o-n*i),d=a*c-u*s;t.x=(h*(a-s)-d*(r-i))/l,t.y=(h*(u-c)-d*(n-o))/l},function(t){t.rp0=t.stack.pop(),e.DEBUG&&console.log(t.step,"SRP0[]",t.rp0)},function(t){t.rp1=t.stack.pop(),e.DEBUG&&console.log(t.step,"SRP1[]",t.rp1)},function(t){t.rp2=t.stack.pop(),e.DEBUG&&console.log(t.step,"SRP2[]",t.rp2)},function(t){var r=t.stack.pop();switch(e.DEBUG&&console.log(t.step,"SZP0[]",r),t.zp0=r){case 0:t.tZone||Ht(t),t.z0=t.tZone;break;case 1:t.z0=t.gZone;break;default:throw new Error("Invalid zone pointer")}},function(t){var r=t.stack.pop();switch(e.DEBUG&&console.log(t.step,"SZP1[]",r),t.zp1=r){case 0:t.tZone||Ht(t),t.z1=t.tZone;break;case 1:t.z1=t.gZone;break;default:throw new Error("Invalid zone pointer")}},function(t){var r=t.stack.pop();switch(e.DEBUG&&console.log(t.step,"SZP2[]",r),t.zp2=r){case 0:t.tZone||Ht(t),t.z2=t.tZone;break;case 1:t.z2=t.gZone;break;default:throw new Error("Invalid zone pointer")}},function(t){var r=t.stack.pop();switch(e.DEBUG&&console.log(t.step,"SZPS[]",r),t.zp0=t.zp1=t.zp2=r){case 0:t.tZone||Ht(t),t.z0=t.z1=t.z2=t.tZone;break;case 1:t.z0=t.z1=t.z2=t.gZone;break;default:throw new Error("Invalid zone pointer")}},function(t){t.loop=t.stack.pop(),e.DEBUG&&console.log(t.step,"SLOOP[]",t.loop)},function(t){e.DEBUG&&console.log(t.step,"RTG[]"),t.round=Ot},function(t){e.DEBUG&&console.log(t.step,"RTHG[]"),t.round=Lt},function(t){var r=t.stack.pop();e.DEBUG&&console.log(t.step,"SMD[]",r),t.minDis=r/64},function(t){e.DEBUG&&console.log(t.step,"ELSE[]"),Wt(t,!1)},function(t){var r=t.stack.pop();e.DEBUG&&console.log(t.step,"JMPR[]",r),t.ip+=r-1},function(t){var r=t.stack.pop();e.DEBUG&&console.log(t.step,"SCVTCI[]",r),t.cvCutIn=r/64},void 0,void 0,function(t){var r=t.stack;e.DEBUG&&console.log(t.step,"DUP[]"),r.push(r[r.length-1])},Jt,function(t){e.DEBUG&&console.log(t.step,"CLEAR[]"),t.stack.length=0},function(t){var r=t.stack,n=r.pop(),i=r.pop();e.DEBUG&&console.log(t.step,"SWAP[]"),r.push(n),r.push(i)},function(t){var r=t.stack;e.DEBUG&&console.log(t.step,"DEPTH[]"),r.push(r.length)},function(t){var r=t.stack,n=r.pop();e.DEBUG&&console.log(t.step,"CINDEX[]",n),r.push(r[r.length-n])},function(t){var r=t.stack,n=r.pop();e.DEBUG&&console.log(t.step,"MINDEX[]",n),r.push(r.splice(r.length-n,1)[0])},void 0,void 0,void 0,function(t){var r=(i=t.stack).pop(),n=i.pop(),i=(e.DEBUG&&console.log(t.step,"LOOPCALL[]",r,n),t.ip),o=t.prog;t.prog=t.funcs[r];for(var a=0;a<n;a++)gr(t),e.DEBUG&&console.log(++t.step,a+1<n?"next loopcall":"done loopcall",a);t.ip=i,t.prog=o},function(t){var r=t.stack.pop(),n=(e.DEBUG&&console.log(t.step,"CALL[]",r),t.ip),i=t.prog;t.prog=t.funcs[r],gr(t),t.ip=n,t.prog=i,e.DEBUG&&console.log(++t.step,"returning from",r)},function(t){if("fpgm"!==t.env)throw new Error("FDEF not allowed here");var r=t.stack,n=t.prog,i=t.ip,o=(r=r.pop(),i);for(e.DEBUG&&console.log(t.step,"FDEF[]",r);45!==n[++i];);t.ip=i,t.funcs[r]=n.slice(o+1,i)},void 0,Qt.bind(void 0,0),Qt.bind(void 0,1),er.bind(void 0,Ft),er.bind(void 0,It),tr.bind(void 0,0),tr.bind(void 0,1),rr.bind(void 0,0),rr.bind(void 0,1),nr.bind(void 0,0),nr.bind(void 0,1),function(t){for(var r=t.stack,n=t.loop,i=t.fv,o=r.pop()/64,a=t.z2;n--;){var s=r.pop(),l=a[s];e.DEBUG&&console.log(t.step,(1<t.loop?"loop "+(t.loop-n)+": ":"")+"SHPIX[]",s,o),i.setRelative(l,l,o),i.touch(l)}t.loop=1},function(t){for(var r=t.stack,n=t.rp1,i=t.rp2,o=t.loop,a=t.z0[n],s=t.z1[i],l=t.fv,u=t.dpv,c=t.z2;o--;){var h=r.pop(),d=c[h];e.DEBUG&&console.log(t.step,(1<t.loop?"loop "+(t.loop-o)+": ":"")+"IP[]",h,n,"<->",i),l.interpolate(d,a,s,u),l.touch(d)}t.loop=1},ir.bind(void 0,0),ir.bind(void 0,1),function(t){for(var r=t.stack,n=t.rp0,i=t.z0[n],o=t.loop,a=t.fv,s=t.pv,l=t.z1;o--;){var u=r.pop(),c=l[u];e.DEBUG&&console.log(t.step,(1<t.loop?"loop "+(t.loop-o)+": ":"")+"ALIGNRP[]",u),a.setRelative(c,i,0,s),a.touch(c)}t.loop=1},function(t){e.DEBUG&&console.log(t.step,"RTDG[]"),t.round=At},or.bind(void 0,0),or.bind(void 0,1),function(t){var r=t.prog,n=t.ip,i=t.stack,o=r[++n];e.DEBUG&&console.log(t.step,"NPUSHB[]",o);for(var a=0;a<o;a++)i.push(r[++n]);t.ip=n},function(t){var r=t.ip,n=t.prog,i=t.stack,o=n[++r];e.DEBUG&&console.log(t.step,"NPUSHW[]",o);for(var a=0;a<o;a++){var s=n[++r]<<8|n[++r];32768&s&&(s=-(1+(65535^s))),i.push(s)}t.ip=r},function(t){var r=t.stack,n=(n=t.store)||(t.store=[]),i=r.pop();r=r.pop(),e.DEBUG&&console.log(t.step,"WS",i,r),n[r]=i},function(t){var r=t.stack,n=t.store,i=r.pop();e.DEBUG&&console.log(t.step,"RS",i),t=n&&n[i]||0,r.push(t)},function(t){var r=(n=t.stack).pop(),n=n.pop();e.DEBUG&&console.log(t.step,"WCVTP",r,n),t.cvt[n]=r/64},function(t){var r=t.stack,n=r.pop();e.DEBUG&&console.log(t.step,"RCVT",n),r.push(64*t.cvt[n])},ar.bind(void 0,0),ar.bind(void 0,1),void 0,sr.bind(void 0,0),sr.bind(void 0,1),function(t){e.DEBUG&&console.log(t.step,"MPPEM[]"),t.stack.push(t.ppem)},void 0,function(t){e.DEBUG&&console.log(t.step,"FLIPON[]"),t.autoFlip=!0},void 0,void 0,function(t){var r=t.stack,n=r.pop(),i=r.pop();e.DEBUG&&console.log(t.step,"LT[]",n,i),r.push(i<n?1:0)},function(t){var r=t.stack,n=r.pop(),i=r.pop();e.DEBUG&&console.log(t.step,"LTEQ[]",n,i),r.push(i<=n?1:0)},function(t){var r=t.stack,n=r.pop(),i=r.pop();e.DEBUG&&console.log(t.step,"GT[]",n,i),r.push(n<i?1:0)},function(t){var r=t.stack,n=r.pop(),i=r.pop();e.DEBUG&&console.log(t.step,"GTEQ[]",n,i),r.push(n<=i?1:0)},function(t){var r=t.stack,n=r.pop(),i=r.pop();e.DEBUG&&console.log(t.step,"EQ[]",n,i),r.push(n===i?1:0)},function(t){var r=t.stack,n=r.pop(),i=r.pop();e.DEBUG&&console.log(t.step,"NEQ[]",n,i),r.push(n!==i?1:0)},function(t){var r=t.stack,n=r.pop();e.DEBUG&&console.log(t.step,"ODD[]",n),r.push(Math.trunc(n)%2?1:0)},function(t){var r=t.stack,n=r.pop();e.DEBUG&&console.log(t.step,"EVEN[]",n),r.push(Math.trunc(n)%2?0:1)},function(t){var r=t.stack.pop();e.DEBUG&&console.log(t.step,"IF[]",r),r||(Wt(t,!0),e.DEBUG&&console.log(t.step,"EIF[]"))},function(t){e.DEBUG&&console.log(t.step,"EIF[]")},function(t){var r=t.stack,n=r.pop(),i=r.pop();e.DEBUG&&console.log(t.step,"AND[]",n,i),r.push(n&&i?1:0)},function(t){var r=t.stack,n=r.pop(),i=r.pop();e.DEBUG&&console.log(t.step,"OR[]",n,i),r.push(n||i?1:0)},function(t){var r=t.stack,n=r.pop();e.DEBUG&&console.log(t.step,"NOT[]",n),r.push(n?0:1)},lr.bind(void 0,1),function(t){var r=t.stack.pop();e.DEBUG&&console.log(t.step,"SDB[]",r),t.deltaBase=r},function(t){var r=t.stack.pop();e.DEBUG&&console.log(t.step,"SDS[]",r),t.deltaShift=Math.pow(.5,r)},function(t){var r=t.stack,n=r.pop(),i=r.pop();e.DEBUG&&console.log(t.step,"ADD[]",n,i),r.push(i+n)},function(t){var r=t.stack,n=r.pop(),i=r.pop();e.DEBUG&&console.log(t.step,"SUB[]",n,i),r.push(i-n)},function(t){var r=t.stack,n=r.pop(),i=r.pop();e.DEBUG&&console.log(t.step,"DIV[]",n,i),r.push(64*i/n)},function(t){var r=t.stack,n=r.pop(),i=r.pop();e.DEBUG&&console.log(t.step,"MUL[]",n,i),r.push(i*n/64)},function(t){var r=t.stack,n=r.pop();e.DEBUG&&console.log(t.step,"ABS[]",n),r.push(Math.abs(n))},function(t){var r=t.stack,n=r.pop();e.DEBUG&&console.log(t.step,"NEG[]",n),r.push(-n)},function(t){var r=t.stack,n=r.pop();e.DEBUG&&console.log(t.step,"FLOOR[]",n),r.push(64*Math.floor(n/64))},function(t){var r=t.stack,n=r.pop();e.DEBUG&&console.log(t.step,"CEILING[]",n),r.push(64*Math.ceil(n/64))},ur.bind(void 0,0),ur.bind(void 0,1),ur.bind(void 0,2),ur.bind(void 0,3),void 0,void 0,void 0,void 0,function(t){var r=(n=t.stack).pop(),n=n.pop();e.DEBUG&&console.log(t.step,"WCVTF[]",r,n),t.cvt[n]=r*t.ppem/t.font.unitsPerEm},lr.bind(void 0,2),lr.bind(void 0,3),cr.bind(void 0,1),cr.bind(void 0,2),cr.bind(void 0,3),function(t){var r,n=t.stack.pop();switch(e.DEBUG&&console.log(t.step,"SROUND[]",n),t.round=Dt,192&n){case 0:r=.5;break;case 64:r=1;break;case 128:r=2;break;default:throw new Error("invalid SROUND value")}switch(t.srPeriod=r,48&n){case 0:t.srPhase=0;break;case 16:t.srPhase=.25*r;break;case 32:t.srPhase=.5*r;break;case 48:t.srPhase=.75*r;break;default:throw new Error("invalid SROUND value")}t.srThreshold=0===(n&=15)?0:(n/8-.5)*r},function(t){var r,n=t.stack.pop();switch(e.DEBUG&&console.log(t.step,"S45ROUND[]",n),t.round=Dt,192&n){case 0:r=Math.sqrt(2)/2;break;case 64:r=Math.sqrt(2);break;case 128:r=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(t.srPeriod=r,48&n){case 0:t.srPhase=0;break;case 16:t.srPhase=.25*r;break;case 32:t.srPhase=.5*r;break;case 48:t.srPhase=.75*r;break;default:throw new Error("invalid S45ROUND value")}t.srThreshold=0===(n&=15)?0:(n/8-.5)*r},void 0,void 0,function(t){e.DEBUG&&console.log(t.step,"ROFF[]"),t.round=Et},void 0,function(t){e.DEBUG&&console.log(t.step,"RUTG[]"),t.round=Nt},function(t){e.DEBUG&&console.log(t.step,"RDTG[]"),t.round=Rt},Jt,Jt,void 0,void 0,void 0,void 0,void 0,function(t){var r=t.stack.pop();e.DEBUG&&console.log(t.step,"SCANCTRL[]",r)},hr.bind(void 0,0),hr.bind(void 0,1),function(t){var r=t.stack,n=r.pop(),i=0;e.DEBUG&&console.log(t.step,"GETINFO[]",n),1&n&&(i=35),32&n&&(i|=4096),r.push(i)},void 0,function(t){var r=t.stack,n=r.pop(),i=r.pop(),o=r.pop();e.DEBUG&&console.log(t.step,"ROLL[]"),r.push(i),r.push(n),r.push(o)},function(t){var r=t.stack,n=r.pop(),i=r.pop();e.DEBUG&&console.log(t.step,"MAX[]",n,i),r.push(Math.max(i,n))},function(t){var r=t.stack,n=r.pop(),i=r.pop();e.DEBUG&&console.log(t.step,"MIN[]",n,i),r.push(Math.min(i,n))},function(t){var r=t.stack.pop();e.DEBUG&&console.log(t.step,"SCANTYPE[]",r)},function(t){var r=t.stack.pop(),n=t.stack.pop();switch(e.DEBUG&&console.log(t.step,"INSTCTRL[]",r,n),r){case 1:return void(t.inhibitGridFit=!!n);case 2:return void(t.ignoreCvt=!!n);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,dr.bind(void 0,1),dr.bind(void 0,2),dr.bind(void 0,3),dr.bind(void 0,4),dr.bind(void 0,5),dr.bind(void 0,6),dr.bind(void 0,7),dr.bind(void 0,8),fr.bind(void 0,1),fr.bind(void 0,2),fr.bind(void 0,3),fr.bind(void 0,4),fr.bind(void 0,5),fr.bind(void 0,6),fr.bind(void 0,7),fr.bind(void 0,8),pr.bind(void 0,0,0,0,0,0),pr.bind(void 0,0,0,0,0,1),pr.bind(void 0,0,0,0,0,2),pr.bind(void 0,0,0,0,0,3),pr.bind(void 0,0,0,0,1,0),pr.bind(void 0,0,0,0,1,1),pr.bind(void 0,0,0,0,1,2),pr.bind(void 0,0,0,0,1,3),pr.bind(void 0,0,0,1,0,0),pr.bind(void 0,0,0,1,0,1),pr.bind(void 0,0,0,1,0,2),pr.bind(void 0,0,0,1,0,3),pr.bind(void 0,0,0,1,1,0),pr.bind(void 0,0,0,1,1,1),pr.bind(void 0,0,0,1,1,2),pr.bind(void 0,0,0,1,1,3),pr.bind(void 0,0,1,0,0,0),pr.bind(void 0,0,1,0,0,1),pr.bind(void 0,0,1,0,0,2),pr.bind(void 0,0,1,0,0,3),pr.bind(void 0,0,1,0,1,0),pr.bind(void 0,0,1,0,1,1),pr.bind(void 0,0,1,0,1,2),pr.bind(void 0,0,1,0,1,3),pr.bind(void 0,0,1,1,0,0),pr.bind(void 0,0,1,1,0,1),pr.bind(void 0,0,1,1,0,2),pr.bind(void 0,0,1,1,0,3),pr.bind(void 0,0,1,1,1,0),pr.bind(void 0,0,1,1,1,1),pr.bind(void 0,0,1,1,1,2),pr.bind(void 0,0,1,1,1,3),pr.bind(void 0,1,0,0,0,0),pr.bind(void 0,1,0,0,0,1),pr.bind(void 0,1,0,0,0,2),pr.bind(void 0,1,0,0,0,3),pr.bind(void 0,1,0,0,1,0),pr.bind(void 0,1,0,0,1,1),pr.bind(void 0,1,0,0,1,2),pr.bind(void 0,1,0,0,1,3),pr.bind(void 0,1,0,1,0,0),pr.bind(void 0,1,0,1,0,1),pr.bind(void 0,1,0,1,0,2),pr.bind(void 0,1,0,1,0,3),pr.bind(void 0,1,0,1,1,0),pr.bind(void 0,1,0,1,1,1),pr.bind(void 0,1,0,1,1,2),pr.bind(void 0,1,0,1,1,3),pr.bind(void 0,1,1,0,0,0),pr.bind(void 0,1,1,0,0,1),pr.bind(void 0,1,1,0,0,2),pr.bind(void 0,1,1,0,0,3),pr.bind(void 0,1,1,0,1,0),pr.bind(void 0,1,1,0,1,1),pr.bind(void 0,1,1,0,1,2),pr.bind(void 0,1,1,0,1,3),pr.bind(void 0,1,1,1,0,0),pr.bind(void 0,1,1,1,0,1),pr.bind(void 0,1,1,1,0,2),pr.bind(void 0,1,1,1,0,3),pr.bind(void 0,1,1,1,1,0),pr.bind(void 0,1,1,1,1,1),pr.bind(void 0,1,1,1,1,2),pr.bind(void 0,1,1,1,1,3)],br=Array.from||function(e){return e.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function xr(e){(e=e||{}).empty||(St(e.familyName,"When creating a new Font object, familyName is required."),St(e.styleName,"When creating a new Font object, styleName is required."),St(e.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),St(e.ascender,"When creating a new Font object, ascender is required."),St(e.descender,"When creating a new Font object, descender is required."),St(e.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:e.familyName||" "},fontSubfamily:{en:e.styleName||" "},fullName:{en:e.fullName||e.familyName+" "+e.styleName},postScriptName:{en:e.postScriptName||(e.familyName+e.styleName).replace(/\s/g,"")},designer:{en:e.designer||" "},designerURL:{en:e.designerURL||" "},manufacturer:{en:e.manufacturer||" "},manufacturerURL:{en:e.manufacturerURL||" "},license:{en:e.license||" "},licenseURL:{en:e.licenseURL||" "},version:{en:e.version||"Version 0.1"},description:{en:e.description||" "},copyright:{en:e.copyright||" "},trademark:{en:e.trademark||" "}},this.unitsPerEm=e.unitsPerEm||1e3,this.ascender=e.ascender,this.descender=e.descender,this.createdTimestamp=e.createdTimestamp,this.tables={os2:{usWeightClass:e.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:e.widthClass||this.usWidthClasses.MEDIUM,fsSelection:e.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new be.GlyphSet(this,e.glyphs||[]),this.encoding=new he(this),this.position=new vt(this),this.substitution=new bt(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||("truetype"===this.outlinesFormat?this._hinting=new Tt(this):void 0)}})}function wr(e,t){var r,n=JSON.stringify(e),i=256;for(r in t){var o=parseInt(r);if(o&&!(o<256)){if(JSON.stringify(t[r])===n)return o;i<=o&&(i=o+1)}}return t[i]=e,i}xr.prototype.hasChar=function(e){return null!==this.encoding.charToGlyphIndex(e)},xr.prototype.charToGlyphIndex=function(e){return this.encoding.charToGlyphIndex(e)},xr.prototype.charToGlyph=function(e){return e=this.charToGlyphIndex(e),this.glyphs.get(e)||this.glyphs.get(0)},xr.prototype.stringToGlyphs=function(e,t){t=t||this.defaultRenderOptions;for(var r=br(e),n=[],i=0;i<r.length;i+=1){var o=r[i];n.push(this.charToGlyphIndex(o))}var a=n.length;if(t.features){e=t.script||this.substitution.getDefaultScriptName();var s=[];t.features.liga&&(s=s.concat(this.substitution.getFeature("liga",e,t.language))),t.features.rlig&&(s=s.concat(this.substitution.getFeature("rlig",e,t.language)));for(var l=0;l<a;l+=1)for(var u=0;u<s.length;u++){for(var c=s[u],h=c.sub,d=h.length,f=0;f<d&&h[f]===n[l+f];)f++;f===d&&(n.splice(l,d,c.by),a=a-d+1)}}for(var p=new Array(a),m=this.glyphs.get(0),y=0;y<a;y+=1)p[y]=this.glyphs.get(n[y])||m;return p},xr.prototype.nameToGlyphIndex=function(e){return this.glyphNames.nameToGlyphIndex(e)},xr.prototype.nameToGlyph=function(e){return e=this.nameToGlyphIndex(e),this.glyphs.get(e)||this.glyphs.get(0)},xr.prototype.glyphIndexToName=function(e){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(e):""},xr.prototype.getKerningValue=function(e,t){e=e.index||e,t=t.index||t;var r=this.position.defaultKerningTables;return r?this.position.getKerningValue(r,e,t):this.kerningPairs[e+","+t]||0},xr.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},xr.prototype.forEachGlyph=function(e,t,r,n,i,o){t=void 0!==t?t:0,r=void 0!==r?r:0,i=i||this.defaultRenderOptions;var a,s=1/this.unitsPerEm*(n=void 0!==n?n:72),l=this.stringToGlyphs(e,i);i.kerning&&(e=i.script||this.position.getDefaultScriptName(),a=this.position.getKerningTables(e,i.language));for(var u=0;u<l.length;u+=1){var c=l[u];o.call(this,c,t,r,n,i),c.advanceWidth&&(t+=c.advanceWidth*s),i.kerning&&u<l.length-1&&(t+=(a?this.position.getKerningValue(a,c.index,l[u+1].index):this.getKerningValue(c,l[u+1]))*s),i.letterSpacing?t+=i.letterSpacing*n:i.tracking&&(t+=i.tracking/1e3*n)}return t},xr.prototype.getPath=function(e,t,r,n,i){var o=new E;return this.forEachGlyph(e,t,r,n,i,(function(e,t,r,n){e=e.getPath(t,r,n,i,this),o.extend(e)})),o},xr.prototype.getPaths=function(e,t,r,n,i){var o=[];return this.forEachGlyph(e,t,r,n,i,(function(e,t,r,n){e=e.getPath(t,r,n,i,this),o.push(e)})),o},xr.prototype.getAdvanceWidth=function(e,t,r){return this.forEachGlyph(e,0,0,t,r,(function(){}))},xr.prototype.draw=function(e,t,r,n,i,o){this.getPath(t,r,n,i,o).draw(e)},xr.prototype.drawPoints=function(e,t,r,n,i,o){this.forEachGlyph(t,r,n,i,o,(function(t,r,n,i){t.drawPoints(e,r,n,i)}))},xr.prototype.drawMetrics=function(e,t,r,n,i,o){this.forEachGlyph(t,r,n,i,o,(function(t,r,n,i){t.drawMetrics(e,r,n,i)}))},xr.prototype.getEnglishName=function(e){if(e=this.names[e])return e.en},xr.prototype.validate=function(){var e=this;function t(t){(t=e.getEnglishName(t))&&t.trim().length}t("fontFamily"),t("weightName"),t("manufacturer"),t("copyright"),t("version"),this.unitsPerEm},xr.prototype.toTables=function(){return ft.fontToTable(this)},xr.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},xr.prototype.toArrayBuffer=function(){for(var e=this.toTables().encode(),t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n<e.length;n++)r[n]=e[n];return t},xr.prototype.download=function(e){var r=this.getEnglishName("fontFamily"),n=this.getEnglishName("fontSubfamily"),o=(e=e||r.replace(/\s/g,"")+"-"+n+".otf",this.toArrayBuffer());"undefined"!=typeof window?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,o.byteLength,(function(t){t.root.getFile(e,{create:!0},(function(e){e.createWriter((function(t){var r=new DataView(o);r=new Blob([r],{type:"font/opentype"}),t.write(r),t.addEventListener("writeend",(function(){location.href=e.toURL()}),!1)}))}))}),(function(e){throw new Error(e.name+": "+e.message)}))):(r=t("fs"),n=function(e){for(var t=new i(e.byteLength),r=new Uint8Array(e),n=0;n<t.length;++n)t[n]=r[n];return t}(o),r.writeFileSync(e,n))},xr.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},xr.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},xr.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Sr={make:function(e,t){var r=new $.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:e.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:e.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*e.axes.length}]);r.offsetToData=r.sizeOf();for(var n,i,o,a=0;a<e.axes.length;a++)r.fields=r.fields.concat((n=a,o=t,o=wr((i=e.axes[a]).name,t),[{name:"tag_"+n,type:"TAG",value:i.tag},{name:"minValue_"+n,type:"FIXED",value:i.minValue<<16},{name:"defaultValue_"+n,type:"FIXED",value:i.defaultValue<<16},{name:"maxValue_"+n,type:"FIXED",value:i.maxValue<<16},{name:"flags_"+n,type:"USHORT",value:0},{name:"nameID_"+n,type:"USHORT",value:o}]));for(var s=0;s<e.instances.length;s++)r.fields=r.fields.concat(function(e,t,r,n){for(var i=[{name:"nameID_"+e,type:"USHORT",value:wr(t.name,n)},{name:"flags_"+e,type:"USHORT",value:0}],o=0;o<r.length;++o){var a=r[o].tag;i.push({name:"axis_"+e+" "+a,type:"FIXED",value:t.coordinates[a]<<16})}return i}(s,e.instances[s],e.axes,t));return r},parse:function(e,t,r){for(var n,i,o,a,s=new oe.Parser(e,t),l=s.parseULong(),u=(L.argument(65536===l,"Unsupported fvar table version."),s.parseOffset16()),c=(s.skip("uShort",1),s.parseUShort()),h=s.parseUShort(),d=s.parseUShort(),f=s.parseUShort(),p=[],m=0;m<c;m++)p.push((n=e,i=t+u+m*h,o=r,a={},n=new oe.Parser(n,i),a.tag=n.parseTag(),a.minValue=n.parseFixed(),a.defaultValue=n.parseFixed(),a.maxValue=n.parseFixed(),n.skip("uShort",1),a.name=o[n.parseUShort()]||{},a));for(var y=[],g=t+u+c*h,v=0;v<d;v++)y.push(function(e,t,r,n){var i={},o=new oe.Parser(e,t);i.name=n[o.parseUShort()]||{},o.skip("uShort",1),i.coordinates={};for(var a=0;a<r.length;++a)i.coordinates[r[a].tag]=o.parseFixed();return i}(e,g+v*f,p,r));return{axes:p,instances:y}}},kr=new Array(10);kr[1]=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();return 1===t?{posFormat:1,coverage:this.parsePointer(ne.coverage),value:this.parseValueRecord()}:2===t?{posFormat:2,coverage:this.parsePointer(ne.coverage),values:this.parseValueRecordList()}:void L.assert(!1,"0x"+e.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},kr[2]=function(){var e,t,r,n,i=this.offset+this.relativeOffset,o=this.parseUShort(),a=(L.assert(1===o||2===o,"0x"+i.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),i=this.parsePointer(ne.coverage),this.parseUShort()),s=this.parseUShort();return 1===o?{posFormat:o,coverage:i,valueFormat1:a,valueFormat2:s,pairSets:this.parseList(ne.pointer(ne.list((function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(a),value2:this.parseValueRecord(s)}}))))}:2===o?(e=this.parsePointer(ne.classDef),t=this.parsePointer(ne.classDef),r=this.parseUShort(),n=this.parseUShort(),{posFormat:o,coverage:i,valueFormat1:a,valueFormat2:s,classDef1:e,classDef2:t,class1Count:r,class2Count:n,classRecords:this.parseList(r,ne.list(n,(function(){return{value1:this.parseValueRecord(a),value2:this.parseValueRecord(s)}})))}):void 0},kr[3]=function(){return{error:"GPOS Lookup 3 not supported"}},kr[4]=function(){return{error:"GPOS Lookup 4 not supported"}},kr[5]=function(){return{error:"GPOS Lookup 5 not supported"}},kr[6]=function(){return{error:"GPOS Lookup 6 not supported"}},kr[7]=function(){return{error:"GPOS Lookup 7 not supported"}},kr[8]=function(){return{error:"GPOS Lookup 8 not supported"}},kr[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var _r=new Array(10),jr={parse:function(e,t){return t=(e=new ne(e,t=t||0)).parseVersion(1),L.argument(1===t||1.1===t,"Unsupported GPOS table version "+t),1===t?{version:t,scripts:e.parseScriptList(),features:e.parseFeatureList(),lookups:e.parseLookupList(kr)}:{version:t,scripts:e.parseScriptList(),features:e.parseFeatureList(),lookups:e.parseLookupList(kr),variations:e.parseFeatureVariationsList()}},make:function(e){return new $.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new $.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new $.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new $.LookupList(e.lookups,_r)}])}},Mr={parse:function(e,t){if(0===(t=(e=new oe.Parser(e,t)).parseUShort())){var r=e,n={},i=(r.skip("uShort"),r.parseUShort()),o=(L.argument(0===i,"Unsupported kern sub-table version."),r.skip("uShort",2),r.parseUShort());r.skip("uShort",3);for(var a=0;a<o;a+=1){var s=r.parseUShort(),l=r.parseUShort(),u=r.parseShort();n[s+","+l]=u}return n}if(1!==t)throw new Error("Unsupported kern table version ("+t+").");var c=e,h={};if(c.skip("uShort"),1<c.parseULong()&&console.warn("Only the first kern subtable is supported."),c.skip("uLong"),i=255&c.parseUShort(),c.skip("uShort"),0==i){var d=c.parseUShort();c.skip("uShort",3);for(var f=0;f<d;f+=1){var p=c.parseUShort(),m=c.parseUShort(),y=c.parseShort();h[p+","+m]=y}}return h}},Cr={parse:function(e,t,r,n){for(var i=new oe.Parser(e,t),o=n?i.parseUShort:i.parseULong,a=[],s=0;s<r+1;s+=1){var l=o.call(i);n&&(l*=2),a.push(l)}return a}};function Pr(e,r){t("fs").readFile(e,(function(e,t){if(e)return r(e.message);r(null,wt(t))}))}function Tr(e,t){var r=new XMLHttpRequest;r.open("get",e,!0),r.responseType="arraybuffer",r.onload=function(){return r.response?t(null,r.response):t("Font could not be loaded: "+r.statusText)},r.onerror=function(){t("Font could not be loaded")},r.send()}function Er(e,t){for(var r=[],n=12,i=0;i<t;i+=1){var o=oe.getTag(e,n),a=oe.getULong(e,n+4),s=oe.getULong(e,n+8),l=oe.getULong(e,n+12);r.push({tag:o,checksum:a,offset:s,length:l,compression:!1}),n+=16}return r}function Or(e,t){if("WOFF"!==t.compression)return{data:e,offset:t.offset};e=new Uint8Array(e.buffer,t.offset+2,t.compressedLength-2);var r=new Uint8Array(t.length);if(C(e,r),r.byteLength!==t.length)throw new Error("Decompression error: "+t.tag+" decompressed length doesn't match recorded length");return{data:new DataView(r.buffer,0),offset:0}}function Ar(e){var t,r,n,i,o,a,s,l,u,c,h,d,f,p,m=new xr({empty:!0}),y=new DataView(e,0),g=[];if((e=oe.getTag(y,0))===String.fromCharCode(0,1,0,0)||"true"===e||"typ1"===e)m.outlinesFormat="truetype",g=Er(y,n=oe.getUShort(y,4));else if("OTTO"===e)m.outlinesFormat="cff",g=Er(y,n=oe.getUShort(y,4));else{if("wOFF"!==e)throw new Error("Unsupported OpenType signature "+e);if((w=oe.getTag(y,4))===String.fromCharCode(0,1,0,0))m.outlinesFormat="truetype";else{if("OTTO"!==w)throw new Error("Unsupported OpenType flavor "+e);m.outlinesFormat="cff"}g=function(e,t){for(var r=[],n=44,i=0;i<t;i+=1){var o=oe.getTag(e,n),a=oe.getULong(e,n+4),s=oe.getULong(e,n+8),l=oe.getULong(e,n+12),u=void 0;u=s<l&&"WOFF",r.push({tag:o,offset:a,compression:u,compressedLength:s,length:l}),n+=20}return r}(y,n=oe.getUShort(y,12))}for(var v=0;v<n;v+=1){var b=g[v],x=void 0;switch(b.tag){case"cmap":x=Or(y,b),m.tables.cmap=ae.parse(x.data,x.offset),m.encoding=new de(m.tables.cmap);break;case"cvt ":x=Or(y,b),p=new oe.Parser(x.data,x.offset),m.tables.cvt=p.parseShortList(b.length/2);break;case"fvar":o=b;break;case"fpgm":x=Or(y,b),p=new oe.Parser(x.data,x.offset),m.tables.fpgm=p.parseByteList(b.length);break;case"head":x=Or(y,b),m.tables.head=Ie.parse(x.data,x.offset),m.unitsPerEm=m.tables.head.unitsPerEm,t=m.tables.head.indexToLocFormat;break;case"hhea":x=Or(y,b),m.tables.hhea=Fe.parse(x.data,x.offset),m.ascender=m.tables.hhea.ascender,m.descender=m.tables.hhea.descender,m.numberOfHMetrics=m.tables.hhea.numberOfHMetrics;break;case"hmtx":u=b;break;case"ltag":x=Or(y,b),r=Ue.parse(x.data,x.offset);break;case"maxp":x=Or(y,b),m.tables.maxp=ze.parse(x.data,x.offset),m.numGlyphs=m.tables.maxp.numGlyphs;break;case"name":d=b;break;case"OS/2":x=Or(y,b),m.tables.os2=tt.parse(x.data,x.offset);break;case"post":x=Or(y,b),m.tables.post=rt.parse(x.data,x.offset),m.glyphNames=new pe(m.tables.post);break;case"prep":x=Or(y,b),p=new oe.Parser(x.data,x.offset),m.tables.prep=p.parseByteList(b.length);break;case"glyf":a=b;break;case"loca":h=b;break;case"CFF ":i=b;break;case"kern":c=b;break;case"GPOS":s=b;break;case"GSUB":l=b;break;case"meta":f=b}}if(w=Or(y,d),m.tables.name=Qe.parse(w.data,w.offset,r),m.names=m.tables.name,a&&h)e=0===t,w=Or(y,h),w=Cr.parse(w.data,w.offset,m.numGlyphs,e),e=Or(y,a),m.glyphs=Pt.parse(e.data,e.offset,w,m);else{if(!i)throw new Error("Font doesn't contain TrueType or CFF outlines.");e=Or(y,i),De.parse(e.data,e.offset,m)}for(var w=Or(y,u),S=(Be.parse(w.data,w.offset,m.numberOfHMetrics,m.numGlyphs,m.glyphs),m),k=S.tables.cmap.glyphIndexMap,_=Object.keys(k),j=0;j<_.length;j+=1){var M,C=_[j],P=k[C];(M=S.glyphs.get(P)).addUnicode(parseInt(C))}for(var T=0;T<S.glyphs.length;T+=1)M=S.glyphs.get(T),S.cffEncoding?S.isCIDFont?M.name="gid"+T:M.name=S.cffEncoding.charset[T]:S.glyphNames.names&&(M.name=S.glyphNames.glyphIndexToName(T));return c?(e=Or(y,c),m.kerningPairs=Mr.parse(e.data,e.offset)):m.kerningPairs={},s&&(w=Or(y,s),m.tables.gpos=jr.parse(w.data,w.offset),m.position.init()),l&&(e=Or(y,l),m.tables.gsub=at.parse(e.data,e.offset)),o&&(w=Or(y,o),m.tables.fvar=Sr.parse(w.data,w.offset,m.names)),f&&(e=Or(y,f),m.tables.meta=st.parse(e.data,e.offset),m.metas=m.tables.meta),m}e.Font=xr,e.Glyph=ye,e.Path=E,e.BoundingBox=T,e._parse=oe,e.parse=Ar,e.load=function(e,t){("undefined"==typeof window?Pr:Tr)(e,(function(e,r){if(e)return t(e);var n;try{n=Ar(r)}catch(e){return t(e,null)}return t(null,n)}))},e.loadSync=function(e){return Ar(wt(t("fs").readFileSync(e)))},Object.defineProperty(e,"__esModule",{value:!0})},"object"==typeof n&&void 0!==r?a(n):"function"==typeof e&&e.amd?e(["exports"],a):a(o.opentype={})}).call(this,t("buffer").Buffer)},{buffer:4,fs:2}],242:[function(e,t,r){(function(e){function t(e,t){for(var r=0,n=e.length-1;0<=n;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;)e.unshift("..");return e}function n(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}r.resolve=function(){for(var r="",i=!1,o=arguments.length-1;-1<=o&&!i;o--){var a=0<=o?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(r=a+"/"+r,i="/"===a.charAt(0))}return(i?"/":"")+(r=t(n(r.split("/"),(function(e){return!!e})),!i).join("/"))||"."},r.normalize=function(e){var o=r.isAbsolute(e),a="/"===i(e,-1);return(e=(e=t(n(e.split("/"),(function(e){return!!e})),!o).join("/"))||o?e:".")&&a&&(e+="/"),(o?"/":"")+e},r.isAbsolute=function(e){return"/"===e.charAt(0)},r.join=function(){var e=Array.prototype.slice.call(arguments,0);return r.normalize(n(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},r.relative=function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;0<=r&&""===e[r];r--);return r<t?[]:e.slice(t,r-t+1)}e=r.resolve(e).substr(1),t=r.resolve(t).substr(1);for(var i=n(e.split("/")),o=n(t.split("/")),a=Math.min(i.length,o.length),s=a,l=0;l<a;l++)if(i[l]!==o[l]){s=l;break}var u=[];for(l=s;l<i.length;l++)u.push("..");return(u=u.concat(o.slice(s))).join("/")},r.sep="/",r.delimiter=":",r.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=47===e.charCodeAt(0),r=-1,n=!0,i=e.length-1;1<=i;--i)if(47===e.charCodeAt(i)){if(!n){r=i;break}}else n=!1;return-1===r?t?"/":".":t&&1===r?"/":e.slice(0,r)},r.basename=function(e,t){return e=function(e){"string"!=typeof e&&(e+="");for(var t=0,r=-1,n=!0,i=e.length-1;0<=i;--i)if(47===e.charCodeAt(i)){if(!n){t=i+1;break}}else-1===r&&(n=!1,r=i+1);return-1===r?"":e.slice(t,r)}(e),t&&e.substr(-1*t.length)===t?e.substr(0,e.length-t.length):e},r.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,r=0,n=-1,i=!0,o=0,a=e.length-1;0<=a;--a){var s=e.charCodeAt(a);if(47===s){if(i)continue;r=a+1;break}-1===n&&(i=!1,n=a+1),46===s?-1===t?t=a:1!==o&&(o=1):-1!==t&&(o=-1)}return-1===t||-1===n||0===o||1===o&&t===n-1&&t===r+1?"":e.slice(t,n)};var i=function(e,t,r){return e.substr(t,r)}}).call(this,e("_process"))},{_process:243}],243:[function(e,t,r){var n,i;function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}t=t.exports={};try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return(n=setTimeout)(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}var l,u=[],c=!1,h=-1;function d(){c&&l&&(c=!1,l.length?u=l.concat(u):h=-1,u.length&&f())}function f(){if(!c){for(var e=s(d),t=(c=!0,u.length);t;){for(l=u,u=[];++h<t;)l&&l[h].run();h=-1,t=u.length}l=null,c=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===a||!i)&&clearTimeout)return(i=clearTimeout)(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new p(e,t)),1!==u.length||c||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=m,t.addListener=m,t.once=m,t.off=m,t.removeListener=m,t.removeAllListeners=m,t.emit=m,t.prependListener=m,t.prependOnceListener=m,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],244:[function(e,t,r){t=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,i=(g="function"==typeof Symbol?Symbol:{}).iterator||"@@iterator",o=g.asyncIterator||"@@asyncIterator",a=g.toStringTag||"@@toStringTag";function s(e,r,n,i){var o,a,s,m;return r=r&&r.prototype instanceof p?r:p,r=Object.create(r.prototype),i=new _(i||[]),r._invoke=(o=e,a=n,s=i,m=u,function(e,r){if(m===h)throw new Error("Generator is already running");if(m===d){if("throw"===e)throw r;return M()}for(s.method=e,s.arg=r;;){var n=s.delegate;if(n&&(n=function e(r,n){var i=r.iterator[n.method];if(i===t){if(n.delegate=null,"throw"===n.method){if(r.iterator.return&&(n.method="return",n.arg=t,e(r,n),"throw"===n.method))return f;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}return"throw"===(i=l(i,r.iterator,n.arg)).type?(n.method="throw",n.arg=i.arg,n.delegate=null,f):(i=i.arg)?i.done?(n[r.resultName]=i.value,n.next=r.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,f):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}(n,s),n)){if(n===f)continue;return n}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(m===u)throw m=d,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);if(m=h,"normal"===(n=l(o,a,s)).type){if(m=s.done?d:c,n.arg!==f)return{value:n.arg,done:s.done}}else"throw"===n.type&&(m=d,s.method="throw",s.arg=n.arg)}}),r}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var u="suspendedStart",c="suspendedYield",h="executing",d="completed",f={};function p(){}function m(){}function y(){}var g,v,b=((g={})[i]=function(){return this},(v=(v=Object.getPrototypeOf)&&v(v(j([]))))&&v!==r&&n.call(v,i)&&(g=v),y.prototype=p.prototype=Object.create(g));function x(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function w(e){var t;this._invoke=function(r,i){function o(){return new Promise((function(t,o){!function t(r,i,o,a){var s;if("throw"!==(r=l(e[r],e,i)).type)return(i=(s=r.arg).value)&&"object"==typeof i&&n.call(i,"__await")?Promise.resolve(i.__await).then((function(e){t("next",e,o,a)}),(function(e){t("throw",e,o,a)})):Promise.resolve(i).then((function(e){s.value=e,o(s)}),(function(e){return t("throw",e,o,a)}));a(r.arg)}(r,i,t,o)}))}return t=t?t.then(o,o):o()}}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function j(e){if(e){var r,o=e[i];if(o)return o.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return r=-1,(o=function i(){for(;++r<e.length;)if(n.call(e,r))return i.value=e[r],i.done=!1,i;return i.value=t,i.done=!0,i}).next=o}return{next:M}}function M(){return{value:t,done:!0}}return(m.prototype=b.constructor=y).constructor=m,y[a]=m.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){return!!(e="function"==typeof e&&e.constructor)&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},x(w.prototype),w.prototype[o]=function(){return this},e.AsyncIterator=w,e.async=function(t,r,n,i){var o=new w(s(t,r,n,i));return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(b),b[a]="Generator",b[i]=function(){return this},b.toString=function(){return"[object Generator]"},e.keys=function(e){var t,r=[];for(t in e)r.push(t);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=j,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;0<=o;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;0<=r;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}var a=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r,n,i=this.tryEntries[t];if(i.tryLoc===e)return"throw"===(r=i.completion).type&&(n=r.arg,k(i)),n}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:j(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),f}},e}("object"==typeof t?t.exports:{});try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},{}],245:[function(e,t,r){!function(e){"use strict";var t,r,n,i,o,a,s,l,u,c;function h(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function d(e){return"string"!=typeof e?String(e):e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function m(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function y(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function g(e){var t=new FileReader,r=y(t);return t.readAsArrayBuffer(e),r}function v(e){var t;return e.slice?e.slice(0):((t=new Uint8Array(e.byteLength)).set(new Uint8Array(e)),t.buffer)}function b(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e)if("string"==typeof e)this._bodyText=e;else if(n&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(i&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(o&&n&&s(e))this._bodyArrayBuffer=v(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!o||!ArrayBuffer.prototype.isPrototypeOf(e)&&!l(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=v(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n&&(this.blob=function(){var e=m(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?m(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var e,t,r=m(this);if(r)return r;if(this._bodyBlob)return r=this._bodyBlob,t=y(e=new FileReader),e.readAsText(r),t;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}function x(e,t){var r,n=(t=t||{}).body;if(e instanceof x){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(r=(e=t.method||this.method||"GET").toUpperCase(),-1<u.indexOf(r)?r:e),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){var r;e&&(r=(e=e.split("=")).shift().replace(/\+/g," "),e=e.join("=").replace(/\+/g," "),t.append(decodeURIComponent(r),decodeURIComponent(e)))})),t}function S(e,t){t=t||{},this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}e.fetch||(t="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,n="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),i="FormData"in e,(o="ArrayBuffer"in e)&&(a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=function(e){return e&&DataView.prototype.isPrototypeOf(e)},l=ArrayBuffer.isView||function(e){return e&&-1<a.indexOf(Object.prototype.toString.call(e))}),p.prototype.append=function(e,t){e=h(e),t=d(t);var r=this.map[e];this.map[e]=r?r+","+t:t},p.prototype.delete=function(e){delete this.map[h(e)]},p.prototype.get=function(e){return e=h(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(h(e))},p.prototype.set=function(e,t){this.map[h(e)]=d(t)},p.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),f(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),f(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),f(e)},r&&(p.prototype[Symbol.iterator]=p.prototype.entries),u=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],x.prototype.clone=function(){return new x(this,{body:this._bodyInit})},b.call(x.prototype),b.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},S.error=function(){var e=new S(null,{status:0,statusText:""});return e.type="error",e},c=[301,302,303,307,308],S.redirect=function(e,t){if(-1===c.indexOf(t))throw new RangeError("Invalid status code");return new S(null,{status:t,headers:{location:e}})},e.Headers=p,e.Request=x,e.Response=S,e.fetch=function(e,t){return new Promise((function(r,i){var o=new x(e,t),a=new XMLHttpRequest;a.onload=function(){var e,t={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new p,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var r=(t=t.split(":")).shift().trim();r&&(t=t.join(":").trim(),e.append(r,t))})),e)},n=(t.url="responseURL"in a?a.responseURL:t.headers.get("X-Request-URL"),"response"in a?a.response:a.responseText);r(new S(n,t))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&n&&(a.responseType="blob"),o.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),a.send(void 0===o._bodyInit?null:o._bodyInit)}))},e.fetch.polyfill=!0)}("undefined"!=typeof self?self:this)},{}],246:[function(e,t,r){"use strict";e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.split"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.split"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i=a(e("../core/main")),o=a(e("../color/color_conversion"));function a(e){return e&&e.__esModule?e:{default:e}}var s=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],l=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];i.default.prototype._rgbColorName=function(e){e=o.default._rgbaToHSBA(e);var t,r,i=[(n=e)[0],e[1],e[2]];0!==i[0]&&(i[0]=Math.round(100*i[0]),(e=i[0].toString().split(""))[r=e.length-1]=parseInt(e[r]),e[r]<2.5?e[r]=0:2.5<=e[r]&&e[r]<7.5&&(e[r]=5),2===e.length?(e[0]=parseInt(e[0]),7.5<=e[r]&&(e[r]=0,e[0]=e[0]+1),i[0]=10*e[0]+e[1]):7.5<=e[r]?i[0]=10:i[0]=e[r]),i[2]=i[2]/255;for(var a=i.length-1;1<=a;a--)i[a]<=.25?i[a]=0:.25<i[a]&&i[a]<.75?i[a]=.5:i[a]=1;if(0===i[0]&&0===i[1]&&1===i[2]){for(var u=2;0<=u;u--)n[u]=Math.round(1e4*n[u])/1e4;for(var c=0;c<s.length;c++){if(s[c].h===n[0]&&s[c].s===n[1]&&s[c].b===n[2]){t=s[c].name;break}t="white"}}else for(var h=0;h<l.length;h++)if(l[h].h===i[0]&&l[h].s===i[1]&&l[h].b===i[2]){t=l[h].name;break}return t},e=i.default,r.default=e},{"../color/color_conversion":252,"../core/main":267,"core-js/modules/es.function.name":165,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.split":191}],247:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.ends-with"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.ends-with"),e("core-js/modules/es.string.replace"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(e=e("../core/main"))&&e.__esModule?e:{default:e},i="_Description",o="_fallbackDesc",a="_fallbackTable",s="_Label",l="_labelDesc",u="_labelTable";function c(e){if("label"===e||"fallback"===e)throw new Error("description should not be LABEL or FALLBACK");return e.endsWith(".")||e.endsWith(";")||e.endsWith(",")||e.endsWith("?")||e.endsWith("!")||(e+="."),e}n.default.prototype.describe=function(e,t){var r;n.default._validateParameters("describe",arguments),"string"==typeof e&&(r=this.canvas.id,e=c(e),this.dummyDOM||(this.dummyDOM=document.getElementById(r).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==e&&(this.descriptions.fallback.innerHTML=e):this._describeHTML("fallback",e),t===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==e&&(this.descriptions.label.innerHTML=e):this._describeHTML("label",e)))},n.default.prototype.describeElement=function(e,t,r){var i,o;n.default._validateParameters("describeElement",arguments),"string"==typeof t&&"string"==typeof e&&(i=this.canvas.id,t=c(t),o=function(e){if("label"===e||"fallback"===e)throw new Error("element name should not be LABEL or FALLBACK");return e.endsWith(".")||e.endsWith(";")||e.endsWith(",")?e=e.replace(/.$/,":"):e.endsWith(":")||(e+=":"),e}(e),e=e.replace(/[^a-zA-Z0-9]/g,""),o='<th scope="row">'.concat(o,"</th><td>").concat(t,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(i).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[e]?this.descriptions.fallbackElements[e].innerHTML!==o&&(this.descriptions.fallbackElements[e].innerHTML=o):this._describeElementHTML("fallback",e,o),r===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[e]?this.descriptions.labelElements[e].innerHTML!==o&&(this.descriptions.labelElements[e].innerHTML=o):this._describeElementHTML("label",e,o)))},n.default.prototype._describeHTML=function(e,t){var r,n=this.canvas.id;"fallback"===e?(this.dummyDOM.querySelector("#".concat(n+i))?this.dummyDOM.querySelector("#"+n+a).insertAdjacentHTML("beforebegin",'<p id="'.concat(n+o,'"></p>')):(r='<div id="'.concat(n).concat(i,'" role="region" aria-label="Canvas Description"><p id="').concat(n).concat(o,'"></p></div>'),this.dummyDOM.querySelector("#".concat(n,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(n,"accessibleOutput")).insertAdjacentHTML("beforebegin",r):this.dummyDOM.querySelector("#".concat(n)).innerHTML=r),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(n).concat(o)),this.descriptions.fallback.innerHTML=t):"label"===e&&(this.dummyDOM.querySelector("#".concat(n+s))?this.dummyDOM.querySelector("#".concat(n+u))&&this.dummyDOM.querySelector("#".concat(n+u)).insertAdjacentHTML("beforebegin",'<p id="'.concat(n).concat(l,'"></p>')):(r='<div id="'.concat(n).concat(s,'" class="p5Label"><p id="').concat(n).concat(l,'"></p></div>'),this.dummyDOM.querySelector("#".concat(n,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(n,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",r):this.dummyDOM.querySelector("#"+n).insertAdjacentHTML("afterend",r)),this.descriptions.label=this.dummyDOM.querySelector("#"+n+l),this.descriptions.label.innerHTML=t)},n.default.prototype._describeElementHTML=function(e,t,r){var n,c=this.canvas.id;"fallback"===e?(this.dummyDOM.querySelector("#".concat(c+i))?this.dummyDOM.querySelector("#"+c+a)||this.dummyDOM.querySelector("#"+c+o).insertAdjacentHTML("afterend",'<table id="'.concat(c).concat(a,'"><caption>Canvas elements and their descriptions</caption></table>')):(n='<div id="'.concat(c).concat(i,'" role="region" aria-label="Canvas Description"><table id="').concat(c).concat(a,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(c,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(c,"accessibleOutput")).insertAdjacentHTML("beforebegin",n):this.dummyDOM.querySelector("#"+c).innerHTML=n),(n=document.createElement("tr")).id=c+"_fte_"+t,this.dummyDOM.querySelector("#"+c+a).appendChild(n),this.descriptions.fallbackElements[t]=this.dummyDOM.querySelector("#".concat(c).concat("_fte_").concat(t)),this.descriptions.fallbackElements[t].innerHTML=r):"label"===e&&(this.dummyDOM.querySelector("#".concat(c+s))?this.dummyDOM.querySelector("#".concat(c+u))||this.dummyDOM.querySelector("#"+c+l).insertAdjacentHTML("afterend",'<table id="'.concat(c+u,'"></table>')):(n='<div id="'.concat(c).concat(s,'" class="p5Label"><table id="').concat(c).concat(u,'"></table></div>'),this.dummyDOM.querySelector("#".concat(c,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(c,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",n):this.dummyDOM.querySelector("#"+c).insertAdjacentHTML("afterend",n)),(e=document.createElement("tr")).id=c+"_lte_"+t,this.dummyDOM.querySelector("#"+c+u).appendChild(e),this.descriptions.labelElements[t]=this.dummyDOM.querySelector("#".concat(c).concat("_lte_").concat(t)),this.descriptions.labelElements[t].innerHTML=r)},e=n.default,r.default=e},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.ends-with":184,"core-js/modules/es.string.replace":189}],248:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.map"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,(e=(e=e("../core/main"))&&e.__esModule?e:{default:e}).default.prototype._updateGridOutput=function(e){var t,r,n,i;this.dummyDOM.querySelector("#".concat(e,"_summary"))&&(t=this._accessibleOutputs[e],n=function(e,t,r,n){return t="".concat(t," canvas, ").concat(r," by ").concat(n," pixels, contains ").concat(e[0]),t=(1===e[0]?"".concat(t," shape: "):"".concat(t," shapes: ")).concat(e[1])}((r=function(e,t){var r,n="",i="",o=0;for(r in t){var a,s=0;for(a in t[r]){var l='<li id="'.concat(e,"shape").concat(o,'">').concat(t[r][a].color," ").concat(r,",");"line"===r?l+=" location = ".concat(t[r][a].pos,", length = ").concat(t[r][a].length," pixels"):(l+=" location = ".concat(t[r][a].pos),"point"!==r&&(l+=", area = ".concat(t[r][a].area," %")),l+="</li>"),n+=l,s++,o++}i=1<s?"".concat(i," ").concat(s," ").concat(r,"s"):"".concat(i," ").concat(s," ").concat(r)}return{numShapes:[o,i],details:n}}(e,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),i=function(e,t){var r,n,i,o=0,a="",s=Array.apply(null,Array(10)).map((function(){}));for(r in s)s[r]=Array.apply(null,Array(10)).map((function(){}));for(n in t)for(var l in t[n]){var u=void 0;u="line"!==n?'<a href="#'.concat(e,"shape").concat(o,'">').concat(t[n][l].color," ").concat(n,"</a>"):'<a href="#'.concat(e,"shape").concat(o,'">').concat(t[n][l].color," ").concat(n," midpoint</a>"),s[t[n][l].loc.locY][t[n][l].loc.locX]?s[t[n][l].loc.locY][t[n][l].loc.locX]=s[t[n][l].loc.locY][t[n][l].loc.locX]+"  "+u:s[t[n][l].loc.locY][t[n][l].loc.locX]=u,o++}for(i in s){var c,h="<tr>";for(c in s[i])h+="<td>",void 0!==s[i][c]&&(h+=s[i][c]),h+="</td>";a=a+h+"</tr>"}return a}(e,this.ingredients.shapes),n!==t.summary.innerHTML&&(t.summary.innerHTML=n),i!==t.map.innerHTML&&(t.map.innerHTML=i),r.details!==t.shapeDetails.innerHTML&&(t.shapeDetails.innerHTML=r.details),this._accessibleOutputs[e]=t)},e=e.default,r.default=e},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.map":161}],249:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.map"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.map"),e("core-js/modules/es.number.to-fixed"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(e=e("../core/main"))&&e.__esModule?e:{default:e};function i(e,t,r){return e[0]<.4*t?e[1]<.4*r?"top left":e[1]>.6*r?"bottom left":"mid left":e[0]>.6*t?e[1]<.4*r?"top right":e[1]>.6*r?"bottom right":"mid right":e[1]<.4*r?"top middle":e[1]>.6*r?"bottom middle":"middle"}function o(e,t,r){return 10===(t=Math.floor(e[0]/t*10))&&(t-=1),10===(e=Math.floor(e[1]/r*10))&&(e-=1),{locX:t,locY:e}}n.default.prototype.textOutput=function(e){n.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),e===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},n.default.prototype.gridOutput=function(e){n.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),e===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},n.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},n.default.prototype._createOutput=function(e,t){var r,n,i,o=this.canvas.id,a=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(o).parentNode),"");"Fallback"===t?(r=o+e,this.dummyDOM.querySelector("#".concat(n=o+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(o,"_Description"))?this.dummyDOM.querySelector("#".concat(o,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(n,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(o)).innerHTML='<div id="'.concat(n,'" role="region" aria-label="Canvas Outputs"></div>'))):"Label"===t&&(r=o+e+(a=t),this.dummyDOM.querySelector("#".concat(n=o+"accessibleOutput"+t))||(this.dummyDOM.querySelector("#".concat(o,"_Label"))?this.dummyDOM.querySelector("#".concat(o,"_Label")):this.dummyDOM.querySelector("#".concat(o))).insertAdjacentHTML("afterend",'<div id="'.concat(n,'"></div>'))),this._accessibleOutputs[r]={},"textOutput"===e?(a="#".concat(o,"gridOutput").concat(a),i='<div id="'.concat(r,'">Text Output<div id="').concat(r,'Summary" aria-label="text output summary"><p id="').concat(r,'_summary"></p><ul id="').concat(r,'_list"></ul></div><table id="').concat(r,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(a)?this.dummyDOM.querySelector(a).insertAdjacentHTML("beforebegin",i):this.dummyDOM.querySelector("#".concat(n)).innerHTML=i,this._accessibleOutputs[r].list=this.dummyDOM.querySelector("#".concat(r,"_list"))):"gridOutput"===e&&(a="#".concat(o,"textOutput").concat(a),i='<div id="'.concat(r,'">Grid Output<p id="').concat(r,'_summary" aria-label="grid output summary"><table id="').concat(r,'_map" summary="grid output content"></table><ul id="').concat(r,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(a)?this.dummyDOM.querySelector(a).insertAdjacentHTML("afterend",i):this.dummyDOM.querySelector("#".concat(n)).innerHTML=i,this._accessibleOutputs[r].map=this.dummyDOM.querySelector("#".concat(r,"_map"))),this._accessibleOutputs[r].shapeDetails=this.dummyDOM.querySelector("#".concat(r,"_shapeDetails")),this._accessibleOutputs[r].summary=this.dummyDOM.querySelector("#".concat(r,"_summary"))},n.default.prototype._updateAccsOutput=function(){var e=this.canvas.id;JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes&&(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(e+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(e+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(e+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(e+"gridOutputLabel"))},n.default.prototype._accsBackground=function(e){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==e&&(this.ingredients.colors.backgroundRGBA=e,this.ingredients.colors.background=this._rgbColorName(e))},n.default.prototype._accsCanvasColors=function(e,t){"fill"===e?this.ingredients.colors.fillRGBA!==t&&(this.ingredients.colors.fillRGBA=t,this.ingredients.colors.fill=this._rgbColorName(t)):"stroke"===e&&this.ingredients.colors.strokeRGBA!==t&&(this.ingredients.colors.strokeRGBA=t,this.ingredients.colors.stroke=this._rgbColorName(t))},n.default.prototype._accsOutput=function(e,t){"ellipse"===e&&t[2]===t[3]?e="circle":"rectangle"===e&&t[2]===t[3]&&(e="square");var r,n,a={},s=!0,l=function(e,t){var r;return e="rectangle"===e||"ellipse"===e||"arc"===e||"circle"===e||"square"===e?(r=Math.round(t[0]+t[2]/2),Math.round(t[1]+t[3]/2)):"triangle"===e?(r=(t[0]+t[2]+t[4])/3,(t[1]+t[3]+t[5])/3):"quadrilateral"===e?(r=(t[0]+t[2]+t[4]+t[6])/4,(t[1]+t[3]+t[5]+t[7])/4):"line"===e?(r=(t[0]+t[2])/2,(t[1]+t[3])/2):(r=t[0],t[1]),[r,e]}(e,t);if("line"===e?(a.color=this.ingredients.colors.stroke,a.length=Math.round(this.dist(t[0],t[1],t[2],t[3])),r=i([t[0],[1]],this.width,this.height),n=i([t[2],[3]],this.width,this.height),a.loc=o(l,this.width,this.height),a.pos=r===n?"at ".concat(r):"from ".concat(r," to ").concat(n)):("point"===e?a.color=this.ingredients.colors.stroke:(a.color=this.ingredients.colors.fill,a.area=function(e,t,r,n){var i,o,a,s,l,u,c,h=0;return"arc"===e?(h=(i=((t[5]-t[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*t[2]*t[3]/8,"open"!==t[6]&&"chord"!==t[6]||(c=t[0],o=t[1],a=t[0]+t[2]/2*Math.cos(t[4]).toFixed(2),s=t[1]+t[3]/2*Math.sin(t[4]).toFixed(2),l=t[0]+t[2]/2*Math.cos(t[5]).toFixed(2),u=t[1]+t[3]/2*Math.sin(t[5]).toFixed(2),c=Math.abs(c*(s-u)+a*(u-o)+l*(o-s))/2,i>Math.PI?h+=c:h-=c)):"ellipse"===e||"circle"===e?h=3.14*t[2]/2*t[3]/2:"line"===e||"point"===e?h=0:"quadrilateral"===e?h=Math.abs((t[6]+t[0])*(t[7]-t[1])+(t[0]+t[2])*(t[1]-t[3])+(t[2]+t[4])*(t[3]-t[5])+(t[4]+t[6])*(t[5]-t[7]))/2:"rectangle"===e||"square"===e?h=t[2]*t[3]:"triangle"===e&&(h=Math.abs(t[0]*(t[3]-t[5])+t[2]*(t[5]-t[1])+t[4]*(t[1]-t[3]))/2),Math.round(100*h/(r*n))}(e,t,this.width,this.height)),a.pos=i(l,this.width,this.height),a.loc=o(l,this.width,this.height)),this.ingredients.shapes[e]){if(this.ingredients.shapes[e]!==[a]){for(var u in this.ingredients.shapes[e])JSON.stringify(this.ingredients.shapes[e][u])===JSON.stringify(a)&&(s=!1);!0===s&&this.ingredients.shapes[e].push(a)}}else this.ingredients.shapes[e]=[a]},e=n.default,r.default=e},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.map":161,"core-js/modules/es.number.to-fixed":171}],250:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.concat"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,(e=(e=e("../core/main"))&&e.__esModule?e:{default:e}).default.prototype._updateTextOutput=function(e){var t,r,n,i;this.dummyDOM.querySelector("#".concat(e,"_summary"))&&(t=this._accessibleOutputs[e],n=function(e,t,r,n){return r="Your output is a, ".concat(r," by ").concat(n," pixels, ").concat(t," canvas containing the following"),r=1===e?"".concat(r," shape:"):"".concat(r," ").concat(e," shapes:")}((r=function(e,t){var r,n="",i=0;for(r in t)for(var o in t[r]){var a='<li><a href="#'.concat(e,"shape").concat(i,'">').concat(t[r][o].color," ").concat(r,"</a>");"line"===r?a+=", ".concat(t[r][o].pos,", ").concat(t[r][o].length," pixels long.</li>"):(a+=", at ".concat(t[r][o].pos),"point"!==r&&(a+=", covering ".concat(t[r][o].area,"% of the canvas")),a+=".</li>"),n+=a,i++}return{numShapes:i,listShapes:n}}(e,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),i=function(e,t){var r,n="",i=0;for(r in t)for(var o in t[r]){var a='<tr id="'.concat(e,"shape").concat(i,'"><th>').concat(t[r][o].color," ").concat(r,"</th>");"line"===r?a+="<td>location = ".concat(t[r][o].pos,"</td><td>length = ").concat(t[r][o].length," pixels</td></tr>"):(a+="<td>location = ".concat(t[r][o].pos,"</td>"),"point"!==r&&(a+="<td> area = ".concat(t[r][o].area,"%</td>")),a+="</tr>"),n+=a,i++}return n}(e,this.ingredients.shapes),n!==t.summary.innerHTML&&(t.summary.innerHTML=n),r.listShapes!==t.list.innerHTML&&(t.list.innerHTML=r.listShapes),i!==t.shapeDetails.innerHTML&&(t.shapeDetails.innerHTML=i),this._accessibleOutputs[e]=t)},e=e.default,r.default=e},{"../core/main":267,"core-js/modules/es.array.concat":149}],251:[function(e,t,r){"use strict";var n=(n=e("./core/main"))&&n.__esModule?n:{default:n};e("./core/constants"),e("./core/environment"),e("./core/friendly_errors/stacktrace"),e("./core/friendly_errors/validate_params"),e("./core/friendly_errors/file_errors"),e("./core/friendly_errors/fes_core"),e("./core/friendly_errors/sketch_reader"),e("./core/helpers"),e("./core/legacy"),e("./core/preload"),e("./core/p5.Element"),e("./core/p5.Graphics"),e("./core/p5.Renderer"),e("./core/p5.Renderer2D"),e("./core/rendering"),e("./core/shim"),e("./core/structure"),e("./core/transform"),e("./core/shape/2d_primitives"),e("./core/shape/attributes"),e("./core/shape/curves"),e("./core/shape/vertex"),e("./accessibility/outputs"),e("./accessibility/textOutput"),e("./accessibility/gridOutput"),e("./accessibility/color_namer"),e("./color/color_conversion"),e("./color/creating_reading"),e("./color/p5.Color"),e("./color/setting"),e("./data/p5.TypedDict"),e("./data/local_storage.js"),e("./dom/dom"),e("./accessibility/describe"),e("./events/acceleration"),e("./events/keyboard"),e("./events/mouse"),e("./events/touch"),e("./image/filters"),e("./image/image"),e("./image/loading_displaying"),e("./image/p5.Image"),e("./image/pixels"),e("./io/files"),e("./io/p5.Table"),e("./io/p5.TableRow"),e("./io/p5.XML"),e("./math/calculation"),e("./math/math"),e("./math/noise"),e("./math/p5.Vector"),e("./math/random"),e("./math/trigonometry"),e("./typography/attributes"),e("./typography/loading_displaying"),e("./typography/p5.Font"),e("./utilities/array_functions"),e("./utilities/conversion"),e("./utilities/string_functions"),e("./utilities/time_date"),e("./webgl/3d_primitives"),e("./webgl/interaction"),e("./webgl/light"),e("./webgl/loading"),e("./webgl/material"),e("./webgl/p5.Camera"),e("./webgl/p5.Geometry"),e("./webgl/p5.Matrix"),e("./webgl/p5.RendererGL.Immediate"),e("./webgl/p5.RendererGL"),e("./webgl/p5.RendererGL.Retained"),e("./webgl/p5.Shader"),e("./webgl/p5.RenderBuffer"),e("./webgl/p5.Texture"),e("./webgl/text"),e("./core/init"),t.exports=n.default},{"./accessibility/color_namer":246,"./accessibility/describe":247,"./accessibility/gridOutput":248,"./accessibility/outputs":249,"./accessibility/textOutput":250,"./color/color_conversion":252,"./color/creating_reading":253,"./color/p5.Color":254,"./color/setting":255,"./core/constants":256,"./core/environment":257,"./core/friendly_errors/fes_core":258,"./core/friendly_errors/file_errors":259,"./core/friendly_errors/sketch_reader":260,"./core/friendly_errors/stacktrace":261,"./core/friendly_errors/validate_params":262,"./core/helpers":263,"./core/init":264,"./core/legacy":266,"./core/main":267,"./core/p5.Element":268,"./core/p5.Graphics":269,"./core/p5.Renderer":270,"./core/p5.Renderer2D":271,"./core/preload":272,"./core/rendering":273,"./core/shape/2d_primitives":274,"./core/shape/attributes":275,"./core/shape/curves":276,"./core/shape/vertex":277,"./core/shim":278,"./core/structure":279,"./core/transform":280,"./data/local_storage.js":281,"./data/p5.TypedDict":282,"./dom/dom":283,"./events/acceleration":284,"./events/keyboard":285,"./events/mouse":286,"./events/touch":287,"./image/filters":288,"./image/image":289,"./image/loading_displaying":290,"./image/p5.Image":291,"./image/pixels":292,"./io/files":293,"./io/p5.Table":294,"./io/p5.TableRow":295,"./io/p5.XML":296,"./math/calculation":297,"./math/math":298,"./math/noise":299,"./math/p5.Vector":300,"./math/random":301,"./math/trigonometry":302,"./typography/attributes":303,"./typography/loading_displaying":304,"./typography/p5.Font":305,"./utilities/array_functions":306,"./utilities/conversion":307,"./utilities/string_functions":308,"./utilities/time_date":309,"./webgl/3d_primitives":310,"./webgl/interaction":311,"./webgl/light":312,"./webgl/loading":313,"./webgl/material":314,"./webgl/p5.Camera":315,"./webgl/p5.Geometry":316,"./webgl/p5.Matrix":317,"./webgl/p5.RenderBuffer":318,"./webgl/p5.RendererGL":321,"./webgl/p5.RendererGL.Immediate":319,"./webgl/p5.RendererGL.Retained":320,"./webgl/p5.Shader":322,"./webgl/p5.Texture":323,"./webgl/text":324}],252:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,(e=(e=e("../core/main"))&&e.__esModule?e:{default:e}).default.ColorConversion={},e.default.ColorConversion._hsbaToHSLA=function(e){var t=e[0],r=e[1],n=e[2],i=(2-r)*n/2;return 0!=i&&(1==i?r=0:i<.5?r/=2-r:r=r*n/(2-2*i)),[t,r,i,e[3]]},e.default.ColorConversion._hsbaToRGBA=function(e){var t,r,n,i,o,a=6*e[0],s=e[1],l=e[2];return 0===s?[l,l,l,e[3]]:(r=l*(1-s),n=l*(1-s*(a-(t=Math.floor(a)))),s=l*(1-s*(1+t-a)),a=1===t?(i=n,o=l,r):2===t?(i=r,o=l,s):3===t?(i=r,o=n,l):4===t?(i=s,o=r,l):5===t?(i=l,o=r,n):(i=l,o=s,r),[i,o,a,e[3]])},e.default.ColorConversion._hslaToHSBA=function(e){var t=e[0],r=e[1],n=e[2],i=n<.5?(1+r)*n:n+r-n*r;return[t,r=2*(i-n)/i,i,e[3]]},e.default.ColorConversion._hslaToRGBA=function(e){var t,r=6*e[0],n=e[1],i=e[2];return 0===n?[i,i,i,e[3]]:[(t=function(e,t,r){return e<0?e+=6:6<=e&&(e-=6),e<1?t+(r-t)*e:e<3?r:e<4?t+(r-t)*(4-e):t})(2+r,n=2*i-(i=i<.5?(1+n)*i:i+n-i*n),i),t(r,n,i),t(r-2,n,i),e[3]]},e.default.ColorConversion._rgbaToHSBA=function(e){var t,r,n=e[0],i=e[1],o=e[2],a=Math.max(n,i,o),s=a-Math.min(n,i,o);return 0==s?r=t=0:(r=s/a,n===a?t=(i-o)/s:i===a?t=2+(o-n)/s:o===a&&(t=4+(n-i)/s),t<0?t+=6:6<=t&&(t-=6)),[t/6,r,a,e[3]]},e.default.ColorConversion._rgbaToHSLA=function(e){var t,r,n,i=e[0],o=e[1],a=e[2],s=Math.max(i,o,a),l=s+(n=Math.min(i,o,a));return 0==(n=s-n)?r=t=0:(r=l<1?n/l:n/(2-l),i===s?t=(o-a)/n:o===s?t=2+(a-i)/n:a===s&&(t=4+(i-o)/n),t<0?t+=6:6<=t&&(t-=6)),[t/6,r,l/2,e[3]]},e=e.default.ColorConversion,r.default=e},{"../core/main":267}],253:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.map"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=(l=e("../core/main"))&&l.__esModule?l:{default:l},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../core/constants"));function s(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,s=function(){return e},e)}e("./p5.Color"),e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),o.default.prototype.alpha=function(e){return o.default._validateParameters("alpha",arguments),this.color(e)._getAlpha()},o.default.prototype.blue=function(e){return o.default._validateParameters("blue",arguments),this.color(e)._getBlue()},o.default.prototype.brightness=function(e){return o.default._validateParameters("brightness",arguments),this.color(e)._getBrightness()},o.default.prototype.color=function(){var e;return o.default._validateParameters("color",arguments),arguments[0]instanceof o.default.Color?arguments[0]:(e=arguments[0]instanceof Array?arguments[0]:arguments,new o.default.Color(this,e))},o.default.prototype.green=function(e){return o.default._validateParameters("green",arguments),this.color(e)._getGreen()},o.default.prototype.hue=function(e){return o.default._validateParameters("hue",arguments),this.color(e)._getHue()},o.default.prototype.lerpColor=function(e,t,r){o.default._validateParameters("lerpColor",arguments);var n,i,s,l=this._colorMode,u=this._colorMaxes;if(l===a.RGB)i=e.levels.map((function(e){return e/255})),s=t.levels.map((function(e){return e/255}));else if(l===a.HSB)e._getBrightness(),t._getBrightness(),i=e.hsba,s=t.hsba;else{if(l!==a.HSL)throw new Error("".concat(l,"cannot be used for interpolation."));e._getLightness(),t._getLightness(),i=e.hsla,s=t.hsla}return r=Math.max(Math.min(r,1),0),void 0===this.lerp&&(this.lerp=function(e,t,r){return r*(t-e)+e}),e=this.lerp(i[0],s[0],r),t=this.lerp(i[1],s[1],r),n=this.lerp(i[2],s[2],r),i=this.lerp(i[3],s[3],r),e*=u[l][0],t*=u[l][1],n*=u[l][2],i*=u[l][3],this.color(e,t,n,i)},o.default.prototype.lightness=function(e){return o.default._validateParameters("lightness",arguments),this.color(e)._getLightness()},o.default.prototype.red=function(e){return o.default._validateParameters("red",arguments),this.color(e)._getRed()},o.default.prototype.saturation=function(e){return o.default._validateParameters("saturation",arguments),this.color(e)._getSaturation()};var l=o.default;r.default=l},{"../core/constants":256,"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/main":267,"./p5.Color":254,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],254:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.trim"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.trim"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=u(e("../core/main")),a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../core/constants")),s=u(e("./color_conversion"));function l(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,l=function(){return e},e)}function u(e){return e&&e.__esModule?e:{default:e}}o.default.Color=function(e,t){if(this._storeModeAndMaxes(e._colorMode,e._colorMaxes),this.mode!==a.RGB&&this.mode!==a.HSL&&this.mode!==a.HSB)throw new Error("".concat(this.mode," is an invalid colorMode."));return this._array=o.default.Color._parseInputs.apply(this,t),this._calculateLevels(),this},o.default.Color.prototype.toString=function(e){var t=this.levels,r=this._array,n=r[3];switch(e){case"#rrggbb":return"#".concat(t[0]<16?"0".concat(t[0].toString(16)):t[0].toString(16),t[1]<16?"0".concat(t[1].toString(16)):t[1].toString(16),t[2]<16?"0".concat(t[2].toString(16)):t[2].toString(16));case"#rrggbbaa":return"#".concat(t[0]<16?"0".concat(t[0].toString(16)):t[0].toString(16),t[1]<16?"0".concat(t[1].toString(16)):t[1].toString(16),t[2]<16?"0".concat(t[2].toString(16)):t[2].toString(16),t[3]<16?"0".concat(t[3].toString(16)):t[3].toString(16));case"#rgb":return"#".concat(Math.round(15*r[0]).toString(16),Math.round(15*r[1]).toString(16),Math.round(15*r[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*r[0]).toString(16),Math.round(15*r[1]).toString(16),Math.round(15*r[2]).toString(16),Math.round(15*r[3]).toString(16));case"rgb":return"rgb(".concat(t[0],", ",t[1],", ",t[2],")");case"rgb%":return"rgb(".concat((100*r[0]).toPrecision(3),"%, ",(100*r[1]).toPrecision(3),"%, ",(100*r[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*r[0]).toPrecision(3),"%, ",(100*r[1]).toPrecision(3),"%, ",(100*r[2]).toPrecision(3),"%, ",(100*r[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=s.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[a.HSB][0],", ",this.hsba[1]*this.maxes[a.HSB][1],", ",this.hsba[2]*this.maxes[a.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=s.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=s.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[a.HSB][0],", ",this.hsba[1]*this.maxes[a.HSB][1],", ",this.hsba[2]*this.maxes[a.HSB][2],", ",n,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=s.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*n).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=s.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[a.HSL][0],", ",this.hsla[1]*this.maxes[a.HSL][1],", ",this.hsla[2]*this.maxes[a.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=s.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=s.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[a.HSL][0],", ",this.hsla[1]*this.maxes[a.HSL][1],", ",this.hsla[2]*this.maxes[a.HSL][2],", ",n,")");case"hsla%":return this.hsla||(this.hsla=s.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*n).toPrecision(3),"%)");default:return"rgba(".concat(t[0],",",t[1],",",t[2],",",n,")")}},o.default.Color.prototype.setRed=function(e){this._array[0]=e/this.maxes[a.RGB][0],this._calculateLevels()},o.default.Color.prototype.setGreen=function(e){this._array[1]=e/this.maxes[a.RGB][1],this._calculateLevels()},o.default.Color.prototype.setBlue=function(e){this._array[2]=e/this.maxes[a.RGB][2],this._calculateLevels()},o.default.Color.prototype.setAlpha=function(e){this._array[3]=e/this.maxes[this.mode][3],this._calculateLevels()},o.default.Color.prototype._calculateLevels=function(){for(var e=this._array,t=this.levels=new Array(e.length),r=e.length-1;0<=r;--r)t[r]=Math.round(255*e[r]);this.hsla=null,this.hsba=null},o.default.Color.prototype._getAlpha=function(){return this._array[3]*this.maxes[this.mode][3]},o.default.Color.prototype._storeModeAndMaxes=function(e,t){this.mode=e,this.maxes=t},o.default.Color.prototype._getMode=function(){return this.mode},o.default.Color.prototype._getMaxes=function(){return this.maxes},o.default.Color.prototype._getBlue=function(){return this._array[2]*this.maxes[a.RGB][2]},o.default.Color.prototype._getBrightness=function(){return this.hsba||(this.hsba=s.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[a.HSB][2]},o.default.Color.prototype._getGreen=function(){return this._array[1]*this.maxes[a.RGB][1]},o.default.Color.prototype._getHue=function(){return this.mode===a.HSB?(this.hsba||(this.hsba=s.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[a.HSB][0]):(this.hsla||(this.hsla=s.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[a.HSL][0])},o.default.Color.prototype._getLightness=function(){return this.hsla||(this.hsla=s.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[a.HSL][2]},o.default.Color.prototype._getRed=function(){return this._array[0]*this.maxes[a.RGB][0]},o.default.Color.prototype._getSaturation=function(){return this.mode===a.HSB?(this.hsba||(this.hsba=s.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[a.HSB][1]):(this.hsla||(this.hsla=s.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[a.HSL][1])};var c={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},h=(e=/\s*/,/(\d{1,3})/),d=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,f=new RegExp("".concat(d.source,"%")),p={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",h.source,",",h.source,",",h.source,"\\)$"].join(e.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",f.source,",",f.source,",",f.source,"\\)$"].join(e.source),"i"),RGBA:new RegExp(["^rgba\\(",h.source,",",h.source,",",h.source,",",d.source,"\\)$"].join(e.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",f.source,",",f.source,",",f.source,",",d.source,"\\)$"].join(e.source),"i"),HSL:new RegExp(["^hsl\\(",h.source,",",f.source,",",f.source,"\\)$"].join(e.source),"i"),HSLA:new RegExp(["^hsla\\(",h.source,",",f.source,",",f.source,",",d.source,"\\)$"].join(e.source),"i"),HSB:new RegExp(["^hsb\\(",h.source,",",f.source,",",f.source,"\\)$"].join(e.source),"i"),HSBA:new RegExp(["^hsba\\(",h.source,",",f.source,",",f.source,",",d.source,"\\)$"].join(e.source),"i")};o.default.Color._parseInputs=function(e,t,r,n){var i,l=arguments.length,u=this.mode,h=this.maxes[u],d=[];if(3<=l){for(d[0]=e/h[0],d[1]=t/h[1],d[2]=r/h[2],d[3]="number"==typeof n?n/h[3]:1,i=d.length-1;0<=i;--i){var f=d[i];f<0?d[i]=0:1<f&&(d[i]=1)}return u===a.HSL?s.default._hslaToRGBA(d):u===a.HSB?s.default._hsbaToRGBA(d):d}if(1===l&&"string"==typeof e){if(r=e.trim().toLowerCase(),c[r])return o.default.Color._parseInputs.call(this,c[r]);if(p.HEX3.test(r))return(d=p.HEX3.exec(r).slice(1).map((function(e){return parseInt(e+e,16)/255})))[3]=1,d;if(p.HEX6.test(r))return(d=p.HEX6.exec(r).slice(1).map((function(e){return parseInt(e,16)/255})))[3]=1,d;if(p.HEX4.test(r))return p.HEX4.exec(r).slice(1).map((function(e){return parseInt(e+e,16)/255}));if(p.HEX8.test(r))return p.HEX8.exec(r).slice(1).map((function(e){return parseInt(e,16)/255}));if(p.RGB.test(r))return(d=p.RGB.exec(r).slice(1).map((function(e){return e/255})))[3]=1,d;if(p.RGB_PERCENT.test(r))return(d=p.RGB_PERCENT.exec(r).slice(1).map((function(e){return parseFloat(e)/100})))[3]=1,d;if(p.RGBA.test(r))return p.RGBA.exec(r).slice(1).map((function(e,t){return 3===t?parseFloat(e):e/255}));if(p.RGBA_PERCENT.test(r))return p.RGBA_PERCENT.exec(r).slice(1).map((function(e,t){return 3===t?parseFloat(e):parseFloat(e)/100}));if(p.HSL.test(r)?(d=p.HSL.exec(r).slice(1).map((function(e,t){return 0===t?parseInt(e,10)/360:parseInt(e,10)/100})))[3]=1:p.HSLA.test(r)&&(d=p.HSLA.exec(r).slice(1).map((function(e,t){return 0===t?parseInt(e,10)/360:3===t?parseFloat(e):parseInt(e,10)/100}))),(d=d.map((function(e){return Math.max(Math.min(e,1),0)}))).length)return s.default._hslaToRGBA(d);if(p.HSB.test(r)?(d=p.HSB.exec(r).slice(1).map((function(e,t){return 0===t?parseInt(e,10)/360:parseInt(e,10)/100})))[3]=1:p.HSBA.test(r)&&(d=p.HSBA.exec(r).slice(1).map((function(e,t){return 0===t?parseInt(e,10)/360:3===t?parseFloat(e):parseInt(e,10)/100}))),d.length){for(i=d.length-1;0<=i;--i)d[i]=Math.max(Math.min(d[i],1),0);return s.default._hsbaToRGBA(d)}d=[1,1,1,1]}else{if(1!==l&&2!==l||"number"!=typeof e)throw new Error("".concat(arguments,"is not a valid color representation."));d[0]=e/h[2],d[1]=e/h[2],d[2]=e/h[2],d[3]="number"==typeof t?t/h[3]:1,d=d.map((function(e){return Math.max(Math.min(e,1),0)}))}return d},h=o.default.Color,r.default=h},{"../core/constants":256,"../core/main":267,"./color_conversion":252,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],255:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.fill"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=(l=e("../core/main"))&&l.__esModule?l:{default:l},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../core/constants"));function s(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,s=function(){return e},e)}e("./p5.Color"),o.default.prototype.background=function(){var e;return(e=this._renderer).background.apply(e,arguments),this},o.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},o.default.prototype.colorMode=function(e,t,r,n,i){return o.default._validateParameters("colorMode",arguments),e!==a.RGB&&e!==a.HSB&&e!==a.HSL||(this._colorMode=e,e=this._colorMaxes[e],2===arguments.length?(e[0]=t,e[1]=t,e[2]=t,e[3]=t):4===arguments.length?(e[0]=t,e[1]=r,e[2]=n):5===arguments.length&&(e[0]=t,e[1]=r,e[2]=n,e[3]=i)),this},o.default.prototype.fill=function(){var e;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(e=this._renderer).fill.apply(e,arguments),this},o.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},o.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},o.default.prototype.stroke=function(){var e;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(e=this._renderer).stroke.apply(e,arguments),this},o.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&void 0!==arguments[0]?arguments[0]:255,1<arguments.length&&void 0!==arguments[1]?arguments[1]:255),this},o.default.prototype.noErase=function(){return this._renderer.noErase(),this};var l=o.default;r.default=l},{"../core/constants":256,"../core/main":267,"./p5.Color":254,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],256:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BEZIER=r.QUADRATIC=r.LINEAR=r._CTX_MIDDLE=r._DEFAULT_LEADMULT=r._DEFAULT_TEXT_FILL=r.WORD=r.CHAR=r.BOLDITALIC=r.BOLD=r.ITALIC=r.NORMAL=r.BLUR=r.ERODE=r.DILATE=r.POSTERIZE=r.INVERT=r.OPAQUE=r.GRAY=r.THRESHOLD=r.BURN=r.DODGE=r.SOFT_LIGHT=r.HARD_LIGHT=r.OVERLAY=r.REPLACE=r.SCREEN=r.MULTIPLY=r.EXCLUSION=r.SUBTRACT=r.DIFFERENCE=r.LIGHTEST=r.DARKEST=r.ADD=r.REMOVE=r.BLEND=r.UP_ARROW=r.TAB=r.SHIFT=r.RIGHT_ARROW=r.RETURN=r.OPTION=r.LEFT_ARROW=r.ESCAPE=r.ENTER=r.DOWN_ARROW=r.DELETE=r.CONTROL=r.BACKSPACE=r.ALT=r.AUTO=r.HSL=r.HSB=r.RGB=r.MITER=r.BEVEL=r.ROUND=r.SQUARE=r.PROJECT=r.PIE=r.CHORD=r.OPEN=r.CLOSE=r.TESS=r.QUAD_STRIP=r.QUADS=r.TRIANGLE_STRIP=r.TRIANGLE_FAN=r.TRIANGLES=r.LINE_LOOP=r.LINE_STRIP=r.LINES=r.POINTS=r.BASELINE=r.BOTTOM=r.TOP=r.CENTER=r.LEFT=r.RIGHT=r.RADIUS=r.CORNERS=r.CORNER=r.RAD_TO_DEG=r.DEG_TO_RAD=r.RADIANS=r.DEGREES=r.TWO_PI=r.TAU=r.QUARTER_PI=r.PI=r.HALF_PI=r.WAIT=r.TEXT=r.MOVE=r.HAND=r.CROSS=r.ARROW=r.WEBGL=r.P2D=r.VERSION=void 0,r.COVER=r.CONTAIN=r.FALLBACK=r.LABEL=r.AXES=r.GRID=r._DEFAULT_FILL=r._DEFAULT_STROKE=r.PORTRAIT=r.LANDSCAPE=r.MIRROR=r.CLAMP=r.REPEAT=r.NEAREST=r.IMAGE=r.IMMEDIATE=r.TEXTURE=r.FILL=r.STROKE=r.CURVE=void 0;var n=Math.PI,i=(r.VERSION="1.5.0",r.P2D="p2d",r.WEBGL="webgl",r.ARROW="default",r.CROSS="crosshair",r.HAND="pointer",r.MOVE="move",r.TEXT="text",r.WAIT="wait",n/2);r.HALF_PI=i,i=n,r.PI=i,i=n/4,r.QUARTER_PI=i,i=2*n,r.TAU=i,i=2*n,r.TWO_PI=i,r.DEGREES="degrees",r.RADIANS="radians",i=n/180,r.DEG_TO_RAD=i,i=180/n,r.RAD_TO_DEG=i,r.CORNER="corner",r.CORNERS="corners",r.RADIUS="radius",r.RIGHT="right",r.LEFT="left",r.CENTER="center",r.TOP="top",r.BOTTOM="bottom",r.BASELINE="alphabetic",r.POINTS=0,r.LINES=1,r.LINE_STRIP=3,r.LINE_LOOP=2,r.TRIANGLES=4,r.TRIANGLE_FAN=6,r.TRIANGLE_STRIP=5,r.QUADS="quads",r.QUAD_STRIP="quad_strip",r.TESS="tess",r.CLOSE="close",r.OPEN="open",r.CHORD="chord",r.PIE="pie",r.PROJECT="square",r.SQUARE="butt",r.ROUND="round",r.BEVEL="bevel",r.MITER="miter",r.RGB="rgb",r.HSB="hsb",r.HSL="hsl",r.AUTO="auto",r.ALT=18,r.BACKSPACE=8,r.CONTROL=17,r.DELETE=46,r.DOWN_ARROW=40,r.ENTER=13,r.ESCAPE=27,r.LEFT_ARROW=37,r.OPTION=18,r.RETURN=13,r.RIGHT_ARROW=39,r.SHIFT=16,r.TAB=9,r.UP_ARROW=38,r.BLEND="source-over",r.REMOVE="destination-out",r.ADD="lighter",r.DARKEST="darken",r.LIGHTEST="lighten",r.DIFFERENCE="difference",r.SUBTRACT="subtract",r.EXCLUSION="exclusion",r.MULTIPLY="multiply",r.SCREEN="screen",r.REPLACE="copy",r.OVERLAY="overlay",r.HARD_LIGHT="hard-light",r.SOFT_LIGHT="soft-light",r.DODGE="color-dodge",r.BURN="color-burn",r.THRESHOLD="threshold",r.GRAY="gray",r.OPAQUE="opaque",r.INVERT="invert",r.POSTERIZE="posterize",r.DILATE="dilate",r.ERODE="erode",r.BLUR="blur",r.NORMAL="normal",r.ITALIC="italic",r.BOLD="bold",r.BOLDITALIC="bold italic",r.CHAR="CHAR",r.WORD="WORD",r._DEFAULT_TEXT_FILL="#000000",r._DEFAULT_LEADMULT=1.25,r._CTX_MIDDLE="middle",r.LINEAR="linear",r.QUADRATIC="quadratic",r.BEZIER="bezier",r.CURVE="curve",r.STROKE="stroke",r.FILL="fill",r.TEXTURE="texture",r.IMMEDIATE="immediate",r.IMAGE="image",r.NEAREST="nearest",r.REPEAT="repeat",r.CLAMP="clamp",r.MIRROR="mirror",r.LANDSCAPE="landscape",r.PORTRAIT="portrait",r._DEFAULT_STROKE="#000000",r._DEFAULT_FILL="#FFFFFF",r.GRID="grid",r.AXES="axes",r.LABEL="label",r.FALLBACK="fallback",r.CONTAIN="contain",r.COVER="cover"},{}],257:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.search"),e("core-js/modules/es.string.split"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.search"),e("core-js/modules/es.string.split"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=(a=e("./main"))&&a.__esModule?a:{default:a},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("./constants"));function s(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,s=function(){return e},e)}var l=[a.ARROW,a.CROSS,a.HAND,a.MOVE,a.TEXT,a.WAIT],u=(o.default.prototype._frameRate=0,o.default.prototype._lastFrameTime=window.performance.now(),o.default.prototype._targetFrameRate=60,window.print);function c(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function h(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}o.default.prototype.print=function(){var e;arguments.length?(e=console).log.apply(e,arguments):u()},o.default.prototype.frameCount=0,o.default.prototype.deltaTime=0,o.default.prototype.focused=document.hasFocus(),o.default.prototype.cursor=function(e,t,r){var n,i="auto",o=this._curElement.elt;l.includes(e)?i=e:"string"==typeof e&&(n="",t&&r&&"number"==typeof t&&"number"==typeof r&&(n="".concat(t," ").concat(r)),i="http://"===e.substring(0,7)||"https://"===e.substring(0,8)||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(e)?"url(".concat(e,") ").concat(n,", auto"):e),o.style.cursor=i},o.default.prototype.frameRate=function(e){return o.default._validateParameters("frameRate",arguments),"number"!=typeof e||e<0?this._frameRate:(this._setProperty("_targetFrameRate",e),0===e&&this._setProperty("_frameRate",e),this)},o.default.prototype.getFrameRate=function(){return this.frameRate()},o.default.prototype.setFrameRate=function(e){return this.frameRate(e)},o.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},o.default.prototype.displayWidth=screen.width,o.default.prototype.displayHeight=screen.height,o.default.prototype.windowWidth=c(),o.default.prototype.windowHeight=h(),o.default.prototype._onresize=function(e){this._setProperty("windowWidth",c()),this._setProperty("windowHeight",h());var t=this._isGlobal?window:this;"function"!=typeof t.windowResized||void 0===(t=t.windowResized(e))||t||e.preventDefault()},o.default.prototype.width=0,o.default.prototype.height=0,o.default.prototype.fullscreen=function(e){if(o.default._validateParameters("fullscreen",arguments),void 0===e)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(e){if(e=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},o.default.prototype.pixelDensity=function(e){var t;return o.default._validateParameters("pixelDensity",arguments),"number"==typeof e?(e!==this._pixelDensity&&(this._pixelDensity=e),(t=this).resizeCanvas(this.width,this.height,!0)):t=this._pixelDensity,t},o.default.prototype.displayDensity=function(){return window.devicePixelRatio},o.default.prototype.getURL=function(){return location.href},o.default.prototype.getURLPath=function(){return location.pathname.split("/").filter((function(e){return""!==e}))},o.default.prototype.getURLParams=function(){for(var e,t=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,r={};null!=(e=t.exec(location.search));)e.index===t.lastIndex&&t.lastIndex++,r[e[1]]=e[2];return r},e=o.default,r.default=e},{"./constants":256,"./main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.search":190,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],258:[function(e,t,r){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.get-own-property-names"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.search"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.get-own-property-names"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.search"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(l=e("../main"))&&l.__esModule?l:{default:l};function i(e,t){t=t||console.log.bind(console),o||a(),o.some((function(r){var n;if(e.message&&null!==e.message.match("\\W?".concat(r.name,"\\W")))return n="function"===r.type?"".concat(r.name,"()"):r.name,t("Did you just try to use p5.js's ".concat(n," ").concat(r.type,"? If so, you may want to move it into your sketch's setup() function.\n\nFor more details, see: ").concat(s)),!0}))}e("../internationalization");var o=null,a=null,s=(n.default._friendlyError=n.default._checkForUserDefinedFunctions=n.default._fesErrorMonitor=function(){},o=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),l=(a=function(){function t(e){return Object.getOwnPropertyNames(e).filter((function(e){return"_"!==e[0]&&!(e in r)&&(r[e]=!0)})).map((function(t){var r="function"==typeof e[t]?"function":t===t.toUpperCase()?"constant":"variable";return{name:t,type:r}}))}var r={};(o=[].concat(t(n.default.prototype),t(e("../constants")))).sort((function(e,t){return t.name.length-e.name.length}))},n.default.prototype._helpForMisusedAtTopLevelCode=i,"complete"!==document.readyState&&(window.addEventListener("error",i,!1),window.addEventListener("load",(function(){window.removeEventListener("error",i,!1)}))),n.default);r.default=l},{"../constants":256,"../internationalization":265,"../main":267,"./browser_errors":void 0,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.some":163,"core-js/modules/es.function.name":165,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.get-own-property-names":174,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.search":190,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230}],259:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(n=e("../main"))&&n.__esModule?n:{default:n};e("../internationalization"),n.default._friendlyFileLoadError=function(){},e=n.default,r.default=e},{"../internationalization":265,"../main":267}],260:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=l(e("../main"));function a(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,a=function(){return e},e)}function s(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r,n,o={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((n=s?Object.getOwnPropertyDescriptor(e,r):null)&&(n.get||n.set)?Object.defineProperty(o,r,n):o[r]=e[r]);return o.default=e,t&&t.set(e,o),o}function l(e){return e&&e.__esModule?e:{default:e}}e("../internationalization"),s(e("../constants")),o.default._fesCodeReader=function(){};var u=o.default;r.default=u},{"../constants":256,"../internationalization":265,"../main":267,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.from":155,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.match":187,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230}],261:[function(e,t,r){"use strict";function n(){var e=/(^|@)\S+:\d+/,t=/^\s*at .*(\S+:\d+|\(native\))/m,r=/^(eval@)?(\[native code])?$/;return{parse:function(e){return void 0!==e.stacktrace||void 0!==e["opera#sourceloc"]?this.parseOpera(e):e.stack&&e.stack.match(t)?this.parseV8OrIE(e):e.stack?this.parseFFOrSafari(e):void 0},extractLocation:function(e){return-1===e.indexOf(":")?[e]:[(e=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/[()]/g,"")))[1],e[2]||void 0,e[3]||void 0]},parseV8OrIE:function(e){return e.stack.split("\n").filter((function(e){return!!e.match(t)}),this).map((function(e){var t=(r=(e=-1<e.indexOf("(eval ")?e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):e).replace(/^\s+/,"").replace(/\(eval code/g,"(")).match(/ (\((.+):(\d+):(\d+)\)$)/),r=(r=t?r.replace(t[0],""):r).split(/\s+/).slice(1);return t=this.extractLocation(t?t[1]:r.pop()),{functionName:r.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(t[0])?void 0:t[0],lineNumber:t[1],columnNumber:t[2],source:e}}),this)},parseFFOrSafari:function(e){return e.stack.split("\n").filter((function(e){return!e.match(r)}),this).map((function(e){var t,r;return-1===(e=-1<e.indexOf(" > eval")?e.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):e).indexOf("@")&&-1===e.indexOf(":")?{functionName:e}:{functionName:(r=e.match(t=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&r[1]?r[1]:void 0,fileName:(r=this.extractLocation(e.replace(t,"")))[0],lineNumber:r[1],columnNumber:r[2],source:e}}),this)},parseOpera:function(e){return!e.stacktrace||-1<e.message.indexOf("\n")&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(e){for(var t=/Line (\d+).*script (?:in )?(\S+)/i,r=e.message.split("\n"),n=[],i=2,o=r.length;i<o;i+=2){var a=t.exec(r[i]);a&&n.push({fileName:a[2],lineNumber:a[1],source:r[i]})}return n},parseOpera10:function(e){for(var t=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=e.stacktrace.split("\n"),n=[],i=0,o=r.length;i<o;i+=2){var a=t.exec(r[i]);a&&n.push({functionName:a[3]||void 0,fileName:a[2],lineNumber:a[1],source:r[i]})}return n},parseOpera11:function(t){return t.stack.split("\n").filter((function(t){return!!t.match(e)&&!t.match(/^Error created at/)}),this).map((function(e){var t,r=e.split("@"),n=this.extractLocation(r.pop());return{functionName:(r=r.shift()||"").replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:void 0===(t=r.match(/\(([^)]*)\)/)?r.replace(/^[^(]+\(([^)]*)\)$/,"$1"):t)||"[arguments not available]"===t?void 0:t.split(","),fileName:n[0],lineNumber:n[1],columnNumber:n[2],source:e}}),this)}}}e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,(e=(e=e("../main"))&&e.__esModule?e:{default:e}).default._getErrorStackParser=function(){return new n},e=e.default,r.default=e},{"../main":267,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191}],262:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.map"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.map"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=(i=e("../main"))&&i.__esModule?i:{default:i};function o(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,o=function(){return e},e)}function a(e){return(a="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}(function(e){if((!e||!e.__esModule)&&null!==e&&("object"===a(e)||"function"==typeof e)){var t=o();if(t&&t.has(e))return t.get(e);var r,n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var s;Object.prototype.hasOwnProperty.call(e,r)&&((s=i?Object.getOwnPropertyDescriptor(e,r):null)&&(s.get||s.set)?Object.defineProperty(n,r,s):n[r]=e[r])}n.default=e,t&&t.set(e,n)}})(e("../constants")),e("../internationalization"),i.default._validateParameters=i.default._clearValidateParamsCache=function(){},e=i.default,r.default=e},{"../../../docs/parameterData.json":void 0,"../constants":256,"../internationalization":265,"../main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":165,"core-js/modules/es.map":166,"core-js/modules/es.number.constructor":169,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.get-prototype-of":175,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.reflect.construct":179,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.set":183,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230}],263:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var s;Object.prototype.hasOwnProperty.call(e,r)&&((s=o?Object.getOwnPropertyDescriptor(e,r):null)&&(s.get||s.set)?Object.defineProperty(n,r,s):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("./constants"));function a(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,a=function(){return e},e)}r.default={modeAdjust:function(e,t,r,n,i){return i===o.CORNER?{x:e,y:t,w:r,h:n}:i===o.CORNERS?{x:e,y:t,w:r-e,h:n-t}:i===o.RADIUS?{x:e-r,y:t-n,w:2*r,h:2*n}:i===o.CENTER?{x:e-.5*r,y:t-.5*n,w:r,h:n}:void 0}}},{"./constants":256,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],264:[function(e,t,r){"use strict";e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var n=(i=e("../core/main"))&&i.__esModule?i:{default:i};e("./internationalization");var i=Promise.resolve();Promise.all([new Promise((function(e,t){"complete"===document.readyState?e():window.addEventListener("load",e,!1)})),i]).then((function(){void 0!==window._setupDone?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&"function"==typeof window.setup||window.draw&&"function"==typeof window.draw)&&!n.default.instance&&new n.default}))},{"../core/main":267,"./internationalization":265,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.iterator":186,"core-js/modules/web.dom-collections.iterator":230}],265:[function(e,t,r){"use strict";e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.setTranslatorLanguage=r.currentTranslatorLanguage=r.availableTranslatorLanguages=r.initialize=r.translator=void 0;var n,i,o=s(e("i18next")),a=s(e("i18next-browser-languagedetector"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=function(){function e(t,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.init(t,r)}var t,r,o;return t=e,(r=[{key:"fetchWithTimeout",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:2e3;return Promise.race([fetch(e,t),new Promise((function(e,t){return setTimeout((function(){return t(new Error("timeout"))}),r)}))])}},{key:"init",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.services=e,this.options=t}},{key:"read",value:function(e,t,r){var o=this.options.loadPath;e===this.options.fallback?r(null,n[e][t]):i.includes(e)?(o=this.services.interpolator.interpolate(o,{lng:e,ns:t}),this.loadUrl(o,r)):r("Not found",!1)}},{key:"loadUrl",value:function(e,t){this.fetchWithTimeout(e).then((function(t){if(t.ok)return t.json();throw new Error("failed loading ".concat(e))}),(function(){throw new Error("failed loading ".concat(e))})).then((function(e){return t(null,e)})).catch(t)}}])&&l(t.prototype,r),o&&l(t,o),e}();u.type="backend",r.translator=function(e,t){console.debug("p5.js translator called before translations were loaded"),o.default.t(e,t)},r.initialize=function(){return o.default.use(a.default).use(u).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:n}).then((function(e){r.translator=e}),(function(e){return console.debug("Translations failed to load (".concat(e,")"))}))},r.availableTranslatorLanguages=function(){return o.default.languages},r.currentTranslatorLanguage=function(e){return o.default.language},r.setTranslatorLanguage=function(e){return o.default.changeLanguage(e||void 0,(function(e){return console.debug("Translations failed to load (".concat(e,")"))}))}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/web.dom-collections.iterator":230,i18next:3,"i18next-browser-languagedetector":3}],266:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,(e=(e=e("./main"))&&e.__esModule?e:{default:e}).default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},e.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},e.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},e.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},e=e.default,r.default=e},{"./main":267}],267:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.get-own-property-names"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-names"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,e("./shim");var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var s;Object.prototype.hasOwnProperty.call(e,r)&&((s=o?Object.getOwnPropertyDescriptor(e,r):null)&&(s.get||s.set)?Object.defineProperty(n,r,s):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("./constants"));function a(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,a=function(){return e},e)}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l,u=function(){function e(t,r,n){var i=this;if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=r,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={},r=Object.getOwnPropertyNames(e.prototype._registeredMethods);var o=!0,a=!1,s=void 0;try{for(var l,u=r[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;this._registeredMethods[c]=e.prototype._registeredMethods[c].slice()}}catch(t){a=!0,s=t}finally{try{o||null==u.return||u.return()}finally{if(a)throw s}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),this._start=function(){i._userNode&&"string"==typeof i._userNode&&(i._userNode=document.getElementById(i._userNode));var t=i._isGlobal?window:i;if(t.preload){var r,n=document.getElementById(i._loadingScreenId),o=(n||((n=document.createElement("div")).innerHTML="Loading...",n.style.position="absolute",n.id=i._loadingScreenId,(i._userNode||document.body).appendChild(n)),i._preloadMethods);for(r in o){o[r]=o[r]||e;var a=o[r];a!==e.prototype&&a!==e||(i._isGlobal&&(window[r]=i._wrapPreload(i,r)),a=i),i._registeredPreloadMethods[r]=a[r],a[r]=i._wrapPreload(a,r)}t.preload(),i._runIfPreloadsAreDone()}else i._setup(),i._draw()},this._runIfPreloadsAreDone=function(){var e,t=this._isGlobal?window:this;0===t._preloadCount&&((e=document.getElementById(t._loadingScreenId))&&e.parentNode.removeChild(e),this._setupDone||(this._lastFrameTime=window.performance.now(),t._setup(),t._draw()))},this._decrementPreload=function(){var e=this._isGlobal?window:this;e._preloadDone||"function"!=typeof e.preload||(e._setProperty("_preloadCount",e._preloadCount-1),e._runIfPreloadsAreDone())},this._wrapPreload=function(e,t){var r=this;return function(){r._incrementPreload();for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return r._registeredPreloadMethods[t].apply(e,i)}},this._incrementPreload=function(){var e=this._isGlobal?window:this;e._preloadDone||e._setProperty("_preloadCount",e._preloadCount+1)},this._setup=function(){i.createCanvas(i._defaultCanvasSize.width,i._defaultCanvasSize.height,"p2d");var e=i._isGlobal?window:i;if("function"==typeof e.preload)for(var t in i._preloadMethods)e[t]=i._preloadMethods[t][t],e[t]&&i&&(e[t]=e[t].bind(i));i._millisStart=window.performance.now(),e._preloadDone=!0,"function"==typeof e.setup&&e.setup();var r=document.getElementsByTagName("canvas"),n=!0,o=!1,a=void 0;try{for(var s,l=r[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var u=s.value;"true"===u.dataset.hidden&&(u.style.visibility="",delete u.dataset.hidden)}}catch(e){o=!0,a=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw a}}i._lastFrameTime=window.performance.now(),i._setupDone=!0,(i._accessibleOutputs.grid||i._accessibleOutputs.text)&&i._updateAccsOutput()},this._draw=function(){var e=window.performance.now(),t=e-i._lastFrameTime,r=1e3/i._targetFrameRate;(!i._loop||r-5<=t)&&(i.redraw(),i._frameRate=1e3/(e-i._lastFrameTime),i.deltaTime=e-i._lastFrameTime,i._setProperty("deltaTime",i.deltaTime),i._lastFrameTime=e,void 0!==i._updateMouseCoords&&(i._updateMouseCoords(),i._setProperty("movedX",0),i._setProperty("movedY",0))),i._loop&&(i._requestAnimId=window.requestAnimationFrame(i._draw))},this._setProperty=function(e,t){i[e]=t,i._isGlobal&&(window[e]=t)},this.remove=function(){if((n=document.getElementById(i._loadingScreenId))&&(n.parentNode.removeChild(n),i._incrementPreload()),i._curElement){for(var t in i._loop=!1,i._requestAnimId&&window.cancelAnimationFrame(i._requestAnimId),i._events)window.removeEventListener(t,i._events[t]);var r=!0,n=!1,o=void 0;try{for(var a,s=i._elements[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l,u=a.value;for(l in u.elt&&u.elt.parentNode&&u.elt.parentNode.removeChild(u.elt),u._events)u.elt.removeEventListener(l,u._events[l])}}catch(t){n=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(n)throw o}}var c=i;i._registeredMethods.remove.forEach((function(e){void 0!==e&&e.call(c)}))}if(i._isGlobal){for(var h in e.prototype)try{delete window[h]}catch(t){window[h]=void 0}for(var d in i)if(i.hasOwnProperty(d))try{delete window[d]}catch(t){window[d]=void 0}e.instance=null}},this._registeredMethods.init.forEach((function(e){void 0!==e&&e.call(this)}),this),this._setupPromisePreloads();var h,d,f=this._createFriendlyGlobalFunctionBinder();if(t)t(this),e._checkForUserDefinedFunctions(this);else{for(var p in this._isGlobal=!0,e.instance=this,e.prototype)"function"==typeof e.prototype[p]?(h=p.substring(2),this._events.hasOwnProperty(h)||(Math.hasOwnProperty(p)&&Math[p]===e.prototype[p]?f(p,e.prototype[p]):f(p,e.prototype[p].bind(this)))):f(p,e.prototype[p]);for(var m in this)this.hasOwnProperty(m)&&f(m,this[m])}for(d in this._events){var y=this["_on".concat(d)];y&&(y=y.bind(this),window.addEventListener(d,y,{passive:!1}),this._events[d]=y)}function g(){i._setProperty("focused",!0)}function v(){i._setProperty("focused",!1)}window.addEventListener("focus",g),window.addEventListener("blur",v),this.registerMethod("remove",(function(){window.removeEventListener("focus",g),window.removeEventListener("blur",v)})),"complete"===document.readyState?this._start():window.addEventListener("load",this._start.bind(this),!1)}var t,r,n;return t=e,(r=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=o.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(t,r){e.prototype._preloadMethods.hasOwnProperty(t)||(e.prototype._preloadMethods[t]=r)}},{key:"registerMethod",value:function(t,r){var n=this||e.prototype;n._registeredMethods.hasOwnProperty(t)||(n._registeredMethods[t]=[]),n._registeredMethods[t].push(r)}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=t.globalObject||window;return t.log||console.log.bind(console),function(t,n){e.disableFriendlyErrors,r[t]=n}}}])&&s(t.prototype,r),n&&s(t,n),e}();for(l in u.instance=null,u.disableFriendlyErrors=!1,o)u.prototype[l]=o[l];u.VERSION=o.VERSION,u.prototype._preloadMethods={loadJSON:u.prototype,loadImage:u.prototype,loadStrings:u.prototype,loadXML:u.prototype,loadBytes:u.prototype,loadTable:u.prototype,loadFont:u.prototype,loadModel:u.prototype,loadShader:u.prototype},u.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},u.prototype._registeredPreloadMethods={},r.default=u},{"./constants":256,"./shim":278,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.get-own-property-names":174,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230}],268:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(e=e("./main"))&&e.__esModule?e:{default:e};n.default.Element=function(e,t){this.elt=e,this._pInst=this._pixelsState=t,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight},n.default.Element.prototype.parent=function(e){return void 0===e?this.elt.parentNode:("string"==typeof e?("#"===e[0]&&(e=e.substring(1)),e=document.getElementById(e)):e instanceof n.default.Element&&(e=e.elt),e.appendChild(this.elt),this)},n.default.Element.prototype.id=function(e){return void 0===e?this.elt.id:(this.elt.id=e,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)},n.default.Element.prototype.class=function(e){return void 0===e?this.elt.className:(this.elt.className=e,this)},n.default.Element.prototype.mousePressed=function(e){return n.default.Element._adjustListener("mousedown",(function(t){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(t),e.call(this,t)}),this),this},n.default.Element.prototype.doubleClicked=function(e){return n.default.Element._adjustListener("dblclick",e,this),this},n.default.Element.prototype.mouseWheel=function(e){return n.default.Element._adjustListener("wheel",e,this),this},n.default.Element.prototype.mouseReleased=function(e){return n.default.Element._adjustListener("mouseup",e,this),this},n.default.Element.prototype.mouseClicked=function(e){return n.default.Element._adjustListener("click",e,this),this},n.default.Element.prototype.mouseMoved=function(e){return n.default.Element._adjustListener("mousemove",e,this),this},n.default.Element.prototype.mouseOver=function(e){return n.default.Element._adjustListener("mouseover",e,this),this},n.default.Element.prototype.mouseOut=function(e){return n.default.Element._adjustListener("mouseout",e,this),this},n.default.Element.prototype.touchStarted=function(e){return n.default.Element._adjustListener("touchstart",e,this),this},n.default.Element.prototype.touchMoved=function(e){return n.default.Element._adjustListener("touchmove",e,this),this},n.default.Element.prototype.touchEnded=function(e){return n.default.Element._adjustListener("touchend",e,this),this},n.default.Element.prototype.dragOver=function(e){return n.default.Element._adjustListener("dragover",e,this),this},n.default.Element.prototype.dragLeave=function(e){return n.default.Element._adjustListener("dragleave",e,this),this},n.default.Element._adjustListener=function(e,t,r){return!1===t?n.default.Element._detachListener(e,r):n.default.Element._attachListener(e,t,r),this},n.default.Element._attachListener=function(e,t,r){r._events[e]&&n.default.Element._detachListener(e,r),t=t.bind(r),r.elt.addEventListener(e,t,!1),r._events[e]=t},n.default.Element._detachListener=function(e,t){var r=t._events[e];t.elt.removeEventListener(e,r,!1),t._events[e]=null},n.default.Element.prototype._setProperty=function(e,t){this[e]=t},e=n.default.Element,r.default=e},{"./main":267}],269:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.splice"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=(l=e("./main"))&&l.__esModule?l:{default:l},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("./constants"));function s(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,s=function(){return e},e)}o.default.Graphics=function(e,t,r,n){var i;for(i in r=r||a.P2D,this.canvas=document.createElement("canvas"),(n._userNode||document.body).appendChild(this.canvas),o.default.Element.call(this,this.canvas,n),o.default.prototype)this[i]||("function"==typeof o.default.prototype[i]?this[i]=o.default.prototype[i].bind(this):this[i]=o.default.prototype[i]);return o.default.prototype._initializeInstanceVariables.apply(this),this.width=e,this.height=t,this._pixelDensity=n._pixelDensity,r===a.WEBGL?this._renderer=new o.default.RendererGL(this.canvas,this,!1):this._renderer=new o.default.Renderer2D(this.canvas,this,!1),n._elements.push(this),Object.defineProperty(this,"deltaTime",{get:function(){return this._pInst.deltaTime}}),this._renderer.resize(e,t),this._renderer._applyDefaults(),this},o.default.Graphics.prototype=Object.create(o.default.Element.prototype),o.default.Graphics.prototype.reset=function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()},o.default.Graphics.prototype.remove=function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var e,t=this._pInst._elements.indexOf(this);for(e in-1!==t&&this._pInst._elements.splice(t,1),this._events)this.elt.removeEventListener(e,this._events[e])};var l=o.default.Graphics;r.default=l},{"./constants":256,"./main":267,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],270:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=(u=e("./main"))&&u.__esModule?u:{default:u},o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r,n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var o;Object.prototype.hasOwnProperty.call(e,r)&&((o=i?Object.getOwnPropertyDescriptor(e,r):null)&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../core/constants"));function a(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,a=function(){return e},e)}function s(e){return(s="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}function l(e){var t=0,r=0;if(e.offsetParent)for(;t+=e.offsetLeft,r+=e.offsetTop,e=e.offsetParent;);else t+=e.offsetLeft,r+=e.offsetTop;return[t,r]}i.default.Renderer=function(e,t,r){i.default.Element.call(this,e,t),this.canvas=e,this._pixelsState=t,r?(this._isMainCanvas=!0,this._pInst._setProperty("_curElement",this),this._pInst._setProperty("canvas",this.canvas),this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height)):(this.canvas.style.display="none",this._styles=[]),this._textSize=12,this._textLeading=15,this._textFont="sans-serif",this._textStyle=o.NORMAL,this._textAscent=null,this._textDescent=null,this._textAlign=o.LEFT,this._textBaseline=o.BASELINE,this._textWrap=o.WORD,this._rectMode=o.CORNER,this._ellipseMode=o.CENTER,this._curveTightness=0,this._imageMode=o.CORNER,this._tint=null,this._doStroke=!0,this._doFill=!0,this._strokeSet=!1,this._fillSet=!1,this._leadingSet=!1},i.default.Renderer.prototype=Object.create(i.default.Element.prototype),i.default.Renderer.prototype.push=function(){return{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}},i.default.Renderer.prototype.pop=function(e){e.properties&&Object.assign(this,e.properties)},i.default.Renderer.prototype.resize=function(e,t){this.width=e,this.height=t,this.elt.width=e*this._pInst._pixelDensity,this.elt.height=t*this._pInst._pixelDensity,this.elt.style.width="".concat(e,"px"),this.elt.style.height="".concat(t,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))},i.default.Renderer.prototype.get=function(e,t,r,n){var o=this._pixelsState,a=o._pixelDensity,s=this.canvas;if(void 0===e&&void 0===t)e=t=0,r=o.width,n=o.height;else if(e*=a,t*=a,void 0===r&&void 0===n)return e<0||t<0||e>=s.width||t>=s.height?[0,0,0,0]:this._getPixel(e,t);return(o=new i.default.Image(r,n)).canvas.getContext("2d").drawImage(s,e,t,r*a,n*a,0,0,r,n),o},i.default.Renderer.prototype.textLeading=function(e){return"number"==typeof e?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",e),this._pInst):this._textLeading},i.default.Renderer.prototype.textSize=function(e){return"number"==typeof e?(this._setProperty("_textSize",e),this._leadingSet||this._setProperty("_textLeading",e*o._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},i.default.Renderer.prototype.textStyle=function(e){return e?(e!==o.NORMAL&&e!==o.ITALIC&&e!==o.BOLD&&e!==o.BOLDITALIC||this._setProperty("_textStyle",e),this._applyTextProperties()):this._textStyle},i.default.Renderer.prototype.textAscent=function(){return null===this._textAscent&&this._updateTextMetrics(),this._textAscent},i.default.Renderer.prototype.textDescent=function(){return null===this._textDescent&&this._updateTextMetrics(),this._textDescent},i.default.Renderer.prototype.textAlign=function(e,t){return void 0!==e?(this._setProperty("_textAlign",e),void 0!==t&&this._setProperty("_textBaseline",t),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}},i.default.Renderer.prototype.textWrap=function(e){return this._setProperty("_textWrap",e),this._textWrap},i.default.Renderer.prototype.text=function(e,t,r,n,i){var a,s,l,u,c=this._pInst,h=this._textWrap,d=Number.MAX_VALUE,f=r;if((this._doFill||this._doStroke)&&void 0!==e){if(a=(e=(e="string"!=typeof e?e.toString():e).replace(/(\t)/g,"  ")).split("\n"),void 0!==n){switch(this._rectMode===o.CENTER&&(t-=n/2),this._textAlign){case o.CENTER:t+=n/2;break;case o.RIGHT:t+=n}if(void 0!==i){this._rectMode===o.CENTER&&(r-=i/2),e=r;var p=c.textAscent();switch(this._textBaseline){case o.BOTTOM:u=r+i,r=Math.max(u,r),f+=p;break;case o.CENTER:u=r+i/2,r=Math.max(u,r),f+=p/2}d=r+i-p,this._textBaseline===o.CENTER&&(d=e+i-p/2)}else{if(this._textBaseline===o.BOTTOM)return console.warn("textAlign(*, BOTTOM) requires x, y, width and height");if(this._textBaseline===o.CENTER)return console.warn("textAlign(*, CENTER) requires x, y, width and height")}if(h===o.WORD){for(var m=[],y=0;y<a.length;y++){for(var g="",v=a[y].split(" "),b=0;b<v.length;b++)s="".concat(g+v[b])+" ",g=n<(l=this.textWidth(s))&&0<g.length?(m.push(g),"".concat(v[b])+" "):s;m.push(g)}var x=0;this._textBaseline===o.CENTER?x=(m.length-1)*c.textLeading()/2:this._textBaseline===o.BOTTOM&&(x=(m.length-1)*c.textLeading());for(var w=0;w<a.length;w++){g="",v=a[w].split(" ");for(var S=0;S<v.length;S++)s="".concat(g+v[S])+" ",n<(l=this.textWidth(s))&&0<g.length?(this._renderText(c,g.trim(),t,r-x,d,f),g="".concat(v[S])+" ",r+=c.textLeading()):g=s;this._renderText(c,g.trim(),t,r-x,d,f),r+=c.textLeading()}}else{for(var k=[],_=0;_<a.length;_++)for(var j=a[_].split(g=""),M=0;M<j.length;M++)s="".concat(g+j[M]),(l=this.textWidth(s))<=n?g+=j[M]:n<l&&0<g.length&&(k.push(g),g="".concat(j[M]));k.push(g);var C=0;this._textBaseline===o.CENTER?C=(k.length-1)*c.textLeading()/2:this._textBaseline===o.BOTTOM&&(C=(k.length-1)*c.textLeading());for(var P=0;P<a.length;P++){j=a[P].split(g="");for(var T=0;T<j.length;T++)s="".concat(g+j[T]),(l=this.textWidth(s))<=n?g+=j[T]:n<l&&0<g.length&&(this._renderText(c,g.trim(),t,r-C,d,f),r+=c.textLeading(),g="".concat(j[T]))}this._renderText(c,g.trim(),t,r-C,d,f),r+=c.textLeading()}}else{var E=0;this._textBaseline===o.CENTER?E=(a.length-1)*c.textLeading()/2:this._textBaseline===o.BOTTOM&&(E=(a.length-1)*c.textLeading());for(var O=0;O<a.length;O++)this._renderText(c,a[O],t,r-E,d,f),r+=c.textLeading()}return c}},i.default.Renderer.prototype._applyDefaults=function(){return this},i.default.Renderer.prototype._isOpenType=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._textFont;return"object"===s(e)&&e.font&&e.font.supported},i.default.Renderer.prototype._updateTextMetrics=function(){var e,t,r,n,i,o;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((e=document.createElement("span")).style.fontFamily=this._textFont,e.style.fontSize="".concat(this._textSize,"px"),e.innerHTML="ABCjgq|",(o=document.createElement("div")).style.display="inline-block",o.style.width="1px",o.style.height="0px",(t=document.createElement("div")).appendChild(e),t.appendChild(o),t.style.height="0px",t.style.overflow="hidden",document.body.appendChild(t),o.style.verticalAlign="baseline",n=l(o),i=l(e),r=n[1]-i[1],o.style.verticalAlign="bottom",n=l(o),i=l(e),o=n[1]-i[1]-r,document.body.removeChild(t),this._setProperty("_textAscent",r),this._setProperty("_textDescent",o)),this};var u=i.default.Renderer;r.default=u},{"../core/constants":256,"./main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.number.constructor":169,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],271:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=(u=e("./main"))&&u.__esModule?u:{default:u},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("./constants"));function s(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,s=function(){return e},e)}e("./p5.Renderer");var l="rgba(0,0,0,0)",u=(o.default.Renderer2D=function(e,t,r){return o.default.Renderer.call(this,e,t,r),this.drawingContext=this.canvas.getContext("2d"),this._pInst._setProperty("drawingContext",this.drawingContext),this},o.default.Renderer2D.prototype=Object.create(o.default.Renderer.prototype),o.default.Renderer2D.prototype._applyDefaults=function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=a.BLEND,this._setFill(a._DEFAULT_FILL),this._setStroke(a._DEFAULT_STROKE),this.drawingContext.lineCap=a.ROUND,this.drawingContext.font="normal 12px sans-serif"},o.default.Renderer2D.prototype.resize=function(e,t){o.default.Renderer.prototype.resize.call(this,e,t),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)},o.default.Renderer2D.prototype.background=function(){var e,t;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof o.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(e=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(e,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(e=this._getFill(),t=(t=this._pInst).color.apply(t,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(t.levels),t=t.toString(),this._setFill(t),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(e),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()},o.default.Renderer2D.prototype.clear=function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()},o.default.Renderer2D.prototype.fill=function(){var e=(e=this._pInst).color.apply(e,arguments);this._setFill(e.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",e.levels)},o.default.Renderer2D.prototype.stroke=function(){var e=(e=this._pInst).color.apply(e,arguments);this._setStroke(e.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",e.levels)},o.default.Renderer2D.prototype.erase=function(e,t){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,e=this._pInst.color(255,e).toString(),this.drawingContext.fillStyle=e,this._cachedStrokeStyle=this.drawingContext.strokeStyle,e=this._pInst.color(255,t).toString(),this.drawingContext.strokeStyle=e,t=this._cachedBlendMode,this.blendMode(a.REMOVE),this._cachedBlendMode=t,this._isErasing=!0)},o.default.Renderer2D.prototype.noErase=function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)},o.default.Renderer2D.prototype.image=function(e,t,r,n,i,o,a,s,l){e.gifProperties&&e._animateGif(this._pInst);try{var u=(u=this._tint&&e.canvas?this._getTintedImageCanvas(e):u)||e.canvas||e.elt,c=1;e.width&&0<e.width&&(c=u.width/e.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(u,c*t,c*r,c*n,c*i,o,a,s,l),this._isErasing&&this._pInst.erase()}catch(e){if("NS_ERROR_NOT_AVAILABLE"!==e.name)throw e}},o.default.Renderer2D.prototype._getTintedImageCanvas=function(e){if(!e.canvas)return e;e.tintCanvas||(e.tintCanvas=document.createElement("canvas")),e.tintCanvas.width!==e.canvas.width&&(e.tintCanvas.width=e.canvas.width),e.tintCanvas.height!==e.canvas.height&&(e.tintCanvas.height=e.canvas.height);var t=e.tintCanvas.getContext("2d");return t.save(),t.clearRect(0,0,e.canvas.width,e.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(t.drawImage(e.canvas,0,0),t.globalCompositeOperation="luminosity",t.drawImage(e.canvas,0,0),t.globalCompositeOperation="color",t.drawImage(e.canvas,0,0),t.globalCompositeOperation="multiply",t.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),t.fillRect(0,0,e.canvas.width,e.canvas.height),t.globalCompositeOperation="destination-in"),t.globalAlpha=this._tint[3]/255,t.drawImage(e.canvas,0,0),t.restore(),e.tintCanvas},o.default.Renderer2D.prototype.blendMode=function(e){if(e===a.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(e!==a.BLEND&&e!==a.REMOVE&&e!==a.DARKEST&&e!==a.LIGHTEST&&e!==a.DIFFERENCE&&e!==a.MULTIPLY&&e!==a.EXCLUSION&&e!==a.SCREEN&&e!==a.REPLACE&&e!==a.OVERLAY&&e!==a.HARD_LIGHT&&e!==a.SOFT_LIGHT&&e!==a.DODGE&&e!==a.BURN&&e!==a.ADD)throw new Error("Mode ".concat(e," not recognized."));this._cachedBlendMode=e,this.drawingContext.globalCompositeOperation=e}},o.default.Renderer2D.prototype.blend=function(){for(var e=this.drawingContext.globalCompositeOperation,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[r.length-1],a=Array.prototype.slice.call(r,0,r.length-1);this.drawingContext.globalCompositeOperation=i,o.default.prototype.copy.apply(this,a),this.drawingContext.globalCompositeOperation=e},o.default.Renderer2D.prototype._getPixel=function(e,t){return[(e=this.drawingContext.getImageData(e,t,1,1).data)[0],e[1],e[2],e[3]]},o.default.Renderer2D.prototype.loadPixels=function(){var e=this._pixelsState,t=e._pixelDensity,r=this.width*t;t=this.height*t,r=this.drawingContext.getImageData(0,0,r,t),e._setProperty("imageData",r),e._setProperty("pixels",r.data)},o.default.Renderer2D.prototype.set=function(e,t,r){e=Math.floor(e),t=Math.floor(t);var n=this._pixelsState;if(r instanceof o.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(n._pixelDensity,n._pixelDensity),this.drawingContext.clearRect(e,t,r.width,r.height),this.drawingContext.drawImage(r.canvas,e,t),this.drawingContext.restore();else{var i=0,a=0,s=0,l=0,u=4*(t*n._pixelDensity*(this.width*n._pixelDensity)+e*n._pixelDensity);if(n.imageData||n.loadPixels.call(n),"number"==typeof r)u<n.pixels.length&&(s=a=i=r,l=255);else if(r instanceof Array){if(r.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");u<n.pixels.length&&(i=r[0],a=r[1],s=r[2],l=r[3])}else r instanceof o.default.Color&&u<n.pixels.length&&(i=r.levels[0],a=r.levels[1],s=r.levels[2],l=r.levels[3]);for(var c=0;c<n._pixelDensity;c++)for(var h=0;h<n._pixelDensity;h++)u=4*((t*n._pixelDensity+h)*this.width*n._pixelDensity+(e*n._pixelDensity+c)),n.pixels[u]=i,n.pixels[u+1]=a,n.pixels[u+2]=s,n.pixels[u+3]=l}},o.default.Renderer2D.prototype.updatePixels=function(e,t,r,n){var i=this._pixelsState,o=i._pixelDensity;void 0===e&&void 0===t&&void 0===r&&void 0===n&&(t=e=0,r=this.width,n=this.height),e*=o,t*=o,r*=o,n*=o,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=i.imageData),this.drawingContext.putImageData(i.imageData,e,t,0,0,r,n)},o.default.Renderer2D.prototype._acuteArcToBezier=function(e,t){var r=t/2,n=Math.cos(r),i=Math.sin(r),o=1/Math.tan(r),a=(r=e+r,Math.cos(r)),s=(r=Math.sin(r),(4-n)/3);return i+=(n-s)*o,{ax:Math.cos(e).toFixed(7),ay:Math.sin(e).toFixed(7),bx:(s*a+i*r).toFixed(7),by:(s*r-i*a).toFixed(7),cx:(s*a-i*r).toFixed(7),cy:(s*r+i*a).toFixed(7),dx:Math.cos(e+t).toFixed(7),dy:Math.sin(e+t).toFixed(7)}},o.default.Renderer2D.prototype.arc=function(e,t,r,n,i,o,s){var l,u=this.drawingContext,c=r/2,h=n/2,d=[];for(e+=c,t+=h;1e-5<=o-i;)l=Math.min(o-i,a.HALF_PI),d.push(this._acuteArcToBezier(i,l)),i+=l;return this._doFill&&(u.beginPath(),d.forEach((function(r,n){0===n&&u.moveTo(e+r.ax*c,t+r.ay*h),u.bezierCurveTo(e+r.bx*c,t+r.by*h,e+r.cx*c,t+r.cy*h,e+r.dx*c,t+r.dy*h)})),s!==a.PIE&&null!=s||u.lineTo(e,t),u.closePath(),u.fill()),this._doStroke&&(u.beginPath(),d.forEach((function(r,n){0===n&&u.moveTo(e+r.ax*c,t+r.ay*h),u.bezierCurveTo(e+r.bx*c,t+r.by*h,e+r.cx*c,t+r.cy*h,e+r.dx*c,t+r.dy*h)})),s===a.PIE?(u.lineTo(e,t),u.closePath()):s===a.CHORD&&u.closePath(),u.stroke()),this},o.default.Renderer2D.prototype.ellipse=function(e){var t=this.drawingContext,r=this._doFill,n=this._doStroke,i=parseFloat(e[0]),o=parseFloat(e[1]),a=parseFloat(e[2]);if(e=parseFloat(e[3]),r&&!n){if(this._getFill()===l)return this}else if(!r&&n&&this._getStroke()===l)return this;var s=a/2*.5522847498,u=e/2*.5522847498,c=i+a,h=o+e;a=i+a/2,e=o+e/2,t.beginPath(),t.moveTo(i,e),t.bezierCurveTo(i,e-u,a-s,o,a,o),t.bezierCurveTo(a+s,o,c,e-u,c,e),t.bezierCurveTo(c,e+u,a+s,h,a,h),t.bezierCurveTo(a-s,h,i,e+u,i,e),r&&t.fill(),n&&t.stroke()},o.default.Renderer2D.prototype.line=function(e,t,r,n){var i=this.drawingContext;return this._doStroke&&this._getStroke()!==l&&(i.beginPath(),i.moveTo(e,t),i.lineTo(r,n),i.stroke()),this},o.default.Renderer2D.prototype.point=function(e,t){var r,n,i=this.drawingContext;return this._doStroke&&this._getStroke()!==l?(r=this._getStroke(),n=this._getFill(),this._setFill(r),i.beginPath(),i.arc(e,t,i.lineWidth/2,0,a.TWO_PI,!1),i.fill(),void this._setFill(n)):this},o.default.Renderer2D.prototype.quad=function(e,t,r,n,i,o,a,s){var u=this.drawingContext,c=this._doFill,h=this._doStroke;if(c&&!h){if(this._getFill()===l)return this}else if(!c&&h&&this._getStroke()===l)return this;return u.beginPath(),u.moveTo(e,t),u.lineTo(r,n),u.lineTo(i,o),u.lineTo(a,s),u.closePath(),c&&u.fill(),h&&u.stroke(),this},o.default.Renderer2D.prototype.rect=function(e){var t,r,n=e[0],i=e[1],o=e[2],a=e[3],s=e[4],u=e[5],c=e[6],h=(e=e[7],this.drawingContext),d=this._doFill,f=this._doStroke;if(d&&!f){if(this._getFill()===l)return this}else if(!d&&f&&this._getStroke()===l)return this;return h.beginPath(),void 0===s?h.rect(n,i,o,a):(void 0===u&&(u=s),void 0===c&&(c=u),void 0===e&&(e=c),f=(d=Math.abs(o))/2,r=(t=Math.abs(a))/2,t<2*(s=d<2*s?f:s)&&(s=r),t<2*(u=d<2*u?f:u)&&(u=r),t<2*(c=d<2*c?f:c)&&(c=r),t<2*(e=d<2*e?f:e)&&(e=r),h.beginPath(),h.moveTo(n+s,i),h.arcTo(n+o,i,n+o,i+a,u),h.arcTo(n+o,i+a,n,i+a,c),h.arcTo(n,i+a,n,i,e),h.arcTo(n,i,n+o,i,s),h.closePath()),this._doFill&&h.fill(),this._doStroke&&h.stroke(),this},o.default.Renderer2D.prototype.triangle=function(e){var t=this.drawingContext,r=this._doFill,n=this._doStroke,i=e[0],o=e[1],a=e[2],s=e[3],u=e[4];if(e=e[5],r&&!n){if(this._getFill()===l)return this}else if(!r&&n&&this._getStroke()===l)return this;t.beginPath(),t.moveTo(i,o),t.lineTo(a,s),t.lineTo(u,e),t.closePath(),r&&t.fill(),n&&t.stroke()},o.default.Renderer2D.prototype.endShape=function(e,t,r,n,i,o,s){if(0!==t.length&&(this._doStroke||this._doFill)){var l,u,c,h=e===a.CLOSE,d=(h&&!o&&t.push(t[0]),t.length);if(!r||s!==a.POLYGON&&null!==s)if(!n||s!==a.POLYGON&&null!==s)if(!i||s!==a.POLYGON&&null!==s)if(s===a.POINTS)for(u=0;u<d;u++)l=t[u],this._doStroke&&this._pInst.stroke(l[6]),this._pInst.point(l[0],l[1]);else if(s===a.LINES)for(u=0;u+1<d;u+=2)l=t[u],this._doStroke&&this._pInst.stroke(t[u+1][6]),this._pInst.line(l[0],l[1],t[u+1][0],t[u+1][1]);else if(s===a.TRIANGLES)for(u=0;u+2<d;u+=3)l=t[u],this.drawingContext.beginPath(),this.drawingContext.moveTo(l[0],l[1]),this.drawingContext.lineTo(t[u+1][0],t[u+1][1]),this.drawingContext.lineTo(t[u+2][0],t[u+2][1]),this.drawingContext.closePath(),this._doFill&&(this._pInst.fill(t[u+2][5]),this.drawingContext.fill()),this._doStroke&&(this._pInst.stroke(t[u+2][6]),this.drawingContext.stroke());else if(s===a.TRIANGLE_STRIP)for(u=0;u+1<d;u++)l=t[u],this.drawingContext.beginPath(),this.drawingContext.moveTo(t[u+1][0],t[u+1][1]),this.drawingContext.lineTo(l[0],l[1]),this._doStroke&&this._pInst.stroke(t[u+1][6]),this._doFill&&this._pInst.fill(t[u+1][5]),u+2<d&&(this.drawingContext.lineTo(t[u+2][0],t[u+2][1]),this._doStroke&&this._pInst.stroke(t[u+2][6]),this._doFill&&this._pInst.fill(t[u+2][5])),this._doFillStrokeClose(h);else if(s===a.TRIANGLE_FAN){if(2<d){for(this.drawingContext.beginPath(),u=2;u<d;u++)l=t[u],this.drawingContext.moveTo(t[0][0],t[0][1]),this.drawingContext.lineTo(t[u-1][0],t[u-1][1]),this.drawingContext.lineTo(l[0],l[1]),this.drawingContext.lineTo(t[0][0],t[0][1]),u<d-1&&(this._doFill&&l[5]!==t[u+1][5]||this._doStroke&&l[6]!==t[u+1][6])&&(this._doFill&&(this._pInst.fill(l[5]),this.drawingContext.fill(),this._pInst.fill(t[u+1][5])),this._doStroke&&(this._pInst.stroke(l[6]),this.drawingContext.stroke(),this._pInst.stroke(t[u+1][6])),this.drawingContext.closePath(),this.drawingContext.beginPath());this._doFillStrokeClose(h)}}else if(s===a.QUADS)for(u=0;u+3<d;u+=4){for(l=t[u],this.drawingContext.beginPath(),this.drawingContext.moveTo(l[0],l[1]),c=1;c<4;c++)this.drawingContext.lineTo(t[u+c][0],t[u+c][1]);this.drawingContext.lineTo(l[0],l[1]),this._doFill&&this._pInst.fill(t[u+3][5]),this._doStroke&&this._pInst.stroke(t[u+3][6]),this._doFillStrokeClose(h)}else if(s===a.QUAD_STRIP){if(3<d)for(u=0;u+1<d;u+=2)l=t[u],this.drawingContext.beginPath(),u+3<d?(this.drawingContext.moveTo(t[u+2][0],t[u+2][1]),this.drawingContext.lineTo(l[0],l[1]),this.drawingContext.lineTo(t[u+1][0],t[u+1][1]),this.drawingContext.lineTo(t[u+3][0],t[u+3][1]),this._doFill&&this._pInst.fill(t[u+3][5]),this._doStroke&&this._pInst.stroke(t[u+3][6])):(this.drawingContext.moveTo(l[0],l[1]),this.drawingContext.lineTo(t[u+1][0],t[u+1][1])),this._doFillStrokeClose(h)}else{for(this.drawingContext.beginPath(),this.drawingContext.moveTo(t[0][0],t[0][1]),u=1;u<d;u++)(l=t[u]).isVert&&(l.moveTo?this.drawingContext.moveTo(l[0],l[1]):this.drawingContext.lineTo(l[0],l[1]));this._doFillStrokeClose(h)}else{for(this.drawingContext.beginPath(),u=0;u<d;u++)t[u].isVert?t[u].moveTo?this.drawingContext.moveTo(t[u][0],t[u][1]):this.drawingContext.lineTo(t[u][0],t[u][1]):this.drawingContext.quadraticCurveTo(t[u][0],t[u][1],t[u][2],t[u][3]);this._doFillStrokeClose(h)}else{for(this.drawingContext.beginPath(),u=0;u<d;u++)t[u].isVert?t[u].moveTo?this.drawingContext.moveTo(t[u][0],t[u][1]):this.drawingContext.lineTo(t[u][0],t[u][1]):this.drawingContext.bezierCurveTo(t[u][0],t[u][1],t[u][2],t[u][3],t[u][4],t[u][5]);this._doFillStrokeClose(h)}else if(3<d){var f=[],p=1-this._curveTightness;for(this.drawingContext.beginPath(),this.drawingContext.moveTo(t[1][0],t[1][1]),u=1;u+2<d;u++)l=t[u],f[0]=[l[0],l[1]],f[1]=[l[0]+(p*t[u+1][0]-p*t[u-1][0])/6,l[1]+(p*t[u+1][1]-p*t[u-1][1])/6],f[2]=[t[u+1][0]+(p*t[u][0]-p*t[u+2][0])/6,t[u+1][1]+(p*t[u][1]-p*t[u+2][1])/6],f[3]=[t[u+1][0],t[u+1][1]],this.drawingContext.bezierCurveTo(f[1][0],f[1][1],f[2][0],f[2][1],f[3][0],f[3][1]);h&&this.drawingContext.lineTo(t[u+1][0],t[u+1][1]),this._doFillStrokeClose(h)}o=i=n=r=!1,h&&t.pop()}return this},o.default.Renderer2D.prototype.strokeCap=function(e){return e!==a.ROUND&&e!==a.SQUARE&&e!==a.PROJECT||(this.drawingContext.lineCap=e),this},o.default.Renderer2D.prototype.strokeJoin=function(e){return e!==a.ROUND&&e!==a.BEVEL&&e!==a.MITER||(this.drawingContext.lineJoin=e),this},o.default.Renderer2D.prototype.strokeWeight=function(e){return this.drawingContext.lineWidth=void 0===e||0===e?1e-4:e,this},o.default.Renderer2D.prototype._getFill=function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle},o.default.Renderer2D.prototype._setFill=function(e){e!==this._cachedFillStyle&&(this.drawingContext.fillStyle=e,this._cachedFillStyle=e)},o.default.Renderer2D.prototype._getStroke=function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle},o.default.Renderer2D.prototype._setStroke=function(e){e!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=e,this._cachedStrokeStyle=e)},o.default.Renderer2D.prototype.bezier=function(e,t,r,n,i,o,a,s){return this._pInst.beginShape(),this._pInst.vertex(e,t),this._pInst.bezierVertex(r,n,i,o,a,s),this._pInst.endShape(),this},o.default.Renderer2D.prototype.curve=function(e,t,r,n,i,o,a,s){return this._pInst.beginShape(),this._pInst.curveVertex(e,t),this._pInst.curveVertex(r,n),this._pInst.curveVertex(i,o),this._pInst.curveVertex(a,s),this._pInst.endShape(),this},o.default.Renderer2D.prototype._doFillStrokeClose=function(e){e&&this.drawingContext.closePath(),this._doFill&&this.drawingContext.fill(),this._doStroke&&this.drawingContext.stroke()},o.default.Renderer2D.prototype.applyMatrix=function(e,t,r,n,i,o){this.drawingContext.transform(e,t,r,n,i,o)},o.default.Renderer2D.prototype.resetMatrix=function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this},o.default.Renderer2D.prototype.rotate=function(e){this.drawingContext.rotate(e)},o.default.Renderer2D.prototype.scale=function(e,t){return this.drawingContext.scale(e,t),this},o.default.Renderer2D.prototype.translate=function(e,t){return e instanceof o.default.Vector&&(t=e.y,e=e.x),this.drawingContext.translate(e,t),this},o.default.Renderer2D.prototype.text=function(e,t,r,n,i){var s;return void 0!==n&&this.drawingContext.textBaseline===a.BASELINE&&(s=!0,this.drawingContext.textBaseline=a.TOP),n=o.default.Renderer.prototype.text.apply(this,arguments),s&&(this.drawingContext.textBaseline=a.BASELINE),n},o.default.Renderer2D.prototype._renderText=function(e,t,r,n,i,o){if(!(n<o||i<=n))return e.push(),this._isOpenType()?this._textFont._renderPath(t,r,n,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(t,r,n),this._doFill&&(this._fillSet||this._setFill(a._DEFAULT_TEXT_FILL),this.drawingContext.fillText(t,r,n))),e.pop(),e},o.default.Renderer2D.prototype.textWidth=function(e){return this._isOpenType()?this._textFont._textWidth(e,this._textSize):this.drawingContext.measureText(e).width},o.default.Renderer2D.prototype._applyTextProperties=function(){var e,t=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),e=this._textFont,this._isOpenType()&&(e=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(e||"sans-serif"),this.drawingContext.textAlign=this._textAlign,this._textBaseline===a.CENTER?this.drawingContext.textBaseline=a._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,t},o.default.Renderer2D.prototype.push=function(){return this.drawingContext.save(),o.default.Renderer.prototype.push.apply(this)},o.default.Renderer2D.prototype.pop=function(e){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,o.default.Renderer.prototype.pop.call(this,e)},o.default.Renderer2D);r.default=u},{"./constants":256,"./main":267,"./p5.Renderer":270,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":165,"core-js/modules/es.number.to-fixed":171,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],272:[function(e,t,r){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var n=(e=e("./main"))&&e.__esModule?e:{default:e};function i(){return{}}n.default.prototype._promisePreloads=[];var o=!(n.default.prototype.registerPromisePreload=function(e){n.default.prototype._promisePreloads.push(e)});n.default.prototype._setupPromisePreloads=function(){var e=!0,t=!1,r=void 0;try{for(var i,a=this._promisePreloads[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var s=i.value,l=this,u=s.method,c=s.addCallbacks,h=s.legacyPreloadSetup,d=s.target||this,f=d[u].bind(d);if(d===n.default.prototype){if(o)continue;l=null,f=d[u]}d[u]=this._wrapPromisePreload(l,f,c),h&&(d[h.method]=this._legacyPreloadGenerator(l,h,d[u]))}}catch(e){t=!0,r=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw r}}o=!0},n.default.prototype._wrapPromisePreload=function(e,t,r){var n=function(){for(var e=this,n=(this._incrementPreload(),null),i=null,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];if(r)for(var l=a.length-1;0<=l&&!i&&"function"==typeof a[l];l--)i=n,n=a.pop();var u=Promise.resolve(t.apply(this,a));return n&&u.then(n),i&&u.catch(i),u.then((function(){return e._decrementPreload()})),u};return e?n.bind(e):n},n.default.prototype._legacyPreloadGenerator=function(e,t,r){var n=t.createBaseObject||i;return t=function(){var e=this,t=(this._incrementPreload(),n.apply(this,arguments));return r.apply(this,arguments).then((function(r){Object.assign(t,r),e._decrementPreload()})),t},e?t.bind(e):t}},{"./main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],273:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=(u=e("./main"))&&u.__esModule?u:{default:u},o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r,n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var o;Object.prototype.hasOwnProperty.call(e,r)&&((o=i?Object.getOwnPropertyDescriptor(e,r):null)&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("./constants"));function a(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,a=function(){return e},e)}function s(e){return(s="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("./p5.Graphics"),e("./p5.Renderer2D"),e("../webgl/p5.RendererGL");var l="defaultCanvas0",u=(i.default.prototype.createCanvas=function(e,t,r){var n,a,s;if(i.default._validateParameters("createCanvas",arguments),(r=r||o.P2D)===o.WEBGL)(a=document.getElementById(l))&&(a.parentNode.removeChild(a),n=this._renderer,this._elements=this._elements.filter((function(e){return e!==n}))),(a=document.createElement("canvas")).id=l,a.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)a=this.canvas;else{a=document.createElement("canvas");for(var u=0;document.getElementById("defaultCanvas".concat(u));)u++;l="defaultCanvas".concat(u),a.id=l,a.classList.add("p5Canvas")}return this._setupDone||(a.dataset.hidden=!0,a.style.visibility="hidden"),(this._userNode||(0===document.getElementsByTagName("main").length&&(s=document.createElement("main"),document.body.appendChild(s)),document.getElementsByTagName("main")[0])).appendChild(a),r===o.WEBGL?(this._setProperty("_renderer",new i.default.RendererGL(a,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new i.default.Renderer2D(a,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(e,t),this._renderer._applyDefaults(),this._renderer},i.default.prototype.resizeCanvas=function(e,t,r){if(i.default._validateParameters("resizeCanvas",arguments),this._renderer){var n,o,a={};for(n in this.drawingContext){var l=this.drawingContext[n];"object"!==s(l)&&"function"!=typeof l&&(a[n]=l)}for(o in this._renderer.resize(e,t),this.width=e,this.height=t,a)try{this.drawingContext[o]=a[o]}catch(e){}r||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},i.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},i.default.prototype.createGraphics=function(e,t,r){return i.default._validateParameters("createGraphics",arguments),new i.default.Graphics(e,t,r,this)},i.default.prototype.blendMode=function(e){i.default._validateParameters("blendMode",arguments),e===o.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),e=o.BLEND),this._renderer.blendMode(e)},i.default);r.default=u},{"../webgl/p5.RendererGL":321,"./constants":256,"./main":267,"./p5.Graphics":269,"./p5.Renderer2D":271,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],274:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.slice"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=u(e("../main")),a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../constants")),s=u(e("../helpers"));function l(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,l=function(){return e},e)}function u(e){return e&&e.__esModule?e:{default:e}}e("../friendly_errors/fes_core"),e("../friendly_errors/file_errors"),e("../friendly_errors/validate_params"),o.default.prototype._normalizeArcAngles=function(e,t,r,n,i){var o;return e-=a.TWO_PI*Math.floor(e/a.TWO_PI),t-=a.TWO_PI*Math.floor(t/a.TWO_PI),o=Math.min(Math.abs(e-t),a.TWO_PI-Math.abs(e-t)),i&&(e=e<=a.HALF_PI?Math.atan(r/n*Math.tan(e)):e>a.HALF_PI&&e<=3*a.HALF_PI?Math.atan(r/n*Math.tan(e))+a.PI:Math.atan(r/n*Math.tan(e))+a.TWO_PI,t=t<=a.HALF_PI?Math.atan(r/n*Math.tan(t)):t>a.HALF_PI&&t<=3*a.HALF_PI?Math.atan(r/n*Math.tan(t))+a.PI:Math.atan(r/n*Math.tan(t))+a.TWO_PI),t<e&&(t+=a.TWO_PI),{start:e,stop:t,correspondToSamePoint:o<1e-5}},o.default.prototype.arc=function(e,t,r,n,i,a,l,u){return o.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&i!==a&&(i=this._toRadians(i),a=this._toRadians(a),r=Math.abs(r),n=Math.abs(n),e=s.default.modeAdjust(e,t,r,n,this._renderer._ellipseMode),(t=this._normalizeArcAngles(i,a,e.w,e.h,!0)).correspondToSamePoint?this._renderer.ellipse([e.x,e.y,e.w,e.h,u]):(this._renderer.arc(e.x,e.y,e.w,e.h,t.start,t.stop,l,u),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[e.x,e.y,e.w,e.h,t.start,t.stop,l]))),this},o.default.prototype.ellipse=function(e,t,r,n,i){return o.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},o.default.prototype.circle=function(){o.default._validateParameters("circle",arguments);var e=Array.prototype.slice.call(arguments,0,2);return e.push(arguments[2]),e.push(arguments[2]),this._renderEllipse.apply(this,e)},o.default.prototype._renderEllipse=function(e,t,r,n,i){return(this._renderer._doStroke||this._renderer._doFill)&&(r<0&&(r=Math.abs(r)),void 0===n?n=r:n<0&&(n=Math.abs(n)),e=s.default.modeAdjust(e,t,r,n,this._renderer._ellipseMode),this._renderer.ellipse([e.x,e.y,e.w,e.h,i]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[e.x,e.y,e.w,e.h])),this},o.default.prototype.line=function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return o.default._validateParameters("line",r),this._renderer._doStroke&&(e=this._renderer).line.apply(e,r),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",r),this},o.default.prototype.point=function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return o.default._validateParameters("point",r),this._renderer._doStroke&&(1===r.length&&r[0]instanceof o.default.Vector?this._renderer.point.call(this._renderer,r[0].x,r[0].y,r[0].z):((e=this._renderer).point.apply(e,r),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",r))),this},o.default.prototype.quad=function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return o.default._validateParameters("quad",r),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&r.length<=12?this._renderer.quad.call(this._renderer,r[0],r[1],0,r[2],r[3],0,r[4],r[5],0,r[6],r[7],0,r[8],r[9]):((e=this._renderer).quad.apply(e,r),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",r))),this},o.default.prototype.rect=function(){return o.default._validateParameters("rect",arguments),this._renderRect.apply(this,arguments)},o.default.prototype.square=function(e,t,r,n,i,a,s){return o.default._validateParameters("square",arguments),this._renderRect.call(this,e,t,r,r,n,i,a,s)},o.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){3===arguments.length&&(arguments[3]=arguments[2]);for(var e=s.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),t=[e.x,e.y,e.w,e.h],r=4;r<arguments.length;r++)t[r]=arguments[r];this._renderer.rect(t),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[e.x,e.y,e.w,e.h])}return this},o.default.prototype.triangle=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return o.default._validateParameters("triangle",t),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(t),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",t),this},e=o.default,r.default=e},{"../constants":256,"../friendly_errors/fes_core":258,"../friendly_errors/file_errors":259,"../friendly_errors/validate_params":262,"../helpers":263,"../main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],275:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=(l=e("../main"))&&l.__esModule?l:{default:l},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../constants"));function s(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,s=function(){return e},e)}o.default.prototype.ellipseMode=function(e){return o.default._validateParameters("ellipseMode",arguments),e!==a.CORNER&&e!==a.CORNERS&&e!==a.RADIUS&&e!==a.CENTER||(this._renderer._ellipseMode=e),this},o.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},o.default.prototype.rectMode=function(e){return o.default._validateParameters("rectMode",arguments),e!==a.CORNER&&e!==a.CORNERS&&e!==a.RADIUS&&e!==a.CENTER||(this._renderer._rectMode=e),this},o.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},o.default.prototype.strokeCap=function(e){return o.default._validateParameters("strokeCap",arguments),e!==a.ROUND&&e!==a.SQUARE&&e!==a.PROJECT||this._renderer.strokeCap(e),this},o.default.prototype.strokeJoin=function(e){return o.default._validateParameters("strokeJoin",arguments),e!==a.ROUND&&e!==a.BEVEL&&e!==a.MITER||this._renderer.strokeJoin(e),this},o.default.prototype.strokeWeight=function(e){return o.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(e),this};var l=o.default;r.default=l},{"../constants":256,"../main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],276:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(i=e("../main"))&&i.__esModule?i:{default:i};e("../friendly_errors/fes_core"),e("../friendly_errors/file_errors"),e("../friendly_errors/validate_params"),n.default.prototype.bezier=function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n.default._validateParameters("bezier",r),(this._renderer._doStroke||this._renderer._doFill)&&(e=this._renderer).bezier.apply(e,r),this},n.default.prototype.bezierDetail=function(e){return n.default._validateParameters("bezierDetail",arguments),this._bezierDetail=e,this},n.default.prototype.bezierPoint=function(e,t,r,i,o){n.default._validateParameters("bezierPoint",arguments);var a=1-o;return Math.pow(a,3)*e+3*Math.pow(a,2)*o*t+3*a*Math.pow(o,2)*r+Math.pow(o,3)*i},n.default.prototype.bezierTangent=function(e,t,r,i,o){n.default._validateParameters("bezierTangent",arguments);var a=1-o;return 3*i*Math.pow(o,2)-3*r*Math.pow(o,2)+6*r*a*o-6*t*a*o+3*t*Math.pow(a,2)-3*e*Math.pow(a,2)},n.default.prototype.curve=function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n.default._validateParameters("curve",r),this._renderer._doStroke&&(e=this._renderer).curve.apply(e,r),this},n.default.prototype.curveDetail=function(e){return n.default._validateParameters("curveDetail",arguments),this._curveDetail=e<3?3:e,this},n.default.prototype.curveTightness=function(e){return n.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=e,this},n.default.prototype.curvePoint=function(e,t,r,i,o){n.default._validateParameters("curvePoint",arguments);var a=o*o*o,s=o*o;return e*(-.5*a+s-.5*o)+t*(1.5*a-2.5*s+1)+r*(-1.5*a+2*s+.5*o)+i*(.5*a-.5*s)},n.default.prototype.curveTangent=function(e,t,r,i,o){n.default._validateParameters("curveTangent",arguments);var a=o*o;return e*(-3*a/2+2*o-.5)+t*(9*a/2-5*o)+r*(-9*a/2+4*o+.5)+i*(3*a/2-o)};var i=n.default;r.default=i},{"../friendly_errors/fes_core":258,"../friendly_errors/file_errors":259,"../friendly_errors/validate_params":262,"../main":267}],277:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.slice"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=(y=e("../main"))&&y.__esModule?y:{default:y},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../constants"));function s(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,s=function(){return e},e)}var l=null,u=[],c=[],h=!1,d=!1,f=!1,p=!1,m=!0,y=(o.default.prototype.beginContour=function(){return c=[],p=!0,this},o.default.prototype.beginShape=function(e){var t;return o.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(t=this._renderer).beginShape.apply(t,arguments):(l=e===a.POINTS||e===a.LINES||e===a.TRIANGLES||e===a.TRIANGLE_FAN||e===a.TRIANGLE_STRIP||e===a.QUADS||e===a.QUAD_STRIP?e:null,u=[],c=[]),this},o.default.prototype.bezierVertex=function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(o.default._validateParameters("bezierVertex",r),this._renderer.isP3D)(e=this._renderer).bezierVertex.apply(e,r);else if(0===u.length)o.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{h=!0;for(var i=[],a=0;a<r.length;a++)i[a]=r[a];i.isVert=!1,(p?c:u).push(i)}return this},o.default.prototype.curveVertex=function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return o.default._validateParameters("curveVertex",r),this._renderer.isP3D?(e=this._renderer).curveVertex.apply(e,r):(d=!0,this.vertex(r[0],r[1])),this},o.default.prototype.endContour=function(){var e=c[0].slice();e.isVert=c[0].isVert,e.moveTo=!1,c.push(e),m&&(u.push(u[0]),m=!1);for(var t=0;t<c.length;t++)u.push(c[t]);return this},o.default.prototype.endShape=function(e){if(o.default._validateParameters("endShape",arguments),this._renderer.isP3D)this._renderer.endShape(e,d,h,f,p,l);else{if(0===u.length)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;var t=e===a.CLOSE;t&&!p&&u.push(u[0]),this._renderer.endShape(e,u,d,h,f,p,l),m=!(p=f=h=d=!1),t&&u.pop()}return this},o.default.prototype.quadraticVertex=function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(o.default._validateParameters("quadraticVertex",r),this._renderer.isP3D)(e=this._renderer).quadraticVertex.apply(e,r);else{if(this._contourInited)return(e={}).x=r[0],e.y=r[1],e.x3=r[2],e.y3=r[3],e.type=a.QUADRATIC,this._contourVertices.push(e),this;if(0<u.length){f=!0;for(var i=[],s=0;s<r.length;s++)i[s]=r[s];i.isVert=!1,(p?c:u).push(i)}else o.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},o.default.prototype.vertex=function(e,t,r,n,i){var o;return this._renderer.isP3D?(o=this._renderer).vertex.apply(o,arguments):((o=[]).isVert=!0,o[0]=e,o[1]=t,o[2]=0,o[3]=0,o[4]=0,o[5]=this._renderer._getFill(),o[6]=this._renderer._getStroke(),r&&(o.moveTo=r),(p?(0===c.length&&(o.moveTo=!0),c):u).push(o)),this},o.default.prototype.normal=function(e,t,r){var n;return this._assert3d("normal"),o.default._validateParameters("normal",arguments),(n=this._renderer).normal.apply(n,arguments),this},o.default);r.default=y},{"../constants":256,"../main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],278:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}var o,a,s;e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)},"undefined"==typeof Uint8ClampedArray||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1}),Object.assign||(o=Object.keys,e=Object.defineProperty,a="function"==typeof Symbol&&"symbol"===i(Symbol()),s=Object.prototype.propertyIsEnumerable,e(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("target must be an object");for(var r,n,i,l=Object(e),u=1;u<arguments.length;++u)for(r=Object(arguments[u]),i=o(r),a&&Object.getOwnPropertySymbols&&i.push.apply(i,Object.getOwnPropertySymbols(r).filter(function(e){return function(t){return s.call(e,t)}}(r))),n=0;n<i.length;++n)l[i[n]]=r[i[n]];return l},configurable:!0,enumerable:!1,writable:!0}))},{"core-js/modules/es.array.filter":153,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-clamped-array":227,"core-js/modules/web.dom-collections.iterator":230}],279:[function(e,t,r){"use strict";e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.assign"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.assign"),e("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,(e=(e=e("./main"))&&e.__esModule?e:{default:e}).default.prototype.noLoop=function(){this._loop=!1},e.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},e.default.prototype.isLooping=function(){return this._loop},e.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},e.default.prototype.pop=function(){var e=this._styles.pop();e?(this._renderer.pop(e.renderer),Object.assign(this,e.props)):console.warn("pop() was called without matching push()")},e.default.prototype.redraw=function(e){if(!this._inUserDraw&&this._setupDone){var t=parseInt(e),r=((isNaN(t)||t<1)&&(t=1),this._isGlobal?window:this);if("function"==typeof r.draw){void 0===r.setup&&r.scale(r._pixelDensity,r._pixelDensity);for(var n=function(e){e.call(r)},i=0;i<t;i++){r.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),r._renderer.isP3D&&r._renderer._update(),r._setProperty("frameCount",r.frameCount+1),r._registeredMethods.pre.forEach(n),this._inUserDraw=!0;try{r.draw()}finally{this._inUserDraw=!1}r._registeredMethods.post.forEach(n)}}}},e=e.default,r.default=e},{"./main":267,"core-js/modules/es.array.for-each":154,"core-js/modules/es.object.assign":172,"core-js/modules/web.dom-collections.for-each":229}],280:[function(e,t,r){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(e=e("./main"))&&e.__esModule?e:{default:e};function i(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.default.prototype.applyMatrix=function(){var e=arguments[0]instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments[0])||e?(e=this._renderer).applyMatrix.apply(e,i(arguments[0])):(e=this._renderer).applyMatrix.apply(e,arguments),this},n.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},n.default.prototype.rotate=function(e,t){return n.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(e),t),this},n.default.prototype.rotateX=function(e){return this._assert3d("rotateX"),n.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(e)),this},n.default.prototype.rotateY=function(e){return this._assert3d("rotateY"),n.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(e)),this},n.default.prototype.rotateZ=function(e){return this._assert3d("rotateZ"),n.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(e)),this},n.default.prototype.scale=function(e,t,r){var i;return n.default._validateParameters("scale",arguments),e instanceof n.default.Vector?(e=(i=e).x,t=i.y,r=i.z):e instanceof Array&&(e=(i=e)[0],t=i[1],r=i[2]||1),isNaN(t)?t=r=e:isNaN(r)&&(r=1),this._renderer.scale.call(this._renderer,e,t,r),this},n.default.prototype.shearX=function(e){return n.default._validateParameters("shearX",arguments),e=this._toRadians(e),this._renderer.applyMatrix(1,0,Math.tan(e),1,0,0),this},n.default.prototype.shearY=function(e){return n.default._validateParameters("shearY",arguments),e=this._toRadians(e),this._renderer.applyMatrix(1,Math.tan(e),0,1,0,0),this},n.default.prototype.translate=function(e,t,r){return n.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(e,t,r):this._renderer.translate(e,t),this},e=n.default,r.default=e},{"./main":267,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-prototype-of":175,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":230}],281:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.ends-with"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.ends-with"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var i=(e=e("../core/main"))&&e.__esModule?e:{default:e};function o(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e){return(a="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}i.default.prototype.storeItem=function(e,t){"string"!=typeof e&&console.log("The argument that you passed to storeItem() - ".concat(e," is not a string.")),e.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(e," must not end with 'p5TypeID'.")),void 0===t&&console.log("You cannot store undefined variables using storeItem().");var r=a(t);switch(r){case"number":case"boolean":t=t.toString();break;case"object":t instanceof i.default.Color?r="p5.Color":t instanceof i.default.Vector&&(r="p5.Vector",t=[t.x,t.y,t.z]),t=JSON.stringify(t)}localStorage.setItem(e,t),e="".concat(e,"p5TypeID"),localStorage.setItem(e,r)},i.default.prototype.getItem=function(e){var t=localStorage.getItem(e),r=localStorage.getItem("".concat(e,"p5TypeID"));if(void 0===r)console.log("Unable to determine type of item stored under ".concat(e,"in local storage. Did you save the item with something other than setItem()?"));else if(null!==t)switch(r){case"number":t=parseFloat(t);break;case"boolean":t="true"===t;break;case"object":t=JSON.parse(t);break;case"p5.Color":t=JSON.parse(t),t=this.color.apply(this,o(t.levels));break;case"p5.Vector":t=JSON.parse(t),t=this.createVector.apply(this,o(t))}return t},i.default.prototype.clearStorage=function(){localStorage.clear()},i.default.prototype.removeItem=function(e){"string"!=typeof e&&console.log("The argument that you passed to removeItem() - ".concat(e," is not a string.")),localStorage.removeItem(e),localStorage.removeItem("".concat(e,"p5TypeID"))}},{"../core/main":267,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.ends-with":184,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],282:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.string.sub"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.string.sub"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(e=e("../core/main"))&&e.__esModule?e:{default:e};n.default.prototype.createStringDict=function(e,t){return n.default._validateParameters("createStringDict",arguments),new n.default.StringDict(e,t)},n.default.prototype.createNumberDict=function(e,t){return n.default._validateParameters("createNumberDict",arguments),new n.default.NumberDict(e,t)},n.default.TypedDict=function(e,t){return e instanceof Object?this.data=e:(this.data={},this.data[e]=t),this},n.default.TypedDict.prototype.size=function(){return Object.keys(this.data).length},n.default.TypedDict.prototype.hasKey=function(e){return this.data.hasOwnProperty(e)},n.default.TypedDict.prototype.get=function(e){if(this.data.hasOwnProperty(e))return this.data[e];console.log("".concat(e," does not exist in this Dictionary"))},n.default.TypedDict.prototype.set=function(e,t){this._validate(t)?this.data[e]=t:console.log("Those values dont work for this dictionary type.")},n.default.TypedDict.prototype._addObj=function(e){for(var t in e)this.set(t,e[t])},n.default.TypedDict.prototype.create=function(e,t){e instanceof Object&&void 0===t?this._addObj(e):void 0!==e?this.set(e,t):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")},n.default.TypedDict.prototype.clear=function(){this.data={}},n.default.TypedDict.prototype.remove=function(e){if(!this.data.hasOwnProperty(e))throw new Error("".concat(e," does not exist in this Dictionary"));delete this.data[e]},n.default.TypedDict.prototype.print=function(){for(var e in this.data)console.log("key:".concat(e," value:").concat(this.data[e]))},n.default.TypedDict.prototype.saveTable=function(e){var t,r="";for(t in this.data)r+="".concat(t,",").concat(this.data[t],"\n");var i=new Blob([r],{type:"text/csv"});n.default.prototype.downloadFile(i,e||"mycsv","csv")},n.default.TypedDict.prototype.saveJSON=function(e,t){n.default.prototype.saveJSON(this.data,e,t)},n.default.TypedDict.prototype._validate=function(e){return!0},n.default.StringDict=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.default.TypedDict.apply(this,t)},n.default.StringDict.prototype=Object.create(n.default.TypedDict.prototype),n.default.StringDict.prototype._validate=function(e){return"string"==typeof e},n.default.NumberDict=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.default.TypedDict.apply(this,t)},n.default.NumberDict.prototype=Object.create(n.default.TypedDict.prototype),n.default.NumberDict.prototype._validate=function(e){return"number"==typeof e},n.default.NumberDict.prototype.add=function(e,t){this.data.hasOwnProperty(e)?this.data[e]+=t:console.log("The key - ".concat(e," does not exist in this dictionary."))},n.default.NumberDict.prototype.sub=function(e,t){this.add(e,-t)},n.default.NumberDict.prototype.mult=function(e,t){this.data.hasOwnProperty(e)?this.data[e]*=t:console.log("The key - ".concat(e," does not exist in this dictionary."))},n.default.NumberDict.prototype.div=function(e,t){this.data.hasOwnProperty(e)?this.data[e]/=t:console.log("The key - ".concat(e," does not exist in this dictionary."))},n.default.NumberDict.prototype._valueTest=function(e){if(0===Object.keys(this.data).length)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(1===Object.keys(this.data).length)return this.data[Object.keys(this.data)[0]];var t,r=this.data[Object.keys(this.data)[0]];for(t in this.data)this.data[t]*e<r*e&&(r=this.data[t]);return r},n.default.NumberDict.prototype.minValue=function(){return this._valueTest(1)},n.default.NumberDict.prototype.maxValue=function(){return this._valueTest(-1)},n.default.NumberDict.prototype._keyTest=function(e){if(0===Object.keys(this.data).length)throw new Error("Unable to use minValue on an empty NumberDict");if(1===Object.keys(this.data).length)return Object.keys(this.data)[0];for(var t=Object.keys(this.data)[0],r=1;r<Object.keys(this.data).length;r++)Object.keys(this.data)[r]*e<t*e&&(t=Object.keys(this.data)[r]);return t},n.default.NumberDict.prototype.minKey=function(){return this._keyTest(1)},n.default.NumberDict.prototype.maxKey=function(){return this._keyTest(-1)},e=n.default.TypedDict,r.default=e},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.object.keys":176,"core-js/modules/es.string.sub":192}],283:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/web.url"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/web.url"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=(e=e("../core/main"))&&e.__esModule?e:{default:e};function o(e){return(o="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}function a(e,t,r){return(t._userNode||document.body).appendChild(e),r=new(r?i.default.MediaElement:i.default.Element)(e,t),t._elements.push(r),r}function s(e,t,r,n){var i=document.createElement(t),o=("string"==typeof(r=r||"")&&(r=[r]),!0),s=void(t=!1);try{for(var l,u=r[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value,h=document.createElement("source");h.setAttribute("src",c),i.appendChild(h)}}catch(e){t=!0,s=e}finally{try{o||null==u.return||u.return()}finally{if(t)throw s}}"function"==typeof n&&i.addEventListener("canplaythrough",(function e(){n(),i.removeEventListener("canplaythrough",e)}));var d=a(i,e,!0);return d.loadedmetadata=!1,i.addEventListener("loadedmetadata",(function(){d.width=i.videoWidth,d.height=i.videoHeight,0===d.elt.width&&(d.elt.width=i.videoWidth),0===d.elt.height&&(d.elt.height=i.videoHeight),d.presetPlaybackRate&&(d.elt.playbackRate=d.presetPlaybackRate,delete d.presetPlaybackRate),d.loadedmetadata=!0})),d}function l(e,t,r,n){this.callback=e,this.time=t,this.id=r,this.val=n}i.default.prototype.select=function(e,t){return i.default._validateParameters("select",arguments),(t=this._getContainer(t).querySelector(e))?this._wrapElement(t):null},i.default.prototype.selectAll=function(e,t){i.default._validateParameters("selectAll",arguments);var r=[],n=this._getContainer(t).querySelectorAll(e);if(n)for(var o=0;o<n.length;o++){var a=this._wrapElement(n[o]);r.push(a)}return r},i.default.prototype._getContainer=function(e){var t=document;return"string"==typeof e?t=document.querySelector(e)||document:e instanceof i.default.Element?t=e.elt:e instanceof HTMLElement&&(t=e),t},i.default.prototype._wrapElement=function(e){var t,r=Array.prototype.slice.call(e.children);return"INPUT"===e.tagName&&"checkbox"===e.type?((t=new i.default.Element(e,this)).checked=function(){return 0===arguments.length?this.elt.checked:(this.elt.checked=!!arguments[0],this)},t):"VIDEO"===e.tagName||"AUDIO"===e.tagName?new i.default.MediaElement(e,this):"SELECT"===e.tagName?this.createSelect(new i.default.Element(e,this)):0<r.length&&r.every((function(e){return"INPUT"===e.tagName||"LABEL"===e.tagName}))?this.createRadio(new i.default.Element(e,this)):new i.default.Element(e,this)},i.default.prototype.removeElements=function(e){i.default._validateParameters("removeElements",arguments),this._elements.filter((function(e){return!(e.elt instanceof HTMLCanvasElement)})).map((function(e){return e.remove()}))},i.default.Element.prototype.changed=function(e){return i.default.Element._adjustListener("change",e,this),this},i.default.Element.prototype.input=function(e){return i.default.Element._adjustListener("input",e,this),this},i.default.prototype.createDiv=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=document.createElement("div");return t.innerHTML=e,a(t,this)},i.default.prototype.createP=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=document.createElement("p");return t.innerHTML=e,a(t,this)},i.default.prototype.createSpan=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=document.createElement("span");return t.innerHTML=e,a(t,this)},i.default.prototype.createImg=function(){i.default._validateParameters("createImg",arguments);var e,t=document.createElement("img"),r=arguments;return 1<r.length&&"string"==typeof r[1]&&(t.alt=r[1]),2<r.length&&"string"==typeof r[2]&&(t.crossOrigin=r[2]),t.src=r[0],e=a(t,this),t.addEventListener("load",(function(){e.width=t.offsetWidth||t.width,e.height=t.offsetHeight||t.height;var n=r[r.length-1];"function"==typeof n&&n(e)})),e},i.default.prototype.createA=function(e,t,r){i.default._validateParameters("createA",arguments);var n=document.createElement("a");return n.href=e,n.innerHTML=t,r&&(n.target=r),a(n,this)},i.default.prototype.createSlider=function(e,t,r,n){i.default._validateParameters("createSlider",arguments);var o=document.createElement("input");return o.type="range",o.min=e,o.max=t,0===n?o.step=1e-18:n&&(o.step=n),"number"==typeof r&&(o.value=r),a(o,this)},i.default.prototype.createButton=function(e,t){i.default._validateParameters("createButton",arguments);var r=document.createElement("button");return r.innerHTML=e,t&&(r.value=t),a(r,this)},i.default.prototype.createCheckbox=function(){i.default._validateParameters("createCheckbox",arguments);var e=document.createElement("div"),t=document.createElement("input"),r=(t.type="checkbox",document.createElement("label")),n=(r.appendChild(t),e.appendChild(r),a(e,this));return n.checked=function(){var e=n.elt.firstElementChild.getElementsByTagName("input")[0];if(e){if(0===arguments.length)return e.checked;e.checked=!!arguments[0]}return n},this.value=function(e){return n.value=e,this},arguments[0]&&(n.value(arguments[0]),(e=document.createElement("span")).innerHTML=arguments[0],r.appendChild(e)),arguments[1]&&(t.checked=!0),n},i.default.prototype.createSelect=function(){i.default._validateParameters("createSelect",arguments);var e,t,r=arguments[0];return r instanceof i.default.Element&&r.elt instanceof HTMLSelectElement?this.elt=(e=r).elt:r instanceof HTMLSelectElement?(e=a(r,this),this.elt=r):(t=document.createElement("select"),r&&"boolean"==typeof r&&t.setAttribute("multiple","true"),e=a(t,this),this.elt=t),e.option=function(e,t){var r;if(void 0!==e){for(var n,i=0;i<this.elt.length;i+=1)if(this.elt[i].textContent===e){r=i;break}void 0!==r?!1===t?this.elt.remove(r):this.elt[r].value=t:((n=document.createElement("option")).textContent=e,n.value=void 0===t?e:t,this.elt.appendChild(n),this._pInst._elements.push(n))}},e.selected=function(e){if(void 0!==e){for(var t=0;t<this.elt.length;t+=1)this.elt[t].value.toString()===e.toString()&&(this.elt.selectedIndex=t);return this}if(this.elt.getAttribute("multiple")){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=this.elt.selectedOptions[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;r.push(l.value)}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}return this.elt.value},e.disable=function(e){if("string"==typeof e)for(var t=0;t<this.elt.length;t++)this.elt[t].value.toString()===e&&(this.elt[t].disabled=!0,this.elt[t].selected=!1);else this.elt.disabled=!0;return this},e},i.default.prototype.createRadio=function(){function e(e){return e instanceof HTMLInputElement&&"radio"===e.type}function t(e){return e instanceof HTMLLabelElement}var r,n,o,s=arguments[0];return s instanceof i.default.Element&&(s.elt instanceof HTMLDivElement||s.elt instanceof HTMLSpanElement)?(r=s,this.elt=s.elt):s instanceof HTMLDivElement||s instanceof HTMLSpanElement?(r=a(s,this),n=this.elt=s,"string"==typeof arguments[1]&&(o=arguments[1])):("string"==typeof s&&(o=s),n=document.createElement("div"),r=a(n,this),this.elt=n),r._name=o||"radioOption",r._getOptionsArray=function(){return Array.from(this.elt.children).filter((function(r){return e(r)||t(r)&&e(r.firstElementChild)})).map((function(t){return e(t)?t:t.firstElementChild}))},r.option=function(e,n){var i,o,a,s=!0,l=!1,u=void 0;try{for(var c,h=r._getOptionsArray()[Symbol.iterator]();!(s=(c=h.next()).done);s=!0){var d=c.value;if(d.value===e){i=d;break}}}catch(e){l=!0,u=e}finally{try{s||null==h.return||h.return()}finally{if(l)throw u}}return void 0===i&&((i=document.createElement("input")).setAttribute("type","radio"),i.setAttribute("value",e)),i.setAttribute("name",r._name),t(i.parentElement)?o=i.parentElement:(o=document.createElement("label")).insertAdjacentElement("afterbegin",i),o.lastElementChild instanceof HTMLSpanElement?a=o.lastElementChild:(a=document.createElement("span"),i.insertAdjacentElement("afterend",a)),a.innerHTML=void 0===n?e:n,this.elt.appendChild(o),i},r.remove=function(e){var n=!0,i=!1,o=void 0;try{for(var a,s=r._getOptionsArray()[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;if(l.value===e)return void(t(l.parentElement)?l.parentElement:l).remove()}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}},r.value=function(){var e="",t=!0,n=!1,i=void 0;try{for(var o,a=r._getOptionsArray()[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;if(s.checked){e=s.value;break}}}catch(e){n=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw i}}return e},r.selected=function(e){var t=null;if(void 0===e){var n=!0,i=!1,o=void 0;try{for(var a,s=r._getOptionsArray()[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;if(l.checked){t=l;break}}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}}else{r._getOptionsArray().forEach((function(e){e.checked=!1,e.removeAttribute("checked")}));var u=!0;i=!1,o=void 0;try{for(var c,h=r._getOptionsArray()[Symbol.iterator]();!(u=(c=h.next()).done);u=!0){var d=c.value;d.value===e&&(d.setAttribute("checked",!0),d.checked=!0,t=d)}}catch(e){i=!0,o=e}finally{try{u||null==h.return||h.return()}finally{if(i)throw o}}}return t},r.disable=function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=!0,n=!1,i=void 0;try{for(var o,a=r._getOptionsArray()[Symbol.iterator]();!(t=(o=a.next()).done);t=!0)o.value.setAttribute("disabled",e)}catch(e){n=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw i}}},r},i.default.prototype.createColorPicker=function(e){i.default._validateParameters("createColorPicker",arguments);var t=document.createElement("input");return t.type="color",e?e instanceof i.default.Color?t.value=e.toString("#rrggbb"):(i.default.prototype._colorMode="rgb",i.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},t.value=i.default.prototype.color(e).toString("#rrggbb")):t.value="#000000",(t=a(t,this)).color=function(){return e&&(e.mode&&(i.default.prototype._colorMode=e.mode),e.maxes&&(i.default.prototype._colorMaxes=e.maxes)),i.default.prototype.color(this.elt.value)},t},i.default.prototype.createInput=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text",r=(i.default._validateParameters("createInput",arguments),document.createElement("input"));return r.setAttribute("value",e),r.setAttribute("type",t),a(r,this)},i.default.prototype.createFileInput=function(e){var t,r=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(i.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(t=document.createElement("input")).setAttribute("type","file"),r&&t.setAttribute("multiple",!0),t.addEventListener("change",(function(t){var r=!0,n=!1,o=void 0;try{for(var a,s=t.target.files[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;i.default.File._load(l,e)}}catch(t){n=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(n)throw o}}}),!1),a(t,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},i.default.prototype.createVideo=function(e,t){return i.default._validateParameters("createVideo",arguments),s(this,"video",e,t)},i.default.prototype.createAudio=function(e,t){return i.default._validateParameters("createAudio",arguments),s(this,"audio",e,t)},i.default.prototype.VIDEO="video",i.default.prototype.AUDIO="audio",void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return t?new Promise((function(r,n){t.call(navigator,e,r,n)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),i.default.prototype.createCapture=function(){if(i.default._validateParameters("createCapture",arguments),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");var e,t=!0,r=!0,n=!0,s=!1,l=void 0;try{for(var u,c=arguments[Symbol.iterator]();!(n=(u=c.next()).done);n=!0){var h=u.value;h===i.default.prototype.VIDEO?r=!1:h===i.default.prototype.AUDIO?t=!1:"object"===o(h)?d=h:"function"==typeof h&&(e=h)}}catch(e){s=!0,l=e}finally{try{n||null==c.return||c.return()}finally{if(s)throw l}}var d=d||{video:t,audio:r},f=document.createElement("video"),p=(f.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(d).then((function(t){try{"srcObject"in f?f.srcObject=t:f.src=window.URL.createObjectURL(t)}catch(e){f.src=t}}),console.log),a(f,this,!0));return p.loadedmetadata=!1,f.addEventListener("loadedmetadata",(function(){f.play(),f.width?(p.width=f.width,p.height=f.height):(p.width=p.elt.width=f.videoWidth,p.height=p.elt.height=f.videoHeight),p.loadedmetadata=!0,e&&e(f.srcObject)})),p},i.default.prototype.createElement=function(e,t){return i.default._validateParameters("createElement",arguments),e=document.createElement(e),void 0!==t&&(e.innerHTML=t),a(e,this)},i.default.Element.prototype.addClass=function(e){return this.elt.className?this.hasClass(e)||(this.elt.className=this.elt.className+" "+e):this.elt.className=e,this},i.default.Element.prototype.removeClass=function(e){return this.elt.classList.remove(e),this},i.default.Element.prototype.hasClass=function(e){return this.elt.classList.contains(e)},i.default.Element.prototype.toggleClass=function(e){return this.elt.classList.contains(e)?this.elt.classList.remove(e):this.elt.classList.add(e),this},i.default.Element.prototype.child=function(e){return void 0===e?this.elt.childNodes:("string"==typeof e?("#"===e[0]&&(e=e.substring(1)),e=document.getElementById(e)):e instanceof i.default.Element&&(e=e.elt),e instanceof HTMLElement&&this.elt.appendChild(e),this)},i.default.Element.prototype.center=function(e){var t=this.elt.style.display,r="none"===this.elt.style.display,n="none"===this.parent().style.display,i={x:this.elt.offsetLeft,y:this.elt.offsetTop},o=(r&&this.show(),n&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),a=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return"both"===e||void 0===e?this.position(o/2+this.parent().offsetLeft,a/2+this.parent().offsetTop):"horizontal"===e?this.position(o/2+this.parent().offsetLeft,i.y):"vertical"===e&&this.position(i.x,a/2+this.parent().offsetTop),this.style("display",t),r&&this.hide(),n&&this.parent().hide(),this},i.default.Element.prototype.html=function(){return 0===arguments.length?this.elt.innerHTML:(arguments[1]?this.elt.insertAdjacentHTML("beforeend",arguments[0]):this.elt.innerHTML=arguments[0],this)},i.default.Element.prototype.position=function(){return 0===arguments.length?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position="static"!==arguments[2]&&"fixed"!==arguments[2]&&"relative"!==arguments[2]&&"sticky"!==arguments[2]&&"initial"!==arguments[2]&&"inherit"!==arguments[2]?"absolute":arguments[2],this.elt.style.left=arguments[0]+"px",this.elt.style.top=arguments[1]+"px",this.x=arguments[0],this.y=arguments[1],this)},i.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var e="";return this.elt.style.transform&&(e=(e=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),2===arguments.length?this.elt.style.transform="translate("+arguments[0]+"px, "+arguments[1]+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+arguments[0]+"px,"+arguments[1]+"px,"+arguments[2]+"px)",this.elt.parentElement.style.perspective=3===arguments.length?"1000px":arguments[3]+"px"),this.elt.style.transform+=e,this},i.default.Element.prototype._rotate=function(){var e="";return this.elt.style.transform&&(e=(e=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),1===arguments.length?this.elt.style.transform="rotate("+arguments[0]+"deg)":2===arguments.length?this.elt.style.transform="rotate("+arguments[0]+"deg, "+arguments[1]+"deg)":3===arguments.length&&(this.elt.style.transform="rotateX("+arguments[0]+"deg)",this.elt.style.transform+="rotateY("+arguments[1]+"deg)",this.elt.style.transform+="rotateZ("+arguments[2]+"deg)"),this.elt.style.transform+=e,this},i.default.Element.prototype.style=function(e,t){if(void 0===(t=t instanceof i.default.Color?"rgba("+t.levels[0]+","+t.levels[1]+","+t.levels[2]+","+t.levels[3]/255+")":t)){if(-1===e.indexOf(":"))return window.getComputedStyle(this.elt).getPropertyValue(e);for(var r=e.split(";"),n=0;n<r.length;n++){var o=r[n].split(":");o[0]&&o[1]&&(this.elt.style[o[0].trim()]=o[1].trim())}}else this.elt.style[e]=t,"width"!==e&&"height"!==e&&"left"!==e&&"top"!==e||(t=window.getComputedStyle(this.elt).getPropertyValue(e).replace(/[^\d.]/g,""),this[e]=Math.round(parseFloat(t,10)));return this},i.default.Element.prototype.attribute=function(e,t){if(null==this.elt.firstChild||"checkbox"!==this.elt.firstChild.type&&"radio"!==this.elt.firstChild.type)return void 0===t?this.elt.getAttribute(e):(this.elt.setAttribute(e,t),this);if(void 0===t)return this.elt.firstChild.getAttribute(e);for(var r=0;r<this.elt.childNodes.length;r++)this.elt.childNodes[r].setAttribute(e,t)},i.default.Element.prototype.removeAttribute=function(e){if(null!=this.elt.firstChild&&("checkbox"===this.elt.firstChild.type||"radio"===this.elt.firstChild.type))for(var t=0;t<this.elt.childNodes.length;t++)this.elt.childNodes[t].removeAttribute(e);return this.elt.removeAttribute(e),this},i.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments[0],this):"range"===this.elt.type?parseFloat(this.elt.value):this.elt.value},i.default.Element.prototype.show=function(){return this.elt.style.display="block",this},i.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},i.default.Element.prototype.size=function(e,t){if(0===arguments.length)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var r=e,n=t,o=i.default.prototype.AUTO;if(r!==o||n!==o){if(r===o?r=t*this.width/this.height:n===o&&(n=e*this.height/this.width),this.elt instanceof HTMLCanvasElement){var a,s={},l=this.elt.getContext("2d");for(a in l)s[a]=l[a];for(a in this.elt.setAttribute("width",r*this._pInst._pixelDensity),this.elt.setAttribute("height",n*this._pInst._pixelDensity),this.elt.style.width=r+"px",this.elt.style.height=n+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),s)this.elt.getContext("2d")[a]=s[a]}else this.elt.style.width=r+"px",this.elt.style.height=n+"px",this.elt.width=r,this.elt.height=n;this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",this.elt.offsetWidth),this._pInst._setProperty("height",this.elt.offsetHeight))}return this},i.default.Element.prototype.remove=function(){this instanceof i.default.MediaElement&&(this.stop(),null!==(t=this.elt.srcObject)&&t.getTracks().forEach((function(e){e.stop()})));var e,t=this._pInst._elements.indexOf(this);for(e in-1!==t&&this._pInst._elements.splice(t,1),this._events)this.elt.removeEventListener(e,this._events[e]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},i.default.Element.prototype.drop=function(e,t){var r;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",r=function(e){e.preventDefault()}),this.elt.addEventListener("dragleave",r)),i.default.Element._attachListener("drop",(function(r){r.preventDefault(),"function"==typeof t&&t.call(this,r);for(var n=r.dataTransfer.files,o=0;o<n.length;o++){var a=n[o];i.default.File._load(a,e)}}),this)):console.log("The File APIs are not fully supported in this browser."),this},i.default.MediaElement=function(e,t){i.default.Element.call(this,e,t);var r=this;this.elt.crossOrigin="anonymous",this._prevTime=0,this._cueIDCounter=0,this._cues=[],(this._pixelsState=this)._pixelDensity=1,this._modified=!1,Object.defineProperty(r,"src",{get:function(){var e=r.elt.children[0].src,t=r.elt.src===window.location.href?"":r.elt.src;return e===window.location.href?t:e},set:function(t){for(var n=0;n<r.elt.children.length;n++)r.elt.removeChild(r.elt.children[n]);var i=document.createElement("source");i.src=t,e.appendChild(i),r.elt.src=t,r.modified=!0}}),r._onended=function(){},r.elt.onended=function(){r._onended(r)}},i.default.MediaElement.prototype=Object.create(i.default.Element.prototype),i.default.MediaElement.prototype.play=function(){var e,t=this;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(e=this.elt.play())&&e.catch&&e.catch((function(e){"NotAllowedError"===e.name?i.default._friendlyAutoplayError(t.src):console.error("Media play method encountered an unexpected error",e)})),this},i.default.MediaElement.prototype.stop=function(){return this.elt.pause(),this.elt.currentTime=0,this},i.default.MediaElement.prototype.pause=function(){return this.elt.pause(),this},i.default.MediaElement.prototype.loop=function(){return this.elt.setAttribute("loop",!0),this.play(),this},i.default.MediaElement.prototype.noLoop=function(){return this.elt.removeAttribute("loop"),this},i.default.MediaElement.prototype._setupAutoplayFailDetection=function(){var e=this,t=setTimeout((function(){return i.default._friendlyAutoplayError(e.src)}),500);this.elt.addEventListener("play",(function(){return clearTimeout(t)}),{passive:!0,once:!0})},i.default.MediaElement.prototype.autoplay=function(e){var t=this,r=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",e),e&&!r&&(e=function(){return t._setupAutoplayFailDetection()},4===this.elt.readyState?e():this.elt.addEventListener("canplay",e,{passive:!0,once:!0})),this},i.default.MediaElement.prototype.volume=function(e){if(void 0===e)return this.elt.volume;this.elt.volume=e},i.default.MediaElement.prototype.speed=function(e){if(void 0===e)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=e:this.presetPlaybackRate=e},i.default.MediaElement.prototype.time=function(e){return void 0===e?this.elt.currentTime:(this.elt.currentTime=e,this)},i.default.MediaElement.prototype.duration=function(){return this.elt.duration},i.default.MediaElement.prototype.pixels=[],i.default.MediaElement.prototype._ensureCanvas=function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0)),this.loadedmetadata&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.setModified(!0))},i.default.MediaElement.prototype.loadPixels=function(){return this._ensureCanvas(),i.default.Renderer2D.prototype.loadPixels.apply(this,arguments)},i.default.MediaElement.prototype.updatePixels=function(e,t,r,n){return this.loadedmetadata&&(this._ensureCanvas(),i.default.Renderer2D.prototype.updatePixels.call(this,e,t,r,n)),this.setModified(!0),this},i.default.MediaElement.prototype.get=function(){return this._ensureCanvas(),i.default.Renderer2D.prototype.get.apply(this,arguments)},i.default.MediaElement.prototype._getPixel=function(){return this.loadPixels(),i.default.Renderer2D.prototype._getPixel.apply(this,arguments)},i.default.MediaElement.prototype.set=function(e,t,r){this.loadedmetadata&&(this._ensureCanvas(),i.default.Renderer2D.prototype.set.call(this,e,t,r),this.setModified(!0))},i.default.MediaElement.prototype.copy=function(){this._ensureCanvas(),i.default.prototype.copy.apply(this,arguments)},i.default.MediaElement.prototype.mask=function(){this.loadPixels(),this.setModified(!0),i.default.Image.prototype.mask.apply(this,arguments)},i.default.MediaElement.prototype.isModified=function(){return this._modified},i.default.MediaElement.prototype.setModified=function(e){this._modified=e},i.default.MediaElement.prototype.onended=function(e){return this._onended=e,this},i.default.MediaElement.prototype.connect=function(e){var t,r;if("function"==typeof i.default.prototype.getAudioContext)t=i.default.prototype.getAudioContext(),r=i.default.soundOut.input;else try{r=(t=e.context).destination}catch(e){throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=t.createMediaElementSource(this.elt),this.audioSourceNode.connect(r)),e?e.input?this.audioSourceNode.connect(e.input):this.audioSourceNode.connect(e):this.audioSourceNode.connect(r)},i.default.MediaElement.prototype.disconnect=function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()},i.default.MediaElement.prototype.showControls=function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0},i.default.MediaElement.prototype.hideControls=function(){this.elt.controls=!1},i.default.MediaElement.prototype.addCue=function(e,t,r){var n=this._cueIDCounter++;return t=new l(t,e,n,r),this._cues.push(t),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),n},i.default.MediaElement.prototype.removeCue=function(e){for(var t=0;t<this._cues.length;t++)this._cues[t].id===e&&(console.log(e),this._cues.splice(t,1));0===this._cues.length&&(this.elt.ontimeupdate=null)},i.default.MediaElement.prototype.clearCues=function(){this._cues=[],this.elt.ontimeupdate=null},i.default.MediaElement.prototype._onTimeUpdate=function(){for(var e=this.time(),t=0;t<this._cues.length;t++){var r=this._cues[t].time,n=this._cues[t].val;this._prevTime<r&&r<=e&&this._cues[t].callback(n)}this._prevTime=e},i.default.File=function(e,t){this.file=e,this._pInst=t,t=e.type.split("/"),this.type=t[0],this.subtype=t[1],this.name=e.name,this.size=e.size,this.data=void 0},i.default.File._createLoader=function(e,t){var r=new FileReader;return r.onload=function(r){var n,o=new i.default.File(e);"application/json"===o.file.type?o.data=JSON.parse(r.target.result):"text/xml"===o.file.type?(n=(new DOMParser).parseFromString(r.target.result,"text/xml"),o.data=new i.default.XML(n.documentElement)):o.data=r.target.result,t(o)},r},i.default.File._load=function(e,t){var r;/^text\//.test(e.type)||"application/json"===e.type?i.default.File._createLoader(e,t).readAsText(e):/^(video|audio)\//.test(e.type)?((r=new i.default.File(e)).data=URL.createObjectURL(e),t(r)):i.default.File._createLoader(e,t).readAsDataURL(e)},e=i.default,r.default=e},{"../core/main":267,"core-js/modules/es.array.every":151,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.from":155,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":165,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230,"core-js/modules/web.url":232}],284:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=(y=e("../core/main"))&&y.__esModule?y:{default:y},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../core/constants"));function s(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,s=function(){return e},e)}o.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",o.default.prototype.accelerationX=0,o.default.prototype.accelerationY=0,o.default.prototype.accelerationZ=0,o.default.prototype.pAccelerationX=0,o.default.prototype.pAccelerationY=0,o.default.prototype.pAccelerationZ=0,o.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},o.default.prototype.rotationX=0,o.default.prototype.rotationY=0,o.default.prototype.rotationZ=0,o.default.prototype.pRotationX=0,o.default.prototype.pRotationY=0;var l=o.default.prototype.pRotationZ=0,u=0,c=0,h="clockwise",d="clockwise",f="clockwise",p=(o.default.prototype.pRotateDirectionX=void 0,o.default.prototype.pRotateDirectionY=void 0,o.default.prototype.pRotateDirectionZ=void 0,o.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},o.default.prototype.turnAxis=void 0,.5),m=30,y=(o.default.prototype.setMoveThreshold=function(e){o.default._validateParameters("setMoveThreshold",arguments),p=e},o.default.prototype.setShakeThreshold=function(e){o.default._validateParameters("setShakeThreshold",arguments),m=e},o.default.prototype._ondeviceorientation=function(e){this._updatePRotations(),this._angleMode===a.radians&&(e.beta=e.beta*(_PI/180),e.gamma=e.gamma*(_PI/180),e.alpha=e.alpha*(_PI/180)),this._setProperty("rotationX",e.beta),this._setProperty("rotationY",e.gamma),this._setProperty("rotationZ",e.alpha),this._handleMotion()},o.default.prototype._ondevicemotion=function(e){this._updatePAccelerations(),this._setProperty("accelerationX",2*e.acceleration.x),this._setProperty("accelerationY",2*e.acceleration.y),this._setProperty("accelerationZ",2*e.acceleration.z),this._handleMotion()},o.default.prototype._handleMotion=function(){90===window.orientation||-90===window.orientation?this._setProperty("deviceOrientation","landscape"):0===window.orientation?this._setProperty("deviceOrientation","portrait"):void 0===window.orientation&&this._setProperty("deviceOrientation","undefined");var e,t,r,n,i,o=this._isGlobal?window:this;"function"==typeof o.deviceMoved&&(Math.abs(this.accelerationX-this.pAccelerationX)>p||Math.abs(this.accelerationY-this.pAccelerationY)>p||Math.abs(this.accelerationZ-this.pAccelerationZ)>p)&&o.deviceMoved(),"function"==typeof o.deviceTurned&&(t=this.rotationX+180,e=this.pRotationX+180,r=l+180,0<t-e&&t-e<270||t-e<-270?h="clockwise":(t-e<0||270<t-e)&&(h="counter-clockwise"),h!==this.pRotateDirectionX&&(r=t),90<Math.abs(t-r)&&Math.abs(t-r)<270&&(r=t,this._setProperty("turnAxis","X"),o.deviceTurned()),this.pRotateDirectionX=h,l=r-180,e=this.rotationY+180,t=this.pRotationY+180,r=u+180,0<e-t&&e-t<270||e-t<-270?d="clockwise":(e-t<0||270<e-this.pRotationY)&&(d="counter-clockwise"),d!==this.pRotateDirectionY&&(r=e),90<Math.abs(e-r)&&Math.abs(e-r)<270&&(r=e,this._setProperty("turnAxis","Y"),o.deviceTurned()),this.pRotateDirectionY=d,u=r-180,0<this.rotationZ-this.pRotationZ&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270?f="clockwise":(this.rotationZ-this.pRotationZ<0||270<this.rotationZ-this.pRotationZ)&&(f="counter-clockwise"),f!==this.pRotateDirectionZ&&(c=this.rotationZ),90<Math.abs(this.rotationZ-c)&&Math.abs(this.rotationZ-c)<270&&(c=this.rotationZ,this._setProperty("turnAxis","Z"),o.deviceTurned()),this.pRotateDirectionZ=f,this._setProperty("turnAxis",void 0)),"function"==typeof o.deviceShaken&&(null!==this.pAccelerationX&&(n=Math.abs(this.accelerationX-this.pAccelerationX),i=Math.abs(this.accelerationY-this.pAccelerationY)),m<n+i&&o.deviceShaken())},o.default);r.default=y},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],285:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(e=e("../core/main"))&&e.__esModule?e:{default:e};n.default.prototype.isKeyPressed=!1,n.default.prototype.keyIsPressed=!1,n.default.prototype.key="",n.default.prototype.keyCode=0,n.default.prototype._onkeydown=function(e){var t;this._downKeys[e.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",e.which),this._downKeys[e.which]=!0,this._setProperty("key",e.key||String.fromCharCode(e.which)||e.which),"function"!=typeof(t=this._isGlobal?window:this).keyPressed||e.charCode||!1===t.keyPressed(e)&&e.preventDefault())},n.default.prototype._onkeyup=function(e){this._downKeys[e.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",e.key||String.fromCharCode(e.which)||e.which),this._setProperty("keyCode",e.which);var t=this._isGlobal?window:this;"function"==typeof t.keyReleased&&!1===t.keyReleased(e)&&e.preventDefault()},n.default.prototype._onkeypress=function(e){var t;e.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",e.which),this._setProperty("key",e.key||String.fromCharCode(e.which)||e.which),"function"==typeof(t=this._isGlobal?window:this).keyTyped&&!1===t.keyTyped(e)&&e.preventDefault())},n.default.prototype._onblur=function(e){this._downKeys={}},n.default.prototype.keyIsDown=function(e){return n.default._validateParameters("keyIsDown",arguments),this._downKeys[e]||!1},n.default.prototype._areDownKeys=function(){for(var e in this._downKeys)if(this._downKeys.hasOwnProperty(e)&&!0===this._downKeys[e])return!0;return!1},e=n.default,r.default=e},{"../core/main":267}],286:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.string.includes"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=(o=e("../core/main"))&&o.__esModule?o:{default:o},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../core/constants"));function s(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,s=function(){return e},e)}o.default.prototype.movedX=0,o.default.prototype.movedY=0,o.default.prototype._hasMouseInteracted=!1,o.default.prototype.mouseX=0,o.default.prototype.mouseY=0,o.default.prototype.pmouseX=0,o.default.prototype.pmouseY=0,o.default.prototype.winMouseX=0,o.default.prototype.winMouseY=0,o.default.prototype.pwinMouseX=0,o.default.prototype.pwinMouseY=0,o.default.prototype.mouseButton=0,o.default.prototype.mouseIsPressed=!1,o.default.prototype._updateNextMouseCoords=function(e){var t,r,n,i,o;null!==this._curElement&&(!e.touches||0<e.touches.length)&&(t=this._curElement.elt,r=this.width,n=this.height,(i=e)&&!i.clientX&&(i.touches?i=i.touches[0]:i.changedTouches&&(i=i.changedTouches[0])),o=t.getBoundingClientRect(),r=t.scrollWidth/r||1,t=t.scrollHeight/n||1,n={x:(i.clientX-o.left)/r,y:(i.clientY-o.top)/t,winX:i.clientX,winY:i.clientY,id:i.identifier},this._setProperty("movedX",e.movementX),this._setProperty("movedY",e.movementY),this._setProperty("mouseX",n.x),this._setProperty("mouseY",n.y),this._setProperty("winMouseX",n.winX),this._setProperty("winMouseY",n.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},o.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},o.default.prototype._setMouseButton=function(e){1===e.button?this._setProperty("mouseButton",a.CENTER):2===e.button?this._setProperty("mouseButton",a.RIGHT):this._setProperty("mouseButton",a.LEFT)},o.default.prototype._onmousemove=function(e){var t=this._isGlobal?window:this;this._updateNextMouseCoords(e),this.mouseIsPressed?"function"==typeof t.mouseDragged?!1===t.mouseDragged(e)&&e.preventDefault():"function"==typeof t.touchMoved&&!1===t.touchMoved(e)&&e.preventDefault():"function"==typeof t.mouseMoved&&!1===t.mouseMoved(e)&&e.preventDefault()},o.default.prototype._onmousedown=function(e){var t=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(e),this._updateNextMouseCoords(e),"function"==typeof t.mousePressed?!1===t.mousePressed(e)&&e.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&"function"==typeof t.touchStarted&&!1===t.touchStarted(e)&&e.preventDefault()},o.default.prototype._onmouseup=function(e){var t=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),"function"==typeof t.mouseReleased?!1===t.mouseReleased(e)&&e.preventDefault():"function"==typeof t.touchEnded&&!1===t.touchEnded(e)&&e.preventDefault()},o.default.prototype._ondragend=o.default.prototype._onmouseup,o.default.prototype._ondragover=o.default.prototype._onmousemove,o.default.prototype._onclick=function(e){var t=this._isGlobal?window:this;"function"==typeof t.mouseClicked&&!1===t.mouseClicked(e)&&e.preventDefault()},o.default.prototype._ondblclick=function(e){var t=this._isGlobal?window:this;"function"==typeof t.doubleClicked&&!1===t.doubleClicked(e)&&e.preventDefault()},o.default.prototype._mouseWheelDeltaY=0,o.default.prototype._pmouseWheelDeltaY=0,o.default.prototype._onwheel=function(e){var t=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",e.deltaY),"function"==typeof t.mouseWheel&&(e.delta=e.deltaY,!1===t.mouseWheel(e)&&e.preventDefault())},o.default.prototype.requestPointerLock=function(){var e=this._curElement.elt;return e.requestPointerLock=e.requestPointerLock||e.mozRequestPointerLock,e.requestPointerLock?(e.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},o.default.prototype.exitPointerLock=function(){document.exitPointerLock()},e=o.default,r.default=e},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],287:[function(e,t,r){"use strict";e("core-js/modules/es.array.includes"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.string.includes"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,(e=(e=e("../core/main"))&&e.__esModule?e:{default:e}).default.prototype.touches=[],e.default.prototype._updateTouchCoords=function(e){if(null!==this._curElement){for(var t=[],r=0;r<e.touches.length;r++)t[r]=function(e,t,r,n){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=e.getBoundingClientRect();return t=e.scrollWidth/t||1,e=e.scrollHeight/r||1,{x:((r=n.touches[i]||n.changedTouches[i]).clientX-o.left)/t,y:(r.clientY-o.top)/e,winX:r.clientX,winY:r.clientY,id:r.identifier}}(this._curElement.elt,this.width,this.height,e,r);this._setProperty("touches",t)}},e.default.prototype._ontouchstart=function(e){var t=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(e),this._updateNextMouseCoords(e),this._updateMouseCoords(),"function"==typeof t.touchStarted?!1===t.touchStarted(e)&&e.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&"function"==typeof t.mousePressed&&!1===t.mousePressed(e)&&e.preventDefault()},e.default.prototype._ontouchmove=function(e){var t=this._isGlobal?window:this;this._updateTouchCoords(e),this._updateNextMouseCoords(e),"function"==typeof t.touchMoved?!1===t.touchMoved(e)&&e.preventDefault():"function"==typeof t.mouseDragged&&!1===t.mouseDragged(e)&&e.preventDefault()},e.default.prototype._ontouchend=function(e){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(e),this._updateNextMouseCoords(e);var t=this._isGlobal?window:this;"function"==typeof t.touchEnded?!1===t.touchEnded(e)&&e.preventDefault():"function"==typeof t.mouseReleased&&!1===t.mouseReleased(e)&&e.preventDefault()},e=e.default,r.default=e},{"../core/main":267,"core-js/modules/es.array.includes":156,"core-js/modules/es.string.includes":185}],288:[function(e,t,r){"use strict";e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.int32-array"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.int32-array"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n,i,o,a,s={};function l(e,t){for(var r,l,u,c,h,d,f,p,m,y,g=s._toPixels(e),v=e.width,b=e.height,x=v*b,w=new Int32Array(x),S=0;S<x;S++)w[S]=s._getARGB(g,S);var k,_,j,M=new Int32Array(x),C=new Int32Array(x),P=new Int32Array(x),T=new Int32Array(x),E=0,O=3.5*t|0;if(n!==(O=O<1?1:O<248?O:248)){i=1+(n=O)<<1,o=new Int32Array(i),a=new Array(i);for(var A,L,N=0;N<i;N++)a[N]=new Int32Array(256);for(var R=1,D=O-1;R<O;R++){o[O+R]=o[D]=L=D*D;for(var I=a[O+R],F=a[D--],B=0;B<256;B++)I[B]=F[B]=L*B}A=o[O]=O*O,I=a[O];for(var U=0;U<256;U++)I[U]=A*U}for(_=0;_<b;_++){for(k=0;k<v;k++){if(c=u=l=h=r=0,(d=k-n)<0)y=-d,d=0;else{if(v<=d)break;y=0}for(j=y;j<i&&!(v<=d);j++){var z,q=w[d+E];h+=(z=a[j])[(-16777216&q)>>>24],l+=z[(16711680&q)>>16],u+=z[(65280&q)>>8],c+=z[255&q],r+=o[j],d++}M[f=E+k]=h/r,C[f]=l/r,P[f]=u/r,T[f]=c/r}E+=v}for(m=(p=-n)*v,_=E=0;_<b;_++){for(k=0;k<v;k++){if(p<(c=u=l=h=r=0))y=f=-p,d=k;else{if(b<=p)break;y=0,f=p,d=k+m}for(j=y;j<i&&!(b<=f);j++)h+=(z=a[j])[M[d]],l+=z[C[d]],u+=z[P[d]],c+=z[T[d]],r+=o[j],f++,d+=v;w[k+E]=h/r<<24|l/r<<16|u/r<<8|c/r}E+=v,m+=v,p++}s._setPixels(g,w)}s._toPixels=function(e){var t,r;return e instanceof ImageData?e.data:e.getContext("2d")?e.getContext("2d").getImageData(0,0,e.width,e.height).data:e.getContext("webgl")?(r=(t=e.getContext("webgl")).drawingBufferWidth*t.drawingBufferHeight*4,r=new Uint8Array(r),t.readPixels(0,0,e.width,e.height,t.RGBA,t.UNSIGNED_BYTE,r),r):void 0},s._getARGB=function(e,t){return e[3+(t*=4)]<<24&4278190080|e[t]<<16&16711680|e[1+t]<<8&65280|255&e[2+t]},s._setPixels=function(e,t){for(var r,n=0,i=e.length;n<i;n++)e[0+(r=4*n)]=(16711680&t[n])>>>16,e[1+r]=(65280&t[n])>>>8,e[2+r]=255&t[n],e[3+r]=(4278190080&t[n])>>>24},s._toImageData=function(e){return e instanceof ImageData?e:e.getContext("2d").getImageData(0,0,e.width,e.height)},s._createImageData=function(e,t){return s._tmpCanvas=document.createElement("canvas"),s._tmpCtx=s._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(e,t)},s.apply=function(e,t,r){var n=e.getContext("2d"),i=n.getImageData(0,0,e.width,e.height);(t=t(i,r))instanceof ImageData?n.putImageData(t,0,0,0,0,e.width,e.height):n.putImageData(i,0,0,0,0,e.width,e.height)},s.threshold=function(e,t){for(var r=s._toPixels(e),n=(void 0===t&&(t=.5),Math.floor(255*t)),i=0;i<r.length;i+=4){var o=void 0;o=n<=.2126*r[i]+.7152*r[i+1]+.0722*r[i+2]?255:0,r[i]=r[i+1]=r[i+2]=o}},s.gray=function(e){for(var t=s._toPixels(e),r=0;r<t.length;r+=4){var n=t[r],i=t[r+1],o=t[r+2];t[r]=t[r+1]=t[r+2]=.2126*n+.7152*i+.0722*o}},s.opaque=function(e){for(var t=s._toPixels(e),r=0;r<t.length;r+=4)t[r+3]=255;return t},s.invert=function(e){for(var t=s._toPixels(e),r=0;r<t.length;r+=4)t[r]=255-t[r],t[r+1]=255-t[r+1],t[r+2]=255-t[r+2]},s.posterize=function(e,t){var r=s._toPixels(e);if(t<2||255<t)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var n=t-1,i=0;i<r.length;i+=4){var o=r[i],a=r[i+1],l=r[i+2];r[i]=255*(o*t>>8)/n,r[i+1]=255*(a*t>>8)/n,r[i+2]=255*(l*t>>8)/n}},s.dilate=function(e){for(var t,r,n,i,o,a,l,u,c,h=s._toPixels(e),d=0,f=h.length?h.length/4:0,p=new Int32Array(f);d<f;)for(r=(t=d)+e.width;d<r;)i=n=s._getARGB(h,d),(c=d-1)<t&&(c=d),r<=(u=d+1)&&(u=d),(o=d-e.width)<0&&(o=0),f<=(a=d+e.width)&&(a=d),o=s._getARGB(h,o),c=s._getARGB(h,c),a=s._getARGB(h,a),(i=77*(i>>16&255)+151*(i>>8&255)+28*(255&i))<(l=77*(c>>16&255)+151*(c>>8&255)+28*(255&c))&&(n=c,i=l),i<(l=77*((c=s._getARGB(h,u))>>16&255)+151*(c>>8&255)+28*(255&c))&&(n=c,i=l),i<(u=77*(o>>16&255)+151*(o>>8&255)+28*(255&o))&&(n=o,i=u),i<(c=77*(a>>16&255)+151*(a>>8&255)+28*(255&a))&&(n=a,i=c),p[d++]=n;s._setPixels(h,p)},s.erode=function(e){for(var t,r,n,i,o,a,l,u,c,h=s._toPixels(e),d=0,f=h.length?h.length/4:0,p=new Int32Array(f);d<f;)for(r=(t=d)+e.width;d<r;)i=n=s._getARGB(h,d),(c=d-1)<t&&(c=d),r<=(u=d+1)&&(u=d),(o=d-e.width)<0&&(o=0),f<=(a=d+e.width)&&(a=d),o=s._getARGB(h,o),c=s._getARGB(h,c),a=s._getARGB(h,a),(l=77*(c>>16&255)+151*(c>>8&255)+28*(255&c))<(i=77*(i>>16&255)+151*(i>>8&255)+28*(255&i))&&(n=c,i=l),(l=77*((c=s._getARGB(h,u))>>16&255)+151*(c>>8&255)+28*(255&c))<i&&(n=c,i=l),(u=77*(o>>16&255)+151*(o>>8&255)+28*(255&o))<i&&(n=o,i=u),(c=77*(a>>16&255)+151*(a>>8&255)+28*(255&a))<i&&(n=a,i=c),p[d++]=n;s._setPixels(h,p)},s.blur=function(e,t){l(e,t)},r.default=s},{"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.int32-array":209,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226}],289:[function(e,t,r){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=o(e("../core/main")),i=o(e("omggif"));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.default.prototype.createImage=function(e,t){return n.default._validateParameters("createImage",arguments),new n.default.Image(e,t)},n.default.prototype.saveCanvas=function(){n.default._validateParameters("saveCanvas",arguments);var e,t,r,i,o=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(e=arguments[0],o.shift()):arguments[0]instanceof n.default.Element?(e=arguments[0].elt,o.shift()):e=this._curElement&&this._curElement.elt,1<=o.length&&(t=o[0]),r=(r=2<=o.length?o[1]:r)||n.default.prototype._checkFileExtension(t,r)[1]||"png"){default:i="image/png";break;case"jpeg":case"jpg":i="image/jpeg"}e.toBlob((function(e){n.default.prototype.downloadFile(e,t,r)}),i)},n.default.prototype.encodeAndDownloadGif=function(e,t){for(var r=e.gifProperties,o=(1===(P=r.loopLimit)?P=null:null===P&&(P=0),new Uint8Array(e.width*e.height*r.numFrames)),s=[],l={},u=0;u<r.numFrames;u++){for(var c=new Set,h=r.frames[u].image.data,d=h.length,f=new Uint32Array(e.width*e.height),p=0,m=0;p<d;p+=4,m++){var y=h[p+0]<<16|h[p+1]<<8|h[p+2]<<0;c.add(y),f[m]=y}var g=a(c).sort().toString();void 0===l[g]?l[g]={freq:1,frames:[u]}:(l[g].freq+=1,l[g].frames.push(u)),s.push(f)}for(var v=[],b=Object.keys(l).sort((function(e,t){return l[t].freq-l[e].freq})),x=b[0].split(",").map((function(e){return parseInt(e)})),w=(v=v.concat(l[x].frames),new Set(x)),S=1;S<b.length;S++){var k=b[S].split(",").map((function(e){return parseInt(e)})).filter((function(e){return!w.has(e)}));if(x.length+k.length<=256){for(var _=0;_<k.length;_++)x.push(k[_]),w.add(k[_]);v=v.concat(l[b[S]].frames)}}v=new Set(v);for(var j={},M=0;M<x.length;M++)j[x[M]]||(j[x[M]]=M);for(var C=1;C<x.length;)C<<=1;x.length=C;for(var P={loop:P,palette:new Uint32Array(x)},T=new i.default.GifWriter(o,e.width,e.height,P),E={},O=0;O<r.numFrames;O++)!function(t){for(var n=!v.has(t),i=n?[]:x,o=new Uint8Array(e.width*e.height),a={},l=new Set,u=0;u<s[t].length;u++){var c=s[t][u];n?(void 0===a[c]&&(a[c]=i.length,i.push(c)),o[u]=a[c]):o[u]=j[c],0<t&&s[t-1][u]!==c&&l.add(c)}var h={},d=i.filter((function(e){return!l.has(e)}));if(0<d.length){d=d[0];var f=(n?a:j)[d];if(0<t){for(var p=0;p<s[t].length;p++)s[t-1][p]===s[t][p]&&(o[p]=f);h.transparent=f,E.frameOpts.disposal=1}}if(h.delay=r.frames[t].delay/10,n){for(var m=1;m<i.length;)m<<=1;i.length=m,h.palette=new Uint32Array(i)}0<t&&T.addFrame(0,0,e.width,e.height,E.pixelPaletteIndex,E.frameOpts),E={pixelPaletteIndex:o,frameOpts:h}}(O);E.frameOpts.disposal=1,T.addFrame(0,0,e.width,e.height,E.pixelPaletteIndex,E.frameOpts),P=new Blob([o.slice(0,T.end())],{type:"image/gif"}),n.default.prototype.downloadFile(P,t,"gif")},n.default.prototype.saveFrames=function(e,t,r,i,o){n.default._validateParameters("saveFrames",arguments),r=n.default.prototype.constrain(r=r||3,0,15),r*=1e3,i=n.default.prototype.constrain(i||15,0,22);var a=0,s=n.default.prototype._makeFrame,l=this._curElement.elt,u=[],c=setInterval((function(){u.push(s(e+a,t,l)),a++}),1e3/i);setTimeout((function(){if(clearInterval(c),o)o(u);else{var e=!0,t=!1,r=void 0;try{for(var i,a=u[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var s=i.value;n.default.prototype.downloadFile(s.imageData,s.filename,s.ext)}}catch(e){t=!0,r=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw r}}}u=[]}),.01+r)},n.default.prototype._makeFrame=function(e,t,r){var n;if(r=this?this._curElement.elt:r,t)switch(t.toLowerCase()){case"png":default:n="image/png";break;case"jpeg":case"jpg":n="image/jpeg"}else t="png",n="image/png";r=(r=r.toDataURL(n)).replace(n,"image/octet-stream");var i={};return i.imageData=r,i.filename=e,i.ext=t,i},e=n.default,r.default=e},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.set":183,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":230,omggif:240}],290:[function(e,t,r){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?function(e){return i(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":i(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.copy-within"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.copy-within"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,e("regenerator-runtime/runtime");var a=d(e("../core/main")),s=d(e("../core/helpers")),l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var r,n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;Object.prototype.hasOwnProperty.call(e,r)&&((a=i?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../core/constants")),u=d(e("omggif")),c=e("gifenc");function h(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,h=function(){return e},e)}function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,i)}function p(e,t,r,n,i,o,a,s,u,c,h){var d,f,p,m,y,g,v,b,x;return e===l.COVER&&(d=t,p=r,v=o,b=a,g=s,x=u,f=c,m=h,v/=y=Math.max(v/f,b/m),b/=y,y=g,g=x,d===l.CENTER?y+=(f-v)/2:d===l.RIGHT&&(y+=f-v),p===l.CENTER?g+=(m-b)/2:p===l.BOTTOM&&(g+=m-b),s=(x={x:y,y:g,w:v,h:b}).x,u=x.y,c=x.w,h=x.h),e===l.CONTAIN&&(d=t,f=r,p=n,m=i,y=o,g=a,v=c,b=h,v/=x=Math.max(v/y,b/g),b/=x,x=p,p=m,d===l.CENTER?x+=(y-v)/2:d===l.RIGHT&&(x+=y-v),f===l.CENTER?p+=(g-b)/2:f===l.BOTTOM&&(p+=g-b),n=(e={x:x,y:p,w:v,h:b}).x,i=e.y,o=e.w,a=e.h),{sx:s,sy:u,sw:c,sh:h,dx:n,dy:i,dw:o,dh:a}}function m(e,t){return 0<e&&e<t?e:t}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),a.default.prototype.loadImage=function(e,t,r){a.default._validateParameters("loadImage",arguments);var n=new a.default.Image(1,1,this),i=this,o=new Request(e,{method:"GET",mode:"cors"});return fetch(e,o).then((function(o){var s,l=o.headers.get("content-type");null===l&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),l&&l.includes("image/gif")?o.arrayBuffer().then((function(e){if(e){e=new Uint8Array(e);var o=n,s=t,l=r,c=function(e){i._decrementPreload()}.bind(i),h=new u.default.GifReader(e),d=(o.width=o.canvas.width=h.width,o.height=o.canvas.height=h.height,[]),f=h.numFrames(),p=new Uint8ClampedArray(o.width*o.height*4);if(1<f){for(var m=0;m<f;m++){var y=h.frameInfo(m),g=o.drawingContext.getImageData(0,0,o.width,o.height),v=(p=g.data.slice(),function(e,t){try{t.decodeAndBlitFrameRGBA(e,p)}catch(e){a.default._friendlyFileLoadError(8,o.src),"function"==typeof l?l(e):console.error(e)}}(m,h),new ImageData(p,o.width,o.height));0===(o.drawingContext.putImageData(v,0,0),v=y.delay)&&(v=10),d.push({image:o.drawingContext.getImageData(0,0,o.width,o.height),delay:10*v}),2===y.disposal?o.drawingContext.clearRect(y.x,y.y,y.width,y.height):3===y.disposal&&o.drawingContext.putImageData(g,0,0,y.x,y.y,y.width,y.height)}null===(e=h.loopCount())?e=1:0===e&&(e=null),o.drawingContext.putImageData(d[0].image,0,0),o.gifProperties={displayIndex:0,loopLimit:e,loopCount:0,frames:d,numFrames:f,playing:!0,timeDisplayed:0,lastChangeTime:0}}"function"==typeof s&&s(o),c()}}),(function(e){"function"==typeof r?r(e):console.error(e)})):((s=new Image).onload=function(){n.width=n.canvas.width=s.width,n.height=n.canvas.height=s.height,n.drawingContext.drawImage(s,0,0),n.modified=!0,"function"==typeof t&&t(n),i._decrementPreload()},s.onerror=function(e){a.default._friendlyFileLoadError(0,s.src),"function"==typeof r?r(e):console.error(e)},0!==e.indexOf("data:image/")&&(s.crossOrigin="Anonymous"),s.src=e),n.modified=!0})).catch((function(t){a.default._friendlyFileLoadError(0,e),"function"==typeof r?r(t):console.error(t)})),n},a.default.prototype.saveGif=function(){e=n().mark((function e(t,r){var i,o,s,l,u,h,d,f,p,m,y,g,v,b,x,w,S,k,_,j,M,C,P,T,E,O=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=2<O.length&&void 0!==O[2]?O[2]:{delay:0,units:"seconds"},"string"!=typeof t)throw TypeError("fileName parameter must be a string");e.next=3;break;case 3:if("number"!=typeof r)throw TypeError("Duration parameter must be a number");e.next=5;break;case 5:if("number"!=typeof i.delay)throw TypeError("Delay parameter must be a number");e.next=7;break;case 7:if("seconds"!==i.units&&"frames"!==i.units)throw TypeError('Units parameter must be either "frames" or "seconds"');e.next=9;break;case 9:h=i.units,u=i.delay,l=this._targetFrameRate,o=(o=1/(l=l!==1/0&&void 0!==l&&0!==l?l:60)*1e3)<20?20:o,l=(s="seconds"===h?r*l:r)+(h="seconds"===h?u*l:u),u=h,this.frameCount=u,h=this._pixelDensity,this.pixelDensity(1),d=[],f="p5.gif.progressBar",null!==document.getElementById(f)&&document.getElementById(f).remove(),(f=this.createP("")).id("progressBar"),f.style("font-size","16px"),f.style("font-family","Montserrat"),f.style("background-color","#ffffffa0"),f.style("padding","8px"),f.style("border-radius","10px"),f.position(0,0),this.drawingContext instanceof WebGLRenderingContext&&(m=document.getElementById("defaultCanvas0").getContext("webgl"),p=new Uint8Array(m.drawingBufferWidth*m.drawingBufferHeight*4)),this.noLoop();case 35:if(u<l)return this.redraw(),x=void 0,x=this.drawingContext instanceof WebGLRenderingContext?(p=new Uint8Array(m.drawingBufferWidth*m.drawingBufferHeight*4),m.readPixels(0,0,m.drawingBufferWidth,m.drawingBufferHeight,m.RGBA,m.UNSIGNED_BYTE,p),function(e){for(var t=parseInt(height/2),r=4*width,n=new Uint8Array(4*width),i=0;i<t;++i){var o=i*r,a=(height-i-1)*r;n.set(e.subarray(o,o+r)),e.copyWithin(o,a,a+r),e.set(n,a)}return e}(p)):this.drawingContext.getImageData(0,0,this.width,this.height).data,d.push(x),u++,f.html("Saved frame <b>"+d.length.toString()+"</b> out of "+s.toString()),e.next=44,new Promise((function(e){return setTimeout(e,0)}));e.next=46;break;case 44:e.next=35;break;case 46:f.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(h),y=(0,c.GIFEncoder)(),g=function(e){for(var t=new Uint8Array(e.length*e[0].length),r=0;r<e.length;r++)t.set(e[0],r*e[0].length);var n=(0,c.quantize)(t,256,{format:"rgba444",oneBitAlpha:!0});return 256===n.length?n[n.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:n.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),n}(d),v=g.length-1,b=0;case 53:if(b<d.length){if(0===b)return x=(0,c.applyPalette)(d[b],g,{format:"rgba4444"}),y.writeFrame(x,this.width,this.height,{palette:g,delay:o,dispose:1}),e.abrupt("continue",68);e.next=58}else e.next=71;break;case 58:for(w=d[b],S=d[b-1],k=[],_=0;_<w.length;_+=4)j=[w[_],w[_+1],w[_+2],w[_+3]],M=[S[_],S[_+1],S[_+2],S[_+3]],!function(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every((function(e,r){return e===t[r]}))}(j,M)||k.push(_/4);for(C=(0,c.applyPalette)(w,g,{format:"rgba4444"}),P=0;P<k.length;P++)T=k[P],C[T]=v;return y.writeFrame(C,this.width,this.height,{delay:o,transparent:!0,transparentIndex:v,dispose:1}),f.html("Rendered frame <b>"+b.toString()+"</b> out of "+s.toString()),e.next=68,new Promise((function(e){return setTimeout(e,0)}));case 68:b++,e.next=53;break;case 71:y.finish(),E=y.bytesView(),E=new Blob([E],{type:"image/gif"}),d=[],this.loop(),f.html("Done. Downloading your gif!\ud83c\udf38"),a.default.prototype.downloadFile(E,t,"gif");case 79:case"end":return e.stop()}}),e,this)}));var e,t=function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){f(o,n,i,a,s,"next",e)}function s(e){f(o,n,i,a,s,"throw",e)}a(void 0)}))};return function(e,r){return t.apply(this,arguments)}}(),a.default.prototype.image=function(e,t,r,n,i,o,u,c,h,d,f,y){a.default._validateParameters("image",arguments);var g=e.width,v=e.height,b=(y=y||l.CENTER,f=f||l.CENTER,e.elt&&e.elt.videoWidth&&!e.canvas&&(g=e.elt.videoWidth,v=e.elt.videoHeight),n||g);i=i||v,o=o||0,u=u||0,c=m(c||g,g),g=m(h||v,v),h=1,e.elt&&!e.canvas&&e.elt.style.width&&(h=e.elt.videoWidth&&!n?e.elt.videoWidth:e.elt.width,h/=parseInt(e.elt.style.width,10)),o*=h,u*=h,g*=h,c*=h,v=p(d,f,y,(v=s.default.modeAdjust(t,r,b,i,this._renderer._imageMode)).x,v.y,v.w,v.h,o,u,c,g),this._renderer.image(e,v.sx,v.sy,v.sw,v.sh,v.dx,v.dy,v.dw,v.dh)},a.default.prototype.tint=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];a.default._validateParameters("tint",t);var n=this.color.apply(this,t);this._renderer._tint=n.levels},a.default.prototype.noTint=function(){this._renderer._tint=null},a.default.prototype._getTintedImageCanvas=a.default.Renderer2D.prototype._getTintedImageCanvas,a.default.prototype.imageMode=function(e){a.default._validateParameters("imageMode",arguments),e!==l.CORNER&&e!==l.CORNERS&&e!==l.CENTER||(this._renderer._imageMode=e)},e=a.default,r.default=e},{"../core/constants":256,"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/helpers":263,"../core/main":267,"core-js/modules/es.array.copy-within":150,"core-js/modules/es.array.every":151,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/es.typed-array.uint8-clamped-array":227,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230,gifenc:237,omggif:240,"regenerator-runtime/runtime":244}],291:[function(e,t,r){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=o(e("../core/main")),i=o(e("./filters"));function o(e){return e&&e.__esModule?e:{default:e}}n.default.Image=function(e,t){this.width=e,this.height=t,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]},n.default.Image.prototype._animateGif=function(e){var t,r=this.gifProperties;e=e._lastFrameTime,0===r.lastChangeTime&&(r.lastChangeTime=e),r.playing&&(r.timeDisplayed=e-r.lastChangeTime,t=r.frames[r.displayIndex].delay,r.timeDisplayed>=t&&(t=Math.floor(r.timeDisplayed/t),r.timeDisplayed=0,r.lastChangeTime=e,r.displayIndex+=t,r.loopCount=Math.floor(r.displayIndex/r.numFrames),null!==r.loopLimit&&r.loopCount>=r.loopLimit?r.playing=!1:(e=r.displayIndex%r.numFrames,this.drawingContext.putImageData(r.frames[e].image,0,0),r.displayIndex=e,this.setModified(!0))))},n.default.Image.prototype._setProperty=function(e,t){this[e]=t,this.setModified(!0)},n.default.Image.prototype.loadPixels=function(){n.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)},n.default.Image.prototype.updatePixels=function(e,t,r,i){n.default.Renderer2D.prototype.updatePixels.call(this,e,t,r,i),this.setModified(!0)},n.default.Image.prototype.get=function(e,t,r,i){return n.default._validateParameters("p5.Image.get",arguments),n.default.Renderer2D.prototype.get.apply(this,arguments)},n.default.Image.prototype._getPixel=n.default.Renderer2D.prototype._getPixel,n.default.Image.prototype.set=function(e,t,r){n.default.Renderer2D.prototype.set.call(this,e,t,r),this.setModified(!0)},n.default.Image.prototype.resize=function(e,t){0===e&&0===t?(e=this.canvas.width,t=this.canvas.height):0===e?e=this.canvas.width*t/this.canvas.height:0===t&&(t=this.canvas.height*e/this.canvas.width),e=Math.floor(e),t=Math.floor(t);var r=document.createElement("canvas");if(r.width=e,r.height=t,this.gifProperties)for(var n=this.gifProperties,i=0;i<n.numFrames;i++){for(var o=this.drawingContext.createImageData(e,t),a=(h=h=c=u=l=void 0,n.frames[i].image),s=o,l=0,u=0;u<s.height;u++)for(var c=0;c<s.width;c++){var h=Math.floor(c*a.width/s.width);h=4*(Math.floor(u*a.height/s.height)*a.width+h),s.data[l++]=a.data[h++],s.data[l++]=a.data[h++],s.data[l++]=a.data[h++],s.data[l++]=a.data[+h]}n.frames[i].image=o}r.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,r.width,r.height),this.canvas.width=this.width=e,this.canvas.height=this.height=t,this.drawingContext.drawImage(r,0,0,e,t,0,0,e,t),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)},n.default.Image.prototype.copy=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.default.prototype.copy.apply(this,t)},n.default.Image.prototype.mask=function(e){var t=this.drawingContext.globalCompositeOperation,r=1,i=[e=void 0===e?this:e,0,0,(r=e instanceof n.default.Renderer?e._pInst._pixelDensity:r)*e.width,r*e.height,0,0,this.width,this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var o=0;o<this.gifProperties.frames.length;o++)this.drawingContext.putImageData(this.gifProperties.frames[o].image,0,0),n.default.Image.prototype.copy.apply(this,i),this.gifProperties.frames[o].image=this.drawingContext.getImageData(0,0,this.width,this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else n.default.Image.prototype.copy.apply(this,i);this.drawingContext.globalCompositeOperation=t,this.setModified(!0)},n.default.Image.prototype.filter=function(e,t){i.default.apply(this.canvas,i.default[e],t),this.setModified(!0)},n.default.Image.prototype.blend=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.default._validateParameters("p5.Image.blend",arguments),n.default.prototype.blend.apply(this,t),this.setModified(!0)},n.default.Image.prototype.setModified=function(e){this._modified=e},n.default.Image.prototype.isModified=function(){return this._modified},n.default.Image.prototype.save=function(e,t){this.gifProperties?n.default.prototype.encodeAndDownloadGif(this,e):n.default.prototype.saveCanvas(this.canvas,e,t)},n.default.Image.prototype.reset=function(){var e;this.gifProperties&&((e=this.gifProperties).playing=!0,e.timeSinceStart=0,e.timeDisplayed=0,e.lastChangeTime=0,e.loopCount=0,e.displayIndex=0,this.drawingContext.putImageData(e.frames[0].image,0,0))},n.default.Image.prototype.getCurrentFrame=function(){var e;if(this.gifProperties)return(e=this.gifProperties).displayIndex%e.numFrames},n.default.Image.prototype.setFrame=function(e){var t;this.gifProperties&&(e<(t=this.gifProperties).numFrames&&0<=e?(t.timeDisplayed=0,t.lastChangeTime=0,t.displayIndex=e,this.drawingContext.putImageData(t.frames[e].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))},n.default.Image.prototype.numFrames=function(){if(this.gifProperties)return this.gifProperties.numFrames},n.default.Image.prototype.play=function(){this.gifProperties&&(this.gifProperties.playing=!0)},n.default.Image.prototype.pause=function(){this.gifProperties&&(this.gifProperties.playing=!1)},n.default.Image.prototype.delay=function(e,t){if(this.gifProperties){var r=this.gifProperties;if(t<r.numFrames&&0<=t)r.frames[t].delay=e;else{var n=!0,i=void(t=!1);try{for(var o,a=r.frames[Symbol.iterator]();!(n=(o=a.next()).done);n=!0)o.value.delay=e}catch(e){t=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(t)throw i}}}}},e=n.default.Image,r.default=e},{"../core/main":267,"./filters":288,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],292:[function(e,t,r){"use strict";e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.filter"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=o(e("../core/main")),i=o(e("./filters"));function o(e){return e&&e.__esModule?e:{default:e}}e("../color/p5.Color"),n.default.prototype.pixels=[],n.default.prototype.blend=function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];n.default._validateParameters("blend",r),this._renderer?(e=this._renderer).blend.apply(e,r):n.default.Renderer2D.prototype.blend.apply(this,r)},n.default.prototype.copy=function(){for(var e,t,r,i,o,a,s,l,u,c=arguments.length,h=new Array(c),d=0;d<c;d++)h[d]=arguments[d];if(n.default._validateParameters("copy",h),9===h.length)e=h[0],t=h[1],r=h[2],i=h[3],o=h[4],a=h[5],s=h[6],l=h[7],u=h[8];else{if(8!==h.length)throw new Error("Signature not supported");e=this,t=h[0],r=h[1],i=h[2],o=h[3],a=h[4],s=h[5],l=h[6],u=h[7]}n.default.prototype._copyHelper(this,e,t,r,i,o,a,s,l,u)},n.default.prototype._copyHelper=function(e,t,r,i,o,a,s,l,u,c){t.loadPixels();var h=t.canvas.width/t.width,d=0,f=0;t._renderer&&t._renderer.isP3D&&(d=t.width/2,f=t.height/2),e._renderer&&e._renderer.isP3D?n.default.RendererGL.prototype.image.call(e._renderer,t,r+d,i+f,o,a,s,l,u,c):e.drawingContext.drawImage(t.canvas,h*(r+d),h*(i+f),h*o,h*a,s,l,u,c)},n.default.prototype.filter=function(e,t){n.default._validateParameters("filter",arguments),void 0!==this.canvas?i.default.apply(this.canvas,i.default[e],t):i.default.apply(this.elt,i.default[e],t)},n.default.prototype.get=function(e,t,r,i){var o;return n.default._validateParameters("get",arguments),(o=this._renderer).get.apply(o,arguments)},n.default.prototype.loadPixels=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.default._validateParameters("loadPixels",t),this._renderer.loadPixels()},n.default.prototype.set=function(e,t,r){this._renderer.set(e,t,r)},n.default.prototype.updatePixels=function(e,t,r,i){n.default._validateParameters("updatePixels",arguments),0!==this.pixels.length&&this._renderer.updatePixels(e,t,r,i)},e=n.default,r.default=e},{"../color/p5.Color":254,"../core/main":267,"./filters":288,"core-js/modules/es.array.filter":153}],293:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/web.url"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/web.url"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=s(e("../core/main")),o=(e("whatwg-fetch"),e("es6-promise/auto"),s(e("fetch-jsonp"))),a=s(e("file-saver"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return(l="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}function u(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function c(e,t){t&&!0!==t&&"true"!==t||(t="");var r="";return(e=e||"untitled")&&e.includes(".")&&(r=e.split(".").pop()),t&&r!==t&&(r=t,e="".concat(e,".").concat(r)),[e,r]}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),i.default.prototype.loadJSON=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];i.default._validateParameters("loadJSON",t);for(var n,o,a,s=t[0],u={},c="json",h=1;h<t.length;h++){var d=t[h];"string"==typeof d?"jsonp"!==d&&"json"!==d||(c=d):"function"==typeof d?n?o=d:n=d:"object"===l(d)&&(d.hasOwnProperty("jsonpCallback")||d.hasOwnProperty("jsonpCallbackFunction"))&&(c="jsonp",a=d)}var f=this;return this.httpDo(s,"GET",a,c,(function(e){for(var t in e)u[t]=e[t];void 0!==n&&n(e),f._decrementPreload()}),(function(e){if(i.default._friendlyFileLoadError(5,s),!o)throw e;o(e)})),u},i.default.prototype.loadStrings=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];i.default._validateParameters("loadStrings",t);for(var n,o,a=[],s=1;s<t.length;s++){var l=t[s];"function"==typeof l&&(void 0===n?n=l:void 0===o&&(o=l))}var u=this;return i.default.prototype.httpDo.call(this,t[0],"GET","text",(function(e){for(var t=e.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),r=0,i=t.length;r<i;r+=32768)Array.prototype.push.apply(a,t.slice(r,Math.min(r+32768,i)));void 0!==n&&n(a),u._decrementPreload()}),(function(e){if(i.default._friendlyFileLoadError(3,e),!o)throw e;o(e)})),a},i.default.prototype.loadTable=function(e){var t,r,n,o=[],a=!1,s=e.substring(e.lastIndexOf(".")+1,e.length);"csv"===s?n=",":"ssv"===s?n=";":"tsv"===s&&(n="\t");for(var l=1;l<arguments.length;l++)"function"==typeof arguments[l]?void 0===t?t=arguments[l]:void 0===r&&(r=arguments[l]):"string"==typeof arguments[l]&&(o.push(arguments[l]),"header"===arguments[l]&&(a=!0),"csv"===arguments[l]?n=",":"ssv"===arguments[l]?n=";":"tsv"===arguments[l]&&(n="\t"));var u=new i.default.Table,c=this;return this.httpDo(e,"GET","table",(function(e){for(var r,o,s={},l=0,h=[],d=0,f=null,p=function(){s.currentState=l,s.token=""},m=function(){f.push(s.token),p()},y=function(){s.currentState=4,h.push(f),f=null};;){if(null==(r=e[d++])){if(s.escaped)throw new Error("Unclosed quote in file.");if(f){m(),y();break}}if(null===f&&(s.escaped=!1,f=[],p()),s.currentState===l){if('"'===r){s.escaped=!0,s.currentState=1;continue}s.currentState=1}if(1===s.currentState&&s.escaped)if('"'===r)'"'===e[d]?(s.token+='"',d++):(s.escaped=!1,s.currentState=2);else{if("\r"===r)continue;s.token+=r}else"\r"===r?("\n"===e[d]&&d++,m(),y()):"\n"===r?(m(),y()):r===n?m():1===s.currentState&&(s.token+=r)}if(a)u.columns=h.shift();else for(var g=0;g<h[0].length;g++)u.columns[g]="null";for(var v=0;v<h.length;v++)(1!==h[v].length||"undefined"!==h[v][0]&&""!==h[v][0])&&((o=new i.default.TableRow).arr=h[v],o.obj=function(e,t){var r={};if(void 0===(t=t||[]))for(var n=0;n<e.length;n++)t[n.toString()]=n;for(var i=0;i<t.length;i++){var o=t[i],a=e[i];r[o]=a}return r}(h[v],u.columns),u.addRow(o));"function"==typeof t&&t(u),c._decrementPreload()}),(function(t){i.default._friendlyFileLoadError(2,e),r?r(t):console.error(t)})),u},i.default.prototype.loadXML=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n,o,a=new i.default.XML,s=1;s<t.length;s++){var l=t[s];"function"==typeof l&&(void 0===n?n=l:void 0===o&&(o=l))}var u=this;return this.httpDo(t[0],"GET","xml",(function(e){for(var t in e)a[t]=e[t];void 0!==n&&n(a),u._decrementPreload()}),(function(e){if(i.default._friendlyFileLoadError(1,e),!o)throw e;o(e)})),a},i.default.prototype.loadBytes=function(e,t,r){var n={},o=this;return this.httpDo(e,"GET","arrayBuffer",(function(e){n.bytes=new Uint8Array(e),"function"==typeof t&&t(n),o._decrementPreload()}),(function(t){if(i.default._friendlyFileLoadError(6,e),!r)throw t;r(t)})),n},i.default.prototype.httpGet=function(){i.default._validateParameters("httpGet",arguments);var e=Array.prototype.slice.call(arguments);return e.splice(1,0,"GET"),i.default.prototype.httpDo.apply(this,e)},i.default.prototype.httpPost=function(){i.default._validateParameters("httpPost",arguments);var e=Array.prototype.slice.call(arguments);return e.splice(1,0,"POST"),i.default.prototype.httpDo.apply(this,e)},i.default.prototype.httpDo=function(){for(var e,t,r,n={},a=0,s="text/plain",u=arguments.length-1;0<u&&"function"==typeof(u<0||arguments.length<=u?void 0:arguments[u]);u--)a++;var c=arguments.length<=0?void 0:arguments[0];if(2==(y=arguments.length-a)&&"string"==typeof c&&"object"===l(arguments.length<=1?void 0:arguments[1]))g=new Request(c,arguments.length<=1?void 0:arguments[1]),t=arguments.length<=2?void 0:arguments[2],r=arguments.length<=3?void 0:arguments[3];else{for(var h,d="GET",f=1;f<arguments.length;f++){var p=f<0||arguments.length<=f?void 0:arguments[f];if("string"==typeof p)"GET"===p||"POST"===p||"PUT"===p||"DELETE"===p?d=p:"json"===p||"jsonp"===p||"binary"===p||"arrayBuffer"===p||"xml"===p||"text"===p||"table"===p?e=p:h=p;else if("number"==typeof p)h=p.toString();else if("object"===l(p))if(p.hasOwnProperty("jsonpCallback")||p.hasOwnProperty("jsonpCallbackFunction"))for(var m in p)n[m]=p[m];else s=p instanceof i.default.XML?(h=p.serialize(),"application/xml"):(h=JSON.stringify(p),"application/json");else"function"==typeof p&&(t?r=p:t=p)}var y="GET"===d?new Headers:new Headers({"Content-Type":s}),g=new Request(c,{method:d,mode:"cors",body:h,headers:y})}return(y=(y="jsonp"===(e=e||(c.includes("json")?"json":c.includes("xml")?"xml":"text"))?(0,o.default)(c,n):fetch(g)).then((function(t){if(!t.ok)throw(r=new Error(t.body)).status=t.status,r.ok=!1,r;var r=0;switch((r="jsonp"!==e?t.headers.get("content-length"):r)&&64e6<r&&i.default._friendlyFileLoadError(7,c),e){case"json":case"jsonp":return t.json();case"binary":return t.blob();case"arrayBuffer":return t.arrayBuffer();case"xml":return t.text().then((function(e){return e=(new DOMParser).parseFromString(e,"text/xml"),new i.default.XML(e.documentElement)}));default:return t.text()}}))).then(t||function(){}),y.catch(r||console.error),y},window.URL=window.URL||window.webkitURL,i.default.prototype._pWriters=[],i.default.prototype.createWriter=function(e,t){var r,n;for(n in i.default.prototype._pWriters)if(i.default.prototype._pWriters[n].name===e)return r=new i.default.PrintWriter(e+this.millis(),t),i.default.prototype._pWriters.push(r),r;return r=new i.default.PrintWriter(e,t),i.default.prototype._pWriters.push(r),r},i.default.PrintWriter=function(e,t){var r=this;this.name=e,this.content="",this.write=function(e){this.content+=e},this.print=function(e){this.content+="".concat(e,"\n")},this.clear=function(){this.content=""},this.close=function(){var n,o=[];for(n in o.push(this.content),i.default.prototype.writeFile(o,e,t),i.default.prototype._pWriters)i.default.prototype._pWriters[n].name===this.name&&i.default.prototype._pWriters.splice(n,1);r.clear(),r={}}},i.default.prototype.save=function(e,t,r){var n=arguments,o=(this._curElement||this).elt;if(0===n.length)i.default.prototype.saveCanvas(o);else if(n[0]instanceof i.default.Renderer||n[0]instanceof i.default.Graphics)i.default.prototype.saveCanvas(n[0].elt,n[1],n[2]);else if(1===n.length&&"string"==typeof n[0])i.default.prototype.saveCanvas(o,n[0]);else switch(c(n[1],n[2])[1]){case"json":return void i.default.prototype.saveJSON(n[0],n[1],n[2]);case"txt":return void i.default.prototype.saveStrings(n[0],n[1],n[2]);default:n[0]instanceof Array?i.default.prototype.saveStrings(n[0],n[1],n[2]):n[0]instanceof i.default.Table?i.default.prototype.saveTable(n[0],n[1],n[2]):n[0]instanceof i.default.Image?i.default.prototype.saveCanvas(n[0].canvas,n[1]):n[0]instanceof i.default.SoundFile&&i.default.prototype.saveSound(n[0],n[1],n[2],n[3])}},i.default.prototype.saveJSON=function(e,t,r){i.default._validateParameters("saveJSON",arguments),r=r?JSON.stringify(e):JSON.stringify(e,void 0,2),this.saveStrings(r.split("\n"),t,"json")},i.default.prototype.saveJSONObject=i.default.prototype.saveJSON,i.default.prototype.saveJSONArray=i.default.prototype.saveJSON,i.default.prototype.saveStrings=function(e,t,r,n){i.default._validateParameters("saveStrings",arguments);for(var o=this.createWriter(t,r||"txt"),a=0;a<e.length;a++)n?o.write(e[a]+"\r\n"):o.write(e[a]+"\n");o.close(),o.clear()},i.default.prototype.saveTable=function(e,t,r){i.default._validateParameters("saveTable",arguments),n=void 0===r?t.substring(t.lastIndexOf(".")+1,t.length):r;var n,o=this.createWriter(t,n),a=e.columns,s="tsv"===n?"\t":",";if("html"!==n){if("0"!==a[0]){for(var l=0;l<a.length;l++)l<a.length-1?o.write(a[l]+s):o.write(a[l]);o.write("\n")}for(var c=0;c<e.rows.length;c++){var h=void 0;for(h=0;h<e.rows[c].arr.length;h++)h<e.rows[c].arr.length-1?"csv"===n&&String(e.rows[c].arr[h]).includes(",")?o.write('"'+e.rows[c].arr[h]+'"'+s):o.write(e.rows[c].arr[h]+s):"csv"===n&&String(e.rows[c].arr[h]).includes(",")?o.write('"'+e.rows[c].arr[h]+'"'):o.write(e.rows[c].arr[h]);o.write("\n")}}else{if(o.print("<html>"),o.print("<head>"),o.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),o.print("</head>"),o.print("<body>"),o.print("  <table>"),"0"!==a[0]){o.print("    <tr>");for(var d=0;d<a.length;d++){var f=u(a[d]);o.print("      <td>".concat(f)),o.print("      </td>")}o.print("    </tr>")}for(var p=0;p<e.rows.length;p++){o.print("    <tr>");for(var m=0;m<e.columns.length;m++){var y=u(e.rows[p].getString(m));o.print("      <td>".concat(y)),o.print("      </td>")}o.print("    </tr>")}o.print("  </table>"),o.print("</body>"),o.print("</html>")}o.close(),o.clear()},i.default.prototype.writeFile=function(e,t,r){var n="application/octet-stream";i.default.prototype._isSafari()&&(n="text/plain"),e=new Blob(e,{type:n}),i.default.prototype.downloadFile(e,t,r)},i.default.prototype.downloadFile=function(e,t,r){var n;r=(t=c(t,r))[0],e instanceof Blob?a.default.saveAs(e,r):((n=document.createElement("a")).href=e,n.download=r,n.onclick=function(e){document.body.removeChild(e.target),e.stopPropagation()},n.style.display="none",document.body.appendChild(n),i.default.prototype._isSafari()&&(e=(e='Hello, Safari user! To download this file...\n1. Go to File --\x3e Save As.\n2. Choose "Page Source" as the Format.\n')+'3. Name it with this extension: ."'.concat(t[1],'"'),alert(e)),n.click())},i.default.prototype._checkFileExtension=c,i.default.prototype._isSafari=function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")},e=i.default,r.default=e},{"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":165,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":230,"core-js/modules/web.url":232,"es6-promise/auto":233,"fetch-jsonp":235,"file-saver":236,"whatwg-fetch":245}],294:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.trim"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.trim"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(e=e("../core/main"))&&e.__esModule?e:{default:e};n.default.Table=function(e){this.columns=[],this.rows=[]},n.default.Table.prototype.addRow=function(e){if(void 0===(e=e||new n.default.TableRow).arr||void 0===e.obj)throw new Error("invalid TableRow: ".concat(e));return(e.table=this).rows.push(e),e},n.default.Table.prototype.removeRow=function(e){this.rows[e].table=null,e=this.rows.splice(e+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(e)},n.default.Table.prototype.getRow=function(e){return this.rows[e]},n.default.Table.prototype.getRows=function(){return this.rows},n.default.Table.prototype.findRow=function(e,t){if("string"==typeof t){for(var r=0;r<this.rows.length;r++)if(this.rows[r].obj[t]===e)return this.rows[r]}else for(var n=0;n<this.rows.length;n++)if(this.rows[n].arr[t]===e)return this.rows[n];return null},n.default.Table.prototype.findRows=function(e,t){var r=[];if("string"==typeof t)for(var n=0;n<this.rows.length;n++)this.rows[n].obj[t]===e&&r.push(this.rows[n]);else for(var i=0;i<this.rows.length;i++)this.rows[i].arr[t]===e&&r.push(this.rows[i]);return r},n.default.Table.prototype.matchRow=function(e,t){if("number"==typeof t){for(var r=0;r<this.rows.length;r++)if(this.rows[r].arr[t].match(e))return this.rows[r]}else for(var n=0;n<this.rows.length;n++)if(this.rows[n].obj[t].match(e))return this.rows[n];return null},n.default.Table.prototype.matchRows=function(e,t){var r=[];if("number"==typeof t)for(var n=0;n<this.rows.length;n++)this.rows[n].arr[t].match(e)&&r.push(this.rows[n]);else for(var i=0;i<this.rows.length;i++)this.rows[i].obj[t].match(e)&&r.push(this.rows[i]);return r},n.default.Table.prototype.getColumn=function(e){var t=[];if("string"==typeof e)for(var r=0;r<this.rows.length;r++)t.push(this.rows[r].obj[e]);else for(var n=0;n<this.rows.length;n++)t.push(this.rows[n].arr[e]);return t},n.default.Table.prototype.clearRows=function(){delete this.rows,this.rows=[]},n.default.Table.prototype.addColumn=function(e){this.columns.push(e||null)},n.default.Table.prototype.getColumnCount=function(){return this.columns.length},n.default.Table.prototype.getRowCount=function(){return this.rows.length},n.default.Table.prototype.removeTokens=function(e,t){for(var r=[],n=0;n<e.length;n++)r.push(e.charAt(n).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var i=new RegExp(r.join("|"),"g");if(void 0===t)for(var o=0;o<this.columns.length;o++)for(var a=0;a<this.rows.length;a++){var s=(s=this.rows[a].arr[o]).replace(i,"");this.rows[a].arr[o]=s,this.rows[a].obj[this.columns[o]]=s}else if("string"==typeof t)for(var l=0;l<this.rows.length;l++){var u=(u=this.rows[l].obj[t]).replace(i,""),c=(this.rows[l].obj[t]=u,this.columns.indexOf(t));this.rows[l].arr[c]=u}else for(var h=0;h<this.rows.length;h++){var d=(d=this.rows[h].arr[t]).replace(i,"");this.rows[h].arr[t]=d,this.rows[h].obj[this.columns[t]]=d}},n.default.Table.prototype.trim=function(e){var t=new RegExp(" ","g");if(void 0===e)for(var r=0;r<this.columns.length;r++)for(var n=0;n<this.rows.length;n++){var i=(i=this.rows[n].arr[r]).replace(t,"");this.rows[n].arr[r]=i,this.rows[n].obj[this.columns[r]]=i}else if("string"==typeof e)for(var o=0;o<this.rows.length;o++){var a=(a=this.rows[o].obj[e]).replace(t,""),s=(this.rows[o].obj[e]=a,this.columns.indexOf(e));this.rows[o].arr[s]=a}else for(var l=0;l<this.rows.length;l++){var u=(u=this.rows[l].arr[e]).replace(t,"");this.rows[l].arr[e]=u,this.rows[l].obj[this.columns[e]]=u}},n.default.Table.prototype.removeColumn=function(e){var t,r;"string"==typeof e?r=this.columns.indexOf(t=e):t=this.columns[r=e],e=this.columns.splice(r+1,this.columns.length),this.columns.pop(),this.columns=this.columns.concat(e);for(var n=0;n<this.rows.length;n++){var i=this.rows[n].arr,o=i.splice(r+1,i.length);i.pop(),this.rows[n].arr=i.concat(o),delete this.rows[n].obj[t]}},n.default.Table.prototype.set=function(e,t,r){this.rows[e].set(t,r)},n.default.Table.prototype.setNum=function(e,t,r){this.rows[e].setNum(t,r)},n.default.Table.prototype.setString=function(e,t,r){this.rows[e].setString(t,r)},n.default.Table.prototype.get=function(e,t){return this.rows[e].get(t)},n.default.Table.prototype.getNum=function(e,t){return this.rows[e].getNum(t)},n.default.Table.prototype.getString=function(e,t){return this.rows[e].getString(t)},n.default.Table.prototype.getObject=function(e){for(var t,r={},n=0;n<this.rows.length;n++)if(t=this.rows[n].obj,"string"==typeof e){if(!(0<=this.columns.indexOf(e)))throw new Error('This table has no column named "'.concat(e,'"'));r[t[e]]=t}else r[n]=this.rows[n].obj;return r},n.default.Table.prototype.getArray=function(){for(var e=[],t=0;t<this.rows.length;t++)e.push(this.rows[t].arr);return e},e=n.default,r.default=e},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.splice":164,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.trim":193}],295:[function(e,t,r){"use strict";e("core-js/modules/es.array.index-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.split"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.split"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,(e=(e=e("../core/main"))&&e.__esModule?e:{default:e}).default.TableRow=function(e,t){var r=[],n={};e&&(r=e.split(t=t||","));for(var i=0;i<r.length;i++){var o=i,a=r[i];n[o]=a}this.arr=r,this.obj=n,this.table=null},e.default.TableRow.prototype.set=function(e,t){if("string"==typeof e){var r=this.table.columns.indexOf(e);if(!(0<=r))throw new Error('This table has no column named "'.concat(e,'"'));this.obj[e]=t,this.arr[r]=t}else{if(!(e<this.table.columns.length))throw new Error("Column #".concat(e," is out of the range of this table"));this.arr[e]=t,r=this.table.columns[e],this.obj[r]=t}},e.default.TableRow.prototype.setNum=function(e,t){t=parseFloat(t),this.set(e,t)},e.default.TableRow.prototype.setString=function(e,t){t=t.toString(),this.set(e,t)},e.default.TableRow.prototype.get=function(e){return("string"==typeof e?this.obj:this.arr)[e]},e.default.TableRow.prototype.getNum=function(e){var t="string"==typeof e?parseFloat(this.obj[e]):parseFloat(this.arr[e]);if("NaN"===t.toString())throw"Error: ".concat(this.obj[e]," is NaN (Not a Number)");return t},e.default.TableRow.prototype.getString=function(e){return("string"==typeof e?this.obj:this.arr)[e].toString()},e=e.default,r.default=e},{"../core/main":267,"core-js/modules/es.array.index-of":157,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.split":191}],296:[function(e,t,r){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(e=e("../core/main"))&&e.__esModule?e:{default:e};function i(e){for(var t=[],r=0;r<e.length;r++)t.push(new n.default.XML(e[r]));return t}n.default.XML=function(e){e?this.DOM=e:(e=document.implementation.createDocument(null,"doc"),this.DOM=e.createElement("root"))},n.default.XML.prototype.getParent=function(){return new n.default.XML(this.DOM.parentElement)},n.default.XML.prototype.getName=function(){return this.DOM.tagName},n.default.XML.prototype.setName=function(e){var t=this.DOM.innerHTML,r=this.DOM.attributes,n=document.implementation.createDocument(null,"default").createElement(e);n.innerHTML=t;for(var i=0;i<r.length;i++)n.setAttribute(r[i].nodeName,r.nodeValue);this.DOM=n},n.default.XML.prototype.hasChildren=function(){return 0<this.DOM.children.length},n.default.XML.prototype.listChildren=function(){for(var e=[],t=0;t<this.DOM.childNodes.length;t++)e.push(this.DOM.childNodes[t].nodeName);return e},n.default.XML.prototype.getChildren=function(e){return i(e?this.DOM.getElementsByTagName(e):this.DOM.children)},n.default.XML.prototype.getChild=function(e){if("string"!=typeof e)return new n.default.XML(this.DOM.children[e]);var t=!0,r=!1,i=void 0;try{for(var o,a=this.DOM.children[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;if(s.tagName===e)return new n.default.XML(s)}}catch(e){r=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw i}}},n.default.XML.prototype.addChild=function(e){e instanceof n.default.XML&&this.DOM.appendChild(e.DOM)},n.default.XML.prototype.removeChild=function(e){var t=-1;if("string"==typeof e){for(var r=0;r<this.DOM.children.length;r++)if(this.DOM.children[r].tagName===e){t=r;break}}else t=e;-1!==t&&this.DOM.removeChild(this.DOM.children[t])},n.default.XML.prototype.getAttributeCount=function(){return this.DOM.attributes.length},n.default.XML.prototype.listAttributes=function(){var e=[],t=!0,r=!1,n=void 0;try{for(var i,o=this.DOM.attributes[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;e.push(a.nodeName)}}catch(e){r=!0,n=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw n}}return e},n.default.XML.prototype.hasAttribute=function(e){var t={},r=!0,n=!1,i=void 0;try{for(var o,a=this.DOM.attributes[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var s=o.value;t[s.nodeName]=s.nodeValue}}catch(e){n=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}return!!t[e]},n.default.XML.prototype.getNum=function(e,t){var r={},n=!0,i=!1,o=void 0;try{for(var a,s=this.DOM.attributes[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;r[l.nodeName]=l.nodeValue}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return Number(r[e])||t||0},n.default.XML.prototype.getString=function(e,t){var r={},n=!0,i=!1,o=void 0;try{for(var a,s=this.DOM.attributes[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;r[l.nodeName]=l.nodeValue}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r[e]?String(r[e]):t||null},n.default.XML.prototype.setAttribute=function(e,t){this.DOM.setAttribute(e,t)},n.default.XML.prototype.getContent=function(e){var t=this.DOM.textContent;return(t=t.replace(/\s\s+/g,","))||e||null},n.default.XML.prototype.setContent=function(e){this.DOM.children.length||(this.DOM.textContent=e)},n.default.XML.prototype.serialize=function(){return(new XMLSerializer).serializeToString(this.DOM)},e=n.default,r.default=e},{"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.number.constructor":169,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],297:[function(e,t,r){"use strict";e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.math.hypot"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.math.hypot"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.string.includes"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(e=e("../core/main"))&&e.__esModule?e:{default:e};function i(){if("function"==typeof Math.hypot)return Math.hypot.apply(null,arguments);for(var e=arguments.length,t=[],r=0,n=0;n<e;n++){var i=arguments[n];if((i=+i)===1/0||i===-1/0)return 1/0;r<(i=Math.abs(i))&&(r=i),t[n]=i}0===r&&(r=1);for(var o=0,a=0,s=0;s<e;s++){var l,u=o+(l=(l=t[s]/r)*l-a);a=u-o-l,o=u}return Math.sqrt(o)*r}n.default.prototype.abs=Math.abs,n.default.prototype.ceil=Math.ceil,n.default.prototype.constrain=function(e,t,r){return n.default._validateParameters("constrain",arguments),Math.max(Math.min(e,r),t)},n.default.prototype.dist=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.default._validateParameters("dist",t),4===t.length?i(t[2]-t[0],t[3]-t[1]):6===t.length?i(t[3]-t[0],t[4]-t[1],t[5]-t[2]):void 0},n.default.prototype.exp=Math.exp,n.default.prototype.floor=Math.floor,n.default.prototype.lerp=function(e,t,r){return n.default._validateParameters("lerp",arguments),r*(t-e)+e},n.default.prototype.log=Math.log,n.default.prototype.mag=function(e,t){return n.default._validateParameters("mag",arguments),i(e,t)},n.default.prototype.map=function(e,t,r,i,o,a){return n.default._validateParameters("map",arguments),e=(e-t)/(r-t)*(o-i)+i,a?i<o?this.constrain(e,i,o):this.constrain(e,o,i):e},n.default.prototype.max=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t[0]instanceof Array?Math.max.apply(null,t[0]):Math.max.apply(null,t)},n.default.prototype.min=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t[0]instanceof Array?Math.min.apply(null,t[0]):Math.min.apply(null,t)},n.default.prototype.norm=function(e,t,r){return n.default._validateParameters("norm",arguments),this.map(e,t,r,0,1)},n.default.prototype.pow=Math.pow,n.default.prototype.round=function(e,t){return t?(t=Math.pow(10,t),Math.round(e*t)/t):Math.round(e)},n.default.prototype.sq=function(e){return e*e},n.default.prototype.sqrt=Math.sqrt,n.default.prototype.fract=function(e){n.default._validateParameters("fract",arguments);var t,r=0;return e=Number(e),isNaN(e)||Math.abs(e)===1/0?e:(e<0&&(e=-e,r=1),String(e).includes(".")&&!String(e).includes("e")?(t=String(e),t=Number("0"+t.slice(t.indexOf("."))),Math.abs(r-t)):e<1?Math.abs(r-e):0)},e=n.default,r.default=e},{"../core/main":267,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.math.hypot":167,"core-js/modules/es.number.constructor":169,"core-js/modules/es.string.includes":185}],298:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.to-string"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(e=e("../core/main"))&&e.__esModule?e:{default:e};function i(e,t,r){return(i=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(e){}}}()?Reflect.construct:function(e,t,r){var n=[null];return n.push.apply(n,t),t=new(Function.bind.apply(e,n)),r&&o(t,r.prototype),t}).apply(null,arguments)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.default.prototype.createVector=function(e,t,r){return this instanceof n.default?i(n.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new n.default.Vector(e,t,r)},e=n.default,r.default=e},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.reflect.construct":179,"core-js/modules/es.regexp.to-string":182}],299:[function(e,t,r){"use strict";function n(e){return.5*(1-Math.cos(e*Math.PI))}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,e=(e=e("../core/main"))&&e.__esModule?e:{default:e};var i,o=4095,a=4,s=.5;e.default.prototype.noise=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(null==i){i=new Array(4096);for(var l=0;l<4096;l++)i[l]=Math.random()}e<0&&(e=-e),t<0&&(t=-t),r<0&&(r=-r);for(var u,c,h=Math.floor(e),d=Math.floor(t),f=Math.floor(r),p=e-h,m=t-d,y=r-f,g=0,v=.5,b=0;b<a;b++){var x=h+(d<<4)+(f<<8),w=n(p),S=n(m),k=i[x&o];k+=w*(i[x+1&o]-k),u=i[x+16&o],k+=S*((u+=w*(i[x+16+1&o]-u))-k),u=i[(x+=256)&o],u+=w*(i[x+1&o]-u),c=i[x+16&o],u+=S*((c+=w*(i[x+16+1&o]-c))-u),g+=(k+=n(y)*(u-k))*v,v*=s,h<<=1,d<<=1,f<<=1,1<=(p*=2)&&(h++,p--),1<=(m*=2)&&(d++,m--),1<=(y*=2)&&(f++,y--)}return g},e.default.prototype.noiseDetail=function(e,t){0<e&&(a=e),0<t&&(s=t)},e.default.prototype.noiseSeed=function(e){n=4294967296;var t,r,n,o={setSeed:function(e){r=t=(null==e?Math.random()*n:e)>>>0},getSeed:function(){return t},rand:function(){return(r=(1664525*r+1013904223)%n)/n}};o.setSeed(e),i=new Array(4096);for(var a=0;a<4096;a++)i[a]=o.rand()},e=e.default,r.default=e},{"../core/main":267}],300:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.math.sign"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.number.is-finite"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.sub"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.math.sign"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.number.is-finite"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.sub"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=(c=e("../core/main"))&&c.__esModule?c:{default:c},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../core/constants"));function s(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,s=function(){return e},e)}function l(e,t){return 0!==e&&(this.x=this.x%e),0!==t&&(this.y=this.y%t),this}function u(e,t,r){return 0!==e&&(this.x=this.x%e),0!==t&&(this.y=this.y%t),0!==r&&(this.z=this.z%r),this}o.default.Vector=function(){var e,t,r="[object Function]"==={}.toString.call(arguments[0])?(this.isPInst=!0,this._fromRadians=arguments[0],this._toRadians=arguments[1],e=arguments[2]||0,t=arguments[3]||0,arguments[4]||0):(e=arguments[0]||0,t=arguments[1]||0,arguments[2]||0);this.x=e,this.y=t,this.z=r},o.default.Vector.prototype.toString=function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")},o.default.Vector.prototype.set=function(e,t,r){return e instanceof o.default.Vector?(this.x=e.x||0,this.y=e.y||0,this.z=e.z||0):e instanceof Array?(this.x=e[0]||0,this.y=e[1]||0,this.z=e[2]||0):(this.x=e||0,this.y=t||0,this.z=r||0),this},o.default.Vector.prototype.copy=function(){return this.isPInst?new o.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new o.default.Vector(this.x,this.y,this.z)},o.default.Vector.prototype.add=function(e,t,r){return e instanceof o.default.Vector?(this.x+=e.x||0,this.y+=e.y||0,this.z+=e.z||0):e instanceof Array?(this.x+=e[0]||0,this.y+=e[1]||0,this.z+=e[2]||0):(this.x+=e||0,this.y+=t||0,this.z+=r||0),this},o.default.Vector.prototype.rem=function(e,t,r){var n;if(e instanceof o.default.Vector){if(Number.isFinite(e.x)&&Number.isFinite(e.y)&&Number.isFinite(e.z))return i=parseFloat(e.x),a=parseFloat(e.y),n=parseFloat(e.z),u.call(this,i,a,n)}else if(e instanceof Array){if(e.every((function(e){return Number.isFinite(e)})))return 2===e.length?l.call(this,e[0],e[1]):3===e.length?u.call(this,e[0],e[1],e[2]):void 0}else if(1===arguments.length){if(Number.isFinite(e)&&0!==e)return this.x=this.x%e,this.y=this.y%e,this.z=this.z%e,this}else if(2===arguments.length){var i=Array.prototype.slice.call(arguments);if(i.every((function(e){return Number.isFinite(e)}))&&2===i.length)return l.call(this,i[0],i[1])}else if(3===arguments.length){var a=Array.prototype.slice.call(arguments);if(a.every((function(e){return Number.isFinite(e)}))&&3===a.length)return u.call(this,a[0],a[1],a[2])}},o.default.Vector.prototype.sub=function(e,t,r){return e instanceof o.default.Vector?(this.x-=e.x||0,this.y-=e.y||0,this.z-=e.z||0):e instanceof Array?(this.x-=e[0]||0,this.y-=e[1]||0,this.z-=e[2]||0):(this.x-=e||0,this.y-=t||0,this.z-=r||0),this},o.default.Vector.prototype.mult=function(e,t,r){var n;return e instanceof o.default.Vector?Number.isFinite(e.x)&&Number.isFinite(e.y)&&Number.isFinite(e.z)&&"number"==typeof e.x&&"number"==typeof e.y&&"number"==typeof e.z?(this.x*=e.x,this.y*=e.y,this.z*=e.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):e instanceof Array?e.every((function(e){return Number.isFinite(e)}))&&e.every((function(e){return"number"==typeof e}))?1===e.length?(this.x*=e[0],this.y*=e[0],this.z*=e[0]):2===e.length?(this.x*=e[0],this.y*=e[1]):3===e.length&&(this.x*=e[0],this.y*=e[1],this.z*=e[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(n=Array.prototype.slice.call(arguments)).every((function(e){return Number.isFinite(e)}))&&n.every((function(e){return"number"==typeof e}))?(1===arguments.length&&(this.x*=e,this.y*=e,this.z*=e),2===arguments.length&&(this.x*=e,this.y*=t),3===arguments.length&&(this.x*=e,this.y*=t,this.z*=r)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this},o.default.Vector.prototype.div=function(e,t,r){if(e instanceof o.default.Vector)if(Number.isFinite(e.x)&&Number.isFinite(e.y)&&Number.isFinite(e.z)&&"number"==typeof e.x&&"number"==typeof e.y&&"number"==typeof e.z){if(0===e.x||0===e.y||0===e.z)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=e.x,this.y/=e.y,this.z/=e.z}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(e instanceof Array)if(e.every((function(e){return Number.isFinite(e)}))&&e.every((function(e){return"number"==typeof e}))){if(e.some((function(e){return 0===e})))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===e.length?(this.x/=e[0],this.y/=e[0],this.z/=e[0]):2===e.length?(this.x/=e[0],this.y/=e[1]):3===e.length&&(this.x/=e[0],this.y/=e[1],this.z/=e[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else{var n=Array.prototype.slice.call(arguments);if(n.every((function(e){return Number.isFinite(e)}))&&n.every((function(e){return"number"==typeof e}))){if(n.some((function(e){return 0===e})))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;1===arguments.length&&(this.x/=e,this.y/=e,this.z/=e),2===arguments.length&&(this.x/=e,this.y/=t),3===arguments.length&&(this.x/=e,this.y/=t,this.z/=r)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number")}return this},o.default.Vector.prototype.mag=function(){return Math.sqrt(this.magSq())},o.default.Vector.prototype.magSq=function(){var e=this.x,t=this.y,r=this.z;return e*e+t*t+r*r},o.default.Vector.prototype.dot=function(e,t,r){return e instanceof o.default.Vector?this.dot(e.x,e.y,e.z):this.x*(e||0)+this.y*(t||0)+this.z*(r||0)},o.default.Vector.prototype.cross=function(e){var t=this.y*e.z-this.z*e.y,r=this.z*e.x-this.x*e.z;return e=this.x*e.y-this.y*e.x,this.isPInst?new o.default.Vector(this._fromRadians,this._toRadians,t,r,e):new o.default.Vector(t,r,e)},o.default.Vector.prototype.dist=function(e){return e.copy().sub(this).mag()},o.default.Vector.prototype.normalize=function(){var e=this.mag();return 0!==e&&this.mult(1/e),this},o.default.Vector.prototype.limit=function(e){var t=this.magSq();return e*e<t&&this.div(Math.sqrt(t)).mult(e),this},o.default.Vector.prototype.setMag=function(e){return this.normalize().mult(e)},o.default.Vector.prototype.heading=function(){var e=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(e):e},o.default.Vector.prototype.setHeading=function(e){this.isPInst&&(e=this._toRadians(e));var t=this.mag();return this.x=t*Math.cos(e),this.y=t*Math.sin(e),this},o.default.Vector.prototype.rotate=function(e){e=this.heading()+e;var t=(this.isPInst&&(e=this._toRadians(e)),this.mag());return this.x=Math.cos(e)*t,this.y=Math.sin(e)*t,this},o.default.Vector.prototype.angleBetween=function(e){var t=this.dot(e)/(this.mag()*e.mag());return t=Math.acos(Math.min(1,Math.max(-1,t))),t*=Math.sign(this.cross(e).z||1),this.isPInst?this._fromRadians(t):t},o.default.Vector.prototype.lerp=function(e,t,r,n){return e instanceof o.default.Vector?this.lerp(e.x,e.y,e.z,t):(this.x+=(e-this.x)*n||0,this.y+=(t-this.y)*n||0,this.z+=(r-this.z)*n||0,this)},o.default.Vector.prototype.reflect=function(e){return e.normalize(),this.sub(e.mult(2*this.dot(e)))},o.default.Vector.prototype.array=function(){return[this.x||0,this.y||0,this.z||0]},o.default.Vector.prototype.equals=function(e,t,r){var n,i;return e=e instanceof o.default.Vector?(n=e.x||0,i=e.y||0,e.z||0):e instanceof Array?(n=e[0]||0,i=e[1]||0,e[2]||0):(n=e||0,i=t||0,r||0),this.x===n&&this.y===i&&this.z===e},o.default.Vector.fromAngle=function(e,t){return new o.default.Vector((t=void 0===t?1:t)*Math.cos(e),t*Math.sin(e),0)},o.default.Vector.fromAngles=function(e,t,r){void 0===r&&(r=1);var n=Math.cos(t),i=(t=Math.sin(t),Math.cos(e));return e=Math.sin(e),new o.default.Vector(r*e*t,-r*i,r*e*n)},o.default.Vector.random2D=function(){return this.fromAngle(Math.random()*a.TWO_PI)},o.default.Vector.random3D=function(){var e=Math.random()*a.TWO_PI,t=2*Math.random()-1,r=(n=Math.sqrt(1-t*t))*Math.cos(e),n=n*Math.sin(e);return new o.default.Vector(r,n,t)},o.default.Vector.add=function(e,t,r){return r?r.set(e):(r=e.copy(),3===arguments.length&&o.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),r.add(t),r},o.default.Vector.rem=function(e,t){if(e instanceof o.default.Vector&&t instanceof o.default.Vector)return(e=e.copy()).rem(t),e},o.default.Vector.sub=function(e,t,r){return r?r.set(e):(r=e.copy(),3===arguments.length&&o.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),r.sub(t),r},o.default.Vector.mult=function(e,t,r){return r?r.set(e):(r=e.copy(),3===arguments.length&&o.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),r.mult(t),r},o.default.Vector.rotate=function(e,t,r){return 2===arguments.length?r=e.copy():(r instanceof o.default.Vector||o.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),r.set(e)),r.rotate(t),r},o.default.Vector.div=function(e,t,r){return r?r.set(e):(r=e.copy(),3===arguments.length&&o.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),r.div(t),r},o.default.Vector.dot=function(e,t){return e.dot(t)},o.default.Vector.cross=function(e,t){return e.cross(t)},o.default.Vector.dist=function(e,t){return e.dist(t)},o.default.Vector.lerp=function(e,t,r,n){return n?n.set(e):(n=e.copy(),4===arguments.length&&o.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),n.lerp(t,r),n},o.default.Vector.mag=function(e){var t=e.x,r=e.y;return e=e.z,Math.sqrt(t*t+r*r+e*e)},o.default.Vector.normalize=function(e,t){return arguments.length<2?t=e.copy():(t instanceof o.default.Vector||o.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),t.set(e)),t.normalize()};var c=o.default.Vector;r.default=c},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.every":151,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.some":163,"core-js/modules/es.math.sign":168,"core-js/modules/es.number.constructor":169,"core-js/modules/es.number.is-finite":170,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.sub":192,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],301:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(e=e("../core/main"))&&e.__esModule?e:{default:e},i="_lcg_random_state",o=4294967296,a=0;n.default.prototype._lcg=function(e){return this[e]=(1664525*this[e]+1013904223)%o,this[e]/o},n.default.prototype._lcgSetSeed=function(e,t){this[e]=(null==t?Math.random()*o:t)>>>0},n.default.prototype.randomSeed=function(e){this._lcgSetSeed(i,e),this._gaussian_previous=!1},n.default.prototype.random=function(e,t){var r,o;return n.default._validateParameters("random",arguments),r=null!=this[i]?this._lcg(i):Math.random(),void 0===e?r:void 0===t?e instanceof Array?e[Math.floor(r*e.length)]:r*e:(t<e&&(o=e,e=t,t=o),r*(t-e)+e)},n.default.prototype.randomGaussian=function(e){var t,r,n,i,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;if(this._gaussian_previous)t=a,this._gaussian_previous=!1;else{for(;1<=(i=(r=this.random(2)-1)*r+(n=this.random(2)-1)*n););t=r*(i=Math.sqrt(-2*Math.log(i)/i)),a=n*i,this._gaussian_previous=!0}return t*o+(e||0)},e=n.default,r.default=e},{"../core/main":267}],302:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=(l=e("../core/main"))&&l.__esModule?l:{default:l},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../core/constants"));function s(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,s=function(){return e},e)}o.default.prototype._angleMode=a.RADIANS,o.default.prototype.acos=function(e){return this._fromRadians(Math.acos(e))},o.default.prototype.asin=function(e){return this._fromRadians(Math.asin(e))},o.default.prototype.atan=function(e){return this._fromRadians(Math.atan(e))},o.default.prototype.atan2=function(e,t){return this._fromRadians(Math.atan2(e,t))},o.default.prototype.cos=function(e){return Math.cos(this._toRadians(e))},o.default.prototype.sin=function(e){return Math.sin(this._toRadians(e))},o.default.prototype.tan=function(e){return Math.tan(this._toRadians(e))},o.default.prototype.degrees=function(e){return e*a.RAD_TO_DEG},o.default.prototype.radians=function(e){return e*a.DEG_TO_RAD},o.default.prototype.angleMode=function(e){if(o.default._validateParameters("angleMode",arguments),void 0===e)return this._angleMode;e!==a.DEGREES&&e!==a.RADIANS||(this._angleMode=e)},o.default.prototype._toRadians=function(e){return this._angleMode===a.DEGREES?e*a.DEG_TO_RAD:e},o.default.prototype._toDegrees=function(e){return this._angleMode===a.RADIANS?e*a.RAD_TO_DEG:e},o.default.prototype._fromRadians=function(e){return this._angleMode===a.DEGREES?e*a.RAD_TO_DEG:e};var l=o.default;r.default=l},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],303:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(e=e("../core/main"))&&e.__esModule?e:{default:e};n.default.prototype.textAlign=function(e,t){var r;return n.default._validateParameters("textAlign",arguments),(r=this._renderer).textAlign.apply(r,arguments)},n.default.prototype.textLeading=function(e){var t;return n.default._validateParameters("textLeading",arguments),(t=this._renderer).textLeading.apply(t,arguments)},n.default.prototype.textSize=function(e){var t;return n.default._validateParameters("textSize",arguments),(t=this._renderer).textSize.apply(t,arguments)},n.default.prototype.textStyle=function(e){var t;return n.default._validateParameters("textStyle",arguments),(t=this._renderer).textStyle.apply(t,arguments)},n.default.prototype.textWidth=function(){for(var e,t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return r[0]+="",n.default._validateParameters("textWidth",r),0===r[0].length?0:(e=this._renderer).textWidth.apply(e,r)},n.default.prototype.textAscent=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.default._validateParameters("textAscent",t),this._renderer.textAscent()},n.default.prototype.textDescent=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.default._validateParameters("textDescent",t),this._renderer.textDescent()},n.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},n.default.prototype.textWrap=function(e){if("WORD"!==e&&"CHAR"!==e)throw"Error: textWrap accepts only WORD or CHAR";return this._renderer.textWrap(e)},e=n.default,r.default=e},{"../core/main":267}],304:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.split"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=(c=e("../core/main"))&&c.__esModule?c:{default:c},a=u(e("../core/constants")),s=u(e("opentype.js"));function l(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,l=function(){return e},e)}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r,n,o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&((n=a?Object.getOwnPropertyDescriptor(e,r):null)&&(n.get||n.set)?Object.defineProperty(o,r,n):o[r]=e[r]);return o.default=e,t&&t.set(e,o),o}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),o.default.prototype.loadFont=function(e,t,r){o.default._validateParameters("loadFont",arguments);var n=new o.default.Font(this),i=this;return s.load(e,(function(a,s){if(a)return o.default._friendlyFileLoadError(4,e),void 0!==r?r(a):void console.error(a,e);n.font=s,void 0!==t&&t(n),i._decrementPreload();var l=(s=(a=e.split("\\").pop().split("/").pop()).lastIndexOf("."))<1?null:a.slice(s+1);["ttf","otf","woff","woff2"].includes(l)&&(l=a.slice(0,-1!==s?s:0),(a=document.createElement("style")).appendChild(document.createTextNode("\n@font-face {\nfont-family: ".concat(l,";\nsrc: url(").concat(e,");\n}\n"))),document.head.appendChild(a))})),n},o.default.prototype.text=function(e,t,r,n,i){var a;return o.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(a=this._renderer).text.apply(a,arguments):this},o.default.prototype.textFont=function(e,t){if(o.default._validateParameters("textFont",arguments),arguments.length){if(e)return this._renderer._setProperty("_textFont",e),t&&(this._renderer._setProperty("_textSize",t),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",t*a._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var c=o.default;r.default=c},{"../core/constants":256,"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230,"opentype.js":241}],305:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=(i=e("../core/main"))&&i.__esModule?i:{default:i},o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var r,n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var o;Object.prototype.hasOwnProperty.call(e,r)&&((o=i?Object.getOwnPropertyDescriptor(e,r):null)&&(o.get||o.set)?Object.defineProperty(n,r,o):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../core/constants"));function a(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,a=function(){return e},e)}function s(e){return(s="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}function l(e,t){var r=e.length;return e[t<0?t%r+r:t%r]}function u(e,t,r,n){var i,o,a;return n?(void 0===u.tmpPoint1&&(u.tmpPoint1=[],u.tmpPoint2=[]),o=u.tmpPoint1,a=u.tmpPoint2,o.x=t.x-e.x,o.y=t.y-e.y,a.x=r.x-t.x,a.y=r.y-t.y,i=o.x*a.x+o.y*a.y,o=Math.sqrt(o.x*o.x+o.y*o.y),a=Math.sqrt(a.x*a.x+a.y*a.y),Math.acos(i/(o*a))<n):0==(t[0]-e[0])*(r[1]-e[1])-(r[0]-e[0])*(t[1]-e[1])}function c(e,t,r,n,i,o,a,s,l){var u=1-l,c=(h=Math.pow(u,3))*e+3*(d=Math.pow(u,2))*l*r+3*u*l*l*i+(f=(m=l*l)*l)*a,h=h*t+3*d*l*n+3*u*l*l*o+f*s,d=e+2*l*(r-e)+m*(i-2*r+e),f=t+2*l*(n-t)+m*(o-2*n+t),p=r+2*l*(i-r)+m*(a-2*i+r),m=n+2*l*(o-n)+m*(s-2*o+n);return e=u*e+l*r,r=u*t+l*n,t=u*i+l*a,n=u*o+l*s,i=90-180*Math.atan2(d-p,f-m)/Math.PI,(p<d||f<m)&&(i+=180),{x:c,y:h,m:{x:d,y:f},n:{x:p,y:m},start:{x:e,y:r},end:{x:t,y:n},alpha:i}}function h(e,t,r,n,i,o,a,s,l){return null==l?v(e,t,r,n,i,o,a,s):c(e,t,r,n,i,o,a,s,function(e,t,r,n,i,o,a,s,l){if(!(l<0||v(e,t,r,n,i,o,a,s)<l)){var u,c=.5,h=1-c;for(u=v(e,t,r,n,i,o,a,s,h);.01<Math.abs(u-l);)u=v(e,t,r,n,i,o,a,s,h+=(u<l?1:-1)*(c/=2));return h}}(e,t,r,n,i,o,a,s,l))}function d(e,t,r){for(var n,i,o,a,s,l=0,u=0,d=(e=function(e,t){function r(e,t,r){var n,i;if(!e)return["C",t.x,t.y,t.x,t.y,t.x,t.y];switch(e[0]in{T:1,Q:1}||(t.qx=t.qy=null),e[0]){case"M":t.X=e[1],t.Y=e[2];break;case"A":e=["C"].concat(p.apply(0,[t.x,t.y].concat(e.slice(1))));break;case"S":i="C"===r||"S"===r?(n=2*t.x-t.bx,2*t.y-t.by):(n=t.x,t.y),e=["C",n,i].concat(e.slice(1));break;case"T":"Q"===r||"T"===r?(t.qx=2*t.x-t.qx,t.qy=2*t.y-t.qy):(t.qx=t.x,t.qy=t.y),e=["C"].concat(g(t.x,t.y,t.qx,t.qy,e[1],e[2]));break;case"Q":t.qx=e[1],t.qy=e[2],e=["C"].concat(g(t.x,t.y,e[1],e[2],e[3],e[4]));break;case"L":e=["C"].concat(y(t.x,t.y,e[1],e[2]));break;case"H":e=["C"].concat(y(t.x,t.y,e[1],t.y));break;case"V":e=["C"].concat(y(t.x,t.y,t.x,e[1]));break;case"Z":e=["C"].concat(y(t.x,t.y,t.X,t.Y))}return e}function n(e,t){if(7<e[t].length){e[t].shift();for(var r=e[t];r.length;)c[t]="A",s&&(h[t]="A"),e.splice(t++,0,["C"].concat(r.splice(0,6)));e.splice(t,1),o=Math.max(a.length,s&&s.length||0)}}function i(e,t,r,n,i){e&&t&&"M"===e[i][0]&&"M"!==t[i][0]&&(t.splice(i,0,["M",n.x,n.y]),r.bx=0,r.by=0,r.x=e[i][1],r.y=e[i][2],o=Math.max(a.length,s&&s.length||0))}var o,a=f(e),s=t&&f(t),l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},c=[],h=[],d="",m="";o=Math.max(a.length,s&&s.length||0);for(var v=0;v<o;v++){"C"!==(d=a[v]?a[v][0]:d)&&(c[v]=d,v&&(m=c[v-1])),a[v]=r(a[v],l,m),"A"!==c[v]&&"C"===d&&(c[v]="C"),n(a,v),s&&("C"!==(d=s[v]?s[v][0]:d)&&(h[v]=d,v&&(m=h[v-1])),s[v]=r(s[v],u,m),"A"!==h[v]&&"C"===d&&(h[v]="C"),n(s,v)),i(a,s,l,u,v),i(s,a,u,l,v);var b=a[v],x=s&&s[v],w=b.length,S=s&&x.length;l.x=b[w-2],l.y=b[w-1],l.bx=parseFloat(b[w-4])||l.x,l.by=parseFloat(b[w-3])||l.y,u.bx=s&&(parseFloat(x[S-4])||u.x),u.by=s&&(parseFloat(x[S-3])||u.y),u.x=s&&x[S-2],u.y=s&&x[S-1]}return s?[a,s]:a}(e)).length;u<d;u++){if("M"===(o=e[u])[0])n=+o[1],i=+o[2];else{if(t<l+(a=h(n,i,o[1],o[2],o[3],o[4],o[5],o[6]))&&!r)return{x:(s=h(n,i,o[1],o[2],o[3],o[4],o[5],o[6],t-l)).x,y:s.y,alpha:s.alpha};l+=a,n=+o[5],i=+o[6]}o.shift()}return(s=r?l:c(n,i,o[0],o[1],o[2],o[3],o[4],o[5],1)).alpha?{x:s.x,y:s.y,alpha:s.alpha}:s}function f(e){var t=[],r=0,n=0,i=0,o=0,a=0;if(e){"M"===e[0][0]&&(i=r=+e[0][1],o=n=+e[0][2],a++,t[0]=["M",r,n]);for(var s,l,u=3===e.length&&"M"===e[0][0]&&"R"===e[1][0].toUpperCase()&&"Z"===e[2][0].toUpperCase(),c=a,h=e.length;c<h;c++){if(t.push(s=[]),(l=e[c])[0]!==String.prototype.toUpperCase.call(l[0]))switch(s[0]=String.prototype.toUpperCase.call(l[0]),s[0]){case"A":s[1]=l[1],s[2]=l[2],s[3]=l[3],s[4]=l[4],s[5]=l[5],s[6]=+(l[6]+r),s[7]=+(l[7]+n);break;case"V":s[1]=+l[1]+n;break;case"H":s[1]=+l[1]+r;break;case"R":for(var d,f=2,p=(d=[r,n].concat(l.slice(1))).length;f<p;f++)d[f]=+d[f]+r,d[++f]=+d[f]+n;t.pop(),t=t.concat(m(d,u));break;case"M":i=+l[1]+r,o=+l[2]+n;break;default:for(var y=1,g=l.length;y<g;y++)s[y]=+l[y]+(y%2?r:n)}else if("R"===l[0])d=[r,n].concat(l.slice(1)),t.pop(),t=t.concat(m(d,u)),s=["R"].concat(l.slice(-2));else for(var v=0,b=l.length;v<b;v++)s[v]=l[v];switch(s[0]){case"Z":r=i,n=o;break;case"H":r=s[1];break;case"V":n=s[1];break;case"M":i=s[s.length-2],o=s[s.length-1];break;default:r=s[s.length-2],n=s[s.length-1]}}}return t}function p(e,t,r,n,i,o,a,s,l,u){function c(e,t,r){return{x:e*Math.cos(r)-t*Math.sin(r),y:e*Math.sin(r)+t*Math.cos(r)}}var h,d=120*(v=Math.PI)/180,f=v/180*(+i||0),m=[],y=(u?(k=u[0],h=u[1],w=u[2],S=u[3]):(e=(b=c(e,t,-f)).x,t=b.y,1<(y=(g=(e-(s=(b=c(s,l,-f)).x))/2)*g/(r*r)+(b=(t-(l=b.y))/2)*b/(n*n))&&(r*=y=Math.sqrt(y),n*=y),y=r*r,x=n*n,w=(o=(o===a?-1:1)*Math.sqrt(Math.abs((y*x-y*b*b-x*g*g)/(y*b*b+x*g*g))))*r*b/n+(e+s)/2,S=o*-n*g/r+(t+l)/2,k=Math.asin(((t-S)/n).toFixed(9)),h=Math.asin(((l-S)/n).toFixed(9)),(k=e<w?v-k:k)<0&&(k=2*v+k),(h=s<w?v-h:h)<0&&(h=2*v+h),a&&h<k&&(k-=2*v),!a&&k<h&&(h-=2*v)),h-k),g=(Math.abs(y)>d&&(x=h,b=s,o=l,h=k+d*(a&&k<h?1:-1),m=p(s=w+r*Math.cos(h),l=S+n*Math.sin(h),r,n,i,0,a,b,o,[h,x,w,S])),y=h-k,Math.cos(k)),v=Math.sin(k),b=(d=Math.cos(h),i=Math.sin(h),4/3*r*(a=Math.tan(y/4))),x=[e,t],w=[e+b*v,t-(o=4/3*n*a)*g],S=[s+b*i,l-o*d],k=[s,l];if(w[0]=2*x[0]-w[0],w[1]=2*x[1]-w[1],u)return[w,S,k].concat(m);for(var _=[],j=0,M=(m=[w,S,k].concat(m).join().split(",")).length;j<M;j++)_[j]=j%2?c(m[j-1],m[j],f).y:c(m[j],m[j+1],f).x;return _}function m(e,t){for(var r=[],n=0,i=e.length;n<i-2*!t;n+=2){var o=[{x:+e[n-2],y:+e[n-1]},{x:+e[n],y:+e[n+1]},{x:+e[n+2],y:+e[n+3]},{x:+e[n+4],y:+e[n+5]}];t?n?i-4===n?o[3]={x:+e[0],y:+e[1]}:i-2===n&&(o[2]={x:+e[0],y:+e[1]},o[3]={x:+e[2],y:+e[3]}):o[0]={x:+e[i-2],y:+e[i-1]}:i-4===n?o[3]=o[2]:n||(o[0]={x:+e[n],y:+e[n+1]}),r.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return r}function y(e,t,r,n){return[e,t,r,n,r,n]}function g(e,t,r,n,i,o){return[1/3*e+2/3*r,1/3*t+2/3*n,1/3*i+2/3*r,1/3*o+2/3*n,i,o]}function v(e,t,r,n,i,o,a,s,l){for(var u=(l=1<(l=null==l?1:l)?1:l<0?0:l)/2,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],h=0,d=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0;f<12;f++){var p=b(m=u*c[f]+u,e,r,i,a),m=b(m,t,n,o,s);h+=d[f]*Math.sqrt(p*p+m*m)}return u*h}function b(e,t,r,n,i){return e*(e*(-3*t+9*r-9*n+3*i)+6*t-12*r+6*n)-3*t+3*r}i.default.Font=function(e){this.parent=e,this.cache={},this.font=void 0},i.default.Font.prototype.textBounds=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length?arguments[3]:void 0,i=4<arguments.length?arguments[4]:void 0,a=i&&i.renderer&&i.renderer._pInst||this.parent;if((g=a._renderer.drawingContext).textAlign||o.LEFT,g.textBaseline||o.BASELINE,n=n||a._renderer._textSize,!v){for(var s=[],l=[],u=[],c=(u[0]=[],[]),h=this._scale(n),d=a._renderer.textLeading(),f=0,p=(this.font.forEachGlyph(e,t,r,n,i,(function(e,t,r,n){var i=e.getMetrics();0===e.index||10===e.index?u[f+=1]=[]:(u[f].push(t+i.xMin*h),u[f].push(t+i.xMax*h),c.push(r+f*d+-i.yMin*h),c.push(r+f*d+-i.yMax*h))})),0<u[f].length&&(s[f]=Math.min.apply(null,u[f]),l[f]=Math.max.apply(null,u[f])),0),m=0;m<=f;m++){s[m]=Math.min.apply(null,u[m]),l[m]=Math.max.apply(null,u[m]);var y=l[m]-s[m];p<y&&(p=y)}var g,v={x:g=Math.min.apply(null,s),y:r=Math.min.apply(null,c),h:Math.max.apply(null,c)-r,w:p,advance:g-t};n=this._handleAlignment(a._renderer,e,v.x,v.y,v.w+v.advance),v.x=n.x,v.y=n.y}return v},i.default.Font.prototype.textToPoints=function(e,t,r,n,i){var o=0,a=[],c=this._getGlyphs(e);n=n||this.parent._renderer._textSize;for(var h,f=0;f<c.length;f++){if(!(c[h=f].name&&"space"===c[h].name||e.length===c.length&&" "===e[h]))for(var p=function(e){for(var t,r=[],n=0;n<e.length;n++)"M"===e[n].type&&(t&&r.push(t),t=[]),t.push(function(e){var t=[e.type];return"M"===e.type||"L"===e.type?t.push(e.x,e.y):"C"===e.type?t.push(e.x1,e.y1,e.x2,e.y2,e.x,e.y):"Q"===e.type&&t.push(e.x1,e.y1,e.x,e.y),t}(e[n]));return r.push(t),r}(c[f].getPath(t,r,n).commands),m=0;m<p.length;m++)for(var y=function(e,t){t=function(e,t){if("object"!==s(e))e=t;else for(var r in t)void 0===e[r]&&(e[r]=t[r]);return e}(t,{sampleFactor:.1,simplifyThreshold:0});for(var r=d(e,0,1),n=r/(r*t.sampleFactor),i=[],o=0;o<r;o+=n)i.push(d(e,o));return t.simplifyThreshold&&function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=e.length-1;3<e.length&&0<=r;--r)u(l(e,r-1),l(e,r),l(e,r+1),t)&&e.splice(r%e.length,1)}(i,t.simplifyThreshold),i}(p[m],i),g=0;g<y.length;g++)y[g].x+=o,a.push(y[g]);o+=c[f].advanceWidth*this._scale(n)}return a},i.default.Font.prototype._getGlyphs=function(e){return this.font.stringToGlyphs(e)},i.default.Font.prototype._getPath=function(e,t,r,n){var i=(n&&n.renderer&&n.renderer._pInst||this.parent)._renderer;return t=this._handleAlignment(i,e,t,r),this.font.getPath(e,t.x,t.y,i._textSize,n)},i.default.Font.prototype._getPathData=function(e,t,r,n){var i=3;return"string"==typeof e&&2<arguments.length?e=this._getPath(e,t,r,n):"object"===s(t)&&(n=t),n&&"number"==typeof n.decimals&&(i=n.decimals),e.toPathData(i)},i.default.Font.prototype._getSVG=function(e,t,r,n){var i=3;return"string"==typeof e&&2<arguments.length?e=this._getPath(e,t,r,n):"object"===s(t)&&(n=t),n&&("number"==typeof n.decimals&&(i=n.decimals),"number"==typeof n.strokeWidth&&(e.strokeWidth=n.strokeWidth),void 0!==n.fill&&(e.fill=n.fill),void 0!==n.stroke&&(e.stroke=n.stroke)),e.toSVG(i)},i.default.Font.prototype._renderPath=function(e,t,r,n){var i=n&&n.renderer||this.parent._renderer,a=i.drawingContext,l=(e=("object"===s(e)&&e.commands?e:this._getPath(e,t,r,n)).commands,a.beginPath(),!0);t=!1,r=void 0;try{for(var u,c=e[Symbol.iterator]();!(l=(u=c.next()).done);l=!0){var h=u.value;"M"===h.type?a.moveTo(h.x,h.y):"L"===h.type?a.lineTo(h.x,h.y):"C"===h.type?a.bezierCurveTo(h.x1,h.y1,h.x2,h.y2,h.x,h.y):"Q"===h.type?a.quadraticCurveTo(h.x1,h.y1,h.x,h.y):"Z"===h.type&&a.closePath()}}catch(e){t=!0,r=e}finally{try{l||null==c.return||c.return()}finally{if(t)throw r}}return i._doStroke&&i._strokeSet&&a.stroke(),i._doFill&&(i._fillSet||i._setFill(o._DEFAULT_TEXT_FILL),a.fill()),this},i.default.Font.prototype._textWidth=function(e,t){return this.font.getAdvanceWidth(e,t)},i.default.Font.prototype._textAscent=function(e){return this.font.ascender*this._scale(e)},i.default.Font.prototype._textDescent=function(e){return-this.font.descender*this._scale(e)},i.default.Font.prototype._scale=function(e){return 1/this.font.unitsPerEm*(e||this.parent._renderer._textSize)},i.default.Font.prototype._handleAlignment=function(e,t,r,n,i){var a=e._textSize;switch(void 0===i&&(i=this._textWidth(t,a)),e._textAlign){case o.CENTER:r-=i/2;break;case o.RIGHT:r-=i}switch(e._textBaseline){case o.TOP:n+=this._textAscent(a);break;case o.CENTER:n+=this._textAscent(a)/2;break;case o.BOTTOM:n-=this._textDescent(a)}return{x:r,y:n}},e=i.default,r.default=e},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":165,"core-js/modules/es.number.to-fixed":171,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],306:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.array-buffer.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.array-buffer.constructor"),e("core-js/modules/es.object.to-string"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,(e=(e=e("../core/main"))&&e.__esModule?e:{default:e}).default.prototype.append=function(e,t){return e.push(t),e},e.default.prototype.arrayCopy=function(e,t,r,n,i){var o,a;e=void 0!==i?(a=Math.min(i,e.length),o=n,e.slice(t,a+t)):(a=void 0!==r?(a=r,Math.min(a,e.length)):e.length,r=t,e.slice(o=0,a)),Array.prototype.splice.apply(r,[o,a].concat(e))},e.default.prototype.concat=function(e,t){return e.concat(t)},e.default.prototype.reverse=function(e){return e.reverse()},e.default.prototype.shorten=function(e){return e.pop(),e},e.default.prototype.shuffle=function(e,t){for(var r,n,i=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(e),o=(e=t||i?e:e.slice()).length;1<o;)r=this.random(0,1)*o|0,n=e[--o],e[o]=e[r],e[r]=n;return e},e.default.prototype.sort=function(e,t){var r=t?e.slice(0,Math.min(t,e.length)):e;return t=t?e.slice(Math.min(t,e.length)):[],(r="string"==typeof r[0]?r.sort():r.sort((function(e,t){return e-t}))).concat(t)},e.default.prototype.splice=function(e,t,r){return Array.prototype.splice.apply(e,[r,0].concat(t)),e},e.default.prototype.subset=function(e,t,r){return void 0!==r?e.slice(t,t+r):e.slice(t,e.length)},e=e.default,r.default=e},{"../core/main":267,"core-js/modules/es.array-buffer.constructor":148,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177}],307:[function(e,t,r){"use strict";e("core-js/modules/es.array.map"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.repeat"),e("core-js/modules/es.array.map"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.repeat"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(e=e("../core/main"))&&e.__esModule?e:{default:e};n.default.prototype.float=function(e){return e instanceof Array?e.map(parseFloat):parseFloat(e)},n.default.prototype.int=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;return e===1/0||"Infinity"===e?1/0:e===-1/0||"-Infinity"===e?-1/0:"string"==typeof e?parseInt(e,t):"number"==typeof e?0|e:"boolean"==typeof e?e?1:0:e instanceof Array?e.map((function(e){return n.default.prototype.int(e,t)})):void 0},n.default.prototype.str=function(e){return e instanceof Array?e.map(n.default.prototype.str):String(e)},n.default.prototype.boolean=function(e){return"number"==typeof e?0!==e:"string"==typeof e?"true"===e.toLowerCase():"boolean"==typeof e?e:e instanceof Array?e.map(n.default.prototype.boolean):void 0},n.default.prototype.byte=function(e){return"number"==typeof(e=n.default.prototype.int(e,10))?(e+128)%256-128:e instanceof Array?e.map(n.default.prototype.byte):void 0},n.default.prototype.char=function(e){return"number"!=typeof e||isNaN(e)?e instanceof Array?e.map(n.default.prototype.char):"string"==typeof e?n.default.prototype.char(parseInt(e,10)):void 0:String.fromCharCode(e)},n.default.prototype.unchar=function(e){return"string"==typeof e&&1===e.length?e.charCodeAt(0):e instanceof Array?e.map(n.default.prototype.unchar):void 0},n.default.prototype.hex=function(e,t){if(t=null==t?8:t,e instanceof Array)return e.map((function(e){return n.default.prototype.hex(e,t)}));if(e===1/0||e===-1/0)return(e===1/0?"F":"0").repeat(t);if("number"==typeof e){e<0&&(e=4294967295+e+1);for(var r=Number(e).toString(16).toUpperCase();r.length<t;)r="0".concat(r);return r.length>=t?r.substring(r.length-t,r.length):r}},n.default.prototype.unhex=function(e){return e instanceof Array?e.map(n.default.prototype.unhex):parseInt("0x".concat(e),16)},e=n.default,r.default=e},{"../core/main":267,"core-js/modules/es.array.map":161,"core-js/modules/es.number.constructor":169,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.repeat":188}],308:[function(e,t,r){"use strict";e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(l=e("../core/main"))&&l.__esModule?l:{default:l};function i(e,t,r){var n=e<0,i=(e=n?e.toString().substring(1):e.toString()).indexOf("."),o=-1!==i?e.substring(0,i):e,a=-1!==i?e.substring(i+1):"",s=n?"-":"";if(void 0!==r){n="",(-1!==i||0<r-a.length)&&(n="."),a.length>r&&(a=a.substring(0,r));for(var l=0;l<t-o.length;l++)s+="0";s=(s+=o)+n+a;for(var u=0;u<r-a.length;u++)s+="0";return s}for(var c=0;c<Math.max(t-o.length,0);c++)s+="0";return s+e}function o(e,t){var r=(e=e.toString()).indexOf("."),n=-1!==r?e.substring(r):"";if(e=(e=-1!==r?e.substring(0,r):e).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),0===t)n="";else if(void 0!==t)if(t>n.length)for(var i=t-(n+=-1===r?".":"").length+1,o=0;o<i;o++)n+="0";else n=n.substring(0,t+1);return e+n}function a(e){return 0<parseFloat(e)?"+".concat(e.toString()):e.toString()}function s(e){return 0<=parseFloat(e)?" ".concat(e.toString()):e.toString()}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),n.default.prototype.join=function(e,t){return n.default._validateParameters("join",arguments),e.join(t)},n.default.prototype.match=function(e,t){return n.default._validateParameters("match",arguments),e.match(t)},n.default.prototype.matchAll=function(e,t){n.default._validateParameters("matchAll",arguments);for(var r=new RegExp(t,"g"),i=r.exec(e),o=[];null!==i;)o.push(i),i=r.exec(e);return o},n.default.prototype.nf=function(e,t,r){return n.default._validateParameters("nf",arguments),e instanceof Array?e.map((function(e){return i(e,t,r)})):"[object Arguments]"===Object.prototype.toString.call(e)?3===e.length?this.nf(e[0],e[1],e[2]):2===e.length?this.nf(e[0],e[1]):this.nf(e[0]):i(e,t,r)},n.default.prototype.nfc=function(e,t){return n.default._validateParameters("nfc",arguments),e instanceof Array?e.map((function(e){return o(e,t)})):o(e,t)},n.default.prototype.nfp=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.default._validateParameters("nfp",t);var i=n.default.prototype.nf.apply(this,t);return i instanceof Array?i.map(a):a(i)},n.default.prototype.nfs=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.default._validateParameters("nfs",t);var i=n.default.prototype.nf.apply(this,t);return i instanceof Array?i.map(s):s(i)},n.default.prototype.split=function(e,t){return n.default._validateParameters("split",arguments),e.split(t)},n.default.prototype.splitTokens=function(e,t){var r,i;return n.default._validateParameters("splitTokens",arguments),i=void 0!==t?(i=/\]/g.exec(t),(r=/\[/g.exec(t))&&i?(t=t.slice(0,i.index)+t.slice(i.index+1),r=/\[/g.exec(t),t=t.slice(0,r.index)+t.slice(r.index+1),new RegExp("[\\[".concat(t,"\\]]"),"g")):i?(t=t.slice(0,i.index)+t.slice(i.index+1),new RegExp("[".concat(t,"\\]]"),"g")):r?(t=t.slice(0,r.index)+t.slice(r.index+1),new RegExp("[".concat(t,"\\[]"),"g")):new RegExp("[".concat(t,"]"),"g")):/\s/g,e.split(i).filter((function(e){return e}))},n.default.prototype.trim=function(e){return n.default._validateParameters("trim",arguments),e instanceof Array?e.map(this.trim):e.trim()};var l=n.default;r.default=l},{"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/main":267,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193}],309:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,(e=(e=e("../core/main"))&&e.__esModule?e:{default:e}).default.prototype.day=function(){return(new Date).getDate()},e.default.prototype.hour=function(){return(new Date).getHours()},e.default.prototype.minute=function(){return(new Date).getMinutes()},e.default.prototype.millis=function(){return-1===this._millisStart?0:window.performance.now()-this._millisStart},e.default.prototype.month=function(){return(new Date).getMonth()+1},e.default.prototype.second=function(){return(new Date).getSeconds()},e.default.prototype.year=function(){return(new Date).getFullYear()},e=e.default,r.default=e},{"../core/main":267}],310:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=(u=e("../core/main"))&&u.__esModule?u:{default:u},a=(e("./p5.Geometry"),function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../core/constants")));function s(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,s=function(){return e},e)}function l(e,t,r,n,i,a,s){e=e<=0?1:e,t=t<0?0:t,r=r<=0?e:r,n=n<3?3:n;for(var l,u,c=(a=void 0===a||a)?-2:0,h=(i=i<1?1:i)+((s=void 0===s?0!==t:s)?2:0),d=Math.atan2(e-t,r),f=Math.sin(d),p=Math.cos(d),m=c;m<=h;++m){var y=m/i,g=r*y,v=void 0;for(v=m<0?(y=g=0,e):i<m?(g=r,y=1,t):e+(t-e)*y,-2!==m&&m!==i+2||(v=0),g-=r/2,l=0;l<n;++l){var b=l/(n-1),x=2*Math.PI*b,w=Math.sin(x),S=(x=Math.cos(x),void this.vertices.push(new o.default.Vector(w*v,g,x*v)));S=m<0?new o.default.Vector(0,-1,0):i<m&&t?new o.default.Vector(0,1,0):new o.default.Vector(w*p,f,x*p),this.vertexNormals.push(S),this.uvs.push(b,y)}}var k=0;if(a){for(u=0;u<n;++u)this.faces.push([k+u,k+n+(u+1)%n,k+n+u]);k+=2*n}for(m=0;m<i;++m){for(l=0;l<n;++l){var _=(l+1)%n;this.faces.push([k+l,k+_,k+n+_]),this.faces.push([k+l,k+n+_,k+n+l])}k+=n}if(s)for(k+=n,l=0;l<n;++l)this.faces.push([k+l,k+(l+1)%n,k+n])}o.default.prototype.plane=function(e,t,r,n){this._assert3d("plane"),o.default._validateParameters("plane",arguments),void 0===e&&(e=50),void 0===t&&(t=e),void 0===n&&(n=1);var i,a="plane|".concat(r=void 0===r?1:r,"|").concat(n);return this._renderer.geometryInHash(a)||((i=new o.default.Geometry(r,n,(function(){for(var e,t,r=0;r<=this.detailY;r++)for(var n=r/this.detailY,i=0;i<=this.detailX;i++)e=i/this.detailX,t=new o.default.Vector(e-.5,n-.5,0),this.vertices.push(t),this.uvs.push(e,n)}))).computeFaces().computeNormals(),r<=1&&n<=1?i._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(a,i)),this._renderer.drawBuffersScaled(a,e,t,1),this},o.default.prototype.box=function(e,t,r,n,i){this._assert3d("box"),o.default._validateParameters("box",arguments),void 0===e&&(e=50),void 0===t&&(t=e),void 0===r&&(r=t);var a,s=this._renderer.attributes&&this._renderer.attributes.perPixelLighting;return void 0===i&&(i=s?1:4),s="box|".concat(n=void 0===n?s?1:4:n,"|").concat(i),this._renderer.geometryInHash(s)||((a=new o.default.Geometry(n,i,(function(){var e=[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]];this.strokeIndices=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]];for(var t=0;t<e.length;t++){for(var r=e[t],n=4*t,i=0;i<4;i++){var a=r[i];a=new o.default.Vector((2*(1&a)-1)/2,((2&a)-1)/2,((4&a)/2-1)/2),this.vertices.push(a),this.uvs.push(1&i,(2&i)/2)}this.faces.push([n,1+n,2+n]),this.faces.push([2+n,1+n,3+n])}}))).computeNormals(),n<=4&&i<=4?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(s,a)),this._renderer.drawBuffersScaled(s,e,t,r),this},o.default.prototype.sphere=function(e,t,r){return this._assert3d("sphere"),o.default._validateParameters("sphere",arguments),this.ellipsoid(e=void 0===e?50:e,e,e,t=void 0===t?24:t,r=void 0===r?16:r),this},o.default.prototype.cylinder=function(e,t,r,n,i,a){this._assert3d("cylinder"),o.default._validateParameters("cylinder",arguments),void 0===e&&(e=50),void 0===t&&(t=e),void 0===n&&(n=1),void 0===a&&(a=!0),void 0===i&&(i=!0);var s,u="cylinder|".concat(r=void 0===r?24:r,"|").concat(n,"|").concat(i,"|").concat(a);return this._renderer.geometryInHash(u)||(s=new o.default.Geometry(r,n),l.call(s,1,1,1,r,n,i,a),r<=24&&n<=16?s._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(u,s)),this._renderer.drawBuffersScaled(u,e,t,e),this},o.default.prototype.cone=function(e,t,r,n,i){this._assert3d("cone"),o.default._validateParameters("cone",arguments),void 0===e&&(e=50),void 0===t&&(t=e),void 0===n&&(n=1),void 0===i&&(i=!0);var a,s="cone|".concat(r=void 0===r?24:r,"|").concat(n,"|").concat(i);return this._renderer.geometryInHash(s)||(a=new o.default.Geometry(r,n),l.call(a,1,0,1,r,n,i,!1),r<=24&&n<=16?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(s,a)),this._renderer.drawBuffersScaled(s,e,t,e),this},o.default.prototype.ellipsoid=function(e,t,r,n,i){this._assert3d("ellipsoid"),o.default._validateParameters("ellipsoid",arguments),void 0===e&&(e=50),void 0===t&&(t=e),void 0===r&&(r=e),void 0===i&&(i=16);var a,s="ellipsoid|".concat(n=void 0===n?24:n,"|").concat(i);return this._renderer.geometryInHash(s)||((a=new o.default.Geometry(n,i,(function(){for(var e=0;e<=this.detailY;e++)for(var t=e/this.detailY,r=Math.PI*t-Math.PI/2,n=Math.cos(r),i=Math.sin(r),a=0;a<=this.detailX;a++){var s=a/this.detailX,l=2*Math.PI*s,u=Math.cos(l);l=Math.sin(l),l=new o.default.Vector(n*l,i,n*u),this.vertices.push(l),this.vertexNormals.push(l),this.uvs.push(s,t)}}))).computeFaces(),n<=24&&i<=24?a._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(s,a)),this._renderer.drawBuffersScaled(s,e,t,r),this},o.default.prototype.torus=function(e,t,r,n){if(this._assert3d("torus"),o.default._validateParameters("torus",arguments),void 0===e)e=50;else if(!e)return;if(void 0===t)t=10;else if(!t)return;void 0===r&&(r=24),void 0===n&&(n=16);var i,a=(t/e).toPrecision(4);return t="torus|".concat(a,"|").concat(r,"|").concat(n),this._renderer.geometryInHash(t)||((i=new o.default.Geometry(r,n,(function(){for(var e=0;e<=this.detailY;e++)for(var t=e/this.detailY,r=2*Math.PI*t,n=Math.cos(r),i=Math.sin(r),s=1+a*n,l=0;l<=this.detailX;l++){var u=l/this.detailX,c=2*Math.PI*u,h=Math.cos(c),d=(c=Math.sin(c),new o.default.Vector(s*h,s*c,a*i));h=new o.default.Vector(n*h,n*c,i),this.vertices.push(d),this.vertexNormals.push(h),this.uvs.push(u,t)}}))).computeFaces(),r<=24&&n<=16?i._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(t,i)),this._renderer.drawBuffersScaled(t,e,e,e),this},o.default.RendererGL.prototype.point=function(e,t,r){var n=[];return n.push(new o.default.Vector(e,t,r=void 0===r?0:r)),this._drawPoints(n,this.immediateMode.buffers.point),this},o.default.RendererGL.prototype.triangle=function(e){var t=e[0],r=e[1],n=e[2],i=e[3],a=e[4],s=(e=e[5],this.geometryInHash("tri")||((s=new o.default.Geometry(1,1,(function(){var e=[];e.push(new o.default.Vector(0,0,0)),e.push(new o.default.Vector(0,1,0)),e.push(new o.default.Vector(1,0,0)),this.strokeIndices=[[0,1],[1,2],[2,0]],this.vertices=e,this.faces=[[0,1,2]],this.uvs=[0,0,0,1,1,1]})))._makeTriangleEdges()._edgesToVertices(),s.computeNormals(),this.createBuffers("tri",s)),this.uMVMatrix.copy());try{var l=new o.default.Matrix([n-t,i-r,0,0,a-t,e-r,0,0,0,0,1,0,t,r,0,1]).mult(this.uMVMatrix);this.uMVMatrix=l,this.drawBuffers("tri")}finally{this.uMVMatrix=s}return this},o.default.RendererGL.prototype.ellipse=function(e){this.arc(e[0],e[1],e[2],e[3],0,a.TWO_PI,a.OPEN,e[4])},o.default.RendererGL.prototype.arc=function(e){var t,r=arguments[1],n=arguments[2],i=arguments[3],s=arguments[4],l=arguments[5],u=arguments[6],c=arguments[7]||25,h=(Math.abs(l-s)>=a.TWO_PI?"".concat(d="ellipse","|"):"".concat(d="arc","|").concat(s,"|").concat(l,"|").concat(u,"|")).concat(c,"|"),d=(this.geometryInHash(h)||((t=new o.default.Geometry(c,1,(function(){if(this.strokeIndices=[],s.toFixed(10)!==l.toFixed(10)){u!==a.PIE&&void 0!==u||(this.vertices.push(new o.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var e=0;e<=c;e++){var t=e/c*(l-s)+s,r=.5+Math.cos(t)/2;t=.5+Math.sin(t)/2,this.vertices.push(new o.default.Vector(r,t,0)),this.uvs.push([r,t]),e<c-1&&(this.faces.push([0,e+1,e+2]),this.strokeIndices.push([e+1,e+2]))}switch(u){case a.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case a.CHORD:this.strokeIndices.push([0,1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case a.OPEN:this.strokeIndices.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1])}}}))).computeNormals(),c<=50?t._makeTriangleEdges()._edgesToVertices(t):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(d," with more than 50 detail")),this.createBuffers(h,t)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([e,r,0]),this.uMVMatrix.scale(n,i,1),this.drawBuffers(h)}finally{this.uMVMatrix=d}return this},o.default.RendererGL.prototype.rect=function(e){var t=e[0],r=e[1],n=e[2],i=e[3];if(void 0===e[4]){var s=this._pInst._glAttributes.perPixelLighting,l=e[4]||(s?1:24),u=e[5]||(s?1:16),c=(s="rect|".concat(l,"|").concat(u),this.geometryInHash(s)||((c=new o.default.Geometry(l,u,(function(){for(var e=0;e<=this.detailY;e++)for(var t=e/this.detailY,r=0;r<=this.detailX;r++){var n=r/this.detailX,i=new o.default.Vector(n,t,0);this.vertices.push(i),this.uvs.push(n,t)}0<l&&0<u&&(this.strokeIndices=[[0,l],[l,(l+1)*(u+1)-1],[(l+1)*(u+1)-1,(l+1)*u],[(l+1)*u,0]])}))).computeFaces().computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(s,c)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([t,r,0]),this.uMVMatrix.scale(n,i,1),this.drawBuffers(s)}finally{this.uMVMatrix=c}}else{s=e[4],c=void 0===e[5]?s:e[5];var h=void 0===e[6]?c:e[6],d=(e=void 0===e[7]?h:e[7],n),f=i,p=((d+=t)<t&&(y=t,t=d,d=y),(f+=r)<r&&(y=r,r=f,f=y),(y=Math.min((d-t)/2,(f-r)/2))<s&&(s=y),y<c&&(c=y),y<h&&(h=y),y<e&&(e=y),t),m=r,y=d,g=(t=f,this.beginShape(),0!==c?(this.vertex(y-c,m),this.quadraticVertex(y,m,y,m+c)):this.vertex(y,m),0!==h?(this.vertex(y,t-h),this.quadraticVertex(y,t,y-h,t)):this.vertex(y,t),0!==e?(this.vertex(p+e,t),this.quadraticVertex(p,t,p,t-e)):this.vertex(p,t),0!==s?(this.vertex(p,m+s),this.quadraticVertex(p,m,p+s,m)):this.vertex(p,m),!(this.immediateMode.geometry.uvs.length=0));r=!1,d=void 0;try{for(var v,b=this.immediateMode.geometry.vertices[Symbol.iterator]();!(g=(v=b.next()).done);g=!0){var x=v.value,w=(x.x-p)/n,S=(x.y-m)/i;this.immediateMode.geometry.uvs.push(w,S)}}catch(e){r=!0,d=e}finally{try{g||null==b.return||b.return()}finally{if(r)throw d}}this.endShape(a.CLOSE)}return this},o.default.RendererGL.prototype.quad=function(e,t,r,n,i,a,s,l,u,c,h,d,f,p){void 0===f&&(f=2),void 0===p&&(p=2);var m="quad|".concat(e,"|").concat(t,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(l,"|").concat(u,"|").concat(c,"|").concat(h,"|").concat(d,"|").concat(f,"|").concat(p);if(!this.geometryInHash(m)){var y=new o.default.Geometry(f,p,(function(){for(var f=1/(this.detailX-1),p=1/(this.detailY-1),m=0;m<this.detailY;m++)for(var y=0;y<this.detailX;y++){var g=y*f,v=m*p;this.vertices.push(new o.default.Vector((1-g)*((1-v)*e+v*c)+g*((1-v)*n+v*s),(1-g)*((1-v)*t+v*h)+g*((1-v)*i+v*l),(1-g)*((1-v)*r+v*d)+g*((1-v)*a+v*u))),this.uvs.push([g,v])}}));y.faces=[];for(var g=0;g<p-1;g++)for(var v=0;v<f-1;v++){var b=v+g*f,x=v+1+(g+1)*f,w=v+(g+1)*f;y.faces.push([b,v+1+g*f,x]),y.faces.push([b,x,w])}y.computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(m,y)}return this.drawBuffers(m),this},o.default.RendererGL.prototype.bezier=function(e,t,r,n,i,o,a,s,l,u,c,h){8===arguments.length&&(c=s,u=a,s=o,a=i,i=n,n=r,r=o=l=h=0);var d=this._pInst._bezierDetail||20;this.beginShape();for(var f=0;f<=d;f++){var p=Math.pow(1-f/d,3),m=f/d*3*Math.pow(1-f/d,2),y=3*Math.pow(f/d,2)*(1-f/d),g=Math.pow(f/d,3);this.vertex(e*p+n*m+a*y+u*g,t*p+i*m+s*y+c*g,r*p+o*m+l*y+h*g)}return this.endShape(),this},o.default.RendererGL.prototype.curve=function(e,t,r,n,i,o,a,s,l,u,c,h){8===arguments.length&&(u=a,c=s,a=i,s=n,i=n=r,r=o=l=h=0);var d=this._pInst._curveDetail;this.beginShape();for(var f=0;f<=d;f++){var p=.5*Math.pow(f/d,3),m=.5*Math.pow(f/d,2),y=f/d*.5;this.vertex(p*(3*n-e-3*a+u)+m*(2*e-5*n+4*a-u)+y*(-e+a)+2*n*.5,p*(3*i-t-3*s+c)+m*(2*t-5*i+4*s-c)+y*(-t+s)+2*i*.5,p*(3*o-r-3*l+h)+m*(2*r-5*o+4*l-h)+y*(-r+l)+2*o*.5)}return this.endShape(),this},o.default.RendererGL.prototype.line=function(){return 6===arguments.length?(this.beginShape(a.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):4===arguments.length&&(this.beginShape(a.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},o.default.RendererGL.prototype.bezierVertex=function(){if(0===this.immediateMode._bezierVertex.length)throw Error("vertex() must be used once before calling bezierVertex()");var e,t,r,n,i,o,a=[],s=[],l=arguments.length;if(0===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var u=1/this._lutBezierDetail,c=0,h=1,d=0;c<1;){if(o=parseFloat(c.toFixed(6)),this._lookUpTableBezier[d]=this._bezierCoefficients(o),h.toFixed(6)===u.toFixed(6)){o=parseFloat(h.toFixed(6))+parseFloat(c.toFixed(6)),++d,this._lookUpTableBezier[d]=this._bezierCoefficients(o);break}c+=u,h-=u,++d}}var f=this._lookUpTableBezier.length;if(6===l){for(this.isBezier=!0,a=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],s=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],i=0;i<f;i++)t=a[0]*this._lookUpTableBezier[i][0]+a[1]*this._lookUpTableBezier[i][1]+a[2]*this._lookUpTableBezier[i][2]+a[3]*this._lookUpTableBezier[i][3],r=s[0]*this._lookUpTableBezier[i][0]+s[1]*this._lookUpTableBezier[i][1]+s[2]*this._lookUpTableBezier[i][2]+s[3]*this._lookUpTableBezier[i][3],this.vertex(t,r);this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(9===l){for(this.isBezier=!0,a=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],s=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]],e=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],i=0;i<f;i++)t=a[0]*this._lookUpTableBezier[i][0]+a[1]*this._lookUpTableBezier[i][1]+a[2]*this._lookUpTableBezier[i][2]+a[3]*this._lookUpTableBezier[i][3],r=s[0]*this._lookUpTableBezier[i][0]+s[1]*this._lookUpTableBezier[i][1]+s[2]*this._lookUpTableBezier[i][2]+s[3]*this._lookUpTableBezier[i][3],n=e[0]*this._lookUpTableBezier[i][0]+e[1]*this._lookUpTableBezier[i][1]+e[2]*this._lookUpTableBezier[i][2]+e[3]*this._lookUpTableBezier[i][3],this.vertex(t,r,n);this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},o.default.RendererGL.prototype.quadraticVertex=function(){if(0===this.immediateMode._quadraticVertex.length)throw Error("vertex() must be used once before calling quadraticVertex()");var e,t,r,n,i,o,a=[],s=[],l=arguments.length;if(0===this._lookUpTableQuadratic.length||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var u=1/this._lutQuadraticDetail,c=0,h=1,d=0;c<1;){if(o=parseFloat(c.toFixed(6)),this._lookUpTableQuadratic[d]=this._quadraticCoefficients(o),h.toFixed(6)===u.toFixed(6)){o=parseFloat(h.toFixed(6))+parseFloat(c.toFixed(6)),++d,this._lookUpTableQuadratic[d]=this._quadraticCoefficients(o);break}c+=u,h-=u,++d}}var f=this._lookUpTableQuadratic.length;if(4===l){for(this.isQuadratic=!0,a=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],s=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],i=0;i<f;i++)t=a[0]*this._lookUpTableQuadratic[i][0]+a[1]*this._lookUpTableQuadratic[i][1]+a[2]*this._lookUpTableQuadratic[i][2],r=s[0]*this._lookUpTableQuadratic[i][0]+s[1]*this._lookUpTableQuadratic[i][1]+s[2]*this._lookUpTableQuadratic[i][2],this.vertex(t,r);this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(6===l){for(this.isQuadratic=!0,a=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],s=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]],e=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],i=0;i<f;i++)t=a[0]*this._lookUpTableQuadratic[i][0]+a[1]*this._lookUpTableQuadratic[i][1]+a[2]*this._lookUpTableQuadratic[i][2],r=s[0]*this._lookUpTableQuadratic[i][0]+s[1]*this._lookUpTableQuadratic[i][1]+s[2]*this._lookUpTableQuadratic[i][2],n=e[0]*this._lookUpTableQuadratic[i][0]+e[1]*this._lookUpTableQuadratic[i][1]+e[2]*this._lookUpTableQuadratic[i][2],this.vertex(t,r,n);this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},o.default.RendererGL.prototype.curveVertex=function(){var e,t,r,n,i,o,a=[],s=[],l=arguments.length;if(0===this._lookUpTableBezier.length||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var u=1/this._lutBezierDetail,c=0,h=1,d=0;c<1;){if(o=parseFloat(c.toFixed(6)),this._lookUpTableBezier[d]=this._bezierCoefficients(o),h.toFixed(6)===u.toFixed(6)){o=parseFloat(h.toFixed(6))+parseFloat(c.toFixed(6)),++d,this._lookUpTableBezier[d]=this._bezierCoefficients(o);break}c+=u,h-=u,++d}}var f=this._lookUpTableBezier.length;if(2===l){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),8===this.immediateMode._curveVertex.length){for(this.isCurve=!0,a=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),s=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),i=0;i<f;i++)t=a[0]*this._lookUpTableBezier[i][0]+a[1]*this._lookUpTableBezier[i][1]+a[2]*this._lookUpTableBezier[i][2]+a[3]*this._lookUpTableBezier[i][3],r=s[0]*this._lookUpTableBezier[i][0]+s[1]*this._lookUpTableBezier[i][1]+s[2]*this._lookUpTableBezier[i][2]+s[3]*this._lookUpTableBezier[i][3],this.vertex(t,r);for(i=0;i<l;i++)this.immediateMode._curveVertex.shift()}}else if(3===l&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),12===this.immediateMode._curveVertex.length)){for(this.isCurve=!0,a=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),s=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),e=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),i=0;i<f;i++)t=a[0]*this._lookUpTableBezier[i][0]+a[1]*this._lookUpTableBezier[i][1]+a[2]*this._lookUpTableBezier[i][2]+a[3]*this._lookUpTableBezier[i][3],r=s[0]*this._lookUpTableBezier[i][0]+s[1]*this._lookUpTableBezier[i][1]+s[2]*this._lookUpTableBezier[i][2]+s[3]*this._lookUpTableBezier[i][3],n=e[0]*this._lookUpTableBezier[i][0]+e[1]*this._lookUpTableBezier[i][1]+e[2]*this._lookUpTableBezier[i][2]+e[3]*this._lookUpTableBezier[i][3],this.vertex(t,r,n);for(i=0;i<l;i++)this.immediateMode._curveVertex.shift()}},o.default.RendererGL.prototype.image=function(e,t,r,n,i,o,s,l,u){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.texture(e),this._pInst.textureMode(a.NORMAL);var c=0,h=(t<=e.width&&(c=t/e.width),1);t+n<=e.width&&(h=(t+n)/e.width),t=0,r<=e.height&&(t=r/e.height),n=1,r+i<=e.height&&(n=(r+i)/e.height),this.beginShape(),this.vertex(o,s,0,c,t),this.vertex(o+l,s,0,h,t),this.vertex(o+l,s+u,0,h,n),this.vertex(o,s+u,0,c,n),this.endShape(a.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(a.REMOVE)};var u=o.default;r.default=u},{"../core/constants":256,"../core/main":267,"./p5.Geometry":316,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.iterator":158,"core-js/modules/es.number.to-fixed":171,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],311:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=(l=e("../core/main"))&&l.__esModule?l:{default:l},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../core/constants"));function s(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,s=function(){return e},e)}o.default.prototype.orbitControl=function(e,t,r){var n,i;if(this._assert3d("orbitControl"),o.default._validateParameters("orbitControl",arguments),this.mouseX<this.width&&0<this.mouseX&&this.mouseY<this.height&&0<this.mouseY)return n=this._renderer._curCamera,void 0===e&&(e=1),void 0===t&&(t=e),void 0===r&&(r=.5),!0!==this.contextMenuDisabled&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),!0!==this.wheelDefaultDisabled&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0)),i=this.height<this.width?this.height:this.width,this._mouseWheelDeltaY!==this._pmouseWheelDeltaY&&(0<this._mouseWheelDeltaY?this._renderer._curCamera._orbit(0,0,r*i):this._renderer._curCamera._orbit(0,0,-r*i)),this.mouseIsPressed&&(this.mouseButton===this.LEFT?(r=-e*(this.mouseX-this.pmouseX)/i,i=t*(this.mouseY-this.pmouseY)/i,this._renderer._curCamera._orbit(r,i,0)):this.mouseButton===this.RIGHT&&(r=n._getLocalAxes(),0!==(i=Math.sqrt(r.x[0]*r.x[0]+r.x[2]*r.x[2]))&&(r.x[0]/=i,r.x[2]/=i),0!==(i=Math.sqrt(r.y[0]*r.y[0]+r.y[2]*r.y[2]))&&(r.y[0]/=i,r.y[2]/=i),i=-1*e*(this.mouseX-this.pmouseX),e=-1*t*(this.mouseY-this.pmouseY),n.setPosition(n.eyeX+i*r.x[0]+e*r.z[0],n.eyeY,n.eyeZ+i*r.x[2]+e*r.z[2]))),this},o.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];o.default._validateParameters("debugMode",t);for(var n=this._registeredMethods.post.length-1;0<=n;n--)this._registeredMethods.post[n].toString()!==this._grid().toString()&&this._registeredMethods.post[n].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(n,1);t[0]===a.GRID?this.registerMethod("post",this._grid.call(this,t[1],t[2],t[3],t[4],t[5])):t[0]===a.AXES?this.registerMethod("post",this._axesIcon.call(this,t[1],t[2],t[3],t[4])):(this.registerMethod("post",this._grid.call(this,t[0],t[1],t[2],t[3],t[4])),this.registerMethod("post",this._axesIcon.call(this,t[5],t[6],t[7],t[8])))},o.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var e=this._registeredMethods.post.length-1;0<=e;e--)this._registeredMethods.post[e].toString()!==this._grid().toString()&&this._registeredMethods.post[e].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(e,1)},o.default.prototype._grid=function(e,t,r,n,i){void 0===e&&(e=this.width/2),void 0===t&&(t=Math.round(e/30)<4?4:Math.round(e/30)),void 0===r&&(r=0),void 0===n&&(n=0),void 0===i&&(i=0);var o=e/t,a=e/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);for(var e=0;e<=t;e++)this.beginShape(this.LINES),this.vertex(-a+r,n,e*o-a+i),this.vertex(a+r,n,e*o-a+i),this.endShape();for(var s=0;s<=t;s++)this.beginShape(this.LINES),this.vertex(s*o-a+r,n,-a+i),this.vertex(s*o-a+r,n,a+i),this.endShape();this.pop()}},o.default.prototype._axesIcon=function(e,t,r,n){return void 0===e&&(e=40<this.width/20?this.width/20:40),void 0===t&&(t=-this.width/4),void 0===r&&(r=t),void 0===n&&(n=t),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(t,r,n),this.vertex(t+e,r,n),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(t,r,n),this.vertex(t,r+e,n),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(t,r,n),this.vertex(t,r,n+e),this.endShape(),this.pop()}};var l=o.default;r.default=l},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],312:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=(l=e("../core/main"))&&l.__esModule?l:{default:l},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../core/constants"));function s(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,s=function(){return e},e)}o.default.prototype.ambientLight=function(e,t,r,n){this._assert3d("ambientLight"),o.default._validateParameters("ambientLight",arguments);var i=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(i._array[0],i._array[1],i._array[2]),this._renderer._enableLighting=!0,this},o.default.prototype.specularColor=function(e,t,r){this._assert3d("specularColor"),o.default._validateParameters("specularColor",arguments);var n=this.color.apply(this,arguments);return this._renderer.specularColors=[n._array[0],n._array[1],n._array[2]],this},o.default.prototype.directionalLight=function(e,t,r,n,i,a){var s,l;return this._assert3d("directionalLight"),o.default._validateParameters("directionalLight",arguments),e=e instanceof o.default.Color?e:this.color(e,t,r),r="number"==typeof(t=arguments[arguments.length-1])?(s=arguments[arguments.length-3],l=arguments[arguments.length-2],arguments[arguments.length-1]):(s=t.x,l=t.y,t.z),t=Math.sqrt(s*s+l*l+r*r),this._renderer.directionalLightDirections.push(s/t,l/t,r/t),this._renderer.directionalLightDiffuseColors.push(e._array[0],e._array[1],e._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},o.default.prototype.pointLight=function(e,t,r,n,i,a){var s,l;return this._assert3d("pointLight"),o.default._validateParameters("pointLight",arguments),e=e instanceof o.default.Color?e:this.color(e,t,r),r="number"==typeof(t=arguments[arguments.length-1])?(s=arguments[arguments.length-3],l=arguments[arguments.length-2],arguments[arguments.length-1]):(s=t.x,l=t.y,t.z),this._renderer.pointLightPositions.push(s,l,r),this._renderer.pointLightDiffuseColors.push(e._array[0],e._array[1],e._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},o.default.prototype.lights=function(){var e;return this._assert3d("lights"),this._colorMode===a.RGB?(this.ambientLight(128,128,128),this.directionalLight(128,128,128,0,0,-1)):(e=this._colorMaxes[this._colorMode][2],this.ambientLight(0,0,e),this.directionalLight(0,0,e,0,0,-1)),this},o.default.prototype.lightFalloff=function(e,t,r){return this._assert3d("lightFalloff"),o.default._validateParameters("lightFalloff",arguments),e<0&&(e=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),t<0&&(t=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),r<0&&(r=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),0===e&&0===t&&0===r&&(e=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=e,this._renderer.linearAttenuation=t,this._renderer.quadraticAttenuation=r,this},o.default.prototype.spotLight=function(e,t,r,n,i,a,s,l,u,c,h){this._assert3d("spotLight"),o.default._validateParameters("spotLight",arguments);var d,f,p,m=arguments.length;switch(m){case 11:case 10:d=this.color(e,t,r),f=new o.default.Vector(n,i,a),p=new o.default.Vector(s,l,u);break;case 9:e instanceof o.default.Color?(d=e,f=new o.default.Vector(t,r,n),p=new o.default.Vector(i,a,s),c=l,h=u):n instanceof o.default.Vector?(d=this.color(e,t,r),f=n,p=new o.default.Vector(i,a,s),c=l,h=u):s instanceof o.default.Vector?(d=this.color(e,t,r),f=new o.default.Vector(n,i,a),p=s,c=l,h=u):(d=this.color(e,t,r),f=new o.default.Vector(n,i,a),p=new o.default.Vector(s,l,u));break;case 8:p=e instanceof o.default.Color?(d=e,f=new o.default.Vector(t,r,n),new o.default.Vector(i,a,s)):n instanceof o.default.Vector?(d=this.color(e,t,r),f=n,new o.default.Vector(i,a,s)):(d=this.color(e,t,r),f=new o.default.Vector(n,i,a),s),c=l;break;case 7:e instanceof o.default.Color&&t instanceof o.default.Vector?(d=e,f=t,p=new o.default.Vector(r,n,i),c=a,h=s):e instanceof o.default.Color&&i instanceof o.default.Vector?(d=e,f=new o.default.Vector(t,r,n),p=i,c=a,h=s):n instanceof o.default.Vector&&i instanceof o.default.Vector?(d=this.color(e,t,r),f=n,p=i,c=a,h=s):p=e instanceof o.default.Color?(d=e,f=new o.default.Vector(t,r,n),new o.default.Vector(i,a,s)):n instanceof o.default.Vector?(d=this.color(e,t,r),f=n,new o.default.Vector(i,a,s)):(d=this.color(e,t,r),f=new o.default.Vector(n,i,a),s);break;case 6:n instanceof o.default.Vector&&i instanceof o.default.Vector?(d=this.color(e,t,r),f=n,p=i,c=a):e instanceof o.default.Color&&i instanceof o.default.Vector?(d=e,f=new o.default.Vector(t,r,n),p=i,c=a):e instanceof o.default.Color&&t instanceof o.default.Vector&&(d=e,f=t,p=new o.default.Vector(r,n,i),c=a);break;case 5:e instanceof o.default.Color&&t instanceof o.default.Vector&&r instanceof o.default.Vector?(d=e,f=t,p=r,c=n,h=i):n instanceof o.default.Vector&&i instanceof o.default.Vector?(d=this.color(e,t,r),f=n,p=i):e instanceof o.default.Color&&i instanceof o.default.Vector?(d=e,f=new o.default.Vector(t,r,n),p=i):e instanceof o.default.Color&&t instanceof o.default.Vector&&(d=e,f=t,p=new o.default.Vector(r,n,i));break;case 4:d=e,f=t,p=r,c=n;break;case 3:d=e,f=t,p=r;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(m<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(d._array[0],d._array[1],d._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(f.x,f.y,f.z),p.normalize(),this._renderer.spotLightDirections.push(p.x,p.y,p.z),void 0===c&&(c=Math.PI/3),void 0!==h&&h<1?(h=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):void 0===h&&(h=100),c=this._renderer._pInst._toRadians(c),this._renderer.spotLightAngle.push(Math.cos(c)),this._renderer.spotLightConc.push(h),this._renderer._enableLighting=!0,this},o.default.prototype.noLights=function(){return this._assert3d("noLights"),o.default._validateParameters("noLights",arguments),this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this};var l=o.default;r.default=l},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],313:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(i=e("../core/main"))&&i.__esModule?i:{default:i};e("./p5.Geometry"),n.default.prototype.loadModel=function(e){n.default._validateParameters("loadModel",arguments);var t,r,i,o=e.slice(-4),a=("boolean"==typeof arguments[1]?(t=arguments[1],r=arguments[2],i=arguments[3],void 0!==arguments[4]&&(o=arguments[4])):(t=!1,r=arguments[1],i=arguments[2],void 0!==arguments[3]&&(o=arguments[3])),new n.default.Geometry),s=(a.gid="".concat(e,"|").concat(t),this);return o.match(/\.stl$/i)?this.httpDo(e,"GET","arrayBuffer",(function(e){!function(e,t){if(function(e){for(var t=new DataView(e),r=[115,111,108,105,100],n=0;n<5;n++)if(function(e,t,r){for(var n=0,i=e.length;n<i;n++)if(e[n]!==t.getUint8(r+n,!1))return;return 1}(r,t,n))return;return 1}(t))!function(e,t){for(var r,i,o,a,s,l,u,c=new DataView(t),h=c.getUint32(80,!0),d=!1,f=0;f<70;f++)1129270351===c.getUint32(f,!1)&&82===c.getUint8(f+4)&&61===c.getUint8(f+5)&&(d=!0,a=[],s=c.getUint8(f+6)/255,l=c.getUint8(f+7)/255,u=c.getUint8(f+8)/255);for(var p=0;p<h;p++){for(var m,y=84+50*p,g=c.getFloat32(y,!0),v=c.getFloat32(4+y,!0),b=c.getFloat32(8+y,!0),x=(d&&(o=0==(32768&(m=c.getUint16(48+y,!0)))?(r=(31&m)/31,i=(m>>5&31)/31,(m>>10&31)/31):(r=s,i=l,u)),new n.default.Vector(g,v,b)),w=1;w<=3;w++){var S=y+12*w;S=new n.default.Vector(c.getFloat32(S,!0),c.getFloat32(4+S,!0),c.getFloat32(8+S,!0)),e.vertices.push(S),e.vertexNormals.push(x),d&&a.push(r,i,o)}e.faces.push([3*p,3*p+1,3*p+2]),e.uvs.push([0,0],[0,0],[0,0])}}(e,t);else{if(t=new DataView(t),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");!function(e,t){for(var r,i,o="",a=[],s=0;s<t.length;++s){for(var l=t[s].trim(),u=l.split(" "),c=0;c<u.length;++c)""===u[c]&&u.splice(c,1);if(0!==u.length)switch(o){case"":if("solid"!==u[0])return console.error(l),console.error('Invalid state "'.concat(u[0],'", should be "solid"'));o="solid";break;case"solid":if("facet"!==u[0]||"normal"!==u[1])return console.error(l),console.error('Invalid state "'.concat(u[0],'", should be "facet normal"'));r=new n.default.Vector(parseFloat(u[2]),parseFloat(u[3]),parseFloat(u[4])),e.vertexNormals.push(r,r,r),o="facet normal";break;case"facet normal":if("outer"!==u[0]||"loop"!==u[1])return console.error(l),console.error('Invalid state "'.concat(u[0],'", should be "outer loop"'));o="vertex";break;case"vertex":if("vertex"===u[0])i=new n.default.Vector(parseFloat(u[1]),parseFloat(u[2]),parseFloat(u[3])),e.vertices.push(i),e.uvs.push([0,0]),a.push(e.vertices.indexOf(i));else{if("endloop"!==u[0])return console.error(l),console.error('Invalid state "'.concat(u[0],'", should be "vertex" or "endloop"'));e.faces.push(a),a=[],o="endloop"}break;case"endloop":if("endfacet"!==u[0])return console.error(l),console.error('Invalid state "'.concat(u[0],'", should be "endfacet"'));o="endfacet";break;case"endfacet":if("endsolid"!==u[0]){if("facet"!==u[0]||"normal"!==u[1])return console.error(l),console.error('Invalid state "'.concat(u[0],'", should be "endsolid" or "facet normal"'));r=new n.default.Vector(parseFloat(u[2]),parseFloat(u[3]),parseFloat(u[4])),e.vertexNormals.push(r,r,r),o="facet normal"}break;default:console.error('Invalid state "'.concat(o,'"'))}}}(e,t=new TextDecoder("utf-8").decode(t).split("\n"))}}(a,e),t&&a.normalize(),s._decrementPreload(),"function"==typeof r&&r(a)}),i):o.match(/\.obj$/i)?this.loadStrings(e,(function(e){for(var i=a,o=e,l={v:[],vt:[],vn:[]},u={},c=0;c<o.length;++c){var h=o[c].trim().split(/\b\s+/);if(0<h.length)if("v"===h[0]||"vn"===h[0]){var d=new n.default.Vector(parseFloat(h[1]),parseFloat(h[2]),parseFloat(h[3]));l[h[0]].push(d)}else if("vt"===h[0])d=[parseFloat(h[1]),1-parseFloat(h[2])],l[h[0]].push(d);else if("f"===h[0])for(var f=3;f<h.length;++f){for(var p=[],m=[1,f-1,f],y=0;y<m.length;++y){var g=h[m[y]],v=0;if(void 0!==u[g])v=u[g];else{for(var b=g.split("/"),x=0;x<b.length;x++)b[x]=parseInt(b[x])-1;v=u[g]=i.vertices.length,i.vertices.push(l.v[b[0]].copy()),l.vt[b[1]]?i.uvs.push(l.vt[b[1]].slice()):i.uvs.push([0,0]),l.vn[b[2]]&&i.vertexNormals.push(l.vn[b[2]].copy())}p.push(v)}p[0]!==p[1]&&p[0]!==p[2]&&p[1]!==p[2]&&i.faces.push(p)}}0===i.vertexNormals.length&&i.computeNormals(),t&&a.normalize(),s._decrementPreload(),"function"==typeof r&&r(a)}),i):(n.default._friendlyFileLoadError(3,e),i?i():console.error("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),a},n.default.prototype.model=function(e){this._assert3d("model"),n.default._validateParameters("model",arguments),0<e.vertices.length&&(this._renderer.geometryInHash(e.gid)||(e._makeTriangleEdges()._edgesToVertices(),this._renderer.createBuffers(e.gid,e)),this._renderer.drawBuffers(e.gid))};var i=n.default;r.default=i},{"../core/main":267,"./p5.Geometry":316,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.match":187,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193}],314:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.join"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=(l=e("../core/main"))&&l.__esModule?l:{default:l},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../core/constants"));function s(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,s=function(){return e},e)}e("./p5.Texture"),o.default.prototype.loadShader=function(e,t,r,n){function i(){s._decrementPreload(),r&&r(a)}o.default._validateParameters("loadShader",arguments),n=n||console.error;var a=new o.default.Shader,s=this,l=!1,u=!1;return this.loadStrings(e,(function(e){a._vertSrc=e.join("\n"),u=!0,l&&i()}),n),this.loadStrings(t,(function(e){a._fragSrc=e.join("\n"),l=!0,u&&i()}),n),a},o.default.prototype.createShader=function(e,t){return this._assert3d("createShader"),o.default._validateParameters("createShader",arguments),new o.default.Shader(this._renderer,e,t)},o.default.prototype.shader=function(e){return this._assert3d("shader"),o.default._validateParameters("shader",arguments),void 0===e._renderer&&(e._renderer=this._renderer),e.init(),e.isStrokeShader()?this._renderer.userStrokeShader=e:(this._renderer.userFillShader=e,this._renderer._useNormalMaterial=!1),this},o.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},o.default.prototype.texture=function(e){return this._assert3d("texture"),o.default._validateParameters("texture",arguments),e.gifProperties&&e._animateGif(this),this._renderer.drawMode=a.TEXTURE,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._tex=e,this._renderer._setProperty("_doFill",!0),this},o.default.prototype.textureMode=function(e){e!==a.IMAGE&&e!==a.NORMAL?console.warn("You tried to set ".concat(e," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=e},o.default.prototype.textureWrap=function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:e,r=(this._renderer.textureWrapX=e,this._renderer.textureWrapY=t,this._renderer.textures),n=0;n<r.length;n++)r[n].setWrapMode(e,t)},o.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return o.default._validateParameters("normalMaterial",t),this._renderer.drawMode=a.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},o.default.prototype.ambientMaterial=function(e,t,r){this._assert3d("ambientMaterial"),o.default._validateParameters("ambientMaterial",arguments);var n=o.default.prototype.color.apply(this,arguments);return this._renderer.curAmbientColor=n._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this._renderer._setProperty("_doFill",!0),this},o.default.prototype.emissiveMaterial=function(e,t,r,n){this._assert3d("emissiveMaterial"),o.default._validateParameters("emissiveMaterial",arguments);var i=o.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=i._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},o.default.prototype.specularMaterial=function(e,t,r,n){this._assert3d("specularMaterial"),o.default._validateParameters("specularMaterial",arguments);var i=o.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=i._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},o.default.prototype.shininess=function(e){return this._assert3d("shininess"),o.default._validateParameters("shininess",arguments),this._renderer._useShininess=e=e<1?1:e,this},o.default.RendererGL.prototype._applyColorBlend=function(e){var t=this.GL,r=this.drawMode===a.TEXTURE||this.curBlendMode!==a.BLEND||e[e.length-1]<1||this._isErasing;return r!==this._isBlending&&(r||this.curBlendMode!==a.BLEND&&this.curBlendMode!==a.ADD?t.enable(t.BLEND):t.disable(t.BLEND),t.depthMask(!0),this._isBlending=r),this._applyBlendMode(),e},o.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var e=this.GL;switch(this.curBlendMode){case a.BLEND:e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA);break;case a.ADD:e.blendEquation(e.FUNC_ADD),e.blendFunc(e.SRC_ALPHA,e.ONE);break;case a.REMOVE:e.blendEquation(e.FUNC_REVERSE_SUBTRACT),e.blendFunc(e.SRC_ALPHA,e.DST_ALPHA);break;case a.MULTIPLY:e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ONE,e.ONE);break;case a.SCREEN:e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE_MINUS_DST_COLOR,e.ONE,e.ONE,e.ONE);break;case a.EXCLUSION:e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD),e.blendFuncSeparate(e.ONE_MINUS_DST_COLOR,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE);break;case a.REPLACE:e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO);break;case a.SUBTRACT:e.blendEquationSeparate(e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD),e.blendFuncSeparate(e.SRC_ALPHA,e.ONE,e.ONE,e.ONE);break;case a.DARKEST:this.blendExt?(e.blendEquationSeparate(this.blendExt.MIN_EXT,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE,e.ONE,e.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case a.LIGHTEST:this.blendExt?(e.blendEquationSeparate(this.blendExt.MAX_EXT,e.FUNC_ADD),e.blendFuncSeparate(e.ONE,e.ONE,e.ONE,e.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var l=o.default;r.default=l},{"../core/constants":256,"../core/main":267,"./p5.Texture":323,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],315:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(e=e("../core/main"))&&e.__esModule?e:{default:e};n.default.prototype.camera=function(){var e;this._assert3d("camera");for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n.default._validateParameters("camera",r),(e=this._renderer._curCamera).camera.apply(e,r),this},n.default.prototype.perspective=function(){var e;this._assert3d("perspective");for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n.default._validateParameters("perspective",r),(e=this._renderer._curCamera).perspective.apply(e,r),this},n.default.prototype.ortho=function(){var e;this._assert3d("ortho");for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n.default._validateParameters("ortho",r),(e=this._renderer._curCamera).ortho.apply(e,r),this},n.default.prototype.frustum=function(){var e;this._assert3d("frustum");for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return n.default._validateParameters("frustum",r),(e=this._renderer._curCamera).frustum.apply(e,r),this},n.default.prototype.createCamera=function(){this._assert3d("createCamera");var e=new n.default.Camera(this._renderer);return e._computeCameraDefaultSettings(),e._setDefaultCamera(),this._renderer._curCamera=e},n.default.Camera=function(e){this._renderer=e,this.cameraType="default",this.cameraMatrix=new n.default.Matrix,this.projMatrix=new n.default.Matrix},n.default.Camera.prototype.perspective=function(e,t,r,i){this.cameraType=0<arguments.length?"custom":"default",void 0===e?(e=this.defaultCameraFOV,this.cameraFOV=e):this.cameraFOV=this._renderer._pInst._toRadians(e),void 0===t&&(t=this.defaultAspectRatio),void 0===r&&(r=this.defaultCameraNear),void 0===i&&(i=this.defaultCameraFar),r<=1e-4&&(r=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),i<r&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=t,this.cameraNear=r,this.cameraFar=i,this.projMatrix=n.default.Matrix.identity(),e=1/Math.tan(this.cameraFOV/2);var o=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(e/t,0,0,0,0,-e,0,0,0,0,(i+r)*o,-1,0,0,2*i*r*o,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15])},n.default.Camera.prototype.ortho=function(e,t,r,i,o,a){void 0===e&&(e=-this._renderer.width/2),void 0===t&&(t=+this._renderer.width/2),void 0===r&&(r=-this._renderer.height/2),void 0===o&&(o=0);var s=t-e,l=(i=void 0===i?+this._renderer.height/2:i)-r,u=(a=void 0===a?Math.max(this._renderer.width,this._renderer.height):a)-o,c=2/s,h=2/l,d=-2/u;t=-(t+e)/s,e=-(i+r)/l,s=-(a+o)/u,this.projMatrix=n.default.Matrix.identity(),this.projMatrix.set(c,0,0,0,0,-h,0,0,0,0,d,0,t,e,s,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},n.default.Camera.prototype.frustum=function(e,t,r,i,o,a){void 0===e&&(e=-this._renderer.width/2),void 0===t&&(t=+this._renderer.width/2),void 0===r&&(r=-this._renderer.height/2),void 0===o&&(o=0);var s=t-e,l=(i=void 0===i?+this._renderer.height/2:i)-r,u=(a=void 0===a?Math.max(this._renderer.width,this._renderer.height):a)-o,c=2*o/s,h=2*o/l,d=-2*a*o/u;t=(t+e)/s,e=(i+r)/l,s=-(a+o)/u,this.projMatrix=n.default.Matrix.identity(),this.projMatrix.set(c,0,0,0,0,h,0,0,t,e,s,-1,0,0,d,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},n.default.Camera.prototype._rotateView=function(e,t,r,i){var o=this.centerX,a=this.centerY,s=this.centerZ,l=(o-=this.eyeX,a-=this.eyeY,s-=this.eyeZ,n.default.Matrix.identity(this._renderer._pInst));(l.rotate(this._renderer._pInst._toRadians(e),t,r,i),e=[o*l.mat4[0]+a*l.mat4[4]+s*l.mat4[8],o*l.mat4[1]+a*l.mat4[5]+s*l.mat4[9],o*l.mat4[2]+a*l.mat4[6]+s*l.mat4[10]])[0]+=this.eyeX,e[1]+=this.eyeY,e[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,e[0],e[1],e[2],this.upX,this.upY,this.upZ)},n.default.Camera.prototype.pan=function(e){var t=this._getLocalAxes();this._rotateView(e,t.y[0],t.y[1],t.y[2])},n.default.Camera.prototype.tilt=function(e){var t=this._getLocalAxes();this._rotateView(e,t.x[0],t.x[1],t.x[2])},n.default.Camera.prototype.lookAt=function(e,t,r){this.camera(this.eyeX,this.eyeY,this.eyeZ,e,t,r,this.upX,this.upY,this.upZ)},n.default.Camera.prototype.camera=function(e,t,r,n,i,o,a,s,l){return void 0===e&&(e=this.defaultEyeX,t=this.defaultEyeY,r=this.defaultEyeZ,n=e,i=t,s=1,l=a=o=0),this.eyeX=e,this.eyeY=t,this.eyeZ=r,void 0!==n&&(this.centerX=n,this.centerY=i,this.centerZ=o),void 0!==a&&(this.upX=a,this.upY=s,this.upZ=l),n=this._getLocalAxes(),this.cameraMatrix.set(n.x[0],n.y[0],n.z[0],0,n.x[1],n.y[1],n.z[1],0,n.x[2],n.y[2],n.z[2],0,0,0,0,1),i=-e,this.cameraMatrix.translate([i,-t,-r]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this},n.default.Camera.prototype.move=function(e,t,r){e=[(n=this._getLocalAxes()).x[0]*e,n.x[1]*e,n.x[2]*e],t=[n.y[0]*t,n.y[1]*t,n.y[2]*t];var n=[n.z[0]*r,n.z[1]*r,n.z[2]*r];this.camera(this.eyeX+e[0]+t[0]+n[0],this.eyeY+e[1]+t[1]+n[1],this.eyeZ+e[2]+t[2]+n[2],this.centerX+e[0]+t[0]+n[0],this.centerY+e[1]+t[1]+n[1],this.centerZ+e[2]+t[2]+n[2],0,1,0)},n.default.Camera.prototype.setPosition=function(e,t,r){var n=e-this.eyeX,i=t-this.eyeY,o=r-this.eyeZ;this.camera(e,t,r,this.centerX+n,this.centerY+i,this.centerZ+o,0,1,0)},n.default.Camera.prototype._computeCameraDefaultSettings=function(){this.defaultCameraFOV=60/180*Math.PI,this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=this._renderer.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ},n.default.Camera.prototype._setDefaultCamera=function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"},n.default.Camera.prototype._resize=function(){"default"===this.cameraType?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this._renderer.width/this._renderer.height)},n.default.Camera.prototype.copy=function(){var e=new n.default.Camera(this._renderer);return e.cameraFOV=this.cameraFOV,e.aspectRatio=this.aspectRatio,e.eyeX=this.eyeX,e.eyeY=this.eyeY,e.eyeZ=this.eyeZ,e.centerX=this.centerX,e.centerY=this.centerY,e.centerZ=this.centerZ,e.cameraNear=this.cameraNear,e.cameraFar=this.cameraFar,e.cameraType=this.cameraType,e.cameraMatrix=this.cameraMatrix.copy(),e.projMatrix=this.projMatrix.copy(),e},n.default.Camera.prototype._getLocalAxes=function(){var e,t=this.eyeX-this.centerX,r=this.eyeY-this.centerY,n=this.eyeZ-this.centerZ,i=(0!==(i=Math.sqrt(t*t+r*r+n*n))&&(t/=i,r/=i,n/=i),this.upX),o=(l=this.upY)*n-(u=this.upZ)*r,a=-i*n+u*t,s=i*r-l*t,l=(i=r*s-n*a,-t*s+n*o),u=t*a-r*o;return 0!==(0!==(e=Math.sqrt(o*o+a*a+s*s))&&(o/=e,a/=e,s/=e),e=Math.sqrt(i*i+l*l+u*u))&&(i/=e,l/=e,u/=e),{x:[o,a,s],y:[i,l,u],z:[t,r,n]}},n.default.Camera.prototype._orbit=function(e,t,r){var n=this.eyeX-this.centerX,i=this.eyeY-this.centerY,o=this.eyeZ-this.centerZ,a=Math.sqrt(n*n+i*i+o*o);n=Math.atan2(n,o),o=Math.acos(Math.max(-1,Math.min(1,i/a))),n+=e,(a+=r)<0&&(a=.1),(o+=t)>Math.PI?o=Math.PI:o<=0&&(o=.001),i=Math.sin(o)*a*Math.sin(n),e=Math.cos(o)*a,r=Math.sin(o)*a*Math.cos(n),this.camera(i+this.centerX,e+this.centerY,r+this.centerZ,this.centerX,this.centerY,this.centerZ,0,1,0)},n.default.Camera.prototype._isActive=function(){return this===this._renderer._curCamera},n.default.prototype.setCamera=function(e){this._renderer._curCamera=e,this._renderer.uPMatrix.set(e.projMatrix.mat4[0],e.projMatrix.mat4[1],e.projMatrix.mat4[2],e.projMatrix.mat4[3],e.projMatrix.mat4[4],e.projMatrix.mat4[5],e.projMatrix.mat4[6],e.projMatrix.mat4[7],e.projMatrix.mat4[8],e.projMatrix.mat4[9],e.projMatrix.mat4[10],e.projMatrix.mat4[11],e.projMatrix.mat4[12],e.projMatrix.mat4[13],e.projMatrix.mat4[14],e.projMatrix.mat4[15])},e=n.default.Camera,r.default=e},{"../core/main":267}],316:[function(e,t,r){"use strict";e("core-js/modules/es.string.sub"),e("core-js/modules/es.string.sub"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(e=e("../core/main"))&&e.__esModule?e:{default:e};n.default.Geometry=function(e,t,r){return this.vertices=[],this.lineVertices=[],this.lineNormals=[],this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.detailX=void 0!==e?e:1,this.detailY=void 0!==t?t:1,this.dirtyFlags={},r instanceof Function&&r.call(this),this},n.default.Geometry.prototype.reset=function(){this.lineVertices.length=0,this.lineNormals.length=0,this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}},n.default.Geometry.prototype.computeFaces=function(){this.faces.length=0;for(var e,t,r,n=this.detailX+1,i=0;i<this.detailY;i++)for(var o=0;o<this.detailX;o++)t=(i+1)*n+o+1,this.faces.push([i*n+o,e=i*n+o+1,r=(i+1)*n+o]),this.faces.push([r,e,t]);return this},n.default.Geometry.prototype._getFaceNormal=function(e){e=this.faces[e];var t=this.vertices[e[0]],r=this.vertices[e[1]],i=(e=this.vertices[e[2]],r=n.default.Vector.sub(r,t),e=n.default.Vector.sub(e,t),t=n.default.Vector.cross(r,e),n.default.Vector.mag(t));return 0===(r=i/(n.default.Vector.mag(r)*n.default.Vector.mag(e)))||isNaN(r)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),t):(1<r&&(r=1),t.mult(Math.asin(r)/i))},n.default.Geometry.prototype.computeNormals=function(){for(var e=this.vertexNormals,t=this.vertices,r=this.faces,i=e.length=0;i<t.length;++i)e.push(new n.default.Vector);for(var o=0;o<r.length;++o)for(var a=r[o],s=this._getFaceNormal(o),l=0;l<3;++l)e[a[l]].add(s);for(i=0;i<t.length;++i)e[i].normalize();return this},n.default.Geometry.prototype.averageNormals=function(){for(var e=0;e<=this.detailY;e++){var t=this.detailX+1,r=n.default.Vector.add(this.vertexNormals[e*t],this.vertexNormals[e*t+this.detailX]);r=n.default.Vector.div(r,2),this.vertexNormals[e*t]=r,this.vertexNormals[e*t+this.detailX]=r}return this},n.default.Geometry.prototype.averagePoleNormals=function(){for(var e=new n.default.Vector(0,0,0),t=0;t<this.detailX;t++)e.add(this.vertexNormals[t]);e=n.default.Vector.div(e,this.detailX);for(var r=0;r<this.detailX;r++)this.vertexNormals[r]=e;e=new n.default.Vector(0,0,0);for(var i=this.vertices.length-1;i>this.vertices.length-1-this.detailX;i--)e.add(this.vertexNormals[i]);e=n.default.Vector.div(e,this.detailX);for(var o=this.vertices.length-1;o>this.vertices.length-1-this.detailX;o--)this.vertexNormals[o]=e;return this},n.default.Geometry.prototype._makeTriangleEdges=function(){if(this.edges.length=0,Array.isArray(this.strokeIndices))for(var e=0,t=this.strokeIndices.length;e<t;e++)this.edges.push(this.strokeIndices[e]);else for(var r=0;r<this.faces.length;r++)this.edges.push([this.faces[r][0],this.faces[r][1]]),this.edges.push([this.faces[r][1],this.faces[r][2]]),this.edges.push([this.faces[r][2],this.faces[r][0]]);return this},n.default.Geometry.prototype._edgesToVertices=function(){this.lineVertices.length=0;for(var e=this.lineNormals.length=0;e<this.edges.length;e++){var t=this.vertices[this.edges[e][0]],r=(o=this.vertices[this.edges[e][1]]).copy().sub(t).normalize(),n=t.array(),i=(t=t.array(),o.array()),o=o.array(),a=r.array();r=r.array(),a.push(1),r.push(-1),this.lineNormals.push(a,r,a,a,r,r),this.lineVertices.push(n,t,i,i,t,o)}return this},n.default.Geometry.prototype.normalize=function(){if(0<this.vertices.length){for(var e=this.vertices[0].copy(),t=this.vertices[0].copy(),r=0;r<this.vertices.length;r++)e.x=Math.max(e.x,this.vertices[r].x),t.x=Math.min(t.x,this.vertices[r].x),e.y=Math.max(e.y,this.vertices[r].y),t.y=Math.min(t.y,this.vertices[r].y),e.z=Math.max(e.z,this.vertices[r].z),t.z=Math.min(t.z,this.vertices[r].z);for(var i=n.default.Vector.lerp(e,t,.5),o=n.default.Vector.sub(e,t),a=200/Math.max(Math.max(o.x,o.y),o.z),s=0;s<this.vertices.length;s++)this.vertices[s].sub(i),this.vertices[s].mult(a)}return this},e=n.default.Geometry,r.default=e},{"../core/main":267,"core-js/modules/es.string.sub":192}],317:[function(e,t,r){"use strict";e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(e=e("../core/main"))&&e.__esModule?e:{default:e},i=Array,o=function(e){return e instanceof Array};"undefined"!=typeof Float32Array&&(i=Float32Array,o=function(e){return e instanceof Array||e instanceof Float32Array}),n.default.Matrix=function(){for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];return e.length&&e[e.length-1]instanceof n.default&&(this.p5=e[e.length-1]),"mat3"===e[0]?this.mat3=Array.isArray(e[1])?e[1]:new i([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(e[0])?e[0]:new i([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},n.default.Matrix.prototype.set=function(e){return e instanceof n.default.Matrix?this.mat4=e.mat4:o(e)?this.mat4=e:16===arguments.length&&(this.mat4[0]=e,this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this},n.default.Matrix.prototype.get=function(){return new n.default.Matrix(this.mat4,this.p5)},n.default.Matrix.prototype.copy=function(){var e=new n.default.Matrix(this.p5);return e.mat4[0]=this.mat4[0],e.mat4[1]=this.mat4[1],e.mat4[2]=this.mat4[2],e.mat4[3]=this.mat4[3],e.mat4[4]=this.mat4[4],e.mat4[5]=this.mat4[5],e.mat4[6]=this.mat4[6],e.mat4[7]=this.mat4[7],e.mat4[8]=this.mat4[8],e.mat4[9]=this.mat4[9],e.mat4[10]=this.mat4[10],e.mat4[11]=this.mat4[11],e.mat4[12]=this.mat4[12],e.mat4[13]=this.mat4[13],e.mat4[14]=this.mat4[14],e.mat4[15]=this.mat4[15],e},n.default.Matrix.identity=function(e){return new n.default.Matrix(e)},n.default.Matrix.prototype.transpose=function(e){var t,r,i,a,s,l;return e instanceof n.default.Matrix?(t=e.mat4[1],r=e.mat4[2],i=e.mat4[3],a=e.mat4[6],s=e.mat4[7],l=e.mat4[11],this.mat4[0]=e.mat4[0],this.mat4[1]=e.mat4[4],this.mat4[2]=e.mat4[8],this.mat4[3]=e.mat4[12],this.mat4[4]=t,this.mat4[5]=e.mat4[5],this.mat4[6]=e.mat4[9],this.mat4[7]=e.mat4[13],this.mat4[8]=r,this.mat4[9]=a,this.mat4[10]=e.mat4[10],this.mat4[11]=e.mat4[14],this.mat4[12]=i,this.mat4[13]=s,this.mat4[14]=l,this.mat4[15]=e.mat4[15]):o(e)&&(t=e[1],r=e[2],i=e[3],a=e[6],s=e[7],l=e[11],this.mat4[0]=e[0],this.mat4[1]=e[4],this.mat4[2]=e[8],this.mat4[3]=e[12],this.mat4[4]=t,this.mat4[5]=e[5],this.mat4[6]=e[9],this.mat4[7]=e[13],this.mat4[8]=r,this.mat4[9]=a,this.mat4[10]=e[10],this.mat4[11]=e[14],this.mat4[12]=i,this.mat4[13]=s,this.mat4[14]=l,this.mat4[15]=e[15]),this},n.default.Matrix.prototype.invert=function(e){e instanceof n.default.Matrix?(t=e.mat4[0],r=e.mat4[1],i=e.mat4[2],a=e.mat4[3],s=e.mat4[4],l=e.mat4[5],u=e.mat4[6],c=e.mat4[7],h=e.mat4[8],d=e.mat4[9],f=e.mat4[10],p=e.mat4[11],m=e.mat4[12],y=e.mat4[13],g=e.mat4[14],v=e.mat4[15]):o(e)&&(t=e[0],r=e[1],i=e[2],a=e[3],s=e[4],l=e[5],u=e[6],c=e[7],h=e[8],d=e[9],f=e[10],p=e[11],m=e[12],y=e[13],g=e[14],v=e[15]);var t,r,i,a,s,l,u,c,h,d,f,p,m,y,g,v,b=t*u-i*s,x=t*c-a*s,w=r*u-i*l,S=r*c-a*l,k=i*c-a*u,_=h*y-d*m,j=h*g-f*m,M=h*v-p*m,C=d*g-f*y,P=d*v-p*y,T=f*v-p*g,E=(e=t*l-r*s)*T-b*P+x*C+w*M-S*j+k*_;return E?(this.mat4[0]=(l*T-u*P+c*C)*(E=1/E),this.mat4[1]=(i*P-r*T-a*C)*E,this.mat4[2]=(y*k-g*S+v*w)*E,this.mat4[3]=(f*S-d*k-p*w)*E,this.mat4[4]=(u*M-s*T-c*j)*E,this.mat4[5]=(t*T-i*M+a*j)*E,this.mat4[6]=(g*x-m*k-v*b)*E,this.mat4[7]=(h*k-f*x+p*b)*E,this.mat4[8]=(s*P-l*M+c*_)*E,this.mat4[9]=(r*M-t*P-a*_)*E,this.mat4[10]=(m*S-y*x+v*e)*E,this.mat4[11]=(d*x-h*S-p*e)*E,this.mat4[12]=(l*j-s*C-u*_)*E,this.mat4[13]=(t*C-r*j+i*_)*E,this.mat4[14]=(y*b-m*w-g*e)*E,this.mat4[15]=(h*w-d*b+f*e)*E,this):null},n.default.Matrix.prototype.invert3x3=function(){var e=this.mat3[0],t=this.mat3[1],r=this.mat3[2],n=this.mat3[3],i=this.mat3[4],o=this.mat3[5],a=this.mat3[6],s=this.mat3[7],l=this.mat3[8],u=l*i-o*s,c=-l*n+o*a,h=s*n-i*a,d=e*u+t*c+r*h;return d?(this.mat3[0]=u*(d=1/d),this.mat3[1]=(-l*t+r*s)*d,this.mat3[2]=(o*t-r*i)*d,this.mat3[3]=c*d,this.mat3[4]=(l*e-r*a)*d,this.mat3[5]=(-o*e+r*n)*d,this.mat3[6]=h*d,this.mat3[7]=(-s*e+t*a)*d,this.mat3[8]=(i*e-t*n)*d,this):null},n.default.Matrix.prototype.transpose3x3=function(e){var t=e[1],r=e[2],n=e[5];return this.mat3[1]=e[3],this.mat3[2]=e[6],this.mat3[3]=t,this.mat3[5]=e[7],this.mat3[6]=r,this.mat3[7]=n,this},n.default.Matrix.prototype.inverseTranspose=function(e){if(void 0===this.mat3?console.error("sorry, this function only works with mat3"):(this.mat3[0]=e.mat4[0],this.mat3[1]=e.mat4[1],this.mat3[2]=e.mat4[2],this.mat3[3]=e.mat4[4],this.mat3[4]=e.mat4[5],this.mat3[5]=e.mat4[6],this.mat3[6]=e.mat4[8],this.mat3[7]=e.mat4[9],this.mat3[8]=e.mat4[10]),e=this.invert3x3())e.transpose3x3(this.mat3);else for(var t=0;t<9;t++)this.mat3[t]=0;return this},n.default.Matrix.prototype.determinant=function(){var e=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],t=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],r=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],n=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],i=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],o=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],a=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],s=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],l=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],u=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],c=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return e*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-t*c+r*u+n*l-i*s+o*a},n.default.Matrix.prototype.mult=function(e){var t;if(e===this||e===this.mat4)t=this.copy().mat4;else if(e instanceof n.default.Matrix)t=e.mat4;else if(o(e))t=e;else{if(16!==arguments.length)return;t=arguments}e=this.mat4[0];var r=this.mat4[1],i=this.mat4[2],a=this.mat4[3];return this.mat4[0]=e*t[0]+r*t[4]+i*t[8]+a*t[12],this.mat4[1]=e*t[1]+r*t[5]+i*t[9]+a*t[13],this.mat4[2]=e*t[2]+r*t[6]+i*t[10]+a*t[14],this.mat4[3]=e*t[3]+r*t[7]+i*t[11]+a*t[15],e=this.mat4[4],r=this.mat4[5],i=this.mat4[6],a=this.mat4[7],this.mat4[4]=e*t[0]+r*t[4]+i*t[8]+a*t[12],this.mat4[5]=e*t[1]+r*t[5]+i*t[9]+a*t[13],this.mat4[6]=e*t[2]+r*t[6]+i*t[10]+a*t[14],this.mat4[7]=e*t[3]+r*t[7]+i*t[11]+a*t[15],e=this.mat4[8],r=this.mat4[9],i=this.mat4[10],a=this.mat4[11],this.mat4[8]=e*t[0]+r*t[4]+i*t[8]+a*t[12],this.mat4[9]=e*t[1]+r*t[5]+i*t[9]+a*t[13],this.mat4[10]=e*t[2]+r*t[6]+i*t[10]+a*t[14],this.mat4[11]=e*t[3]+r*t[7]+i*t[11]+a*t[15],e=this.mat4[12],r=this.mat4[13],i=this.mat4[14],a=this.mat4[15],this.mat4[12]=e*t[0]+r*t[4]+i*t[8]+a*t[12],this.mat4[13]=e*t[1]+r*t[5]+i*t[9]+a*t[13],this.mat4[14]=e*t[2]+r*t[6]+i*t[10]+a*t[14],this.mat4[15]=e*t[3]+r*t[7]+i*t[11]+a*t[15],this},n.default.Matrix.prototype.apply=function(e){var t;if(e===this||e===this.mat4)t=this.copy().mat4;else if(e instanceof n.default.Matrix)t=e.mat4;else if(o(e))t=e;else{if(16!==arguments.length)return;t=arguments}var r=(e=this.mat4)[0],i=e[4],a=e[8],s=e[12];return e[0]=t[0]*r+t[1]*i+t[2]*a+t[3]*s,e[4]=t[4]*r+t[5]*i+t[6]*a+t[7]*s,e[8]=t[8]*r+t[9]*i+t[10]*a+t[11]*s,e[12]=t[12]*r+t[13]*i+t[14]*a+t[15]*s,r=e[1],i=e[5],a=e[9],s=e[13],e[1]=t[0]*r+t[1]*i+t[2]*a+t[3]*s,e[5]=t[4]*r+t[5]*i+t[6]*a+t[7]*s,e[9]=t[8]*r+t[9]*i+t[10]*a+t[11]*s,e[13]=t[12]*r+t[13]*i+t[14]*a+t[15]*s,r=e[2],i=e[6],a=e[10],s=e[14],e[2]=t[0]*r+t[1]*i+t[2]*a+t[3]*s,e[6]=t[4]*r+t[5]*i+t[6]*a+t[7]*s,e[10]=t[8]*r+t[9]*i+t[10]*a+t[11]*s,e[14]=t[12]*r+t[13]*i+t[14]*a+t[15]*s,r=e[3],i=e[7],a=e[11],s=e[15],e[3]=t[0]*r+t[1]*i+t[2]*a+t[3]*s,e[7]=t[4]*r+t[5]*i+t[6]*a+t[7]*s,e[11]=t[8]*r+t[9]*i+t[10]*a+t[11]*s,e[15]=t[12]*r+t[13]*i+t[14]*a+t[15]*s,this},n.default.Matrix.prototype.scale=function(e,t,r){return e instanceof n.default.Vector?(t=e.y,r=e.z,e=e.x):e instanceof Array&&(t=e[1],r=e[2],e=e[0]),this.mat4[0]*=e,this.mat4[1]*=e,this.mat4[2]*=e,this.mat4[3]*=e,this.mat4[4]*=t,this.mat4[5]*=t,this.mat4[6]*=t,this.mat4[7]*=t,this.mat4[8]*=r,this.mat4[9]*=r,this.mat4[10]*=r,this.mat4[11]*=r,this},n.default.Matrix.prototype.rotate=function(e,t,r,i){t instanceof n.default.Vector?(r=t.y,i=t.z,t=t.x):t instanceof Array&&(r=t[1],i=t[2],t=t[0]);var o=(t*=1/(o=Math.sqrt(t*t+r*r+i*i)),r*=1/o,i*=1/o,this.mat4[0]),a=this.mat4[1],s=this.mat4[2],l=this.mat4[3],u=this.mat4[4],c=this.mat4[5],h=this.mat4[6],d=this.mat4[7],f=this.mat4[8],p=this.mat4[9],m=this.mat4[10],y=this.mat4[11],g=Math.sin(e),v=1-(e=Math.cos(e)),b=t*t*v+e,x=r*t*v+i*g,w=i*t*v-r*g,S=t*r*v-i*g,k=r*r*v+e,_=i*r*v+t*g,j=t*i*v+r*g;return r=r*i*v-t*g,t=i*i*v+e,this.mat4[0]=o*b+u*x+f*w,this.mat4[1]=a*b+c*x+p*w,this.mat4[2]=s*b+h*x+m*w,this.mat4[3]=l*b+d*x+y*w,this.mat4[4]=o*S+u*k+f*_,this.mat4[5]=a*S+c*k+p*_,this.mat4[6]=s*S+h*k+m*_,this.mat4[7]=l*S+d*k+y*_,this.mat4[8]=o*j+u*r+f*t,this.mat4[9]=a*j+c*r+p*t,this.mat4[10]=s*j+h*r+m*t,this.mat4[11]=l*j+d*r+y*t,this},n.default.Matrix.prototype.translate=function(e){var t=e[0],r=e[1];e=e[2]||0,this.mat4[12]+=this.mat4[0]*t+this.mat4[4]*r+this.mat4[8]*e,this.mat4[13]+=this.mat4[1]*t+this.mat4[5]*r+this.mat4[9]*e,this.mat4[14]+=this.mat4[2]*t+this.mat4[6]*r+this.mat4[10]*e,this.mat4[15]+=this.mat4[3]*t+this.mat4[7]*r+this.mat4[11]*e},n.default.Matrix.prototype.rotateX=function(e){this.rotate(e,1,0,0)},n.default.Matrix.prototype.rotateY=function(e){this.rotate(e,0,1,0)},n.default.Matrix.prototype.rotateZ=function(e){this.rotate(e,0,0,1)},n.default.Matrix.prototype.perspective=function(e,t,r,n){e=1/Math.tan(e/2);var i=1/(r-n);return this.mat4[0]=e/t,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=e,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(n+r)*i,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*n*r*i,this.mat4[15]=0,this},n.default.Matrix.prototype.ortho=function(e,t,r,n,i,o){var a=1/(e-t),s=1/(r-n),l=1/(i-o);return this.mat4[0]=-2*a,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*s,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*l,this.mat4[11]=0,this.mat4[12]=(e+t)*a,this.mat4[13]=(n+r)*s,this.mat4[14]=(o+i)*l,this.mat4[15]=1,this},e=n.default.Matrix,r.default=e},{"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223}],318:[function(e,t,r){"use strict";e("core-js/modules/es.array.map"),e("core-js/modules/es.array.map"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0,(e=(e=e("../core/main"))&&e.__esModule?e:{default:e}).default.RenderBuffer=function(e,t,r,n,i,o){this.size=e,this.src=t,this.dst=r,this.attr=n,this._renderer=i,this.map=o},e.default.RenderBuffer.prototype._prepareBuffer=function(e,t){var r,n,i,o=t.attributes,a=this._renderer.GL,s=e.model||e;(o=o[this.attr])&&(r=e[this.dst],0<(n=s[this.src]).length&&((i=!r)&&(e[this.dst]=r=a.createBuffer()),a.bindBuffer(a.ARRAY_BUFFER,r),!i&&!1===s.dirtyFlags[this.src]||(i=(e=this.map)?e(n):n,this._renderer._bindBuffer(r,a.ARRAY_BUFFER,i),s.dirtyFlags[this.src]=!1),t.enableAttrib(o,this.size)))},e=e.default.RenderBuffer,r.default=e},{"../core/main":267,"core-js/modules/es.array.map":161}],319:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=(c=e("../core/main"))&&c.__esModule?c:{default:c},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../core/constants"));function s(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,s=function(){return e},e)}function l(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}e("./p5.RenderBuffer"),o.default.RendererGL.prototype.beginShape=function(e){return this.immediateMode.shapeMode=void 0!==e?e:a.TRIANGLE_FAN,this.immediateMode.geometry.reset(),this};var u={vertices:1,vertexNormals:1,vertexColors:4,uvs:2},c=(o.default.RendererGL.prototype.vertex=function(e,t){if(this.immediateMode.shapeMode===a.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var r in u){var n=u[r];(r=this.immediateMode.geometry[r]).push.apply(r,l(r.slice(r.length-3*n,r.length-2*n)).concat(l(r.slice(r.length-n,r.length))))}var i,s,c=i=s=0,h=(3===arguments.length?c=arguments[2]:4===arguments.length?(i=arguments[2],s=arguments[3]):5===arguments.length&&(c=arguments[2],i=arguments[3],s=arguments[4]),new o.default.Vector(e,t,c));return this.immediateMode.geometry.vertices.push(h),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),h=this.curFillColor||[.5,.5,.5,1],this.immediateMode.geometry.vertexColors.push(h[0],h[1],h[2],h[3]),this.textureMode===a.IMAGE&&(null!==this._tex?0<this._tex.width&&0<this._tex.height&&(i/=this._tex.width,s/=this._tex.height):null===this._tex&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(i,s),this.immediateMode._bezierVertex[0]=e,this.immediateMode._bezierVertex[1]=t,this.immediateMode._bezierVertex[2]=c,this.immediateMode._quadraticVertex[0]=e,this.immediateMode._quadraticVertex[1]=t,this.immediateMode._quadraticVertex[2]=c,this},o.default.RendererGL.prototype.normal=function(e,t,r){return e instanceof o.default.Vector?this._currentNormal=e:this._currentNormal=new o.default.Vector(e,t,r),this},o.default.RendererGL.prototype.endShape=function(e,t,r,n,i,o){return this.immediateMode.shapeMode===a.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this._processVertices.apply(this,arguments),this._doFill&&1<this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(),this._doStroke&&1<this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},o.default.RendererGL.prototype._processVertices=function(e){var t;0!==this.immediateMode.geometry.vertices.length&&(t=this._doStroke&&this.drawMode!==a.TEXTURE,e=e===a.CLOSE,t&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,e),this.immediateMode.geometry._edgesToVertices()),t=this.immediateMode.shapeMode===a.TESS,(this.isBezier||this.isQuadratic||this.isCurve||t)&&this.immediateMode.shapeMode!==a.LINES&&this._tesselateShape())},o.default.RendererGL.prototype._calculateEdges=function(e,t,r){var n=[],i=0;switch(e){case a.TRIANGLE_STRIP:for(i=0;i<t.length-2;i++)n.push([i,i+1]),n.push([i,i+2]);n.push([i,i+1]);break;case a.TRIANGLES:for(i=0;i<t.length-2;i+=3)n.push([i,i+1]),n.push([i+1,i+2]),n.push([i+2,i]);break;case a.LINES:for(i=0;i<t.length-1;i+=2)n.push([i,i+1]);break;case a.QUADS:for(i=0;i<t.length-5;i+=6)n.push([i,i+1]),n.push([i+1,i+2]),n.push([i+3,i+5]),n.push([i+4,i+5]);break;case a.QUAD_STRIP:for(i=0;i<t.length-2;i+=2)n.push([i,i+1]),n.push([i,i+2]),n.push([i+1,i+3]);n.push([i,i+1]);break;default:for(i=0;i<t.length-1;i++)n.push([i,i+1])}return r&&n.push([t.length-1,0]),n},o.default.RendererGL.prototype._tesselateShape=function(){for(var e=this,t=(this.immediateMode.shapeMode=a.TRIANGLES,[this._flatten(this.immediateMode.geometry.vertices.map((function(t,r){return[t.x,t.y,t.z,e.immediateMode.geometry.uvs[2*r],e.immediateMode.geometry.uvs[2*r+1],e.immediateMode.geometry.vertexColors[4*r],e.immediateMode.geometry.vertexColors[4*r+1],e.immediateMode.geometry.vertexColors[4*r+2],e.immediateMode.geometry.vertexColors[4*r+3],e.immediateMode.geometry.vertexNormals[r].x,e.immediateMode.geometry.vertexNormals[r].y,e.immediateMode.geometry.vertexNormals[r].z]})))]),r=this._triangulate(t),n=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),i=0,o=r.length;i<o;i+=12)n.push.apply(n,l(r.slice(i+5,i+9))),this.normal.apply(this,l(r.slice(i+9,i+12))),this.vertex.apply(this,l(r.slice(i,i+5)));this.immediateMode.geometry.vertexColors=n},o.default.RendererGL.prototype._drawImmediateFill=function(){var e=this.GL,t=this._getImmediateFillShader(),r=(this._setFillUniforms(t),!0),n=!1,i=void 0;try{for(var o,s=this.immediateMode.buffers.fill[Symbol.iterator]();!(r=(o=s.next()).done);r=!0)o.value._prepareBuffer(this.immediateMode.geometry,t)}catch(e){n=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw i}}this.immediateMode.shapeMode!==a.LINE_STRIP&&this.immediateMode.shapeMode!==a.LINES||(this.immediateMode.shapeMode=a.TRIANGLE_FAN),this.immediateMode.shapeMode===a.QUADS?this.immediateMode.shapeMode=a.TRIANGLES:this.immediateMode.shapeMode===a.QUAD_STRIP&&(this.immediateMode.shapeMode=a.TRIANGLE_STRIP),this._applyColorBlend(this.curFillColor),e.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length),t.unbindShader()},o.default.RendererGL.prototype._drawImmediateStroke=function(){var e=this.GL,t=this._getImmediateStrokeShader(),r=(this._setStrokeUniforms(t),!0),n=!1,i=void 0;try{for(var o,a=this.immediateMode.buffers.stroke[Symbol.iterator]();!(r=(o=a.next()).done);r=!0)o.value._prepareBuffer(this.immediateMode.geometry,t)}catch(e){n=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}this._applyColorBlend(this.curStrokeColor),e.drawArrays(e.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length),t.unbindShader()},o.default.RendererGL);r.default=c},{"../core/constants":256,"../core/main":267,"./p5.RenderBuffer":318,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],320:[function(e,t,r){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.some"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.uint16-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.some"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.uint16-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(o=e("../core/main"))&&o.__esModule?o:{default:o};e("./p5.RendererGL"),e("./p5.RenderBuffer");var i=0,o=(n.default.RendererGL.prototype._initBufferDefaults=function(e){var t;return this._freeBuffers(e),1e3<++i&&(t=Object.keys(this.retainedMode.geometry)[0],delete this.retainedMode.geometry[t],i--),this.retainedMode.geometry[e]={}},n.default.RendererGL.prototype._freeBuffers=function(e){var t,r=this.retainedMode.geometry[e];function n(e){var n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;r[l.dst]&&(t.deleteBuffer(r[l.dst]),r[l.dst]=null)}}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}}r&&(delete this.retainedMode.geometry[e],i--,t=this.GL,r.indexBuffer&&t.deleteBuffer(r.indexBuffer),n(this.retainedMode.buffers.stroke),n(this.retainedMode.buffers.fill))},n.default.RendererGL.prototype.createBuffers=function(e,t){var r,i,o,a=this.GL,s=((e=this._initBufferDefaults(e)).model=t,e.indexBuffer);return t.faces.length?(s=s||(e.indexBuffer=a.createBuffer()),o=(i=(r=n.default.RendererGL.prototype._flatten(t.faces)).some((function(e){return 65535<e})))?Uint32Array:Uint16Array,this._bindBuffer(s,a.ELEMENT_ARRAY_BUFFER,r,o),e.indexBufferType=i?a.UNSIGNED_INT:a.UNSIGNED_SHORT,e.vertexCount=3*t.faces.length):(s&&(a.deleteBuffer(s),e.indexBuffer=null),e.vertexCount=t.vertices?t.vertices.length:0),e.lineVertexCount=t.lineVertices?t.lineVertices.length:0,e},n.default.RendererGL.prototype.drawBuffers=function(e){var t=this.GL,r=this.retainedMode.geometry[e];if(this._doStroke&&0<r.lineVertexCount){var n=this._getRetainedStrokeShader(),i=(this._setStrokeUniforms(n),!0),o=!1,a=void 0;try{for(var s,l=this.retainedMode.buffers.stroke[Symbol.iterator]();!(i=(s=l.next()).done);i=!0)s.value._prepareBuffer(r,n)}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}this._applyColorBlend(this.curStrokeColor),this._drawArrays(t.TRIANGLES,e),n.unbindShader()}if(this._doFill){var u=this._getRetainedFillShader(),c=(this._setFillUniforms(u),!0);o=!1,a=void 0;try{for(var h,d=this.retainedMode.buffers.fill[Symbol.iterator]();!(c=(h=d.next()).done);c=!0)h.value._prepareBuffer(r,u)}catch(e){o=!0,a=e}finally{try{c||null==d.return||d.return()}finally{if(o)throw a}}r.indexBuffer&&this._bindBuffer(r.indexBuffer,t.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor),this._drawElements(t.TRIANGLES,e),u.unbindShader()}return this},n.default.RendererGL.prototype.drawBuffersScaled=function(e,t,r,n){var i=this.uMVMatrix.copy();try{this.uMVMatrix.scale(t,r,n),this.drawBuffers(e)}finally{this.uMVMatrix=i}},n.default.RendererGL.prototype._drawArrays=function(e,t){return this.GL.drawArrays(e,0,this.retainedMode.geometry[t].lineVertexCount),this},n.default.RendererGL.prototype._drawElements=function(e,t){t=this.retainedMode.geometry[t];var r=this.GL;if(t.indexBuffer){if(t.indexBufferType===r.UNSIGNED_INT&&!r.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");r.drawElements(r.TRIANGLES,t.vertexCount,t.indexBufferType,0)}else r.drawArrays(e||r.TRIANGLES,0,t.vertexCount)},n.default.RendererGL.prototype._drawPoints=function(e,t){var r=this.GL,n=this._getImmediatePointShader();this._setPointUniforms(n),this._bindBuffer(t,r.ARRAY_BUFFER,this._vToNArray(e),Float32Array,r.STATIC_DRAW),n.enableAttrib(n.attributes.aPosition,3),r.drawArrays(r.Points,0,e.length),n.unbindShader()},n.default.RendererGL);r.default=o},{"../core/main":267,"./p5.RenderBuffer":318,"./p5.RendererGL":321,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.some":163,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint16-array":224,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/web.dom-collections.iterator":230}],321:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.float64-array"),e("core-js/modules/es.typed-array.int16-array"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint16-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.float64-array"),e("core-js/modules/es.typed-array.int16-array"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint16-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=u(e("../core/main")),a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../core/constants")),s=u(e("libtess"));function l(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,l=function(){return e},e)}function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}e("./p5.Shader"),e("./p5.Camera"),e("../core/p5.Renderer"),e("./p5.Matrix"),e("path");var h={immediateVert:"attribute vec3 aPosition;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uResolution;\nuniform float uPointSize;\n\nvarying vec4 vColor;\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n  gl_PointSize = uPointSize;\n}\n",vertexColorVert:"attribute vec3 aPosition;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n}\n",vertexColorFrag:"precision mediump float;\nvarying vec4 vColor;\nvoid main(void) {\n  gl_FragColor = vColor;\n}",normalVert:"attribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvarying vec3 vVertexNormal;\nvarying highp vec2 vVertTexCoord;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));\n  vVertTexCoord = aTexCoord;\n}\n",normalFrag:"precision mediump float;\nvarying vec3 vVertexNormal;\nvoid main(void) {\n  gl_FragColor = vec4(vVertexNormal, 1.0);\n}",basicFrag:"precision mediump float;\nuniform vec4 uMaterialColor;\nvoid main(void) {\n  gl_FragColor = uMaterialColor;\n}",lightVert:(e="precision highp float;\nprecision highp int;\n\nuniform mat4 uViewMatrix;\n\nuniform bool uUseLighting;\n\nuniform int uAmbientLightCount;\nuniform vec3 uAmbientColor[5];\n\nuniform int uDirectionalLightCount;\nuniform vec3 uLightingDirection[5];\nuniform vec3 uDirectionalDiffuseColors[5];\nuniform vec3 uDirectionalSpecularColors[5];\n\nuniform int uPointLightCount;\nuniform vec3 uPointLightLocation[5];\nuniform vec3 uPointLightDiffuseColors[5];\t\nuniform vec3 uPointLightSpecularColors[5];\n\nuniform int uSpotLightCount;\nuniform float uSpotLightAngle[5];\nuniform float uSpotLightConc[5];\nuniform vec3 uSpotLightDiffuseColors[5];\nuniform vec3 uSpotLightSpecularColors[5];\nuniform vec3 uSpotLightLocation[5];\nuniform vec3 uSpotLightDirection[5];\n\nuniform bool uSpecular;\nuniform float uShininess;\n\nuniform float uConstantAttenuation;\nuniform float uLinearAttenuation;\nuniform float uQuadraticAttenuation;\n\nconst float specularFactor = 2.0;\nconst float diffuseFactor = 0.73;\n\nstruct LightResult {\n  float specular;\n  float diffuse;\n};\n\nfloat _phongSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float shininess) {\n\n  vec3 R = reflect(lightDirection, surfaceNormal);\n  return pow(max(0.0, dot(R, viewDirection)), shininess);\n}\n\nfloat _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {\n  return max(0.0, dot(-lightDirection, surfaceNormal));\n}\n\nLightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {\n\n  vec3 lightDir = normalize(lightVector);\n\n  //compute our diffuse & specular terms\n  LightResult lr;\n  if (uSpecular)\n    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);\n  lr.diffuse = _lambertDiffuse(lightDir, normal);\n  return lr;\n}\n\nvoid totalLight(\n  vec3 modelPosition,\n  vec3 normal,\n  out vec3 totalDiffuse,\n  out vec3 totalSpecular\n) {\n\n  totalSpecular = vec3(0.0);\n\n  if (!uUseLighting) {\n    totalDiffuse = vec3(1.0);\n    return;\n  }\n\n  totalDiffuse = vec3(0.0);\n\n  vec3 viewDirection = normalize(-modelPosition);\n\n  for (int j = 0; j < 5; j++) {\n    if (j < uDirectionalLightCount) {\n      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;\n      vec3 lightColor = uDirectionalDiffuseColors[j];\n      vec3 specularColor = uDirectionalSpecularColors[j];\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if (j < uPointLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      //calculate attenuation\n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];\n      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];\n\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if(j < uSpotLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n\n      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;\n      float spotDot = dot(normalize(lightVector), normalize(lightDirection));\n      float spotFalloff;\n      if(spotDot < uSpotLightAngle[j]) {\n        spotFalloff = 0.0;\n      }\n      else {\n        spotFalloff = pow(spotDot, uSpotLightConc[j]);\n      }\n      lightFalloff *= spotFalloff;\n\n      vec3 lightColor = uSpotLightDiffuseColors[j];\n      vec3 specularColor = uSpotLightSpecularColors[j];\n     \n      LightResult result = _light(viewDirection, normal, lightVector);\n      \n      totalDiffuse += result.diffuse * lightColor * lightFalloff;\n      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;\n    }\n  }\n\n  totalDiffuse *= diffuseFactor;\n  totalSpecular *= specularFactor;\n}\n")+"// include lighting.glgl\n\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvarying highp vec2 vVertTexCoord;\nvarying vec3 vDiffuseColor;\nvarying vec3 vSpecularColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;\n\n  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);\n  vVertTexCoord = aTexCoord;\n\n  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);\n\n  for (int i = 0; i < 8; i++) {\n    if (i < uAmbientLightCount) {\n      vDiffuseColor += uAmbientColor[i];\n    }\n  }\n}\n",lightTextureFrag:"precision highp float;\n\nuniform vec4 uMaterialColor;\nuniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uEmissive;\n\nvarying highp vec2 vVertTexCoord;\nvarying vec3 vDiffuseColor;\nvarying vec3 vSpecularColor;\n\nvoid main(void) {\n  if(uEmissive && !isTexture) {\n    gl_FragColor = uMaterialColor;\n  }\n  else {\n    gl_FragColor = isTexture ? texture2D(uSampler, vVertTexCoord) * (uTint / vec4(255, 255, 255, 255)) : uMaterialColor;\n    gl_FragColor.rgb = gl_FragColor.rgb * vDiffuseColor + vSpecularColor;\n  }\n}",phongVert:"precision highp float;\nprecision highp int;\n\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform vec3 uAmbientColor[5];\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform int uAmbientLightCount;\n\nvarying vec3 vNormal;\nvarying vec2 vTexCoord;\nvarying vec3 vViewPosition;\nvarying vec3 vAmbientColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n\n  // Pass varyings to fragment shader\n  vViewPosition = viewModelPosition.xyz;\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n\n  vNormal = uNormalMatrix * aNormal;\n  vTexCoord = aTexCoord;\n\n  // TODO: this should be a uniform\n  vAmbientColor = vec3(0.0);\n  for (int i = 0; i < 5; i++) {\n    if (i < uAmbientLightCount) {\n      vAmbientColor += uAmbientColor[i];\n    }\n  }\n}\n",phongFrag:e+"// include lighting.glsl\nprecision highp float;\nprecision highp int;\n\nuniform vec4 uSpecularMatColor;\nuniform vec4 uAmbientMatColor;\nuniform vec4 uEmissiveMatColor;\n\nuniform vec4 uMaterialColor;\nuniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\n\nvarying vec3 vNormal;\nvarying vec2 vTexCoord;\nvarying vec3 vViewPosition;\nvarying vec3 vAmbientColor;\n\nvoid main(void) {\n\n  vec3 diffuse;\n  vec3 specular;\n  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);\n\n  // Calculating final color as result of all lights (plus emissive term).\n\n  gl_FragColor = isTexture ? texture2D(uSampler, vTexCoord) * (uTint / vec4(255, 255, 255, 255)) : uMaterialColor;\n  gl_FragColor.rgb = diffuse * gl_FragColor.rgb + \n                    vAmbientColor * uAmbientMatColor.rgb + \n                    specular * uSpecularMatColor.rgb + \n                    uEmissiveMatColor.rgb;\n}",fontVert:"precision mediump float;\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoord;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nuniform vec4 uGlyphRect;\nuniform float uGlyphOffset;\n\nvarying vec2 vTexCoord;\nvarying float w;\n\nvoid main() {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  // scale by the size of the glyph's rectangle\n  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;\n\n  // move to the corner of the glyph\n  positionVec4.xy += uGlyphRect.xy;\n\n  // move to the letter's line offset\n  positionVec4.x += uGlyphOffset;\n  \n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vTexCoord = aTexCoord;\n  w = gl_Position.w;\n}\n",fontFrag:"#extension GL_OES_standard_derivatives : enable\nprecision mediump float;\n\n#if 0\n  // simulate integer math using floats\n\t#define int float\n\t#define ivec2 vec2\n\t#define INT(x) float(x)\n\n\tint ifloor(float v) { return floor(v); }\n\tivec2 ifloor(vec2 v) { return floor(v); }\n\n#else\n  // use native integer math\n\tprecision highp int;\n\t#define INT(x) x\n\n\tint ifloor(float v) { return int(v); }\n\tint ifloor(int v) { return v; }\n\tivec2 ifloor(vec2 v) { return ivec2(v); }\n\n#endif\n\nuniform sampler2D uSamplerStrokes;\nuniform sampler2D uSamplerRowStrokes;\nuniform sampler2D uSamplerRows;\nuniform sampler2D uSamplerColStrokes;\nuniform sampler2D uSamplerCols;\n\nuniform ivec2 uStrokeImageSize;\nuniform ivec2 uCellsImageSize;\nuniform ivec2 uGridImageSize;\n\nuniform ivec2 uGridOffset;\nuniform ivec2 uGridSize;\nuniform vec4 uMaterialColor;\n\nvarying vec2 vTexCoord;\n\n// some helper functions\nint round(float v) { return ifloor(v + 0.5); }\nivec2 round(vec2 v) { return ifloor(v + 0.5); }\nfloat saturate(float v) { return clamp(v, 0.0, 1.0); }\nvec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }\n\nint mul(float v1, int v2) {\n  return ifloor(v1 * float(v2));\n}\n\nivec2 mul(vec2 v1, ivec2 v2) {\n  return ifloor(v1 * vec2(v2) + 0.5);\n}\n\n// unpack a 16-bit integer from a float vec2\nint getInt16(vec2 v) {\n  ivec2 iv = round(v * 255.0);\n  return iv.x * INT(128) + iv.y;\n}\n\nvec2 pixelScale;\nvec2 coverage = vec2(0.0);\nvec2 weight = vec2(0.5);\nconst float minDistance = 1.0/8192.0;\nconst float hardness = 1.05; // amount of antialias\n\n// the maximum number of curves in a glyph\nconst int N = INT(250);\n\n// retrieves an indexed pixel from a sampler\nvec4 getTexel(sampler2D sampler, int pos, ivec2 size) {\n  int width = size.x;\n  int y = ifloor(pos / width);\n  int x = pos - y * width;  // pos % width\n\n  return texture2D(sampler, (vec2(x, y) + 0.5) / vec2(size));\n}\n\nvoid calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {\n\n  // get the coefficients of the quadratic in t\n  vec2 a = p0 - p1 * 2.0 + p2;\n  vec2 b = p0 - p1;\n  vec2 c = p0 - vTexCoord;\n\n  // found out which values of 't' it crosses the axes\n  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));\n  vec2 t1 = ((b - surd) / a).yx;\n  vec2 t2 = ((b + surd) / a).yx;\n\n  // approximate straight lines to avoid rounding errors\n  if (abs(a.y) < 0.001)\n    t1.x = t2.x = c.y / (2.0 * b.y);\n\n  if (abs(a.x) < 0.001)\n    t1.y = t2.y = c.x / (2.0 * b.x);\n\n  // plug into quadratic formula to find the corrdinates of the crossings\n  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;\n  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;\n}\n\nvoid coverageX(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  // determine on which side of the x-axis the points lie\n  bool y0 = p0.y > vTexCoord.y;\n  bool y1 = p1.y > vTexCoord.y;\n  bool y2 = p2.y > vTexCoord.y;\n\n  // could web be under the curve (after t1)?\n  if (y1 ? !y2 : y0) {\n    // add the coverage for t1\n    coverage.x += saturate(C1.x + 0.5);\n    // calculate the anti-aliasing for t1\n    weight.x = min(weight.x, abs(C1.x));\n  }\n\n  // are we outside the curve (after t2)?\n  if (y1 ? !y0 : y2) {\n    // subtract the coverage for t2\n    coverage.x -= saturate(C2.x + 0.5);\n    // calculate the anti-aliasing for t2\n    weight.x = min(weight.x, abs(C2.x));\n  }\n}\n\n// this is essentially the same as coverageX, but with the axes swapped\nvoid coverageY(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  bool x0 = p0.x > vTexCoord.x;\n  bool x1 = p1.x > vTexCoord.x;\n  bool x2 = p2.x > vTexCoord.x;\n\n  if (x1 ? !x2 : x0) {\n    coverage.y -= saturate(C1.y + 0.5);\n    weight.y = min(weight.y, abs(C1.y));\n  }\n\n  if (x1 ? !x0 : x2) {\n    coverage.y += saturate(C2.y + 0.5);\n    weight.y = min(weight.y, abs(C2.y));\n  }\n}\n\nvoid main() {\n\n  // calculate the pixel scale based on screen-coordinates\n  pixelScale = hardness / fwidth(vTexCoord);\n\n  // which grid cell is this pixel in?\n  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));\n\n  // intersect curves in this row\n  {\n    // the index into the row info bitmap\n    int rowIndex = gridCoord.y + uGridOffset.y;\n    // fetch the info texel\n    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);\n    // unpack the rowInfo\n    int rowStrokeIndex = getInt16(rowInfo.xy);\n    int rowStrokeCount = getInt16(rowInfo.zw);\n\n    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {\n      if (iRowStroke >= rowStrokeCount)\n        break;\n\n      // each stroke is made up of 3 points: the start and control point\n      // and the start of the next curve.\n      // fetch the indices of this pair of strokes:\n      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);\n\n      // unpack the stroke index\n      int strokePos = getInt16(strokeIndices.xy);\n\n      // fetch the two strokes\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n\n      // calculate the coverage\n      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  // intersect curves in this column\n  {\n    int colIndex = gridCoord.x + uGridOffset.x;\n    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);\n    int colStrokeIndex = getInt16(colInfo.xy);\n    int colStrokeCount = getInt16(colInfo.zw);\n    \n    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {\n      if (iColStroke >= colStrokeCount)\n        break;\n\n      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);\n\n      int strokePos = getInt16(strokeIndices.xy);\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  weight = saturate(1.0 - weight * 2.0);\n  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.\n  float antialias = abs(dot(coverage, weight) / distance);\n  float cover = min(abs(coverage.x), abs(coverage.y));\n  gl_FragColor = uMaterialColor;\n  gl_FragColor.a *= saturate(max(antialias, cover));\n}",lineVert:"/*\n  Part of the Processing project - http://processing.org\n  Copyright (c) 2012-15 The Processing Foundation\n  Copyright (c) 2004-12 Ben Fry and Casey Reas\n  Copyright (c) 2001-04 Massachusetts Institute of Technology\n  This library is free software; you can redistribute it and/or\n  modify it under the terms of the GNU Lesser General Public\n  License as published by the Free Software Foundation, version 2.1.\n  This library is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n  Lesser General Public License for more details.\n  You should have received a copy of the GNU Lesser General\n  Public License along with this library; if not, write to the\n  Free Software Foundation, Inc., 59 Temple Place, Suite 330,\n  Boston, MA  02111-1307  USA\n*/\n\n#define PROCESSING_LINE_SHADER\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uStrokeWeight;\n\nuniform vec4 uViewport;\nuniform int uPerspective;\n\nattribute vec4 aPosition;\nattribute vec4 aDirection;\n  \nvoid main() {\n  // using a scale <1 moves the lines towards the camera\n  // in order to prevent popping effects due to half of\n  // the line disappearing behind the geometry faces.\n  vec3 scale = vec3(0.9995);\n\n  vec4 posp = uModelViewMatrix * aPosition;\n  vec4 posq = uModelViewMatrix * (aPosition + vec4(aDirection.xyz, 0));\n\n  // Moving vertices slightly toward the camera\n  // to avoid depth-fighting with the fill triangles.\n  // Discussed here:\n  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  \n  posp.xyz = posp.xyz * scale;\n  posq.xyz = posq.xyz * scale;\n\n  vec4 p = uProjectionMatrix * posp;\n  vec4 q = uProjectionMatrix * posq;\n\n  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])\n  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw\n\n  // prevent division by W by transforming the tangent formula (div by 0 causes\n  // the line to disappear, see https://github.com/processing/processing/issues/5183)\n  // t = screen_q - screen_p\n  //\n  // tangent is normalized and we don't care which aDirection it points to (+-)\n  // t = +- normalize( screen_q - screen_p )\n  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )\n  //\n  // extract common factor, <1,1> - <1,1> cancels out\n  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )\n  //\n  // convert to common divisor\n  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )\n  //\n  // remove the common scalar divisor/factor, not needed due to normalize and +-\n  // (keep uViewport - can't remove because it has different components for x and y\n  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)\n  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )\n\n  vec2 tangent = normalize((q.xy*p.w - p.xy*q.w) * uViewport.zw);\n\n  // flip tangent to normal (it's already normalized)\n  vec2 normal = vec2(-tangent.y, tangent.x);\n\n  float thickness = aDirection.w * uStrokeWeight;\n  vec2 offset = normal * thickness / 2.0;\n\n  vec2 curPerspScale;\n\n  if(uPerspective == 1) {\n    // Perspective ---\n    // convert from world to clip by multiplying with projection scaling factor\n    // to get the right thickness (see https://github.com/processing/processing/issues/5182)\n    // invert Y, projections in Processing invert Y\n    curPerspScale = (uProjectionMatrix * vec4(1, -1, 0, 0)).xy;\n  } else {\n    // No Perspective ---\n    // multiply by W (to cancel out division by W later in the pipeline) and\n    // convert from screen to clip (derived from clip to screen above)\n    curPerspScale = p.w / (0.5 * uViewport.zw);\n  }\n\n  gl_Position.xy = p.xy + offset.xy * curPerspScale;\n  gl_Position.zw = p.zw;\n}\n",lineFrag:"precision mediump float;\nprecision mediump int;\n\nuniform vec4 uMaterialColor;\n\nvoid main() {\n  gl_FragColor = uMaterialColor;\n}",pointVert:"attribute vec3 aPosition;\nuniform float uPointSize;\nvarying float vStrokeWeight;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nvoid main() {\n\tvec4 positionVec4 =  vec4(aPosition, 1.0);\n\tgl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n\tgl_PointSize = uPointSize;\n\tvStrokeWeight = uPointSize;\n}",pointFrag:"precision mediump float;\nprecision mediump int;\nuniform vec4 uMaterialColor;\nvarying float vStrokeWeight;\n\nvoid main(){\n\tfloat mask = 0.0;\n\n\t// make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)\n    // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant\n\n\tmask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));\n\n\t// if strokeWeight is 1 or less lets just draw a square\n\t// this prevents weird artifacting from carving circles when our points are really small\n\t// if strokeWeight is larger than 1, we just use it as is\n\n\tmask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));\n\n\t// throw away the borders of the mask\n    // otherwise we get weird alpha blending issues\n\n\tif(mask > 0.98){\n      discard;\n  \t}\n\n  \tgl_FragColor = vec4(uMaterialColor.rgb * (1.0 - mask), uMaterialColor.a) ;\n}"};o.default.RendererGL=function(e,t,r,n){return o.default.Renderer.call(this,e,t,r),this._setAttributeDefaults(t),this._initContext(),this.isP3D=!0,this.GL=this.drawingContext,this._pInst._setProperty("drawingContext",this.drawingContext),this._isErasing=!1,this._enableLighting=!1,this.ambientLightColors=[],this.specularColors=[1,1,1],this.directionalLightDirections=[],this.directionalLightDiffuseColors=[],this.directionalLightSpecularColors=[],this.pointLightPositions=[],this.pointLightDiffuseColors=[],this.pointLightSpecularColors=[],this.spotLightPositions=[],this.spotLightDirections=[],this.spotLightDiffuseColors=[],this.spotLightSpecularColors=[],this.spotLightAngle=[],this.spotLightConc=[],this.drawMode=a.FILL,this.curFillColor=this._cachedFillStyle=[1,1,1,1],this.curAmbientColor=this._cachedFillStyle=[0,0,0,0],this.curSpecularColor=this._cachedFillStyle=[0,0,0,0],this.curEmissiveColor=this._cachedFillStyle=[0,0,0,0],this.curStrokeColor=this._cachedStrokeStyle=[0,0,0,1],this.curBlendMode=a.BLEND,this._cachedBlendMode=void 0,this.blendExt=this.GL.getExtension("EXT_blend_minmax"),this._isBlending=!1,this._useSpecularMaterial=!1,this._useEmissiveMaterial=!1,this._useNormalMaterial=!1,this._useShininess=1,this._tint=[255,255,255,255],this.constantAttenuation=1,this.linearAttenuation=0,this.quadraticAttenuation=0,this.uMVMatrix=new o.default.Matrix,this.uPMatrix=new o.default.Matrix,this.uNMatrix=new o.default.Matrix("mat3"),this._currentNormal=new o.default.Vector(0,0,1),this._curCamera=new o.default.Camera(this),this._curCamera._computeCameraDefaultSettings(),this._curCamera._setDefaultCamera(),this._defaultLightShader=void 0,this._defaultImmediateModeShader=void 0,this._defaultNormalShader=void 0,this._defaultColorShader=void 0,this._defaultPointShader=void 0,this.userFillShader=void 0,this.userStrokeShader=void 0,this.userPointShader=void 0,this.retainedMode={geometry:{},buffers:{stroke:[new o.default.RenderBuffer(3,"lineVertices","lineVertexBuffer","aPosition",this,this._flatten),new o.default.RenderBuffer(4,"lineNormals","lineNormalBuffer","aDirection",this,this._flatten)],fill:[new o.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new o.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new o.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",this),new o.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new o.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],text:[new o.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new o.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)]}},this.immediateMode={geometry:new o.default.Geometry,shapeMode:a.TRIANGLE_FAN,_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new o.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new o.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new o.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",this),new o.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new o.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],stroke:[new o.default.RenderBuffer(3,"lineVertices","lineVertexBuffer","aPosition",this,this._flatten),new o.default.RenderBuffer(4,"lineNormals","lineNormalBuffer","aDirection",this,this._flatten)],point:this.GL.createBuffer()}},this.pointSize=5,this.curStrokeWeight=1,this.textures=[],this.textureMode=a.IMAGE,this.textureWrapX=a.CLAMP,this.textureWrapY=a.CLAMP,this._tex=null,this._curveTightness=6,this._lookUpTableBezier=[],this._lookUpTableQuadratic=[],this._lutBezierDetail=0,this._lutQuadraticDetail=0,this._tessy=this._initTessy(),this.fontInfos={},this._curShader=void 0,this},o.default.RendererGL.prototype=Object.create(o.default.Renderer.prototype),o.default.RendererGL.prototype._setAttributeDefaults=function(e){var t={alpha:!1,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!1,preserveDrawingBuffer:!0,perPixelLighting:!0};null===e._glAttributes?e._glAttributes=t:e._glAttributes=Object.assign(t,e._glAttributes)},o.default.RendererGL.prototype._initContext=function(){if(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes),null===this.drawingContext)throw new Error("Error creating webgl context");var e=this.drawingContext;e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)},o.default.RendererGL.prototype._resetContext=function(e,t){var r,n=this.width,i=this.height,a=this.canvas.id,s=this._pInst instanceof o.default.Graphics;s?((r=this._pInst).canvas.parentNode.removeChild(r.canvas),r.canvas=document.createElement("canvas"),(r._pInst._userNode||document.body).appendChild(r.canvas),o.default.Element.call(r,r.canvas,r._pInst),r.width=n,r.height=i):((r=this.canvas)&&r.parentNode.removeChild(r),(r=document.createElement("canvas")).id=a,(this._pInst._userNode||document.body).appendChild(r),this._pInst.canvas=r,this.canvas=r),a=new o.default.RendererGL(this._pInst.canvas,this._pInst,!s),this._pInst._setProperty("_renderer",a),a.resize(n,i),a._applyDefaults(),s||this._pInst._elements.push(a),"function"==typeof t&&setTimeout((function(){t.apply(window._renderer,e)}),0)},o.default.prototype.setAttributes=function(e,t){if(void 0===this._glAttributes)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var r=!0;if(void 0!==t?(null===this._glAttributes&&(this._glAttributes={}),this._glAttributes[e]!==t&&(this._glAttributes[e]=t,r=!1)):e instanceof Object&&this._glAttributes!==e&&(this._glAttributes=e,r=!1),this._renderer.isP3D&&!r){if(!this._setupDone)for(var n in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(n))return void console.error("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()");this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},o.default.RendererGL.prototype._update=function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clear(this.GL.DEPTH_BUFFER_BIT)},o.default.RendererGL.prototype.background=function(){var e=(n=(n=this._pInst).color.apply(n,arguments)).levels[0]/255,t=n.levels[1]/255,r=n.levels[2]/255,n=n.levels[3]/255;this.GL.clearColor(e,t,r,n),this.GL.clear(this.GL.COLOR_BUFFER_BIT)},o.default.RendererGL.prototype.fill=function(e,t,r,n){var i=o.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=i._array,this.drawMode=a.FILL,this._useNormalMaterial=!1,this._tex=null},o.default.RendererGL.prototype.stroke=function(e,t,r,n){arguments[3]=255;var i=o.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=i._array},o.default.RendererGL.prototype.strokeCap=function(e){console.error("Sorry, strokeCap() is not yet implemented in WEBGL mode")},o.default.RendererGL.prototype.strokeJoin=function(e){console.error("Sorry, strokeJoin() is not yet implemented in WEBGL mode")},o.default.RendererGL.prototype.filter=function(e){console.error("filter() does not work in WEBGL mode")},o.default.RendererGL.prototype.blendMode=function(e){e===a.DARKEST||e===a.LIGHTEST||e===a.ADD||e===a.BLEND||e===a.SUBTRACT||e===a.SCREEN||e===a.EXCLUSION||e===a.REPLACE||e===a.MULTIPLY||e===a.REMOVE?this.curBlendMode=e:e!==a.BURN&&e!==a.OVERLAY&&e!==a.HARD_LIGHT&&e!==a.SOFT_LIGHT&&e!==a.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")},o.default.RendererGL.prototype.erase=function(e,t){this._isErasing||(this._applyBlendMode(a.REMOVE),this._isErasing=!0,this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,e/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,t/255])},o.default.RendererGL.prototype.noErase=function(){this._isErasing&&(this._isErasing=!1,this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.blendMode(this._cachedBlendMode))},o.default.RendererGL.prototype.strokeWeight=function(e){this.curStrokeWeight!==e&&(this.pointSize=e,this.curStrokeWeight=e)},o.default.RendererGL.prototype._getPixel=function(e,t){var r=new Uint8Array(4);return this.drawingContext.readPixels(e,t,1,1,this.drawingContext.RGBA,this.drawingContext.UNSIGNED_BYTE,r),[r[0],r[1],r[2],r[3]]},o.default.RendererGL.prototype.loadPixels=function(){var e,t=this._pixelsState;!0!==this._pInst._glAttributes.preserveDrawingBuffer?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(t=t.pixels,e=this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4,t instanceof Uint8Array&&t.length===e||(t=new Uint8Array(e),this._pixelsState._setProperty("pixels",t)),e=this._pInst._pixelDensity,this.GL.readPixels(0,0,this.width*e,this.height*e,this.GL.RGBA,this.GL.UNSIGNED_BYTE,t))},o.default.RendererGL.prototype.geometryInHash=function(e){return void 0!==this.retainedMode.geometry[e]},o.default.RendererGL.prototype.resize=function(e,t){o.default.Renderer.prototype.resize.call(this,e,t),this.GL.viewport(0,0,this.GL.drawingBufferWidth,this.GL.drawingBufferHeight),this._viewport=this.GL.getParameter(this.GL.VIEWPORT),this._curCamera._resize(),void 0!==(e=this._pixelsState).pixels&&e._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4))},o.default.RendererGL.prototype.clear=function(){this.GL.clearColor((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)},o.default.RendererGL.prototype.applyMatrix=function(e,t,r,n,i,a){16===arguments.length?o.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([e,t,0,0,r,n,0,0,0,0,1,0,i,a,0,1])},o.default.RendererGL.prototype.translate=function(e,t,r){return e instanceof o.default.Vector&&(r=e.z,t=e.y,e=e.x),this.uMVMatrix.translate([e,t,r]),this},o.default.RendererGL.prototype.scale=function(e,t,r){return this.uMVMatrix.scale(e,t,r),this},o.default.RendererGL.prototype.rotate=function(e,t){return void 0===t?this.rotateZ(e):(o.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)},o.default.RendererGL.prototype.rotateX=function(e){return this.rotate(e,1,0,0),this},o.default.RendererGL.prototype.rotateY=function(e){return this.rotate(e,0,1,0),this},o.default.RendererGL.prototype.rotateZ=function(e){return this.rotate(e,0,0,1),this},o.default.RendererGL.prototype.push=function(){var e=o.default.Renderer.prototype.push.apply(this),t=e.properties;return t.uMVMatrix=this.uMVMatrix.copy(),t.uPMatrix=this.uPMatrix.copy(),t._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),t.ambientLightColors=this.ambientLightColors.slice(),t.specularColors=this.specularColors.slice(),t.directionalLightDirections=this.directionalLightDirections.slice(),t.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),t.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),t.pointLightPositions=this.pointLightPositions.slice(),t.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),t.pointLightSpecularColors=this.pointLightSpecularColors.slice(),t.spotLightPositions=this.spotLightPositions.slice(),t.spotLightDirections=this.spotLightDirections.slice(),t.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),t.spotLightSpecularColors=this.spotLightSpecularColors.slice(),t.spotLightAngle=this.spotLightAngle.slice(),t.spotLightConc=this.spotLightConc.slice(),t.userFillShader=this.userFillShader,t.userStrokeShader=this.userStrokeShader,t.userPointShader=this.userPointShader,t.pointSize=this.pointSize,t.curStrokeWeight=this.curStrokeWeight,t.curStrokeColor=this.curStrokeColor,t.curFillColor=this.curFillColor,t.curAmbientColor=this.curAmbientColor,t.curSpecularColor=this.curSpecularColor,t.curEmissiveColor=this.curEmissiveColor,t._useSpecularMaterial=this._useSpecularMaterial,t._useEmissiveMaterial=this._useEmissiveMaterial,t._useShininess=this._useShininess,t.constantAttenuation=this.constantAttenuation,t.linearAttenuation=this.linearAttenuation,t.quadraticAttenuation=this.quadraticAttenuation,t._enableLighting=this._enableLighting,t._useNormalMaterial=this._useNormalMaterial,t._tex=this._tex,t.drawMode=this.drawMode,t._currentNormal=this._currentNormal,t.curBlendMode=this.curBlendMode,e},o.default.RendererGL.prototype.resetMatrix=function(){return this.uMVMatrix=o.default.Matrix.identity(this._pInst),this},o.default.RendererGL.prototype._getImmediateStrokeShader=function(){var e=this.userStrokeShader;return e&&e.isStrokeShader()?e:this._getLineShader()},o.default.RendererGL.prototype._getRetainedStrokeShader=o.default.RendererGL.prototype._getImmediateStrokeShader,o.default.RendererGL.prototype._getImmediateFillShader=function(){var e=this.userFillShader;if(this._useNormalMaterial&&(!e||!e.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!e||!e.isLightShader())return this._getLightShader()}else if(this._tex){if(!e||!e.isTextureShader())return this._getLightShader()}else if(!e)return this._getImmediateModeShader();return e},o.default.RendererGL.prototype._getRetainedFillShader=function(){if(this._useNormalMaterial)return this._getNormalShader();var e=this.userFillShader;if(this._enableLighting){if(!e||!e.isLightShader())return this._getLightShader()}else if(this._tex){if(!e||!e.isTextureShader())return this._getLightShader()}else if(!e)return this._getColorShader();return e},o.default.RendererGL.prototype._getImmediatePointShader=function(){var e=this.userPointShader;return e&&e.isPointShader()?e:this._getPointShader()},o.default.RendererGL.prototype._getRetainedLineShader=o.default.RendererGL.prototype._getImmediateLineShader,o.default.RendererGL.prototype._getLightShader=function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new o.default.Shader(this,h.phongVert,h.phongFrag):this._defaultLightShader=new o.default.Shader(this,h.lightVert,h.lightTextureFrag)),this._defaultLightShader},o.default.RendererGL.prototype._getImmediateModeShader=function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new o.default.Shader(this,h.immediateVert,h.vertexColorFrag)),this._defaultImmediateModeShader},o.default.RendererGL.prototype._getNormalShader=function(){return this._defaultNormalShader||(this._defaultNormalShader=new o.default.Shader(this,h.normalVert,h.normalFrag)),this._defaultNormalShader},o.default.RendererGL.prototype._getColorShader=function(){return this._defaultColorShader||(this._defaultColorShader=new o.default.Shader(this,h.normalVert,h.basicFrag)),this._defaultColorShader},o.default.RendererGL.prototype._getPointShader=function(){return this._defaultPointShader||(this._defaultPointShader=new o.default.Shader(this,h.pointVert,h.pointFrag)),this._defaultPointShader},o.default.RendererGL.prototype._getLineShader=function(){return this._defaultLineShader||(this._defaultLineShader=new o.default.Shader(this,h.lineVert,h.lineFrag)),this._defaultLineShader},o.default.RendererGL.prototype._getFontShader=function(){return this._defaultFontShader||(this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new o.default.Shader(this,h.fontVert,h.fontFrag)),this._defaultFontShader},o.default.RendererGL.prototype._getEmptyTexture=function(){var e;return this._emptyTexture||((e=new o.default.Image(1,1)).set(0,0,255),this._emptyTexture=new o.default.Texture(this,e)),this._emptyTexture},o.default.RendererGL.prototype.getTexture=function(e){var t=this.textures,r=!0,n=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;if(l.src===e)return l}}catch(e){n=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw i}}return n=new o.default.Texture(this,e),t.push(n),n},o.default.RendererGL.prototype._setStrokeUniforms=function(e){e.bindShader(),e.setUniform("uMaterialColor",this.curStrokeColor),e.setUniform("uStrokeWeight",this.curStrokeWeight)},o.default.RendererGL.prototype._setFillUniforms=function(e){e.bindShader(),e.setUniform("uMaterialColor",this.curFillColor),e.setUniform("isTexture",!!this._tex),this._tex&&e.setUniform("uSampler",this._tex),e.setUniform("uTint",this._tint),e.setUniform("uAmbientMatColor",this.curAmbientColor),e.setUniform("uSpecularMatColor",this.curSpecularColor),e.setUniform("uEmissiveMatColor",this.curEmissiveColor),e.setUniform("uSpecular",this._useSpecularMaterial),e.setUniform("uEmissive",this._useEmissiveMaterial),e.setUniform("uShininess",this._useShininess),e.setUniform("uUseLighting",this._enableLighting);var t=this.pointLightDiffuseColors.length/3;e.setUniform("uPointLightCount",t),e.setUniform("uPointLightLocation",this.pointLightPositions),e.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),e.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),t=this.directionalLightDiffuseColors.length/3,e.setUniform("uDirectionalLightCount",t),e.setUniform("uLightingDirection",this.directionalLightDirections),e.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),e.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),t=this.ambientLightColors.length/3,e.setUniform("uAmbientLightCount",t),e.setUniform("uAmbientColor",this.ambientLightColors),t=this.spotLightDiffuseColors.length/3,e.setUniform("uSpotLightCount",t),e.setUniform("uSpotLightAngle",this.spotLightAngle),e.setUniform("uSpotLightConc",this.spotLightConc),e.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),e.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),e.setUniform("uSpotLightLocation",this.spotLightPositions),e.setUniform("uSpotLightDirection",this.spotLightDirections),e.setUniform("uConstantAttenuation",this.constantAttenuation),e.setUniform("uLinearAttenuation",this.linearAttenuation),e.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),e.bindTextures()},o.default.RendererGL.prototype._setPointUniforms=function(e){e.bindShader(),e.setUniform("uMaterialColor",this.curStrokeColor),e.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)},o.default.RendererGL.prototype._bindBuffer=function(e,t,r,n,i){t=t||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(t,e),void 0!==r&&(e=new(n||Float32Array)(r),this.GL.bufferData(t,e,i||this.GL.STATIC_DRAW))},o.default.RendererGL.prototype._arraysEqual=function(e,t){var r=e.length;if(r!==t.length)return!1;for(var n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0},o.default.RendererGL.prototype._isTypedArray=function(e){return Float32Array,Float64Array,Int16Array,Uint16Array,e instanceof Uint32Array},o.default.RendererGL.prototype._flatten=function(e){if(0===e.length)return[];var t;if(2e4<e.length){for(var r=Object.prototype.toString,n=[],i=e.slice(),o=i.pop();"[object Array]"===r.call(o)?i.push.apply(i,c(o)):n.push(o),i.length&&void 0!==(o=i.pop()););return n.reverse(),n}return(t=[]).concat.apply(t,c(e))},o.default.RendererGL.prototype._vToNArray=function(e){var t=[],r=!0,n=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var s=o.value;t.push(s.x,s.y,s.z)}}catch(e){n=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}return t},o.default.prototype._assert3d=function(e){if(!this._renderer.isP3D)throw new Error("".concat(e,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},o.default.RendererGL.prototype._initTessy=function(){var e=new s.default.GluTesselator;return e.gluTessCallback(s.default.gluEnum.GLU_TESS_VERTEX_DATA,(function(e,t){for(var r=0;r<e.length;r++)t[t.length]=e[r]})),e.gluTessCallback(s.default.gluEnum.GLU_TESS_BEGIN,(function(e){e!==s.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(e))})),e.gluTessCallback(s.default.gluEnum.GLU_TESS_ERROR,(function(e){console.log("error callback"),console.log("error number: ".concat(e))})),e.gluTessCallback(s.default.gluEnum.GLU_TESS_COMBINE,(function(e,t,r){for(var n=[0,0,0,0,0,0,0,0,0,0,0,0],i=0;i<r.length;i++)for(var o=0;o<n.length;o++)0!==r[i]&&t[i]&&(n[o]+=t[i][o]*r[i]);return n})),e.gluTessCallback(s.default.gluEnum.GLU_TESS_EDGE_FLAG,(function(e){})),e},o.default.RendererGL.prototype._triangulate=function(e){this._tessy.gluTessNormal(0,0,1);var t=[];this._tessy.gluTessBeginPolygon(t);for(var r=0;r<e.length;r++){this._tessy.gluTessBeginContour();for(var n=e[r],i=0;i<n.length;i+=12){var o=n.slice(i,i+12);this._tessy.gluTessVertex(o,o)}this._tessy.gluTessEndContour()}return this._tessy.gluTessEndPolygon(),t},o.default.RendererGL.prototype._bezierCoefficients=function(e){var t=e*e,r=1-e,n=r*r;return[n*r,3*n*e,3*r*t,t*e]},o.default.RendererGL.prototype._quadraticCoefficients=function(e){var t=1-e;return[t*t,2*t*e,e*e]},o.default.RendererGL.prototype._bezierToCatmull=function(e){return[e[1],e[1]+(e[2]-e[0])/this._curveTightness,e[2]-(e[3]-e[1])/this._curveTightness,e[2]]},e=o.default.RendererGL,r.default=e},{"../core/constants":256,"../core/main":267,"../core/p5.Renderer":270,"./p5.Camera":315,"./p5.Matrix":317,"./p5.Shader":322,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.from":155,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.float64-array":204,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.int16-array":208,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint16-array":224,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230,libtess:239,path:242}],322:[function(e,t,r){"use strict";e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var n=(e=e("../core/main"))&&e.__esModule?e:{default:e};n.default.Shader=function(e,t,r){this._renderer=e,this._vertSrc=t,this._fragSrc=r,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]},n.default.Shader.prototype.init=function(){if(0===this._glProgram){var e=this._renderer.GL;if(this._vertShader=e.createShader(e.VERTEX_SHADER),e.shaderSource(this._vertShader,this._vertSrc),e.compileShader(this._vertShader),!e.getShaderParameter(this._vertShader,e.COMPILE_STATUS))return console.error("Yikes! An error occurred compiling the vertex shader:".concat(e.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=e.createShader(e.FRAGMENT_SHADER),e.shaderSource(this._fragShader,this._fragSrc),e.compileShader(this._fragShader),!e.getShaderParameter(this._fragShader,e.COMPILE_STATUS))return console.error("Darn! An error occurred compiling the fragment shader:".concat(e.getShaderInfoLog(this._fragShader))),null;this._glProgram=e.createProgram(),e.attachShader(this._glProgram,this._vertShader),e.attachShader(this._glProgram,this._fragShader),e.linkProgram(this._glProgram),e.getProgramParameter(this._glProgram,e.LINK_STATUS)||console.error("Snap! Error linking shader program: ".concat(e.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this},n.default.Shader.prototype._loadAttributes=function(){if(!this._loadedAttributes){this.attributes={};for(var e=this._renderer.GL,t=e.getProgramParameter(this._glProgram,e.ACTIVE_ATTRIBUTES),r=0;r<t;++r){var n=e.getActiveAttrib(this._glProgram,r),i=n.name,o=e.getAttribLocation(this._glProgram,i),a={};a.name=i,a.location=o,a.index=r,a.type=n.type,a.size=n.size,this.attributes[i]=a}this._loadedAttributes=!0}},n.default.Shader.prototype._loadUniforms=function(){if(!this._loadedUniforms){for(var e=this._renderer.GL,t=e.getProgramParameter(this._glProgram,e.ACTIVE_UNIFORMS),r=0,n=0;n<t;++n){var i=e.getActiveUniform(this._glProgram,n),o={},a=(o.location=e.getUniformLocation(this._glProgram,i.name),o.size=i.size,i.name);1<i.size&&(a=a.substring(0,a.indexOf("[0]"))),o.name=a,o.type=i.type,o._cachedData=void 0,o.type===e.SAMPLER_2D&&(o.samplerIndex=r,r++,this.samplers.push(o)),o.isArray=1<i.size||o.type===e.FLOAT_MAT3||o.type===e.FLOAT_MAT4||o.type===e.FLOAT_VEC2||o.type===e.FLOAT_VEC3||o.type===e.FLOAT_VEC4||o.type===e.INT_VEC2||o.type===e.INT_VEC4||o.type===e.INT_VEC3,this.uniforms[a]=o}this._loadedUniforms=!0}},n.default.Shader.prototype.compile=function(){},n.default.Shader.prototype.bindShader=function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))},n.default.Shader.prototype.unbindShader=function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this},n.default.Shader.prototype.bindTextures=function(){var e=this._renderer.GL,t=!0,r=!1,n=void 0;try{for(var i,o=this.samplers[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value,s=a.texture;void 0===s&&(s=this._renderer._getEmptyTexture()),e.activeTexture(e.TEXTURE0+a.samplerIndex),s.bindTexture(),s.update(),e.uniform1i(a.location,a.samplerIndex)}}catch(e){r=!0,n=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw n}}},n.default.Shader.prototype.updateTextures=function(){var e=!0,t=!1,r=void 0;try{for(var n,i=this.samplers[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var o=n.value.texture;o&&o.update()}}catch(e){t=!0,r=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}},n.default.Shader.prototype.unbindTextures=function(){},n.default.Shader.prototype._setMatrixUniforms=function(){var e=this._renderer._curCamera.cameraMatrix,t=this._renderer.uPMatrix,r=this._renderer.uMVMatrix,n=r.copy();n.mult(t),this.isStrokeShader()&&("default"===this._renderer._curCamera.cameraType?this.setUniform("uPerspective",1):this.setUniform("uPerspective",0)),this.setUniform("uViewMatrix",e.mat4),this.setUniform("uProjectionMatrix",t.mat4),this.setUniform("uModelViewMatrix",r.mat4),this.setUniform("uModelViewProjectionMatrix",n.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))},n.default.Shader.prototype.useProgram=function(){var e=this._renderer.GL;return this._renderer._curShader!==this&&(e.useProgram(this._glProgram),this._renderer._curShader=this),this},n.default.Shader.prototype.setUniform=function(e,t){var r=this.uniforms[e];if(r){var i=this._renderer.GL;if(r.isArray){if(r._cachedData&&this._renderer._arraysEqual(r._cachedData,t))return;r._cachedData=t.slice(0)}else{if(r._cachedData&&r._cachedData===t)return;Array.isArray(t)?r._cachedData=t.slice(0):r._cachedData=t}var o=r.location;switch(this.useProgram(),r.type){case i.BOOL:!0===t?i.uniform1i(o,1):i.uniform1i(o,0);break;case i.INT:1<r.size?t.length&&i.uniform1iv(o,t):i.uniform1i(o,t);break;case i.FLOAT:1<r.size?t.length&&i.uniform1fv(o,t):i.uniform1f(o,t);break;case i.FLOAT_MAT3:i.uniformMatrix3fv(o,!1,t);break;case i.FLOAT_MAT4:i.uniformMatrix4fv(o,!1,t);break;case i.FLOAT_VEC2:1<r.size?t.length&&i.uniform2fv(o,t):i.uniform2f(o,t[0],t[1]);break;case i.FLOAT_VEC3:1<r.size?t.length&&i.uniform3fv(o,t):i.uniform3f(o,t[0],t[1],t[2]);break;case i.FLOAT_VEC4:1<r.size?t.length&&i.uniform4fv(o,t):i.uniform4f(o,t[0],t[1],t[2],t[3]);break;case i.INT_VEC2:1<r.size?t.length&&i.uniform2iv(o,t):i.uniform2i(o,t[0],t[1]);break;case i.INT_VEC3:1<r.size?t.length&&i.uniform3iv(o,t):i.uniform3i(o,t[0],t[1],t[2]);break;case i.INT_VEC4:1<r.size?t.length&&i.uniform4iv(o,t):i.uniform4i(o,t[0],t[1],t[2],t[3]);break;case i.SAMPLER_2D:i.activeTexture(i.TEXTURE0+r.samplerIndex),r.texture=t instanceof n.default.Texture?t:this._renderer.getTexture(t),i.uniform1i(o,r.samplerIndex)}return this}},n.default.Shader.prototype.isLightShader=function(){return void 0!==this.attributes.aNormal||void 0!==this.uniforms.uUseLighting||void 0!==this.uniforms.uAmbientLightCount||void 0!==this.uniforms.uDirectionalLightCount||void 0!==this.uniforms.uPointLightCount||void 0!==this.uniforms.uAmbientColor||void 0!==this.uniforms.uDirectionalDiffuseColors||void 0!==this.uniforms.uDirectionalSpecularColors||void 0!==this.uniforms.uPointLightLocation||void 0!==this.uniforms.uPointLightDiffuseColors||void 0!==this.uniforms.uPointLightSpecularColors||void 0!==this.uniforms.uLightingDirection||void 0!==this.uniforms.uSpecular},n.default.Shader.prototype.isNormalShader=function(){return void 0!==this.attributes.aNormal},n.default.Shader.prototype.isTextureShader=function(){return 0<this.samplers.length},n.default.Shader.prototype.isColorShader=function(){return void 0!==this.attributes.aVertexColor||void 0!==this.uniforms.uMaterialColor},n.default.Shader.prototype.isTexLightShader=function(){return this.isLightShader()&&this.isTextureShader()},n.default.Shader.prototype.isStrokeShader=function(){return void 0!==this.uniforms.uStrokeWeight},n.default.Shader.prototype.enableAttrib=function(e,t,r,n,i,o){var a,s;return e&&-1!==(a=e.location)&&(s=this._renderer.GL,e.enabled||(s.enableVertexAttribArray(a),e.enabled=!0),this._renderer.GL.vertexAttribPointer(a,t,r||s.FLOAT,n||!1,i||0,o||0)),this},e=n.default.Shader,r.default=e},{"../core/main":267,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":165,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],323:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o=(l=e("../core/main"))&&l.__esModule?l:{default:l},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../core/constants"));function s(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,s=function(){return e},e)}o.default.Texture=function(e,t,r){return this._renderer=e,e=this._renderer.GL,(r=r||{}).dataType===e.FLOAT&&(e.getExtension("OES_texture_float")||console.log("Oh no, your device doesn't support floating point textures!"),e.getExtension("OES_texture_float_linear")||console.log("Ack! Your device doesn't support linear filtering for floating point textures")),this.src=t,this.glTex=void 0,this.glTarget=e.TEXTURE_2D,this.glFormat=r.format||e.RGBA,this.mipmaps=!1,this.glMinFilter=r.minFilter||e.LINEAR,this.glMagFilter=r.magFilter||e.LINEAR,this.glWrapS=r.wrapS||e.CLAMP_TO_EDGE,this.glWrapT=r.wrapT||e.CLAMP_TO_EDGE,this.glDataType=r.dataType||e.UNSIGNED_BYTE,this.isSrcMediaElement=void 0!==o.default.MediaElement&&t instanceof o.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=void 0!==o.default.Element&&t instanceof o.default.Element&&!(t instanceof o.default.Graphics)&&!(t instanceof o.default.Renderer),this.isSrcP5Image=t instanceof o.default.Image,this.isSrcP5Graphics=t instanceof o.default.Graphics,this.isSrcP5Renderer=t instanceof o.default.Renderer,this.isImageData="undefined"!=typeof ImageData&&t instanceof ImageData,r=this._getTextureDataFromSource(),this.width=r.width,this.height=r.height,this.init(r),this},o.default.Texture.prototype._getTextureDataFromSource=function(){var e;return this.isSrcP5Image?e=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?e=this.src.elt:this.isImageData&&(e=this.src),e},o.default.Texture.prototype.init=function(e){var t,r=this._renderer.GL;this.glTex=r.createTexture(),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,this.glMagFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,this.glMinFilter),0===this.width||0===this.height||this.isSrcMediaElement&&!this.src.loadedmetadata?(t=new Uint8Array([1,1,1,1]),r.texImage2D(this.glTarget,0,r.RGBA,1,1,0,this.glFormat,this.glDataType,t)):r.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,e)},o.default.Texture.prototype.update=function(){var e,t,r,n=this.src;return 0!==n.width&&0!==n.height&&(e=this._getTextureDataFromSource(),t=!1,r=this._renderer.GL,e.width!==this.width||e.height!==this.height?(t=!0,this.width=e.width,this.height=e.height,this.isSrcP5Image?n.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&n.setModified(!0)):this.isSrcP5Image?n.isModified()&&n.setModified(!(t=!0)):this.isSrcMediaElement?n.isModified()?n.setModified(!(t=!0)):n.loadedmetadata&&this._videoPrevUpdateTime!==n.time()&&(this._videoPrevUpdateTime=n.time(),t=!0):this.isImageData?n._dirty&&(t=!(n._dirty=!1)):t=!0,t&&(this.bindTexture(),r.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,e)),t)},o.default.Texture.prototype.bindTexture=function(){return this._renderer.GL.bindTexture(this.glTarget,this.glTex),this},o.default.Texture.prototype.unbindTexture=function(){this._renderer.GL.bindTexture(this.glTarget,null)},o.default.Texture.prototype.setInterpolation=function(e,t){var r=this._renderer.GL;e===a.NEAREST?this.glMinFilter=r.NEAREST:this.glMinFilter=r.LINEAR,t===a.NEAREST?this.glMagFilter=r.NEAREST:this.glMagFilter=r.LINEAR,this.bindTexture(),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,this.glMinFilter),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()},o.default.Texture.prototype.setWrapMode=function(e,t){function r(e){return 0==(e&e-1)}var n=this._renderer.GL,i=r(this.width),o=r(this.height);e===a.REPEAT?i&&o?this.glWrapS=n.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=n.CLAMP_TO_EDGE):e===a.MIRROR?i&&o?this.glWrapS=n.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=n.CLAMP_TO_EDGE):this.glWrapS=n.CLAMP_TO_EDGE,t===a.REPEAT?i&&o?this.glWrapT=n.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=n.CLAMP_TO_EDGE):t===a.MIRROR?i&&o?this.glWrapT=n.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=n.CLAMP_TO_EDGE):this.glWrapT=n.CLAMP_TO_EDGE,this.bindTexture(),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,this.glWrapS),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()};var l=o.default.Texture;r.default=l},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],324:[function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)})(e)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.sub"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.sub"),e("core-js/modules/web.dom-collections.iterator");var o,a=(o=e("../core/main"))&&o.__esModule?o:{default:o},s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var r,n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in e){var a;Object.prototype.hasOwnProperty.call(e,r)&&((a=o?Object.getOwnPropertyDescriptor(e,r):null)&&(a.get||a.set)?Object.defineProperty(n,r,a):n[r]=e[r])}return n.default=e,t&&t.set(e,n),n}(e("../core/constants"));function l(){var e;return"function"!=typeof WeakMap?null:(e=new WeakMap,l=function(){return e},e)}function u(e,t){this.width=e,this.height=t,this.infos=[],this.findImage=function(e){var t,r,n=this.width*this.height;if(n<e)throw new Error("font is too complex to render in 3D");for(var i=this.infos.length-1;0<=i;--i){var o=this.infos[i];if(o.index+e<n){r=(t=o).imageData;break}}if(!t){try{r=new ImageData(this.width,this.height)}catch(e){var a=document.getElementsByTagName("canvas")[0],s=!a,l=(a||((a=document.createElement("canvas")).style.display="none",document.body.appendChild(a)),a.getContext("2d"));l&&(r=l.createImageData(this.width,this.height)),s&&document.body.removeChild(a)}this.infos.push(t={index:0,imageData:r})}return l=t.index,t.index+=e,r._dirty=!0,{imageData:r,index:l}}}function c(e,t,r,n,i){var o=e.imageData.data;e=4*e.index++,o[e++]=t,o[e++]=r,o[e++]=n,o[+e]=i}function h(e){this.font=e,this.strokeImageInfos=new u(64,64),this.colDimImageInfos=new u(64,64),this.rowDimImageInfos=new u(64,64),this.colCellImageInfos=new u(64,64),this.rowCellImageInfos=new u(64,64),this.glyphInfos={},this.getGlyphInfo=function(e){var t=this.glyphInfos[e.index];if(!t){var r=e.getBoundingBox(),n=r.x1,i=r.y1,o=r.x2-n,s=r.y2-i,l=e.path.commands;if(0==o||0==s||!l.length)return this.glyphInfos[e.index]={};for(var u,h,f,p,m=[],y=[],g=[],v=8;0<=v;--v)g.push([]);for(v=8;0<=v;--v)y.push([]);var b=!0,x=!1,w=void 0;try{for(var S,k=l[Symbol.iterator]();!(b=(S=k.next()).done);b=!0){var _=S.value,j=(_.x-n)/o,M=(_.y-i)/s;if(!z(u,h,j,M)){switch(_.type){case"M":f=j,p=M;break;case"L":U(u,h,j,M);break;case"Q":var C=(_.x1-n)/o,P=(_.y1-i)/s;I([u,j,C],[h,M,P],{x:u,y:h,cx:C,cy:P});break;case"Z":z(u,h,f,p)?m.push({x:u,y:h}):(U(u,h,f,p),m.push({x:f,y:p}));break;case"C":for(var T=function(e,t,r,n,i,o,s,l){e=new B(new a.default.Vector(e,t),new a.default.Vector(r,n),new a.default.Vector(i,o),new a.default.Vector(s,l)).splitInflections();var u=[],c=30/d,h=!0;t=!1,r=void 0;try{for(var f,p=e[Symbol.iterator]();!(h=(f=p.next()).done);h=!0){for(var m=f.value,y=[],g=void 0;!(.125<=(g=c/m.quadError()));){var v=Math.pow(g,1/3),b=m.split(v),x=m.split(1-v/(1-v));u.push(b),y.push(m),m=x}g<1&&u.push(m.split(.5)),u.push(m),Array.prototype.push.apply(u,y.reverse())}}catch(e){t=!0,r=e}finally{try{h||null==p.return||p.return()}finally{if(t)throw r}}return u}(u,h,(_.x1-n)/o,(_.y1-i)/s,(_.x2-n)/o,(_.y2-i)/s,j,M),E=0;E<T.length;E++){var O=T[E].toQuadratic();I([O.x,O.x1,O.cx],[O.y,O.y1,O.cy],O)}break;default:throw new Error("unknown command type: ".concat(_.type))}u=j,h=M}}}catch(e){x=!0,w=e}finally{try{b||null==k.return||k.return()}finally{if(x)throw w}}for(var A=m.length,L=this.strokeImageInfos.findImage(A),N=L.index,R=0;R<A;++R){var D=m[R];c(L,F(D.x),F(D.y),F(D.cx),F(D.cy))}(t=this.glyphInfos[e.index]={glyph:e,uGlyphRect:[r.x1,-r.y1,r.x2,-r.y2],strokeImageInfo:L,strokes:m,colInfo:q(g,this.colDimImageInfos,this.colCellImageInfos),rowInfo:q(y,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[t.colInfo.dimOffset,t.rowInfo.dimOffset]}return t;function I(e,t,r){var n=m.length;function i(e,t,r){for(var n=e.length;0<n--;){var i=e[n];i<t&&(t=i),r<i&&(r=i)}return{min:t,max:r}}m.push(r),r=i(e,1,0),e=Math.max(Math.floor(9*r.min),0);for(var o=Math.min(Math.ceil(9*r.max),9),a=e;a<o;++a)g[a].push(n);r=i(t,1,0),e=Math.max(Math.floor(9*r.min),0);for(var s=Math.min(Math.ceil(9*r.max),9),l=e;l<s;++l)y[l].push(n)}function F(e){return(e=(r=255)*e)<(t=0)?t:r<e?r:e;var t,r}function B(e,t,r,n){this.p0=e,this.c0=t,this.c1=r,this.p1=n,this.toQuadratic=function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}},this.quadError=function(){return a.default.Vector.sub(a.default.Vector.sub(this.p1,this.p0),a.default.Vector.mult(a.default.Vector.sub(this.c1,this.c0),3)).mag()/2},this.split=function(e){var t=a.default.Vector.lerp(this.p0,this.c0,e),r=a.default.Vector.lerp(this.c0,this.c1,e),n=a.default.Vector.lerp(t,r,e);return this.c1=a.default.Vector.lerp(this.c1,this.p1,e),this.c0=a.default.Vector.lerp(r,this.c1,e),r=a.default.Vector.lerp(n,this.c0,e),e=new B(this.p0,t,n,r),this.p0=r,e},this.splitInflections=function(){var e=a.default.Vector.sub(this.c0,this.p0),t=a.default.Vector.sub(a.default.Vector.sub(this.c1,this.c0),e),r=a.default.Vector.sub(a.default.Vector.sub(a.default.Vector.sub(this.p1,this.c1),e),a.default.Vector.mult(t,2)),n=[],i=t.x*r.y-t.y*r.x;return 0!==i&&0<=(e=(r=e.x*r.y-e.y*r.x)*r-4*i*(e.x*t.y-e.y*t.x))&&(i<0&&(i=-i,r=-r),e=(-r+(t=Math.sqrt(e)))/(2*i),0<(r=(-r-t)/(2*i))&&r<1&&(n.push(this.split(r)),e=1-(1-e)/(1-r)),0<e&&e<1&&n.push(this.split(e))),n.push(this),n}}function U(e,t,r,n){I([e,r],[t,n],{x:e,y:t,cx:(e+r)/2,cy:(t+n)/2})}function z(e,t,r,n){return Math.abs(r-e)<1e-5&&Math.abs(n-t)<1e-5}function q(e,t,r){for(var n=e.length,i=t.findImage(n),o=(t=i.index,0),a=0;a<n;++a)o+=e[a].length;for(var s=r.findImage(o),l=0;l<n;++l){var u=e[l],h=u.length,d=s.index;c(i,d>>7,127&d,h>>7,127&h);for(var f=0;f<h;++f){var p=u[f]+N;c(s,p>>7,127&p,0,0)}}return{cellImageInfo:s,dimOffset:t,dimImageInfo:i}}}}e("./p5.Shader"),e("./p5.RendererGL.Retained"),a.default.RendererGL.prototype._applyTextProperties=function(){},a.default.RendererGL.prototype.textWidth=function(e){return this._isOpenType()?this._textFont._textWidth(e,this._textSize):0};var d=Math.sqrt(3);a.default.RendererGL.prototype._renderText=function(e,t,r,n,i){if(this._textFont&&"string"!=typeof this._textFont){if(!(i<=n)&&this._doFill){if(this._isOpenType()){e.push(),i=this._doStroke;var o=this.drawMode,l=(this._doStroke=!1,this.drawMode=s.TEXTURE,this._textFont.font),u=(u=this._textFont._fontInfo)||(this._textFont._fontInfo=new h(l)),c=(r=this._textFont._handleAlignment(this,t,r,n),n=this._textSize/l.unitsPerEm,this.translate(r.x,r.y,0),this.scale(n,n,1),this.GL),d=(r=!this._defaultFontShader,this._getFontShader()),f=(d.init(),d.bindShader(),r&&(d.setUniform("uGridImageSize",[64,64]),d.setUniform("uCellsImageSize",[64,64]),d.setUniform("uStrokeImageSize",[64,64]),d.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),p=(f||((n=this._textGeom=new a.default.Geometry(1,1,(function(){for(var e=0;e<=1;e++)for(var t=0;t<=1;t++)this.vertices.push(new a.default.Vector(t,e,0)),this.uvs.push(t,e)}))).computeFaces().computeNormals(),f=this.createBuffers("glyph",n)),!0);r=!1,n=void 0;try{for(var m,y=this.retainedMode.buffers.text[Symbol.iterator]();!(p=(m=y.next()).done);p=!0)m.value._prepareBuffer(f,d)}catch(e){r=!0,n=e}finally{try{p||null==y.return||y.return()}finally{if(r)throw n}}this._bindBuffer(f.indexBuffer,c.ELEMENT_ARRAY_BUFFER),d.setUniform("uMaterialColor",this.curFillColor);try{var g=0,v=null,b=l.stringToGlyphs(t),x=!0,w=!1,S=void 0;try{for(var k,_=b[Symbol.iterator]();!(x=(k=_.next()).done);x=!0){var j,M,C=k.value,P=(v&&(g+=l.getKerningValue(v,C)),u.getGlyphInfo(C));P.uGlyphRect&&(j=P.rowInfo,M=P.colInfo,d.setUniform("uSamplerStrokes",P.strokeImageInfo.imageData),d.setUniform("uSamplerRowStrokes",j.cellImageInfo.imageData),d.setUniform("uSamplerRows",j.dimImageInfo.imageData),d.setUniform("uSamplerColStrokes",M.cellImageInfo.imageData),d.setUniform("uSamplerCols",M.dimImageInfo.imageData),d.setUniform("uGridOffset",P.uGridOffset),d.setUniform("uGlyphRect",P.uGlyphRect),d.setUniform("uGlyphOffset",g),d.bindTextures(),c.drawElements(c.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),g+=C.advanceWidth,v=C}}catch(e){w=!0,S=e}finally{try{x||null==_.return||_.return()}finally{if(w)throw S}}}finally{d.unbindShader(),this._doStroke=i,this.drawMode=o,e.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return e}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":256,"../core/main":267,"./p5.RendererGL.Retained":320,"./p5.Shader":322,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.string.sub":192,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}]},{},[251])(251)}()},1193:function(e,t,r){"use strict";function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var o=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},e(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();t.fk=void 0;var a,s=r(2791),l="undefined"===typeof navigator||!0===r.g.PREVENT_CODEMIRROR_RENDER;l||(a=r(3668));var u=function(){function e(){}return e.equals=function(e,t){var r=this,n=Object.keys,o=i(e),a=i(t);return e&&t&&"object"===o&&o===a?n(e).length===n(t).length&&n(e).every((function(n){return r.equals(e[n],t[n])})):e===t},e}(),c=function(){function e(e,t){this.editor=e,this.props=t}return e.prototype.delegateCursor=function(e,t,r){var n=this.editor.getDoc();r&&this.editor.focus(),t?n.setCursor(e):n.setCursor(e,null,{scroll:!1})},e.prototype.delegateScroll=function(e){this.editor.scrollTo(e.x,e.y)},e.prototype.delegateSelection=function(e,t){this.editor.getDoc().setSelections(e),t&&this.editor.focus()},e.prototype.apply=function(e){e&&e.selection&&e.selection.ranges&&this.delegateSelection(e.selection.ranges,e.selection.focus||!1),e&&e.cursor&&this.delegateCursor(e.cursor,e.autoScroll||!1,this.editor.getOption("autofocus")||!1),e&&e.scroll&&this.delegateScroll(e.scroll)},e.prototype.applyNext=function(e,t,r){e&&e.selection&&e.selection.ranges&&t&&t.selection&&t.selection.ranges&&!u.equals(e.selection.ranges,t.selection.ranges)&&this.delegateSelection(t.selection.ranges,t.selection.focus||!1),e&&e.cursor&&t&&t.cursor&&!u.equals(e.cursor,t.cursor)&&this.delegateCursor(r.cursor||t.cursor,t.autoScroll||!1,t.autoCursor||!1),e&&e.scroll&&t&&t.scroll&&!u.equals(e.scroll,t.scroll)&&this.delegateScroll(t.scroll)},e.prototype.applyUserDefined=function(e,t){t&&t.cursor&&this.delegateCursor(t.cursor,e.autoScroll||!1,this.editor.getOption("autofocus")||!1)},e.prototype.wire=function(e){var t=this;Object.keys(e||{}).filter((function(e){return/^on/.test(e)})).forEach((function(e){switch(e){case"onBlur":t.editor.on("blur",(function(e,r){t.props.onBlur(t.editor,r)}));break;case"onContextMenu":t.editor.on("contextmenu",(function(e,r){t.props.onContextMenu(t.editor,r)}));break;case"onCopy":t.editor.on("copy",(function(e,r){t.props.onCopy(t.editor,r)}));break;case"onCursor":t.editor.on("cursorActivity",(function(e){t.props.onCursor(t.editor,t.editor.getDoc().getCursor())}));break;case"onCursorActivity":t.editor.on("cursorActivity",(function(e){t.props.onCursorActivity(t.editor)}));break;case"onCut":t.editor.on("cut",(function(e,r){t.props.onCut(t.editor,r)}));break;case"onDblClick":t.editor.on("dblclick",(function(e,r){t.props.onDblClick(t.editor,r)}));break;case"onDragEnter":t.editor.on("dragenter",(function(e,r){t.props.onDragEnter(t.editor,r)}));break;case"onDragLeave":t.editor.on("dragleave",(function(e,r){t.props.onDragLeave(t.editor,r)}));break;case"onDragOver":t.editor.on("dragover",(function(e,r){t.props.onDragOver(t.editor,r)}));break;case"onDragStart":t.editor.on("dragstart",(function(e,r){t.props.onDragStart(t.editor,r)}));break;case"onDrop":t.editor.on("drop",(function(e,r){t.props.onDrop(t.editor,r)}));break;case"onFocus":t.editor.on("focus",(function(e,r){t.props.onFocus(t.editor,r)}));break;case"onGutterClick":t.editor.on("gutterClick",(function(e,r,n,i){t.props.onGutterClick(t.editor,r,n,i)}));break;case"onInputRead":t.editor.on("inputRead",(function(e,r){t.props.onInputRead(t.editor,r)}));break;case"onKeyDown":t.editor.on("keydown",(function(e,r){t.props.onKeyDown(t.editor,r)}));break;case"onKeyHandled":t.editor.on("keyHandled",(function(e,r,n){t.props.onKeyHandled(t.editor,r,n)}));break;case"onKeyPress":t.editor.on("keypress",(function(e,r){t.props.onKeyPress(t.editor,r)}));break;case"onKeyUp":t.editor.on("keyup",(function(e,r){t.props.onKeyUp(t.editor,r)}));break;case"onMouseDown":t.editor.on("mousedown",(function(e,r){t.props.onMouseDown(t.editor,r)}));break;case"onPaste":t.editor.on("paste",(function(e,r){t.props.onPaste(t.editor,r)}));break;case"onRenderLine":t.editor.on("renderLine",(function(e,r,n){t.props.onRenderLine(t.editor,r,n)}));break;case"onScroll":t.editor.on("scroll",(function(e){t.props.onScroll(t.editor,t.editor.getScrollInfo())}));break;case"onSelection":t.editor.on("beforeSelectionChange",(function(e,r){t.props.onSelection(t.editor,r)}));break;case"onTouchStart":t.editor.on("touchstart",(function(e,r){t.props.onTouchStart(t.editor,r)}));break;case"onUpdate":t.editor.on("update",(function(e){t.props.onUpdate(t.editor)}));break;case"onViewportChange":t.editor.on("viewportChange",(function(e,r,n){t.props.onViewportChange(t.editor,r,n)}))}}))},e}(),h=function(e){function t(t){var r=e.call(this,t)||this;return l||(r.applied=!1,r.appliedNext=!1,r.appliedUserDefined=!1,r.deferred=null,r.emulating=!1,r.hydrated=!1,r.initCb=function(){r.props.editorDidConfigure&&r.props.editorDidConfigure(r.editor)},r.mounted=!1),r}return o(t,e),t.prototype.hydrate=function(e){var t=this,r=e&&e.options?e.options:{},i=n({},a.defaults,this.editor.options,r);Object.keys(i).some((function(e){return t.editor.getOption(e)!==i[e]}))&&Object.keys(i).forEach((function(e){r.hasOwnProperty(e)&&t.editor.getOption(e)!==i[e]&&(t.editor.setOption(e,i[e]),t.mirror.setOption(e,i[e]))})),this.hydrated||(this.deferred?this.resolveChange(e.value):this.initChange(e.value||"")),this.hydrated=!0},t.prototype.initChange=function(e){this.emulating=!0;var t=this.editor.getDoc(),r=t.lastLine(),n=t.getLine(t.lastLine()).length;t.replaceRange(e||"",{line:0,ch:0},{line:r,ch:n}),this.mirror.setValue(e),t.clearHistory(),this.mirror.clearHistory(),this.emulating=!1},t.prototype.resolveChange=function(e){this.emulating=!0;var t=this.editor.getDoc();if("undo"===this.deferred.origin?t.undo():"redo"===this.deferred.origin?t.redo():t.replaceRange(this.deferred.text,this.deferred.from,this.deferred.to,this.deferred.origin),e&&e!==t.getValue()){var r=t.getCursor();t.setValue(e),t.setCursor(r)}this.emulating=!1,this.deferred=null},t.prototype.mirrorChange=function(e){var t=this.editor.getDoc();return"undo"===e.origin?(t.setHistory(this.mirror.getHistory()),this.mirror.undo()):"redo"===e.origin?(t.setHistory(this.mirror.getHistory()),this.mirror.redo()):this.mirror.replaceRange(e.text,e.from,e.to,e.origin),this.mirror.getValue()},t.prototype.componentDidMount=function(){var e=this;l||(this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&a.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=a(this.ref,this.props.options),this.shared=new c(this.editor,this.props),this.mirror=a((function(){}),this.props.options),this.editor.on("electricInput",(function(){e.mirror.setHistory(e.editor.getDoc().getHistory())})),this.editor.on("cursorActivity",(function(){e.mirror.setCursor(e.editor.getDoc().getCursor())})),this.editor.on("beforeChange",(function(t,r){if(!e.emulating){r.cancel(),e.deferred=r;var n=e.mirrorChange(e.deferred);e.props.onBeforeChange&&e.props.onBeforeChange(e.editor,e.deferred,n)}})),this.editor.on("change",(function(t,r){e.mounted&&e.props.onChange&&e.props.onChange(e.editor,r,e.editor.getValue())})),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.editor.getOption("autofocus")&&this.editor.focus(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},t.prototype.componentDidUpdate=function(e){if(!l){var t={cursor:null};this.props.value!==e.value&&(this.hydrated=!1),this.props.autoCursor||void 0===this.props.autoCursor||(t.cursor=this.editor.getDoc().getCursor()),this.hydrate(this.props),this.appliedNext||(this.shared.applyNext(e,this.props,t),this.appliedNext=!0),this.shared.applyUserDefined(e,t),this.appliedUserDefined=!0}},t.prototype.componentWillUnmount=function(){l||this.props.editorWillUnmount&&this.props.editorWillUnmount(a)},t.prototype.shouldComponentUpdate=function(e,t){return!l},t.prototype.render=function(){var e=this;if(l)return null;var t=this.props.className?"react-codemirror2 "+this.props.className:"react-codemirror2";return s.createElement("div",{className:t,ref:function(t){return e.ref=t}})},t}(s.Component);t.fk=h,function(e){function t(t){var r=e.call(this,t)||this;return l||(r.applied=!1,r.appliedUserDefined=!1,r.continueChange=!1,r.detached=!1,r.hydrated=!1,r.initCb=function(){r.props.editorDidConfigure&&r.props.editorDidConfigure(r.editor)},r.mounted=!1,r.onBeforeChangeCb=function(){r.continueChange=!0}),r}o(t,e),t.prototype.hydrate=function(e){var t=this,r=e&&e.options?e.options:{},i=n({},a.defaults,this.editor.options,r);if(Object.keys(i).some((function(e){return t.editor.getOption(e)!==i[e]}))&&Object.keys(i).forEach((function(e){r.hasOwnProperty(e)&&t.editor.getOption(e)!==i[e]&&t.editor.setOption(e,i[e])})),!this.hydrated){var o=this.editor.getDoc(),s=o.lastLine(),l=o.getLine(o.lastLine()).length;o.replaceRange(e.value||"",{line:0,ch:0},{line:s,ch:l})}this.hydrated=!0},t.prototype.componentDidMount=function(){var e=this;l||(this.detached=!0===this.props.detach,this.props.defineMode&&this.props.defineMode.name&&this.props.defineMode.fn&&a.defineMode(this.props.defineMode.name,this.props.defineMode.fn),this.editor=a(this.ref,this.props.options),this.shared=new c(this.editor,this.props),this.editor.on("beforeChange",(function(t,r){e.props.onBeforeChange&&e.props.onBeforeChange(e.editor,r,e.editor.getValue(),e.onBeforeChangeCb)})),this.editor.on("change",(function(t,r){e.mounted&&e.props.onChange&&(e.props.onBeforeChange?e.continueChange&&e.props.onChange(e.editor,r,e.editor.getValue()):e.props.onChange(e.editor,r,e.editor.getValue()))})),this.hydrate(this.props),this.shared.apply(this.props),this.applied=!0,this.mounted=!0,this.shared.wire(this.props),this.editor.getDoc().clearHistory(),this.props.editorDidMount&&this.props.editorDidMount(this.editor,this.editor.getValue(),this.initCb))},t.prototype.componentDidUpdate=function(e){if(this.detached&&!1===this.props.detach&&(this.detached=!1,e.editorDidAttach&&e.editorDidAttach(this.editor)),this.detached||!0!==this.props.detach||(this.detached=!0,e.editorDidDetach&&e.editorDidDetach(this.editor)),!l&&!this.detached){var t={cursor:null};this.props.value!==e.value&&(this.hydrated=!1,this.applied=!1,this.appliedUserDefined=!1),e.autoCursor||void 0===e.autoCursor||(t.cursor=this.editor.getDoc().getCursor()),this.hydrate(this.props),this.applied||(this.shared.apply(e),this.applied=!0),this.appliedUserDefined||(this.shared.applyUserDefined(e,t),this.appliedUserDefined=!0)}},t.prototype.componentWillUnmount=function(){l||this.props.editorWillUnmount&&this.props.editorWillUnmount(a)},t.prototype.shouldComponentUpdate=function(e,t){var r=!0;return l&&(r=!1),this.detached&&e.detach&&(r=!1),r},t.prototype.render=function(){var e=this;if(l)return null;var t=this.props.className?"react-codemirror2 "+this.props.className:"react-codemirror2";return s.createElement("div",{className:t,ref:function(t){return e.ref=t}})}}(s.Component)},7981:function(e,t,r){"use strict";var n=r(2791),i=r(4164);function o(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function a(e){if(o(e)!==e)throw Error("Unable to find node on an unmounted component.")}var s=Object.assign;function l(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function u(){return!0}function c(){return!1}function h(e){function t(t,r,n,i,o){for(var a in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?u:c,this.isPropagationStopped=c,this}return s(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=u)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=u)},persist:function(){},isPersistent:u}),t}var d={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},f=h(d),p=s({},d,{view:0,detail:0});h(p);var m,y,g,v=s({},p,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:k,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==g&&(g&&"mousemove"===e.type?(m=e.screenX-g.screenX,y=e.screenY-g.screenY):y=m=0,g=e),m)},movementY:function(e){return"movementY"in e?e.movementY:y}});h(v),h(s({},v,{dataTransfer:0})),h(s({},p,{relatedTarget:0})),h(s({},d,{animationName:0,elapsedTime:0,pseudoElement:0})),h(s({},d,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),h(s({},d,{data:0}));var b={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},x={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},w={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function S(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=w[e])&&!!t[e]}function k(){return S}function _(e,t,r,n,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}h(s({},p,{key:function(e){if(e.key){var t=b[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=l(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?x[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:k,charCode:function(e){return"keypress"===e.type?l(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?l(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),h(s({},v,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),h(s({},p,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:k})),h(s({},d,{propertyName:0,elapsedTime:0,pseudoElement:0})),h(s({},v,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}));var j=!1,M=null,C=!1,P=null,T={onError:function(e){j=!0,M=e}};function E(e,t,r,n,i,o,a,s,l){j=!1,M=null,_.apply(T,arguments)}var O=Array.isArray,A=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.Events,L=A[0],N=A[1],R=A[2],D=A[3],I=A[4],F=n.unstable_act;function B(){}function U(e,t){if(!e)return[];if(e=function(e){var t=e.alternate;if(!t){if(null===(t=o(e)))throw Error("Unable to find node on an unmounted component.");return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(n=i.return)){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return a(i),e;if(s===n)return a(i),t;s=s.sibling}throw Error("Unable to find node on an unmounted component.")}if(r.return!==n.return)r=i,n=s;else{for(var l=!1,u=i.child;u;){if(u===r){l=!0,r=i,n=s;break}if(u===n){l=!0,n=i,r=s;break}u=u.sibling}if(!l){for(u=s.child;u;){if(u===r){l=!0,r=s,n=i;break}if(u===n){l=!0,n=s,r=i;break}u=u.sibling}if(!l)throw Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(r.alternate!==n)throw Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(3!==r.tag)throw Error("Unable to find node on an unmounted component.");return r.stateNode.current===r?e:t}(e),!e)return[];for(var r=e,n=[];;){if(5===r.tag||6===r.tag||1===r.tag||0===r.tag){var i=r.stateNode;t(i)&&n.push(i)}if(r.child)r.child.return=r,r=r.child;else{if(r===e)return n;for(;!r.sibling;){if(!r.return||r.return===e)return n;r=r.return}r.sibling.return=r.return,r=r.sibling}}}function z(e,t){if(e&&!e._reactInternals){var r=String(e);throw e=O(e)?"an array":e&&1===e.nodeType&&e.tagName?"a DOM node":"[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,Error(t+"(...): the first argument must be a React class instance. Instead received: "+e+".")}}function q(e){return!(!e||1!==e.nodeType||!e.tagName)}function G(e){return!q(e)&&(null!=e&&"function"===typeof e.render&&"function"===typeof e.setState)}function V(e,t){return!!G(e)&&e._reactInternals.type===t}function H(e,t){return z(e,"findAllInRenderedTree"),e?U(e._reactInternals,t):[]}function W(e,t){return z(e,"scryRenderedDOMComponentsWithClass"),H(e,(function(e){if(q(e)){var r=e.className;"string"!==typeof r&&(r=e.getAttribute("class")||"");var n=r.split(/\s+/);if(!O(t)){if(void 0===t)throw Error("TestUtils.scryRenderedDOMComponentsWithClass expects a className as a second argument.");t=t.split(/\s+/)}return t.every((function(e){return-1!==n.indexOf(e)}))}return!1}))}function X(e,t){return z(e,"scryRenderedDOMComponentsWithTag"),H(e,(function(e){return q(e)&&e.tagName.toUpperCase()===t.toUpperCase()}))}function Y(e,t){return z(e,"scryRenderedComponentsWithType"),H(e,(function(e){return V(e,t)}))}function K(e,t,r){var n=e.type||"unknown-event";e.currentTarget=N(r),function(e,t,r,n,i,o,a,s,l){if(E.apply(this,arguments),j){if(!j)throw Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.");var u=M;j=!1,M=null,C||(C=!0,P=u)}}(n,t,void 0,e),e.currentTarget=null}function Z(e,t,r){for(var n=[];e;){n.push(e);do{e=e.return}while(e&&5!==e.tag);e=e||null}for(e=n.length;0<e--;)t(n[e],"captured",r);for(e=0;e<n.length;e++)t(n[e],"bubbled",r)}function $(e,t){var r=e.stateNode;if(!r)return null;var n=R(r);if(!n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error("Expected `"+t+"` listener to be a function, instead got a value of `"+typeof r+"` type.");return r}function J(e,t,r){var n=r._reactName;"captured"===t&&(n+="Capture"),(t=$(e,n))&&(null==r._dispatchListeners&&(r._dispatchListeners=[]),null==r._dispatchInstances&&(r._dispatchInstances=[]),r._dispatchListeners.push(t),r._dispatchInstances.push(e))}var Q={},ee=new Set(["mouseEnter","mouseLeave","pointerEnter","pointerLeave"]);function te(e){return function(t,r){if(n.isValidElement(t))throw Error("TestUtils.Simulate expected a DOM node as the first argument but received a React element. Pass the DOM node you wish to simulate the event on instead. Note that TestUtils.Simulate will not work if you are using shallow rendering.");if(G(t))throw Error("TestUtils.Simulate expected a DOM node as the first argument but received a component instance. Pass the DOM node you wish to simulate the event on instead.");var o="on"+e[0].toUpperCase()+e.slice(1),a=new B;a.target=t,a.type=e.toLowerCase();var l=L(t),u=new f(o,a.type,l,a,t);u.persist(),s(u,r),ee.has(e)?u&&u._reactName&&function(e,t,r){e&&r&&r._reactName&&(t=$(e,r._reactName))&&(null==r._dispatchListeners&&(r._dispatchListeners=[]),null==r._dispatchInstances&&(r._dispatchInstances=[]),r._dispatchListeners.push(t),r._dispatchInstances.push(e))}(u._targetInst,null,u):u&&u._reactName&&Z(u._targetInst,J,u),i.unstable_batchedUpdates((function(){if(D(t),u){var e=u._dispatchListeners,r=u._dispatchInstances;if(O(e))for(var n=0;n<e.length&&!u.isPropagationStopped();n++)K(u,e[n],r[n]);else e&&K(u,e,r);u._dispatchListeners=null,u._dispatchInstances=null,u.isPersistent()||u.constructor.release(u)}if(C)throw e=P,C=!1,P=null,e})),I()}}"blur cancel click close contextMenu copy cut auxClick doubleClick dragEnd dragStart drop focus input invalid keyDown keyPress keyUp mouseDown mouseUp paste pause play pointerCancel pointerDown pointerUp rateChange reset resize seeked submit touchCancel touchEnd touchStart volumeChange drag dragEnter dragExit dragLeave dragOver mouseMove mouseOut mouseOver pointerMove pointerOut pointerOver scroll toggle touchMove wheel abort animationEnd animationIteration animationStart canPlay canPlayThrough durationChange emptied encrypted ended error gotPointerCapture load loadedData loadedMetadata loadStart lostPointerCapture playing progress seeking stalled suspend timeUpdate transitionEnd waiting mouseEnter mouseLeave pointerEnter pointerLeave change select beforeInput compositionEnd compositionStart compositionUpdate".split(" ").forEach((function(e){Q[e]=te(e)})),t.act=F},4463:function(e,t,r){"use strict";var n=r(2791),i=r(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,r,n,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,r,n){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,i,n)&&(r=null),n||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3!==i.type&&"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,v);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,v);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,v);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),C=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var D,I=Object.assign;function F(e){if(void 0===D)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var B=!1;function U(e,t){if(!e||B)return"";B=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),o=n.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{B=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case j:return"Profiler";case _:return"StrictMode";case T:return"Suspense";case E:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case M:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return q(e(t))}catch(r){}}return null}function G(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=H(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var r=t.checked;return I({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function Z(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=V(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){$(e,t);var r=V(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&Y(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+V(r),t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return I({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(o(92));if(te(r)){if(1<r.length)throw Error(o(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:V(r)}}function oe(e,t){var r=V(t.value),n=V(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ye(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=me(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ge=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,ke=null,_e=null;function je(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),Se(e.stateNode,e.type,t))}}function Me(e){ke?_e?_e.push(e):_e=[e]:ke=e}function Ce(){if(ke){var e=ke,t=_e;if(_e=ke=null,je(e),t)for(e=0;e<t.length;e++)je(t[e])}}function Pe(e,t){return e(t)}function Te(){}var Ee=!1;function Oe(e,t,r){if(Ee)return e(t,r);Ee=!0;try{return Pe(e,t,r)}finally{Ee=!1,(null!==ke||null!==_e)&&(Te(),Ce())}}function Ae(e,t){var r=e.stateNode;if(null===r)return null;var n=wi(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(o(231,t,typeof r));return r}var Le=!1;if(c)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Le=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ce){Le=!1}function Re(e,t,r,n,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var De=!1,Ie=null,Fe=!1,Be=null,Ue={onError:function(e){De=!0,Ie=e}};function ze(e,t,r,n,i,o,a,s,l){De=!1,Ie=null,Re.apply(Ue,arguments)}function qe(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(qe(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(o(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(n=i.return)){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return Ve(i),e;if(a===n)return Ve(i),t;a=a.sibling}throw Error(o(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,l=i.child;l;){if(l===r){s=!0,r=i,n=a;break}if(l===n){s=!0,n=i,r=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===r){s=!0,r=a,n=i;break}if(l===n){s=!0,n=a,r=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(r.alternate!==n)throw Error(o(190))}if(3!==r.tag)throw Error(o(188));return r.stateNode.current===r?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Xe=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Ke=i.unstable_shouldYield,Ze=i.unstable_requestPaint,$e=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Qe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,rt=i.unstable_LowPriority,nt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&r;if(0!==a){var s=a&~i;0!==s?n=ht(s):0!==(o&=a)&&(n=ht(o))}else 0!==(a=r&~i)?n=ht(a):0!==o&&(n=ht(o));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&i)&&((i=n&-n)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)i=1<<(r=31-at(t)),n|=e[r],t&=~i;return n}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function yt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function gt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=r}function vt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-at(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,St,kt,_t,jt,Mt=!1,Ct=[],Pt=null,Tt=null,Et=null,Ot=new Map,At=new Map,Lt=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Et=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Dt(e,t,r,n,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function It(e){var t=vi(e.target);if(null!==t){var r=qe(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=Ge(r)))return e.blockedOn=t,void jt(e.priority,(function(){kt(r)}))}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=bi(r))&&St(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);xe=n,r.target.dispatchEvent(n),xe=null,t.shift()}return!0}function Bt(e,t,r){Ft(e)&&r.delete(t)}function Ut(){Mt=!1,null!==Pt&&Ft(Pt)&&(Pt=null),null!==Tt&&Ft(Tt)&&(Tt=null),null!==Et&&Ft(Et)&&(Et=null),Ot.forEach(Bt),At.forEach(Bt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Mt||(Mt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function qt(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var r=1;r<Ct.length;r++){var n=Ct[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Pt&&zt(Pt,e),null!==Tt&&zt(Tt,e),null!==Et&&zt(Et,e),Ot.forEach(t),At.forEach(t),r=0;r<Lt.length;r++)(n=Lt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Lt.length&&null===(r=Lt[0]).blockedOn;)It(r),null===r.blockedOn&&Lt.shift()}var Gt=x.ReactCurrentBatchConfig,Vt=!0;function Ht(e,t,r,n){var i=bt,o=Gt.transition;Gt.transition=null;try{bt=1,Xt(e,t,r,n)}finally{bt=i,Gt.transition=o}}function Wt(e,t,r,n){var i=bt,o=Gt.transition;Gt.transition=null;try{bt=4,Xt(e,t,r,n)}finally{bt=i,Gt.transition=o}}function Xt(e,t,r,n){if(Vt){var i=Kt(e,t,r,n);if(null===i)Vn(e,t,n,Yt,r),Rt(e,n);else if(function(e,t,r,n,i){switch(t){case"focusin":return Pt=Dt(Pt,e,t,r,n,i),!0;case"dragenter":return Tt=Dt(Tt,e,t,r,n,i),!0;case"mouseover":return Et=Dt(Et,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return Ot.set(o,Dt(Ot.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,At.set(o,Dt(At.get(o)||null,e,t,r,n,i)),!0}return!1}(i,e,t,r,n))n.stopPropagation();else if(Rt(e,n),4&t&&-1<Nt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&wt(o),null===(o=Kt(e,t,r,n))&&Vn(e,t,n,Yt,r),o===i)break;i=o}null!==i&&n.stopPropagation()}else Vn(e,t,n,null,r)}}var Yt=null;function Kt(e,t,r,n){if(Yt=null,null!==(e=vi(e=we(n))))if(null===(t=qe(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Zt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Qe:return 1;case et:return 4;case tt:case rt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var $t=null,Jt=null,Qt=null;function er(){if(Qt)return Qt;var e,t,r=Jt,n=r.length,i="value"in $t?$t.value:$t.textContent,o=i.length;for(e=0;e<n&&r[e]===i[e];e++);var a=n-e;for(t=1;t<=a&&r[n-t]===i[o-t];t++);return Qt=i.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function nr(){return!1}function ir(e){function t(t,r,n,i,o){for(var a in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return I(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var or,ar,sr,lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ur=ir(lr),cr=I({},lr,{view:0,detail:0}),hr=ir(cr),dr=I({},cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_r,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sr&&(sr&&"mousemove"===e.type?(or=e.screenX-sr.screenX,ar=e.screenY-sr.screenY):ar=or=0,sr=e),or)},movementY:function(e){return"movementY"in e?e.movementY:ar}}),fr=ir(dr),pr=ir(I({},dr,{dataTransfer:0})),mr=ir(I({},cr,{relatedTarget:0})),yr=ir(I({},lr,{animationName:0,elapsedTime:0,pseudoElement:0})),gr=I({},lr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vr=ir(gr),br=ir(I({},lr,{data:0})),xr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sr[e])&&!!t[e]}function _r(){return kr}var jr=I({},cr,{key:function(e){if(e.key){var t=xr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_r,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Mr=ir(jr),Cr=ir(I({},dr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pr=ir(I({},cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_r})),Tr=ir(I({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Er=I({},dr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Or=ir(Er),Ar=[9,13,27,32],Lr=c&&"CompositionEvent"in window,Nr=null;c&&"documentMode"in document&&(Nr=document.documentMode);var Rr=c&&"TextEvent"in window&&!Nr,Dr=c&&(!Lr||Nr&&8<Nr&&11>=Nr),Ir=String.fromCharCode(32),Fr=!1;function Br(e,t){switch(e){case"keyup":return-1!==Ar.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ur(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zr=!1;var qr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qr[e.type]:"textarea"===t}function Vr(e,t,r,n){Me(n),0<(t=Wn(t,"onChange")).length&&(r=new ur("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Hr=null,Wr=null;function Xr(e){Fn(e,0)}function Yr(e){if(X(xi(e)))return e}function Kr(e,t){if("change"===e)return t}var Zr=!1;if(c){var $r;if(c){var Jr="oninput"in document;if(!Jr){var Qr=document.createElement("div");Qr.setAttribute("oninput","return;"),Jr="function"===typeof Qr.oninput}$r=Jr}else $r=!1;Zr=$r&&(!document.documentMode||9<document.documentMode)}function en(){Hr&&(Hr.detachEvent("onpropertychange",tn),Wr=Hr=null)}function tn(e){if("value"===e.propertyName&&Yr(Wr)){var t=[];Vr(t,Wr,e,we(e)),Oe(Xr,t)}}function rn(e,t,r){"focusin"===e?(en(),Wr=r,(Hr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yr(Wr)}function on(e,t){if("click"===e)return Yr(t)}function an(e,t){if("input"===e||"change"===e)return Yr(t)}var sn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ln(e,t){if(sn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!h.call(t,i)||!sn(e[i],t[i]))return!1}return!0}function un(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cn(e,t){var r,n=un(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=un(n)}}function hn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dn(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=Y((e=t.contentWindow).document)}return t}function fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pn(e){var t=dn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&hn(r.ownerDocument.documentElement,r)){if(null!==n&&fn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=void 0===n.end?o:Math.min(n.end,i),!e.extend&&o>n&&(i=n,n=o,o=i),i=cn(r,o);var a=cn(r,n);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mn=c&&"documentMode"in document&&11>=document.documentMode,yn=null,gn=null,vn=null,bn=!1;function xn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;bn||null==yn||yn!==Y(n)||("selectionStart"in(n=yn)&&fn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},vn&&ln(vn,n)||(vn=n,0<(n=Wn(gn,"onSelect")).length&&(t=new ur("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=yn)))}function wn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Sn={animationend:wn("Animation","AnimationEnd"),animationiteration:wn("Animation","AnimationIteration"),animationstart:wn("Animation","AnimationStart"),transitionend:wn("Transition","TransitionEnd")},kn={},_n={};function jn(e){if(kn[e])return kn[e];if(!Sn[e])return e;var t,r=Sn[e];for(t in r)if(r.hasOwnProperty(t)&&t in _n)return kn[e]=r[t];return e}c&&(_n=document.createElement("div").style,"AnimationEvent"in window||(delete Sn.animationend.animation,delete Sn.animationiteration.animation,delete Sn.animationstart.animation),"TransitionEvent"in window||delete Sn.transitionend.transition);var Mn=jn("animationend"),Cn=jn("animationiteration"),Pn=jn("animationstart"),Tn=jn("transitionend"),En=new Map,On="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function An(e,t){En.set(e,t),l(t,[e])}for(var Ln=0;Ln<On.length;Ln++){var Nn=On[Ln];An(Nn.toLowerCase(),"on"+(Nn[0].toUpperCase()+Nn.slice(1)))}An(Mn,"onAnimationEnd"),An(Cn,"onAnimationIteration"),An(Pn,"onAnimationStart"),An("dblclick","onDoubleClick"),An("focusin","onFocus"),An("focusout","onBlur"),An(Tn,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dn=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rn));function In(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,i,a,s,l,u){if(ze.apply(this,arguments),De){if(!De)throw Error(o(198));var c=Ie;De=!1,Ie=null,Fe||(Fe=!0,Be=c)}}(n,t,void 0,e),e.currentTarget=null}function Fn(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var s=n[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;In(i,s,u),o=l}else for(a=0;a<n.length;a++){if(l=(s=n[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;In(i,s,u),o=l}}}if(Fe)throw e=Be,Fe=!1,Be=null,e}function Bn(e,t){var r=t[mi];void 0===r&&(r=t[mi]=new Set);var n=e+"__bubble";r.has(n)||(Gn(t,e,2,!1),r.add(n))}function Un(e,t,r){var n=0;t&&(n|=4),Gn(r,e,n,t)}var zn="_reactListening"+Math.random().toString(36).slice(2);function qn(e){if(!e[zn]){e[zn]=!0,a.forEach((function(t){"selectionchange"!==t&&(Dn.has(t)||Un(t,!1,e),Un(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zn]||(t[zn]=!0,Un("selectionchange",!1,t))}}function Gn(e,t,r,n){switch(Zt(t)){case 1:var i=Ht;break;case 4:i=Wt;break;default:i=Xt}r=i.bind(null,t,r,e),i=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),n?void 0!==i?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):void 0!==i?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Vn(e,t,r,n,i){var o=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var a=n.tag;if(3===a||4===a){var s=n.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=n.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=vi(s)))return;if(5===(l=a.tag)||6===l){n=o=a;continue e}s=s.parentNode}}n=n.return}Oe((function(){var n=o,i=we(r),a=[];e:{var s=En.get(e);if(void 0!==s){var l=ur,u=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":l=Mr;break;case"focusin":u="focus",l=mr;break;case"focusout":u="blur",l=mr;break;case"beforeblur":case"afterblur":l=mr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pr;break;case Mn:case Cn:case Pn:l=yr;break;case Tn:l=Tr;break;case"scroll":l=hr;break;case"wheel":l=Or;break;case"copy":case"cut":case"paste":l=vr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cr}var c=0!==(4&t),h=!c&&"scroll"===e,d=c?null!==s?s+"Capture":null:s;c=[];for(var f,p=n;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Ae(p,d))&&c.push(Hn(p,m,f)))),h)break;p=p.return}0<c.length&&(s=new l(s,u,null,r,i),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||r===xe||!(u=r.relatedTarget||r.fromElement)||!vi(u)&&!u[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=n,null!==(u=(u=r.relatedTarget||r.toElement)?vi(u):null)&&(u!==(h=qe(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=n),l!==u)){if(c=fr,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Cr,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?s:xi(l),f=null==u?s:xi(u),(s=new c(m,p+"leave",l,r,i)).target=h,s.relatedTarget=f,m=null,vi(i)===n&&((c=new c(d,p+"enter",u,r,i)).target=f,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(d=u,p=0,f=c=l;f;f=Xn(f))p++;for(f=0,m=d;m;m=Xn(m))f++;for(;0<p-f;)c=Xn(c),p--;for(;0<f-p;)d=Xn(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Xn(c),d=Xn(d)}c=null}else c=null;null!==l&&Yn(a,s,l,c,!1),null!==u&&null!==h&&Yn(a,h,u,c,!0)}if("select"===(l=(s=n?xi(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var y=Kr;else if(Gr(s))if(Zr)y=an;else{y=nn;var g=rn}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=on);switch(y&&(y=y(e,n))?Vr(a,y,r,i):(g&&g(e,s,n),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=n?xi(n):window,e){case"focusin":(Gr(g)||"true"===g.contentEditable)&&(yn=g,gn=n,vn=null);break;case"focusout":vn=gn=yn=null;break;case"mousedown":bn=!0;break;case"contextmenu":case"mouseup":case"dragend":bn=!1,xn(a,r,i);break;case"selectionchange":if(mn)break;case"keydown":case"keyup":xn(a,r,i)}var v;if(Lr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zr?Br(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(Dr&&"ko"!==r.locale&&(zr||"onCompositionStart"!==b?"onCompositionEnd"===b&&zr&&(v=er()):(Jt="value"in($t=i)?$t.value:$t.textContent,zr=!0)),0<(g=Wn(n,b)).length&&(b=new br(b,e,null,r,i),a.push({event:b,listeners:g}),v?b.data=v:null!==(v=Ur(r))&&(b.data=v))),(v=Rr?function(e,t){switch(e){case"compositionend":return Ur(t);case"keypress":return 32!==t.which?null:(Fr=!0,Ir);case"textInput":return(e=t.data)===Ir&&Fr?null:e;default:return null}}(e,r):function(e,t){if(zr)return"compositionend"===e||!Lr&&Br(e,t)?(e=er(),Qt=Jt=$t=null,zr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=Wn(n,"onBeforeInput")).length&&(i=new br("onBeforeInput","beforeinput",null,r,i),a.push({event:i,listeners:n}),i.data=v))}Fn(a,t)}))}function Hn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Wn(e,t){for(var r=t+"Capture",n=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ae(e,r))&&n.unshift(Hn(e,o,i)),null!=(o=Ae(e,t))&&n.push(Hn(e,o,i))),e=e.return}return n}function Xn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yn(e,t,r,n,i){for(var o=t._reactName,a=[];null!==r&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(null!==l&&l===n)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=Ae(r,o))&&a.unshift(Hn(r,l,s)):i||null!=(l=Ae(r,o))&&a.push(Hn(r,l,s))),r=r.return}0!==a.length&&e.push({event:t,listeners:a})}var Kn=/\r\n?/g,Zn=/\u0000|\uFFFD/g;function $n(e){return("string"===typeof e?e:""+e).replace(Kn,"\n").replace(Zn,"")}function Jn(e,t,r){if(t=$n(t),$n(e)!==t&&r)throw Error(o(425))}function Qn(){}var ei=null,ti=null;function ri(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ni="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ni;function si(e){setTimeout((function(){throw e}))}function li(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&8===i.nodeType)if("/$"===(r=i.data)){if(0===n)return e.removeChild(i),void qt(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=i}while(r);qt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,yi="__reactListeners$"+hi,gi="__reactHandles$"+hi;function vi(e){var t=e[di];if(t)return t;for(var r=e.parentNode;r;){if(t=r[pi]||r[di]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=ci(e);null!==e;){if(r=e[di])return r;e=ci(e)}return t}r=(e=r).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[fi]||null}var Si=[],ki=-1;function _i(e){return{current:e}}function ji(e){0>ki||(e.current=Si[ki],Si[ki]=null,ki--)}function Mi(e,t){ki++,Si[ki]=e.current,e.current=t}var Ci={},Pi=_i(Ci),Ti=_i(!1),Ei=Ci;function Oi(e,t){var r=e.type.contextTypes;if(!r)return Ci;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in r)o[i]=t[i];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Li(){ji(Ti),ji(Pi)}function Ni(e,t,r){if(Pi.current!==Ci)throw Error(o(168));Mi(Pi,t),Mi(Ti,r)}function Ri(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var i in n=n.getChildContext())if(!(i in t))throw Error(o(108,G(e)||"Unknown",i));return I({},r,n)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ei=Pi.current,Mi(Pi,e),Mi(Ti,Ti.current),!0}function Ii(e,t,r){var n=e.stateNode;if(!n)throw Error(o(169));r?(e=Ri(e,t,Ei),n.__reactInternalMemoizedMergedChildContext=e,ji(Ti),ji(Pi),Mi(Pi,e)):ji(Ti),Mi(Ti,r)}var Fi=null,Bi=!1,Ui=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function qi(){if(!Ui&&null!==Fi){Ui=!0;var e=0,t=bt;try{var r=Fi;for(bt=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Fi=null,Bi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Xe(Qe,qi),i}finally{bt=t,Ui=!1}}return null}var Gi=[],Vi=0,Hi=null,Wi=0,Xi=[],Yi=0,Ki=null,Zi=1,$i="";function Ji(e,t){Gi[Vi++]=Wi,Gi[Vi++]=Hi,Hi=e,Wi=t}function Qi(e,t,r){Xi[Yi++]=Zi,Xi[Yi++]=$i,Xi[Yi++]=Ki,Ki=e;var n=Zi;e=$i;var i=32-at(n)-1;n&=~(1<<i),r+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Zi=1<<32-at(t)+i|r<<i|n,$i=o+e}else Zi=1<<o|r<<i|n,$i=e}function eo(e){null!==e.return&&(Ji(e,1),Qi(e,1,0))}function to(e){for(;e===Hi;)Hi=Gi[--Vi],Gi[Vi]=null,Wi=Gi[--Vi],Gi[Vi]=null;for(;e===Ki;)Ki=Xi[--Yi],Xi[Yi]=null,$i=Xi[--Yi],Xi[Yi]=null,Zi=Xi[--Yi],Xi[Yi]=null}var ro=null,no=null,io=!1,oo=null;function ao(e,t){var r=Au(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function so(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ro=e,no=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ro=e,no=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Ki?{id:Zi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Au(18,null,null,0)).stateNode=t,r.return=e,e.child=r,ro=e,no=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function uo(e){if(io){var t=no;if(t){var r=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ui(r.nextSibling);var n=ro;t&&so(e,t)?ao(n,r):(e.flags=-4097&e.flags|2,io=!1,ro=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,ro=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ro=e}function ho(e){if(e!==ro)return!1;if(!io)return co(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ri(e.type,e.memoizedProps)),t&&(t=no)){if(lo(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=ui(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){no=ui(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}no=null}}else no=ro?ui(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=no;e;)e=ui(e.nextSibling)}function po(){no=ro=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var yo=x.ReactCurrentBatchConfig;function go(e,t){if(e&&e.defaultProps){for(var r in t=I({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}var vo=_i(null),bo=null,xo=null,wo=null;function So(){wo=xo=bo=null}function ko(e){var t=vo.current;ji(vo),e._currentValue=t}function _o(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function jo(e,t){bo=e,wo=xo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xs=!0),e.firstContext=null)}function Mo(e){var t=e._currentValue;if(wo!==e)if(e={context:e,memoizedValue:t,next:null},null===xo){if(null===bo)throw Error(o(308));xo=e,bo.dependencies={lanes:0,firstContext:e}}else xo=xo.next=e;return t}var Co=null;function Po(e){null===Co?Co=[e]:Co.push(e)}function To(e,t,r,n){var i=t.interleaved;return null===i?(r.next=r,Po(t)):(r.next=i.next,i.next=r),t.interleaved=r,Eo(e,n)}function Eo(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Oo=!1;function Ao(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function No(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ro(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Tl)){var i=n.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Eo(e,r)}return null===(i=n.interleaved)?(t.next=t,Po(n)):(t.next=i.next,i.next=t),n.interleaved=t,Eo(e,r)}function Do(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,vt(e,r)}}function Io(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var i=null,o=null;if(null!==(r=r.firstBaseUpdate)){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===o?i=o=a:o=o.next=a,r=r.next}while(null!==r);null===o?i=o=t:o=o.next=t}else i=o=t;return r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Fo(e,t,r,n){var i=e.updateQueue;Oo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?o=u:a.next=u,a=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==o){var h=i.baseState;for(a=0,c=u=l=null,s=o;;){var d=s.lane,f=s.eventTime;if((n&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(d=t,f=r,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=I({},h,d);break e;case 2:Oo=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else f={eventTime:f,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,a|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Il|=a,e.lanes=a,e.memoizedState=h}}function Bo(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(null!==i){if(n.callback=null,n=r,"function"!==typeof i)throw Error(o(191,i));i.call(n)}}}var Uo=(new n.Component).refs;function zo(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:I({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var qo={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=tu(),i=ru(e),o=No(n,i);o.payload=t,void 0!==r&&null!==r&&(o.callback=r),null!==(t=Ro(e,o,i))&&(nu(t,e,i,n),Do(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=tu(),i=ru(e),o=No(n,i);o.tag=1,o.payload=t,void 0!==r&&null!==r&&(o.callback=r),null!==(t=Ro(e,o,i))&&(nu(t,e,i,n),Do(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=tu(),n=ru(e),i=No(r,n);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ro(e,i,n))&&(nu(t,e,n,r),Do(t,e,n))}};function Go(e,t,r,n,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ln(r,n)||!ln(i,o))}function Vo(e,t,r){var n=!1,i=Ci,o=t.contextType;return"object"===typeof o&&null!==o?o=Mo(o):(i=Ai(t)?Ei:Pi.current,o=(n=null!==(n=t.contextTypes)&&void 0!==n)?Oi(e,i):Ci),t=new t(r,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=qo,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ho(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&qo.enqueueReplaceState(t,t.state,null)}function Wo(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=Uo,Ao(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Mo(o):(o=Ai(t)?Ei:Pi.current,i.context=Oi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(zo(e,t,o,r),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&qo.enqueueReplaceState(i,i.state,null),Fo(e,r,i,n),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Xo(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(o(309));var n=r.stateNode}if(!n)throw Error(o(147,e));var i=n,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Uo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!r._owner)throw Error(o(290,e))}return e}function Yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ko(e){return(0,e._init)(e._payload)}function Zo(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Nu(e,t)).index=0,e.sibling=null,e}function a(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Fu(r,e.mode,n)).return=e,t):((t=i(t,r)).return=e,t)}function u(e,t,r,n){var o=r.type;return o===k?h(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===A&&Ko(o)===t.type)?((n=i(t,r.props)).ref=Xo(e,t,r),n.return=e,n):((n=Ru(r.type,r.key,r.props,null,e.mode,n)).ref=Xo(e,t,r),n.return=e,n)}function c(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Bu(r,e.mode,n)).return=e,t):((t=i(t,r.children||[])).return=e,t)}function h(e,t,r,n,o){return null===t||7!==t.tag?((t=Du(r,e.mode,n,o)).return=e,t):((t=i(t,r)).return=e,t)}function d(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fu(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(r=Ru(t.type,t.key,t.props,null,e.mode,r)).ref=Xo(e,null,t),r.return=e,r;case S:return(t=Bu(t,e.mode,r)).return=e,t;case A:return d(e,(0,t._init)(t._payload),r)}if(te(t)||R(t))return(t=Du(t,e.mode,r,null)).return=e,t;Yo(e,t)}return null}function f(e,t,r,n){var i=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==i?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return r.key===i?u(e,t,r,n):null;case S:return r.key===i?c(e,t,r,n):null;case A:return f(e,t,(i=r._init)(r._payload),n)}if(te(r)||R(r))return null!==i?null:h(e,t,r,n,null);Yo(e,r)}return null}function p(e,t,r,n,i){if("string"===typeof n&&""!==n||"number"===typeof n)return l(t,e=e.get(r)||null,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return u(t,e=e.get(null===n.key?r:n.key)||null,n,i);case S:return c(t,e=e.get(null===n.key?r:n.key)||null,n,i);case A:return p(e,t,r,(0,n._init)(n._payload),i)}if(te(n)||R(n))return h(t,e=e.get(r)||null,n,i,null);Yo(t,n)}return null}function m(i,o,s,l){for(var u=null,c=null,h=o,m=o=0,y=null;null!==h&&m<s.length;m++){h.index>m?(y=h,h=null):y=h.sibling;var g=f(i,h,s[m],l);if(null===g){null===h&&(h=y);break}e&&h&&null===g.alternate&&t(i,h),o=a(g,o,m),null===c?u=g:c.sibling=g,c=g,h=y}if(m===s.length)return r(i,h),io&&Ji(i,m),u;if(null===h){for(;m<s.length;m++)null!==(h=d(i,s[m],l))&&(o=a(h,o,m),null===c?u=h:c.sibling=h,c=h);return io&&Ji(i,m),u}for(h=n(i,h);m<s.length;m++)null!==(y=p(h,i,m,s[m],l))&&(e&&null!==y.alternate&&h.delete(null===y.key?m:y.key),o=a(y,o,m),null===c?u=y:c.sibling=y,c=y);return e&&h.forEach((function(e){return t(i,e)})),io&&Ji(i,m),u}function y(i,s,l,u){var c=R(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var h=c=null,m=s,y=s=0,g=null,v=l.next();null!==m&&!v.done;y++,v=l.next()){m.index>y?(g=m,m=null):g=m.sibling;var b=f(i,m,v.value,u);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,y),null===h?c=b:h.sibling=b,h=b,m=g}if(v.done)return r(i,m),io&&Ji(i,y),c;if(null===m){for(;!v.done;y++,v=l.next())null!==(v=d(i,v.value,u))&&(s=a(v,s,y),null===h?c=v:h.sibling=v,h=v);return io&&Ji(i,y),c}for(m=n(i,m);!v.done;y++,v=l.next())null!==(v=p(m,i,y,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?y:v.key),s=a(v,s,y),null===h?c=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),io&&Ji(i,y),c}return function e(n,o,a,l){if("object"===typeof a&&null!==a&&a.type===k&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var u=a.key,c=o;null!==c;){if(c.key===u){if((u=a.type)===k){if(7===c.tag){r(n,c.sibling),(o=i(c,a.props.children)).return=n,n=o;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===A&&Ko(u)===c.type){r(n,c.sibling),(o=i(c,a.props)).ref=Xo(n,c,a),o.return=n,n=o;break e}r(n,c);break}t(n,c),c=c.sibling}a.type===k?((o=Du(a.props.children,n.mode,l,a.key)).return=n,n=o):((l=Ru(a.type,a.key,a.props,null,n.mode,l)).ref=Xo(n,o,a),l.return=n,n=l)}return s(n);case S:e:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){r(n,o.sibling),(o=i(o,a.children||[])).return=n,n=o;break e}r(n,o);break}t(n,o),o=o.sibling}(o=Bu(a,n.mode,l)).return=n,n=o}return s(n);case A:return e(n,o,(c=a._init)(a._payload),l)}if(te(a))return m(n,o,a,l);if(R(a))return y(n,o,a,l);Yo(n,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(r(n,o.sibling),(o=i(o,a)).return=n,n=o):(r(n,o),(o=Fu(a,n.mode,l)).return=n,n=o),s(n)):r(n,o)}}var $o=Zo(!0),Jo=Zo(!1),Qo={},ea=_i(Qo),ta=_i(Qo),ra=_i(Qo);function na(e){if(e===Qo)throw Error(o(174));return e}function ia(e,t){switch(Mi(ra,t),Mi(ta,e),Mi(ea,Qo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ji(ea),Mi(ea,t)}function oa(){ji(ea),ji(ta),ji(ra)}function aa(e){na(ra.current);var t=na(ea.current),r=le(t,e.type);t!==r&&(Mi(ta,e),Mi(ea,r))}function sa(e){ta.current===e&&(ji(ea),ji(ta))}var la=_i(0);function ua(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function ha(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var da=x.ReactCurrentDispatcher,fa=x.ReactCurrentBatchConfig,pa=0,ma=null,ya=null,ga=null,va=!1,ba=!1,xa=0,wa=0;function Sa(){throw Error(o(321))}function ka(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!sn(e[r],t[r]))return!1;return!0}function _a(e,t,r,n,i,a){if(pa=a,ma=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,da.current=null===e||null===e.memoizedState?ss:ls,e=r(n,i),ba){a=0;do{if(ba=!1,xa=0,25<=a)throw Error(o(301));a+=1,ga=ya=null,t.updateQueue=null,da.current=us,e=r(n,i)}while(ba)}if(da.current=as,t=null!==ya&&null!==ya.next,pa=0,ga=ya=ma=null,va=!1,t)throw Error(o(300));return e}function ja(){var e=0!==xa;return xa=0,e}function Ma(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ga?ma.memoizedState=ga=e:ga=ga.next=e,ga}function Ca(){if(null===ya){var e=ma.alternate;e=null!==e?e.memoizedState:null}else e=ya.next;var t=null===ga?ma.memoizedState:ga.next;if(null!==t)ga=t,ya=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ya=e).memoizedState,baseState:ya.baseState,baseQueue:ya.baseQueue,queue:ya.queue,next:null},null===ga?ma.memoizedState=ga=e:ga=ga.next=e}return ga}function Pa(e,t){return"function"===typeof t?t(e):t}function Ta(e){var t=Ca(),r=t.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=e;var n=ya,i=n.baseQueue,a=r.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(null!==i){a=i.next,n=n.baseState;var l=s=null,u=null,c=a;do{var h=c.lane;if((pa&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,s=n):u=u.next=d,ma.lanes|=h,Il|=h}c=c.next}while(null!==c&&c!==a);null===u?s=n:u.next=l,sn(n,t.memoizedState)||(xs=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=u,r.lastRenderedState=n}if(null!==(e=r.interleaved)){i=e;do{a=i.lane,ma.lanes|=a,Il|=a,i=i.next}while(i!==e)}else null===i&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ea(e){var t=Ca(),r=t.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(null!==i){r.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sn(a,t.memoizedState)||(xs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Oa(){}function Aa(e,t){var r=ma,n=Ca(),i=t(),a=!sn(n.memoizedState,i);if(a&&(n.memoizedState=i,xs=!0),n=n.queue,Va(Ra.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||null!==ga&&1&ga.memoizedState.tag){if(r.flags|=2048,Ba(9,Na.bind(null,r,n,i,t),void 0,null),null===El)throw Error(o(349));0!==(30&pa)||La(r,t,i)}return i}function La(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Na(e,t,r,n){t.value=r,t.getSnapshot=n,Da(t)&&Ia(e)}function Ra(e,t,r){return r((function(){Da(t)&&Ia(e)}))}function Da(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!sn(e,r)}catch(n){return!0}}function Ia(e){var t=Eo(e,1);null!==t&&nu(t,e,1,-1)}function Fa(e){var t=Ma();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pa,lastRenderedState:e},t.queue=e,e=e.dispatch=rs.bind(null,ma,e),[t.memoizedState,e]}function Ba(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Ua(){return Ca().memoizedState}function za(e,t,r,n){var i=Ma();ma.flags|=e,i.memoizedState=Ba(1|t,r,void 0,void 0===n?null:n)}function qa(e,t,r,n){var i=Ca();n=void 0===n?null:n;var o=void 0;if(null!==ya){var a=ya.memoizedState;if(o=a.destroy,null!==n&&ka(n,a.deps))return void(i.memoizedState=Ba(t,r,o,n))}ma.flags|=e,i.memoizedState=Ba(1|t,r,o,n)}function Ga(e,t){return za(8390656,8,e,t)}function Va(e,t){return qa(2048,8,e,t)}function Ha(e,t){return qa(4,2,e,t)}function Wa(e,t){return qa(4,4,e,t)}function Xa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ya(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,qa(4,4,Xa.bind(null,t,e),r)}function Ka(){}function Za(e,t){var r=Ca();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ka(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function $a(e,t){var r=Ca();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&ka(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Ja(e,t,r){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=r):(sn(r,t)||(r=mt(),ma.lanes|=r,Il|=r,e.baseState=!0),t)}function Qa(e,t){var r=bt;bt=0!==r&&4>r?r:4,e(!0);var n=fa.transition;fa.transition={};try{e(!1),t()}finally{bt=r,fa.transition=n}}function es(){return Ca().memoizedState}function ts(e,t,r){var n=ru(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ns(e))is(t,r);else if(null!==(r=To(e,t,r,n))){nu(r,e,n,tu()),os(r,t,n)}}function rs(e,t,r){var n=ru(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ns(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,r);if(i.hasEagerState=!0,i.eagerState=s,sn(s,a)){var l=t.interleaved;return null===l?(i.next=i,Po(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(r=To(e,t,i,n))&&(nu(r,e,n,i=tu()),os(r,t,n))}}function ns(e){var t=e.alternate;return e===ma||null!==t&&t===ma}function is(e,t){ba=va=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function os(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,vt(e,r)}}var as={readContext:Mo,useCallback:Sa,useContext:Sa,useEffect:Sa,useImperativeHandle:Sa,useInsertionEffect:Sa,useLayoutEffect:Sa,useMemo:Sa,useReducer:Sa,useRef:Sa,useState:Sa,useDebugValue:Sa,useDeferredValue:Sa,useTransition:Sa,useMutableSource:Sa,useSyncExternalStore:Sa,useId:Sa,unstable_isNewReconciler:!1},ss={readContext:Mo,useCallback:function(e,t){return Ma().memoizedState=[e,void 0===t?null:t],e},useContext:Mo,useEffect:Ga,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,za(4194308,4,Xa.bind(null,t,e),r)},useLayoutEffect:function(e,t){return za(4194308,4,e,t)},useInsertionEffect:function(e,t){return za(4,2,e,t)},useMemo:function(e,t){var r=Ma();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ma();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=ts.bind(null,ma,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},Ma().memoizedState=e},useState:Fa,useDebugValue:Ka,useDeferredValue:function(e){return Ma().memoizedState=e},useTransition:function(){var e=Fa(!1),t=e[0];return e=Qa.bind(null,e[1]),Ma().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ma,i=Ma();if(io){if(void 0===r)throw Error(o(407));r=r()}else{if(r=t(),null===El)throw Error(o(349));0!==(30&pa)||La(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,Ga(Ra.bind(null,n,a,e),[e]),n.flags|=2048,Ba(9,Na.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Ma(),t=El.identifierPrefix;if(io){var r=$i;t=":"+t+"R"+(r=(Zi&~(1<<32-at(Zi)-1)).toString(32)+r),0<(r=xa++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=wa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:Mo,useCallback:Za,useContext:Mo,useEffect:Va,useImperativeHandle:Ya,useInsertionEffect:Ha,useLayoutEffect:Wa,useMemo:$a,useReducer:Ta,useRef:Ua,useState:function(){return Ta(Pa)},useDebugValue:Ka,useDeferredValue:function(e){return Ja(Ca(),ya.memoizedState,e)},useTransition:function(){return[Ta(Pa)[0],Ca().memoizedState]},useMutableSource:Oa,useSyncExternalStore:Aa,useId:es,unstable_isNewReconciler:!1},us={readContext:Mo,useCallback:Za,useContext:Mo,useEffect:Va,useImperativeHandle:Ya,useInsertionEffect:Ha,useLayoutEffect:Wa,useMemo:$a,useReducer:Ea,useRef:Ua,useState:function(){return Ea(Pa)},useDebugValue:Ka,useDeferredValue:function(e){var t=Ca();return null===ya?t.memoizedState=e:Ja(t,ya.memoizedState,e)},useTransition:function(){return[Ea(Pa)[0],Ca().memoizedState]},useMutableSource:Oa,useSyncExternalStore:Aa,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var r="",n=t;do{r+=z(n),n=n.return}while(n);var i=r}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function hs(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(r){setTimeout((function(){throw r}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,r){(r=No(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Hl||(Hl=!0,Wl=n),ds(0,t)},r}function ms(e,t,r){(r=No(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){ds(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(r.callback=function(){ds(0,t),"function"!==typeof n&&(null===Xl?Xl=new Set([this]):Xl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function ys(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new fs;var i=new Set;n.set(t,i)}else void 0===(i=n.get(t))&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Mu.bind(null,e,t,r),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vs(e,t,r,n,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=No(-1,1)).tag=2,Ro(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=x.ReactCurrentOwner,xs=!1;function ws(e,t,r,n){t.child=null===e?Jo(t,null,r,n):$o(t,e.child,r,n)}function Ss(e,t,r,n,i){r=r.render;var o=t.ref;return jo(t,i),n=_a(e,t,r,n,o,i),r=ja(),null===e||xs?(io&&r&&eo(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function ks(e,t,r,n,i){if(null===e){var o=r.type;return"function"!==typeof o||Lu(o)||void 0!==o.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Ru(r.type,null,n,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,_s(e,t,o,n,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((r=null!==(r=r.compare)?r:ln)(a,n)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Nu(o,n)).ref=t.ref,e.return=t,t.child=e}function _s(e,t,r,n,i){if(null!==e){var o=e.memoizedProps;if(ln(o,n)&&e.ref===t.ref){if(xs=!1,t.pendingProps=n=o,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(xs=!0)}}return Cs(e,t,r,n,i)}function js(e,t,r){var n=t.pendingProps,i=n.children,o=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mi(Nl,Ll),Ll|=r;else{if(0===(1073741824&r))return e=null!==o?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Mi(Nl,Ll),Ll|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==o?o.baseLanes:r,Mi(Nl,Ll),Ll|=n}else null!==o?(n=o.baseLanes|r,t.memoizedState=null):n=r,Mi(Nl,Ll),Ll|=n;return ws(e,t,i,r),t.child}function Ms(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Cs(e,t,r,n,i){var o=Ai(r)?Ei:Pi.current;return o=Oi(t,o),jo(t,i),r=_a(e,t,r,n,o,i),n=ja(),null===e||xs?(io&&n&&eo(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Ps(e,t,r,n,i){if(Ai(r)){var o=!0;Di(t)}else o=!1;if(jo(t,i),null===t.stateNode)Vs(e,t),Vo(t,r,n),Wo(t,r,n,i),n=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=r.contextType;"object"===typeof u&&null!==u?u=Mo(u):u=Oi(t,u=Ai(r)?Ei:Pi.current);var c=r.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==n||l!==u)&&Ho(t,a,n,u),Oo=!1;var d=t.memoizedState;a.state=d,Fo(t,n,a,i),l=t.memoizedState,s!==n||d!==l||Ti.current||Oo?("function"===typeof c&&(zo(t,r,c,n),l=t.memoizedState),(s=Oo||Go(t,r,s,n,d,l,u))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=u,n=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Lo(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:go(t.type,s),a.props=u,h=t.pendingProps,d=a.context,"object"===typeof(l=r.contextType)&&null!==l?l=Mo(l):l=Oi(t,l=Ai(r)?Ei:Pi.current);var f=r.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||d!==l)&&Ho(t,a,n,l),Oo=!1,d=t.memoizedState,a.state=d,Fo(t,n,a,i);var p=t.memoizedState;s!==h||d!==p||Ti.current||Oo?("function"===typeof f&&(zo(t,r,f,n),p=t.memoizedState),(u=Oo||Go(t,r,u,n,d,p,l)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(n,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),a.props=n,a.state=p,a.context=l,n=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),n=!1)}return Ts(e,t,r,n,o,i)}function Ts(e,t,r,n,i,o){Ms(e,t);var a=0!==(128&t.flags);if(!n&&!a)return i&&Ii(t,r,!1),Hs(e,t,o);n=t.stateNode,bs.current=t;var s=a&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&a?(t.child=$o(t,e.child,null,o),t.child=$o(t,null,s,o)):ws(e,t,s,o),t.memoizedState=n.state,i&&Ii(t,r,!0),t.child}function Es(e){var t=e.stateNode;t.pendingContext?Ni(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ni(0,t.context,!1),ia(e,t.containerInfo)}function Os(e,t,r,n,i){return po(),mo(i),t.flags|=256,ws(e,t,r,n),t.child}var As,Ls,Ns,Rs,Ds={dehydrated:null,treeContext:null,retryLane:0};function Is(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,r){var n,i=t.pendingProps,a=la.current,s=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&a)),n?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Mi(la,1&a),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Iu(l,i,0,null),e=Du(e,i,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Is(r),t.memoizedState=Ds,e):Bs(t,l));if(null!==(a=e.memoizedState)&&null!==(n=a.dehydrated))return function(e,t,r,n,i,a,s){if(r)return 256&t.flags?(t.flags&=-257,Us(e,t,s,n=hs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Iu({mode:"visible",children:n.children},i,0,null),(a=Du(a,i,s,null)).flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,0!==(1&t.mode)&&$o(t,e.child,null,s),t.child.memoizedState=Is(s),t.memoizedState=Ds,a);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(n=i.nextSibling&&i.nextSibling.dataset)var l=n.dgst;return n=l,Us(e,t,s,n=hs(a=Error(o(419)),n,void 0))}if(l=0!==(s&e.childLanes),xs||l){if(null!==(n=El)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(n.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Eo(e,i),nu(n,e,i,-1))}return yu(),Us(e,t,s,n=hs(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Pu.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,no=ui(i.nextSibling),ro=t,io=!0,oo=null,null!==e&&(Xi[Yi++]=Zi,Xi[Yi++]=$i,Xi[Yi++]=Ki,Zi=e.id,$i=e.overflow,Ki=t),t=Bs(t,n.children),t.flags|=4096,t)}(e,t,l,i,n,a,r);if(s){s=i.fallback,l=t.mode,n=(a=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Nu(a,u)).subtreeFlags=14680064&a.subtreeFlags,null!==n?s=Nu(n,s):(s=Du(s,l,r,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Is(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~r,t.memoizedState=Ds,i}return e=(s=e.child).sibling,i=Nu(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=r),i.return=t,i.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function Bs(e,t){return(t=Iu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,r,n){return null!==n&&mo(n),$o(t,e.child,null,r),(e=Bs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),_o(e.return,t,r)}function qs(e,t,r,n,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function Gs(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(ws(e,t,n.children,r),0!==(2&(n=la.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,r,t);else if(19===e.tag)zs(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Mi(la,n),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;null!==r;)null!==(e=r.alternate)&&null===ua(e)&&(i=r),r=r.sibling;null===(r=i)?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),qs(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ua(e)){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}qs(t,!0,r,null,o);break;case"together":qs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Il|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(r=Nu(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Nu(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Ws(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Xs(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=14680064&i.subtreeFlags,n|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Ys(e,t,r){var n=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xs(t),null;case 1:case 17:return Ai(t.type)&&Li(),Xs(t),null;case 3:return n=t.stateNode,oa(),ji(Ti),ji(Pi),ha(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(su(oo),oo=null))),Ls(e,t),Xs(t),null;case 5:sa(t);var i=na(ra.current);if(r=t.type,null!==e&&null!=t.stateNode)Ns(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(o(166));return Xs(t),null}if(e=na(ea.current),ho(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[di]=t,n[fi]=a,e=0!==(1&t.mode),r){case"dialog":Bn("cancel",n),Bn("close",n);break;case"iframe":case"object":case"embed":Bn("load",n);break;case"video":case"audio":for(i=0;i<Rn.length;i++)Bn(Rn[i],n);break;case"source":Bn("error",n);break;case"img":case"image":case"link":Bn("error",n),Bn("load",n);break;case"details":Bn("toggle",n);break;case"input":Z(n,a),Bn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Bn("invalid",n);break;case"textarea":ie(n,a),Bn("invalid",n)}for(var l in ve(r,a),i=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"===typeof u?n.textContent!==u&&(!0!==a.suppressHydrationWarning&&Jn(n.textContent,u,e),i=["children",u]):"number"===typeof u&&n.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&Jn(n.textContent,u,e),i=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Bn("scroll",n)}switch(r){case"input":W(n),Q(n,a,!0);break;case"textarea":W(n),ae(n);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(n.onclick=Qn)}n=i,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),"select"===r&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[di]=t,e[fi]=n,As(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(r,n),r){case"dialog":Bn("cancel",e),Bn("close",e),i=n;break;case"iframe":case"object":case"embed":Bn("load",e),i=n;break;case"video":case"audio":for(i=0;i<Rn.length;i++)Bn(Rn[i],e);i=n;break;case"source":Bn("error",e),i=n;break;case"img":case"image":case"link":Bn("error",e),Bn("load",e),i=n;break;case"details":Bn("toggle",e),i=n;break;case"input":Z(e,n),i=K(e,n),Bn("invalid",e);break;case"option":default:i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=I({},n,{value:void 0}),Bn("invalid",e);break;case"textarea":ie(e,n),i=ne(e,n),Bn("invalid",e)}for(a in ve(r,i),u=i)if(u.hasOwnProperty(a)){var c=u[a];"style"===a?ye(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===a?"string"===typeof c?("textarea"!==r||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Bn("scroll",e):null!=c&&b(e,a,c,l))}switch(r){case"input":W(e),Q(e,n,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=n.value&&e.setAttribute("value",""+V(n.value));break;case"select":e.multiple=!!n.multiple,null!=(a=n.value)?re(e,!!n.multiple,a,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Qn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Xs(t),null;case 6:if(e&&null!=t.stateNode)Rs(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(o(166));if(r=na(ra.current),na(ea.current),ho(t)){if(n=t.stateNode,r=t.memoizedProps,n[di]=t,(a=n.nodeValue!==r)&&null!==(e=ro))switch(e.tag){case 3:Jn(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jn(n.nodeValue,r,0!==(1&e.mode))}a&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[di]=t,t.stateNode=n}return Xs(t),null;case 13:if(ji(la),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==no&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,a=!1;else if(a=ho(t),null!==n&&null!==n.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[di]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Xs(t),a=!1}else null!==oo&&(su(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&la.current)?0===Rl&&(Rl=3):yu())),null!==t.updateQueue&&(t.flags|=4),Xs(t),null);case 4:return oa(),Ls(e,t),null===e&&qn(t.stateNode.containerInfo),Xs(t),null;case 10:return ko(t.type._context),Xs(t),null;case 19:if(ji(la),null===(a=t.memoizedState))return Xs(t),null;if(n=0!==(128&t.flags),null===(l=a.rendering))if(n)Ws(a,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ua(e))){for(t.flags|=128,Ws(a,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(a=r).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Mi(la,1&la.current|2),t.child}e=e.sibling}null!==a.tail&&$e()>Gl&&(t.flags|=128,n=!0,Ws(a,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=ua(l))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Ws(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return Xs(t),null}else 2*$e()-a.renderingStartTime>Gl&&1073741824!==r&&(t.flags|=128,n=!0,Ws(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=a.last)?r.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=$e(),t.sibling=null,r=la.current,Mi(la,n?1&r|2:1&r),t):(Xs(t),null);case 22:case 23:return du(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Ll)&&(Xs(t),6&t.subtreeFlags&&(t.flags|=8192)):Xs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ks(e,t){switch(to(t),t.tag){case 1:return Ai(t.type)&&Li(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),ji(Ti),ji(Pi),ha(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(ji(la),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ji(la),null;case 4:return oa(),null;case 10:return ko(t.type._context),null;case 22:case 23:return du(),null;default:return null}}As=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Ls=function(){},Ns=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,na(ea.current);var o,a=null;switch(r){case"input":i=K(e,i),n=K(e,n),a=[];break;case"select":i=I({},i,{value:void 0}),n=I({},n,{value:void 0}),a=[];break;case"textarea":i=ne(e,i),n=ne(e,n),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof n.onClick&&(e.onclick=Qn)}for(c in ve(r,n),r=null,i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var u=n[c];if(l=null!=i?i[c]:void 0,n.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(a||(a=[]),a.push(c,r)),r=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(a=a||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Bn("scroll",e),a||l===u||(a=[])):(a=a||[]).push(c,u))}r&&(a=a||[]).push("style",r);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Rs=function(e,t,r,n){r!==n&&(t.flags|=4)};var Zs=!1,$s=!1,Js="function"===typeof WeakSet?WeakSet:Set,Qs=null;function el(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){ju(e,t,n)}else r.current=null}function tl(e,t,r){try{r()}catch(n){ju(e,t,n)}}var rl=!1;function nl(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var i=n=n.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tl(t,r,o)}i=i.next}while(i!==n)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ol(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[yi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Qn));else if(4!==n&&null!==(e=e.child))for(ul(e,t,r),e=e.sibling;null!==e;)ul(e,t,r),e=e.sibling}function cl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(cl(e,t,r),e=e.sibling;null!==e;)cl(e,t,r),e=e.sibling}var hl=null,dl=!1;function fl(e,t,r){for(r=r.child;null!==r;)pl(e,t,r),r=r.sibling}function pl(e,t,r){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,r)}catch(s){}switch(r.tag){case 5:$s||el(r,t);case 6:var n=hl,i=dl;hl=null,fl(e,t,r),dl=i,null!==(hl=n)&&(dl?(e=hl,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):hl.removeChild(r.stateNode));break;case 18:null!==hl&&(dl?(e=hl,r=r.stateNode,8===e.nodeType?li(e.parentNode,r):1===e.nodeType&&li(e,r),qt(e)):li(hl,r.stateNode));break;case 4:n=hl,i=dl,hl=r.stateNode.containerInfo,dl=!0,fl(e,t,r),hl=n,dl=i;break;case 0:case 11:case 14:case 15:if(!$s&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){i=n=n.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&tl(r,t,a),i=i.next}while(i!==n)}fl(e,t,r);break;case 1:if(!$s&&(el(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){ju(r,t,s)}fl(e,t,r);break;case 21:fl(e,t,r);break;case 22:1&r.mode?($s=(n=$s)||null!==r.memoizedState,fl(e,t,r),$s=n):fl(e,t,r);break;default:fl(e,t,r)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Js),t.forEach((function(t){var n=Tu.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function yl(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===hl)throw Error(o(160));pl(a,s,i),hl=null,dl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){ju(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yl(t,e),vl(e),4&n){try{nl(3,e,e.return),il(3,e)}catch(y){ju(e,e.return,y)}try{nl(5,e,e.return)}catch(y){ju(e,e.return,y)}}break;case 1:yl(t,e),vl(e),512&n&&null!==r&&el(r,r.return);break;case 5:if(yl(t,e),vl(e),512&n&&null!==r&&el(r,r.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(y){ju(e,e.return,y)}}if(4&n&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==r?r.memoizedProps:a,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===a.type&&null!=a.name&&$(i,a),be(l,s);var c=be(l,a);for(s=0;s<u.length;s+=2){var h=u[s],d=u[s+1];"style"===h?ye(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,c)}switch(l){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?re(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?re(i,!!a.multiple,a.defaultValue,!0):re(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(y){ju(e,e.return,y)}}break;case 6:if(yl(t,e),vl(e),4&n){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(y){ju(e,e.return,y)}}break;case 3:if(yl(t,e),vl(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(y){ju(e,e.return,y)}break;case 4:default:yl(t,e),vl(e);break;case 13:yl(t,e),vl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(ql=$e())),4&n&&ml(e);break;case 22:if(h=null!==r&&null!==r.memoizedState,1&e.mode?($s=(c=$s)||h,yl(t,e),$s=c):yl(t,e),vl(e),8192&n){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(Qs=e,h=e.child;null!==h;){for(d=Qs=h;null!==Qs;){switch(p=(f=Qs).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){n=f,r=f.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(y){ju(n,r,y)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){Sl(d);continue}}null!==p?(p.return=f,Qs=p):Sl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,c?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,s=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",s))}catch(y){ju(e,e.return,y)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){ju(e,e.return,y)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:yl(t,e),vl(e),4&n&&ml(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(sl(r)){var n=r;break e}r=r.return}throw Error(o(160))}switch(n.tag){case 5:var i=n.stateNode;32&n.flags&&(de(i,""),n.flags&=-33),cl(e,ll(e),i);break;case 3:case 4:var a=n.stateNode.containerInfo;ul(e,ll(e),a);break;default:throw Error(o(161))}}catch(s){ju(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,r){Qs=e,xl(e,t,r)}function xl(e,t,r){for(var n=0!==(1&e.mode);null!==Qs;){var i=Qs,o=i.child;if(22===i.tag&&n){var a=null!==i.memoizedState||Zs;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||$s;s=Zs;var u=$s;if(Zs=a,($s=l)&&!u)for(Qs=i;null!==Qs;)l=(a=Qs).child,22===a.tag&&null!==a.memoizedState?kl(i):null!==l?(l.return=a,Qs=l):kl(i);for(;null!==o;)Qs=o,xl(o,t,r),o=o.sibling;Qs=i,Zs=s,$s=u}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Qs=o):wl(e)}}function wl(e){for(;null!==Qs;){var t=Qs;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$s||il(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!$s)if(null===r)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:go(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Bo(t,a,n);break;case 3:var s=t.updateQueue;if(null!==s){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Bo(t,s,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&qt(d)}}}break;default:throw Error(o(163))}$s||512&t.flags&&ol(t)}catch(f){ju(t,t.return,f)}}if(t===e){Qs=null;break}if(null!==(r=t.sibling)){r.return=t.return,Qs=r;break}Qs=t.return}}function Sl(e){for(;null!==Qs;){var t=Qs;if(t===e){Qs=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Qs=r;break}Qs=t.return}}function kl(e){for(;null!==Qs;){var t=Qs;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{il(4,t)}catch(l){ju(t,r,l)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var i=t.return;try{n.componentDidMount()}catch(l){ju(t,i,l)}}var o=t.return;try{ol(t)}catch(l){ju(t,o,l)}break;case 5:var a=t.return;try{ol(t)}catch(l){ju(t,a,l)}}}catch(l){ju(t,t.return,l)}if(t===e){Qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Qs=s;break}Qs=t.return}}var _l,jl=Math.ceil,Ml=x.ReactCurrentDispatcher,Cl=x.ReactCurrentOwner,Pl=x.ReactCurrentBatchConfig,Tl=0,El=null,Ol=null,Al=0,Ll=0,Nl=_i(0),Rl=0,Dl=null,Il=0,Fl=0,Bl=0,Ul=null,zl=null,ql=0,Gl=1/0,Vl=null,Hl=!1,Wl=null,Xl=null,Yl=!1,Kl=null,Zl=0,$l=0,Jl=null,Ql=-1,eu=0;function tu(){return 0!==(6&Tl)?$e():-1!==Ql?Ql:Ql=$e()}function ru(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Al?Al&-Al:null!==yo.transition?(0===eu&&(eu=mt()),eu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Zt(e.type)}function nu(e,t,r,n){if(50<$l)throw $l=0,Jl=null,Error(o(185));gt(e,r,n),0!==(2&Tl)&&e===El||(e===El&&(0===(2&Tl)&&(Fl|=r),4===Rl&&lu(e,Al)),iu(e,n),1===r&&0===Tl&&0===(1&t.mode)&&(Gl=$e()+500,Bi&&qi()))}function iu(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?0!==(s&r)&&0===(s&n)||(i[a]=ft(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var n=dt(e,e===El?Al:0);if(0===n)null!==r&&Ye(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Ye(r),1===t)0===e.tag?function(e){Bi=!0,zi(e)}(uu.bind(null,e)):zi(uu.bind(null,e)),ai((function(){0===(6&Tl)&&qi()})),r=null;else{switch(xt(n)){case 1:r=Qe;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=nt}r=Eu(r,ou.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ou(e,t){if(Ql=-1,eu=0,0!==(6&Tl))throw Error(o(327));var r=e.callbackNode;if(ku()&&e.callbackNode!==r)return null;var n=dt(e,e===El?Al:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=gu(e,n);else{t=n;var i=Tl;Tl|=2;var a=mu();for(El===e&&Al===t||(Vl=null,Gl=$e()+500,fu(e,t));;)try{bu();break}catch(l){pu(e,l)}So(),Ml.current=a,Tl=i,null!==Ol?t=0:(El=null,Al=0,t=Rl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(n=i,t=au(e,i))),1===t)throw r=Dl,fu(e,0),lu(e,n),iu(e,$e()),r;if(6===t)lu(e,n);else{if(i=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!sn(o(),i))return!1}catch(s){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gu(e,n))&&(0!==(a=pt(e))&&(n=a,t=au(e,a))),1===t))throw r=Dl,fu(e,0),lu(e,n),iu(e,$e()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(o(345));case 2:case 5:Su(e,zl,Vl);break;case 3:if(lu(e,n),(130023424&n)===n&&10<(t=ql+500-$e())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){tu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ni(Su.bind(null,e,zl,Vl),t);break}Su(e,zl,Vl);break;case 4:if(lu(e,n),(4194240&n)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-at(n);a=1<<s,(s=t[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=$e()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*jl(n/1960))-n)){e.timeoutHandle=ni(Su.bind(null,e,zl,Vl),n);break}Su(e,zl,Vl);break;default:throw Error(o(329))}}}return iu(e,$e()),e.callbackNode===r?ou.bind(null,e):null}function au(e,t){var r=Ul;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=gu(e,t))&&(t=zl,zl=r,null!==t&&su(t)),e}function su(e){null===zl?zl=e:zl.push.apply(zl,e)}function lu(e,t){for(t&=~Bl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-at(t),n=1<<r;e[r]=-1,t&=~n}}function uu(e){if(0!==(6&Tl))throw Error(o(327));ku();var t=dt(e,0);if(0===(1&t))return iu(e,$e()),null;var r=gu(e,t);if(0!==e.tag&&2===r){var n=pt(e);0!==n&&(t=n,r=au(e,n))}if(1===r)throw r=Dl,fu(e,0),lu(e,t),iu(e,$e()),r;if(6===r)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Su(e,zl,Vl),iu(e,$e()),null}function cu(e,t){var r=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=r)&&(Gl=$e()+500,Bi&&qi())}}function hu(e){null!==Kl&&0===Kl.tag&&0===(6&Tl)&&ku();var t=Tl;Tl|=1;var r=Pl.transition,n=bt;try{if(Pl.transition=null,bt=1,e)return e()}finally{bt=n,Pl.transition=r,0===(6&(Tl=t))&&qi()}}function du(){Ll=Nl.current,ji(Nl)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,ii(r)),null!==Ol)for(r=Ol.return;null!==r;){var n=r;switch(to(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Li();break;case 3:oa(),ji(Ti),ji(Pi),ha();break;case 5:sa(n);break;case 4:oa();break;case 13:case 19:ji(la);break;case 10:ko(n.type._context);break;case 22:case 23:du()}r=r.return}if(El=e,Ol=e=Nu(e.current,null),Al=Ll=t,Rl=0,Dl=null,Bl=Fl=Il=0,zl=Ul=null,null!==Co){for(t=0;t<Co.length;t++)if(null!==(n=(r=Co[t]).interleaved)){r.interleaved=null;var i=n.next,o=r.pending;if(null!==o){var a=o.next;o.next=i,n.next=a}r.pending=n}Co=null}return e}function pu(e,t){for(;;){var r=Ol;try{if(So(),da.current=as,va){for(var n=ma.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}va=!1}if(pa=0,ga=ya=ma=null,ba=!1,xa=0,Cl.current=null,null===r||null===r.return){Rl=1,Dl=t,Ol=null;break}e:{var a=e,s=r.return,l=r,u=t;if(t=Al,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,vs(p,s,l,0,t),1&p.mode&&ys(a,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var y=new Set;y.add(u),t.updateQueue=y}else m.add(u);break e}if(0===(1&t)){ys(a,c,t),yu();break e}u=Error(o(426))}else if(io&&1&l.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),vs(g,s,l,0,t),mo(cs(u,l));break e}}a=u=cs(u,l),4!==Rl&&(Rl=2),null===Ul?Ul=[a]:Ul.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Io(a,ps(0,u,t));break e;case 1:l=u;var v=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Xl||!Xl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Io(a,ms(a,l,t));break e}}a=a.return}while(null!==a)}wu(r)}catch(x){t=x,Ol===r&&null!==r&&(Ol=r=r.return);continue}break}}function mu(){var e=Ml.current;return Ml.current=as,null===e?as:e}function yu(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===El||0===(268435455&Il)&&0===(268435455&Fl)||lu(El,Al)}function gu(e,t){var r=Tl;Tl|=2;var n=mu();for(El===e&&Al===t||(Vl=null,fu(e,t));;)try{vu();break}catch(i){pu(e,i)}if(So(),Tl=r,Ml.current=n,null!==Ol)throw Error(o(261));return El=null,Al=0,Rl}function vu(){for(;null!==Ol;)xu(Ol)}function bu(){for(;null!==Ol&&!Ke();)xu(Ol)}function xu(e){var t=_l(e.alternate,e,Ll);e.memoizedProps=e.pendingProps,null===t?wu(e):Ol=t,Cl.current=null}function wu(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=Ys(r,t,Ll)))return void(Ol=r)}else{if(null!==(r=Ks(r,t)))return r.flags&=32767,void(Ol=r);if(null===e)return Rl=6,void(Ol=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ol=t);Ol=t=e}while(null!==t);0===Rl&&(Rl=5)}function Su(e,t,r){var n=bt,i=Pl.transition;try{Pl.transition=null,bt=1,function(e,t,r,n){do{ku()}while(null!==Kl);if(0!==(6&Tl))throw Error(o(327));r=e.finishedWork;var i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-at(r),o=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~o}}(e,a),e===El&&(Ol=El=null,Al=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Yl||(Yl=!0,Eu(tt,(function(){return ku(),null}))),a=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||a){a=Pl.transition,Pl.transition=null;var s=bt;bt=1;var l=Tl;Tl|=4,Cl.current=null,function(e,t){if(ei=Vt,fn(e=dn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch(w){r=null;break e}var s=0,l=-1,u=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==r||0!==i&&3!==d.nodeType||(l=s+i),d!==a||0!==n&&3!==d.nodeType||(u=s+n),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===r&&++c===i&&(l=s),f===a&&++h===n&&(u=s),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}r=-1===l||-1===u?null:{start:l,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(ti={focusedElem:e,selectionRange:r},Vt=!1,Qs=t;null!==Qs;)if(e=(t=Qs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qs=e;else for(;null!==Qs;){t=Qs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var y=m.memoizedProps,g=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:go(t.type,y),g);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(o(163))}}catch(w){ju(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Qs=e;break}Qs=t.return}m=rl,rl=!1}(e,r),gl(r,e),pn(ti),Vt=!!ei,ti=ei=null,e.current=r,bl(r,e,i),Ze(),Tl=l,bt=s,Pl.transition=a}else e.current=r;if(Yl&&(Yl=!1,Kl=e,Zl=i),a=e.pendingLanes,0===a&&(Xl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),iu(e,$e()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Wl,Wl=null,e;0!==(1&Zl)&&0!==e.tag&&ku(),a=e.pendingLanes,0!==(1&a)?e===Jl?$l++:($l=0,Jl=e):$l=0,qi()}(e,t,r,n)}finally{Pl.transition=i,bt=n}return null}function ku(){if(null!==Kl){var e=xt(Zl),t=Pl.transition,r=bt;try{if(Pl.transition=null,bt=16>e?16:e,null===Kl)var n=!1;else{if(e=Kl,Kl=null,Zl=0,0!==(6&Tl))throw Error(o(331));var i=Tl;for(Tl|=4,Qs=e.current;null!==Qs;){var a=Qs,s=a.child;if(0!==(16&Qs.flags)){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Qs=c;null!==Qs;){var h=Qs;switch(h.tag){case 0:case 11:case 15:nl(8,h,a)}var d=h.child;if(null!==d)d.return=h,Qs=d;else for(;null!==Qs;){var f=(h=Qs).sibling,p=h.return;if(al(h),h===c){Qs=null;break}if(null!==f){f.return=p,Qs=f;break}Qs=p}}}var m=a.alternate;if(null!==m){var y=m.child;if(null!==y){m.child=null;do{var g=y.sibling;y.sibling=null,y=g}while(null!==y)}}Qs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Qs=s;else e:for(;null!==Qs;){if(0!==(2048&(a=Qs).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,Qs=v;break e}Qs=a.return}}var b=e.current;for(Qs=b;null!==Qs;){var x=(s=Qs).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,Qs=x;else e:for(s=b;null!==Qs;){if(0!==(2048&(l=Qs).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(S){ju(l,l.return,S)}if(l===s){Qs=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Qs=w;break e}Qs=l.return}}if(Tl=i,qi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}n=!0}return n}finally{bt=r,Pl.transition=t}}return!1}function _u(e,t,r){e=Ro(e,t=ps(0,t=cs(r,t),1),1),t=tu(),null!==e&&(gt(e,1,t),iu(e,t))}function ju(e,t,r){if(3===e.tag)_u(e,e,r);else for(;null!==t;){if(3===t.tag){_u(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Xl||!Xl.has(n))){t=Ro(t,e=ms(t,e=cs(r,e),1),1),e=tu(),null!==t&&(gt(t,1,e),iu(t,e));break}}t=t.return}}function Mu(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=tu(),e.pingedLanes|=e.suspendedLanes&r,El===e&&(Al&r)===r&&(4===Rl||3===Rl&&(130023424&Al)===Al&&500>$e()-ql?fu(e,0):Bl|=r),iu(e,t)}function Cu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var r=tu();null!==(e=Eo(e,t))&&(gt(e,t,r),iu(e,r))}function Pu(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Cu(e,r)}function Tu(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;null!==i&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(o(314))}null!==n&&n.delete(t),Cu(e,r)}function Eu(e,t){return Xe(e,t)}function Ou(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Au(e,t,r,n){return new Ou(e,t,r,n)}function Lu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nu(e,t){var r=e.alternate;return null===r?((r=Au(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ru(e,t,r,n,i,a){var s=2;if(n=e,"function"===typeof e)Lu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case k:return Du(r.children,i,a,t);case _:s=8,i|=8;break;case j:return(e=Au(12,r,t,2|i)).elementType=j,e.lanes=a,e;case T:return(e=Au(13,r,t,i)).elementType=T,e.lanes=a,e;case E:return(e=Au(19,r,t,i)).elementType=E,e.lanes=a,e;case L:return Iu(r,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case M:s=10;break e;case C:s=9;break e;case P:s=11;break e;case O:s=14;break e;case A:s=16,n=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Au(s,r,t,i)).elementType=e,t.type=n,t.lanes=a,t}function Du(e,t,r,n){return(e=Au(7,e,n,t)).lanes=r,e}function Iu(e,t,r,n){return(e=Au(22,e,n,t)).elementType=L,e.lanes=r,e.stateNode={isHidden:!1},e}function Fu(e,t,r){return(e=Au(6,e,null,t)).lanes=r,e}function Bu(e,t,r){return(t=Au(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uu(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zu(e,t,r,n,i,o,a,s,l){return e=new Uu(e,t,r,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Au(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ao(o),e}function qu(e){if(!e)return Ci;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var r=e.type;if(Ai(r))return Ri(e,r,t)}return t}function Gu(e,t,r,n,i,o,a,s,l){return(e=zu(r,n,!0,e,0,o,0,s,l)).context=qu(null),r=e.current,(o=No(n=tu(),i=ru(r))).callback=void 0!==t&&null!==t?t:null,Ro(r,o,i),e.current.lanes=i,gt(e,i,n),iu(e,n),e}function Vu(e,t,r,n){var i=t.current,o=tu(),a=ru(i);return r=qu(r),null===t.context?t.context=r:t.pendingContext=r,(t=No(o,a)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Ro(i,t,a))&&(nu(e,i,a,o),Do(e,i,a)),a}function Hu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Xu(e,t){Wu(e,t),(e=e.alternate)&&Wu(e,t)}_l=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)xs=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return xs=!1,function(e,t,r){switch(t.tag){case 3:Es(t),po();break;case 5:aa(t);break;case 1:Ai(t.type)&&Di(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Mi(vo,n._currentValue),n._currentValue=i;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Mi(la,1&la.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Fs(e,t,r):(Mi(la,1&la.current),null!==(e=Hs(e,t,r))?e.sibling:null);Mi(la,1&la.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return Gs(e,t,r);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Mi(la,la.current),n)break;return null;case 22:case 23:return t.lanes=0,js(e,t,r)}return Hs(e,t,r)}(e,t,r);xs=0!==(131072&e.flags)}else xs=!1,io&&0!==(1048576&t.flags)&&Qi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Vs(e,t),e=t.pendingProps;var i=Oi(t,Pi.current);jo(t,r),i=_a(null,t,n,e,i,r);var a=ja();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(n)?(a=!0,Di(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ao(t),i.updater=qo,t.stateNode=i,i._reactInternals=t,Wo(t,n,e,r),t=Ts(null,t,n,!0,a,r)):(t.tag=0,io&&a&&eo(t),ws(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Vs(e,t),e=t.pendingProps,n=(i=n._init)(n._payload),t.type=n,i=t.tag=function(e){if("function"===typeof e)return Lu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===O)return 14}return 2}(n),e=go(n,e),i){case 0:t=Cs(null,t,n,e,r);break e;case 1:t=Ps(null,t,n,e,r);break e;case 11:t=Ss(null,t,n,e,r);break e;case 14:t=ks(null,t,n,go(n.type,e),r);break e}throw Error(o(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,Cs(e,t,n,i=t.elementType===n?i:go(n,i),r);case 1:return n=t.type,i=t.pendingProps,Ps(e,t,n,i=t.elementType===n?i:go(n,i),r);case 3:e:{if(Es(t),null===e)throw Error(o(387));n=t.pendingProps,i=(a=t.memoizedState).element,Lo(e,t),Fo(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated){if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Os(e,t,n,r,i=cs(Error(o(423)),t));break e}if(n!==i){t=Os(e,t,n,r,i=cs(Error(o(424)),t));break e}for(no=ui(t.stateNode.containerInfo.firstChild),ro=t,io=!0,oo=null,r=Jo(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(po(),n===i){t=Hs(e,t,r);break e}ws(e,t,n,r)}t=t.child}return t;case 5:return aa(t),null===e&&uo(t),n=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ri(n,i)?s=null:null!==a&&ri(n,a)&&(t.flags|=32),Ms(e,t),ws(e,t,s,r),t.child;case 6:return null===e&&uo(t),null;case 13:return Fs(e,t,r);case 4:return ia(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=$o(t,null,n,r):ws(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,Ss(e,t,n,i=t.elementType===n?i:go(n,i),r);case 7:return ws(e,t,t.pendingProps,r),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Mi(vo,n._currentValue),n._currentValue=s,null!==a)if(sn(a.value,s)){if(a.children===i.children&&!Ti.current){t=Hs(e,t,r);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var u=l.firstContext;null!==u;){if(u.context===n){if(1===a.tag){(u=No(-1,r&-r)).tag=2;var c=a.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}a.lanes|=r,null!==(u=a.alternate)&&(u.lanes|=r),_o(a.return,r,t),l.lanes|=r;break}u=u.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=r,null!==(l=s.alternate)&&(l.lanes|=r),_o(s,r,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,jo(t,r),n=n(i=Mo(i)),t.flags|=1,ws(e,t,n,r),t.child;case 14:return i=go(n=t.type,t.pendingProps),ks(e,t,n,i=go(n.type,i),r);case 15:return _s(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:go(n,i),Vs(e,t),t.tag=1,Ai(n)?(e=!0,Di(t)):e=!1,jo(t,r),Vo(t,n,i),Wo(t,n,i,r),Ts(null,t,n,!0,e,r);case 19:return Gs(e,t,r);case 22:return js(e,t,r)}throw Error(o(156,t.tag))};var Yu="function"===typeof reportError?reportError:function(e){console.error(e)};function Ku(e){this._internalRoot=e}function Zu(e){this._internalRoot=e}function $u(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ju(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qu(){}function ec(e,t,r,n,i){var o=r._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Hu(a);s.call(e)}}Vu(t,a,e,i)}else a=function(e,t,r,n,i){if(i){if("function"===typeof n){var o=n;n=function(){var e=Hu(a);o.call(e)}}var a=Gu(t,n,e,0,null,!1,0,"",Qu);return e._reactRootContainer=a,e[pi]=a.current,qn(8===e.nodeType?e.parentNode:e),hu(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof n){var s=n;n=function(){var e=Hu(l);s.call(e)}}var l=zu(e,0,!1,null,0,!1,0,"",Qu);return e._reactRootContainer=l,e[pi]=l.current,qn(8===e.nodeType?e.parentNode:e),hu((function(){Vu(t,l,r,n)})),l}(r,t,e,i,n);return Hu(a)}Zu.prototype.render=Ku.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Vu(e,t,null,null)},Zu.prototype.unmount=Ku.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hu((function(){Vu(null,e,null,null)})),t[pi]=null}},Zu.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Lt.length&&0!==t&&t<Lt[r].priority;r++);Lt.splice(r,0,e),0===r&&It(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ht(t.pendingLanes);0!==r&&(vt(t,1|r),iu(t,$e()),0===(6&Tl)&&(Gl=$e()+500,qi()))}break;case 13:hu((function(){var t=Eo(e,1);if(null!==t){var r=tu();nu(t,e,1,r)}})),Xu(e,1)}},St=function(e){if(13===e.tag){var t=Eo(e,134217728);if(null!==t)nu(t,e,134217728,tu());Xu(e,134217728)}},kt=function(e){if(13===e.tag){var t=ru(e),r=Eo(e,t);if(null!==r)nu(r,e,t,tu());Xu(e,t)}},_t=function(){return bt},jt=function(e,t){var r=bt;try{return bt=e,t()}finally{bt=r}},Se=function(e,t,r){switch(t){case"input":if(J(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=wi(n);if(!i)throw Error(o(90));X(n),J(n,i)}}}break;case"textarea":oe(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Pe=cu,Te=hu;var tc={usingClientEntryPoint:!1,Events:[bi,xi,wi,Me,Ce,cu]},rc={findFiberByHostInstance:vi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},nc={bundleType:rc.bundleType,version:rc.version,rendererPackageName:rc.rendererPackageName,rendererConfig:rc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:rc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(nc),ot=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$u(t))throw Error(o(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!$u(e))throw Error(o(299));var r=!1,n="",i=Yu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zu(e,1,!1,null,0,r,0,n,i),e[pi]=t.current,qn(8===e.nodeType?e.parentNode:e),new Ku(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return hu(e)},t.hydrate=function(e,t,r){if(!Ju(t))throw Error(o(200));return ec(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!$u(e))throw Error(o(405));var n=null!=r&&r.hydratedSources||null,i=!1,a="",s=Yu;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(i=!0),void 0!==r.identifierPrefix&&(a=r.identifierPrefix),void 0!==r.onRecoverableError&&(s=r.onRecoverableError)),t=Gu(t,null,e,1,null!=r?r:null,i,0,a,s),e[pi]=t.current,qn(e),n)for(e=0;e<n.length;e++)i=(i=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Zu(t)},t.render=function(e,t,r){if(!Ju(t))throw Error(o(200));return ec(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Ju(e))throw Error(o(40));return!!e._reactRootContainer&&(hu((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cu,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ju(r))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ec(e,t,r,!1,n)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,r){"use strict";var n=r(4164);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},4164:function(e,t,r){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(4463)},8180:function(e,t,r){"use strict";e.exports=r(7981)},6374:function(e,t,r){"use strict";var n=r(2791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,r){var n,o={},u=null,c=null;for(n in void 0!==r&&(u=""+r),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,n)&&!l.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===o[n]&&(o[n]=t[n]);return{$$typeof:i,type:e,key:u,ref:c,props:o,_owner:s.current}}t.jsx=u,t.jsxs=u},9117:function(e,t){"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,y={};function g(e,t,r){this.props=e,this.context=t,this.refs=y,this.updater=r||p}function v(){}function b(e,t,r){this.props=e,this.context=t,this.refs=y,this.updater=r||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var x=b.prototype=new v;x.constructor=b,m(x,g.prototype),x.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function j(e,t,n){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!_.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:r,type:e,key:a,ref:s,props:o,_owner:k.current}}function M(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var C=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case n:l=!0}}if(l)return a=a(l=e),e=""===o?"."+P(l,0):o,w(a)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),T(a,t,i,"",(function(e){return e}))):null!=a&&(M(a)&&(a=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",w(e))for(var u=0;u<e.length;u++){var c=o+P(s=e[u],u);l+=T(s,t,i,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=T(s=s.value,t,i,c=o+P(s,u++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function E(e,t,r){if(null==e)return e;var n=[],i=0;return T(e,n,"","",(function(e){return t.call(r,e,i++)})),n}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},L={transition:null},N={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:L,ReactCurrentOwner:k};t.Children={map:E,forEach:function(e,t,r){E(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return E(e,(function(){t++})),t},toArray:function(e){return E(e,(function(e){return e}))||[]},only:function(e){if(!M(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)S.call(t,u)&&!_.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:r,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=j,t.createFactory=function(e){var t=j.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=M,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,r){return A.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,r){return A.current.useReducer(e,t,r)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return A.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return A.current.useTransition()},t.version="18.2.0"},2791:function(e,t,r){"use strict";e.exports=r(9117)},184:function(e,t,r){"use strict";e.exports=r(6374)},5844:function(e,t,r){"use strict";var n=r(4583).functionsHaveConfigurableNames(),i=Object,o=TypeError;e.exports=function(){if(null!=this&&this!==i(this))throw new o("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e},n&&Object.defineProperty&&Object.defineProperty(e.exports,"name",{value:"get flags"})},3535:function(e,t,r){"use strict";var n=r(9396),i=r(9722),o=r(5844),a=r(1334),s=r(7888),l=i(a());n(l,{getPolyfill:a,implementation:o,shim:s}),e.exports=l},1334:function(e,t,r){"use strict";var n=r(5844),i=r(9396).supportsDescriptors,o=Object.getOwnPropertyDescriptor;e.exports=function(){if(i&&"gim"===/a/gim.flags){var e=o(RegExp.prototype,"flags");if(e&&"function"===typeof e.get&&"boolean"===typeof RegExp.prototype.dotAll&&"boolean"===typeof RegExp.prototype.hasIndices){var t="",r={};if(Object.defineProperty(r,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(r,"sticky",{get:function(){t+="y"}}),"dy"===t)return e.get}}return n}},7888:function(e,t,r){"use strict";var n=r(9396).supportsDescriptors,i=r(1334),o=Object.getOwnPropertyDescriptor,a=Object.defineProperty,s=TypeError,l=Object.getPrototypeOf,u=/a/;e.exports=function(){if(!n||!l)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=i(),t=l(u),r=o(t,"flags");return r&&r.get===e||a(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},6813:function(e,t){"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,i=e[n];if(!(0<o(i,t)))break e;e[n]=t,e[r]=i,r=n}}function n(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length,a=i>>>1;n<a;){var s=2*(n+1)-1,l=e[s],u=s+1,c=e[u];if(0>o(l,r))u<i&&0>o(c,l)?(e[n]=c,e[u]=r,n=u):(e[n]=l,e[s]=r,n=s);else{if(!(u<i&&0>o(c,r)))break e;e[n]=c,e[u]=r,n=u}}}return t}function o(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,m=!1,y=!1,g="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=n(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,r(u,t)}t=n(c)}}function w(e){if(y=!1,x(e),!m)if(null!==n(u))m=!0,L(S);else{var t=n(c);null!==t&&N(w,t.startTime-e)}}function S(e,r){m=!1,y&&(y=!1,v(M),M=-1),p=!0;var o=f;try{for(x(r),d=n(u);null!==d&&(!(d.expirationTime>r)||e&&!T());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var s=a(d.expirationTime<=r);r=t.unstable_now(),"function"===typeof s?d.callback=s:d===n(u)&&i(u),x(r)}else i(u);d=n(u)}if(null!==d)var l=!0;else{var h=n(c);null!==h&&N(w,h.startTime-r),l=!1}return l}finally{d=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,_=!1,j=null,M=-1,C=5,P=-1;function T(){return!(t.unstable_now()-P<C)}function E(){if(null!==j){var e=t.unstable_now();P=e;var r=!0;try{r=j(!0,e)}finally{r?k():(_=!1,j=null)}}else _=!1}if("function"===typeof b)k=function(){b(E)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,A=O.port2;O.port1.onmessage=E,k=function(){A.postMessage(null)}}else k=function(){g(E,0)};function L(e){j=e,_||(_=!0,k())}function N(e,r){M=g((function(){e(t.unstable_now())}),r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,L(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var r=f;f=t;try{return e()}finally{f=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=f;f=e;try{return t()}finally{f=r}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,r(c,e),null===n(u)&&e===n(c)&&(y?(v(M),M=-1):y=!0,N(w,o-a))):(e.sortIndex=s,r(u,e),m||p||(m=!0,L(S))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=f;return function(){var r=f;f=t;try{return e.apply(this,arguments)}finally{f=r}}}},5296:function(e,t,r){"use strict";e.exports=r(6813)},581:function(e,t,r){"use strict";var n=r(2506),i=r(4037),o=r(2584),a=n("%TypeError%"),s=n("%WeakMap%",!0),l=n("%Map%",!0),u=i("WeakMap.prototype.get",!0),c=i("WeakMap.prototype.set",!0),h=i("WeakMap.prototype.has",!0),d=i("Map.prototype.get",!0),f=i("Map.prototype.set",!0),p=i("Map.prototype.has",!0),m=function(e,t){for(var r,n=e;null!==(r=n.next);n=r)if(r.key===t)return n.next=r.next,r.next=e.next,e.next=r,r};e.exports=function(){var e,t,r,n={assert:function(e){if(!n.has(e))throw new a("Side channel does not contain "+o(e))},get:function(n){if(s&&n&&("object"===typeof n||"function"===typeof n)){if(e)return u(e,n)}else if(l){if(t)return d(t,n)}else if(r)return function(e,t){var r=m(e,t);return r&&r.value}(r,n)},has:function(n){if(s&&n&&("object"===typeof n||"function"===typeof n)){if(e)return h(e,n)}else if(l){if(t)return p(t,n)}else if(r)return function(e,t){return!!m(e,t)}(r,n);return!1},set:function(n,i){s&&n&&("object"===typeof n||"function"===typeof n)?(e||(e=new s),c(e,n,i)):l?(t||(t=new l),f(t,n,i)):(r||(r={key:{},next:null}),function(e,t,r){var n=m(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}}(r,n,i))}};return n}},4619:function(e,t,r){"use strict";var n=r(3865),i=SyntaxError,o="object"===typeof StopIteration?StopIteration:null;e.exports=function(e){if(!o)throw new i("this environment lacks StopIteration");n.set(e,"[[Done]]",!1);var t={next:function(){var e=n.get(this,"[[Iterator]]"),t=n.get(e,"[[Done]]");try{return{done:t,value:t?void 0:e.next()}}catch(r){if(n.set(e,"[[Done]]",!0),r!==o)throw r;return{done:!0,value:void 0}}}};return n.set(t,"[[Iterator]]",e),t}},7724:function(e,t,r){"use strict";var n=r(5038),i=r(4814),o=r(8486),a=r(3137),s=r(6423);e.exports=function(e){return null==e||"object"!==typeof e&&"function"!==typeof e?null:n(e)?"String":i(e)?"Number":o(e)?"Boolean":a(e)?"Symbol":s(e)?"BigInt":void 0}},8264:function(e,t,r){"use strict";var n=r(5369),i=r(306),o=r(4037),a=r(3347),s=o("Object.prototype.toString"),l=r(4707)(),u="undefined"===typeof globalThis?r.g:globalThis,c=i(),h=o("String.prototype.slice"),d={},f=Object.getPrototypeOf;l&&a&&f&&n(c,(function(e){if("function"===typeof u[e]){var t=new u[e];if(Symbol.toStringTag in t){var r=f(t),n=a(r,Symbol.toStringTag);if(!n){var i=f(r);n=a(i,Symbol.toStringTag)}d[e]=n.get}}}));var p=r(6218);e.exports=function(e){return!!p(e)&&(l&&Symbol.toStringTag in e?function(e){var t=!1;return n(d,(function(r,n){if(!t)try{var i=r.call(e);i===n&&(t=i)}catch(o){}})),t}(e):h(s(e),8,-1))}},4654:function(){},6402:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},5372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3405:function(e,t,r){var n=r(6402);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},6690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3515:function(e,t,r){var n=r(6015),i=r(9617);function o(t,r,a){return i()?(e.exports=o=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=o=function(e,t,r){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return r&&n(o,r.prototype),o},e.exports.__esModule=!0,e.exports.default=e.exports),o.apply(null,arguments)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},9728:function(e,t,r){var n=r(4062);function i(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,n(i.key),i)}}e.exports=function(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},6389:function(e,t,r){var n=r(3808),i=r(9617),o=r(4993);e.exports=function(e){var t=i();return function(){var r,i=n(e);if(t){var a=n(this).constructor;r=Reflect.construct(i,arguments,a)}else r=i.apply(this,arguments);return o(this,r)}},e.exports.__esModule=!0,e.exports.default=e.exports},8416:function(e,t,r){var n=r(4062);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},3808:function(e){function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1655:function(e,t,r){var n=r(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},6035:function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},9617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},9498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8872:function(e){e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},2218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2122:function(e,t,r){var n=r(8416);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},4993:function(e,t,r){var n=r(8698).default,i=r(6115);e.exports=function(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},7061:function(e,t,r){var n=r(8698).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},r=Object.prototype,o=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},l=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function h(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{h({},"")}catch(O){h=function(e,t,r){return e[t]=r}}function d(e,t,r,n){var i=t&&t.prototype instanceof m?t:m,o=Object.create(i.prototype),s=new P(n||[]);return a(o,"_invoke",{value:_(e,r,s)}),o}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}t.wrap=d;var p={};function m(){}function y(){}function g(){}var v={};h(v,l,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b(T([])));x&&x!==r&&o.call(x,l)&&(v=x);var w=g.prototype=m.prototype=Object.create(v);function S(e){["next","throw","return"].forEach((function(t){h(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function r(i,a,s,l){var u=f(e[i],e,a);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==n(h)&&o.call(h,"__await")?t.resolve(h.__await).then((function(e){r("next",e,s,l)}),(function(e){r("throw",e,s,l)})):t.resolve(h).then((function(e){c.value=e,s(c)}),(function(e){return r("throw",e,s,l)}))}l(u.arg)}var i;a(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(o,o):o()}})}function _(e,t,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return E()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=j(a,r);if(s){if(s===p)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=f(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function j(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,j(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var i=f(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,p;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function T(e){if(e){var t=e[l];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(o.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:E}}function E(){return{value:void 0,done:!0}}return y.prototype=g,a(w,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:y,configurable:!0}),y.displayName=h(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,h(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},S(k.prototype),h(k.prototype,u,(function(){return this})),t.AsyncIterator=k,t.async=function(e,r,n,i,o){void 0===o&&(o=Promise);var a=new k(d(e,r,n,i),o);return t.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(w),h(w,c,"Generator"),h(w,l,(function(){return this})),h(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),l=o.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;C(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:T(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},6015:function(e){function t(r,n){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7424:function(e,t,r){var n=r(5372),i=r(8872),o=r(6116),a=r(2218);e.exports=function(e,t){return n(e)||i(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,r){var n=r(3405),i=r(9498),o=r(6116),a=r(2281);e.exports=function(e){return n(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},5036:function(e,t,r){var n=r(8698).default;e.exports=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4062:function(e,t,r){var n=r(8698).default,i=r(5036);e.exports=function(e){var t=i(e,"string");return"symbol"===n(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,r){var n=r(6402);e.exports=function(e,t){if(e){if("string"===typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},3496:function(e,t,r){var n=r(3808),i=r(6015),o=r(6035),a=r(3515);function s(t){var r="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!o(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return a(e,arguments,n(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},3344:function(e,t,r){var n=r(8698).default,i=r(6015),o=r(1655);function a(){e.exports=a=function(e,t){return new s(e,void 0,t)},e.exports.__esModule=!0,e.exports.default=e.exports;var t=RegExp.prototype,r=new WeakMap;function s(e,t,n){var o=new RegExp(e,t);return r.set(o,n||r.get(e)),i(o,s.prototype)}function l(e,t){var n=r.get(t);return Object.keys(n).reduce((function(t,r){var i=n[r];if("number"==typeof i)t[r]=e[i];else{for(var o=0;void 0===e[i[o]]&&o+1<i.length;)o++;t[r]=e[i[o]]}return t}),Object.create(null))}return o(s,RegExp),s.prototype.exec=function(e){var r=t.exec.call(this,e);if(r){r.groups=l(r,this);var n=r.indices;n&&(n.groups=l(n,this))}return r},s.prototype[Symbol.replace]=function(e,i){if("string"==typeof i){var o=r.get(this);return t[Symbol.replace].call(this,e,i.replace(/\$<([^>]+)>/g,(function(e,t){var r=o[t];return"$"+(Array.isArray(r)?r.join("$"):r)})))}if("function"==typeof i){var a=this;return t[Symbol.replace].call(this,e,(function(){var e=arguments;return"object"!=n(e[e.length-1])&&(e=[].slice.call(e)).push(l(e,a)),i.apply(this,e)}))}return t[Symbol.replace].call(this,e,i)},a.apply(this,arguments)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},306:function(e,t,r){"use strict";var n=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],i="undefined"===typeof globalThis?r.g:globalThis;e.exports=function(){for(var e=[],t=0;t<n.length;t++)"function"===typeof i[n[t]]&&(e[e.length]=n[t]);return e}},4786:function(e,t,r){"use strict";var n=r(5450),i=r(4619);if(r(697)()||r(3297)()){var o=Symbol.iterator;e.exports=function(e){return null!=e&&"undefined"!==typeof e[o]?e[o]():n(e)?Array.prototype[o].call(e):void 0}}else{var a=r(1571),s=r(5038),l=r(2506),u=l("%Map%",!0),c=l("%Set%",!0),h=r(4037),d=h("Array.prototype.push"),f=h("String.prototype.charCodeAt"),p=h("String.prototype.slice"),m=function(e){var t=0;return{next:function(){var r,n=t>=e.length;return n||(r=e[t],t+=1),{done:n,value:r}}}},y=function(e,t){if(a(e)||n(e))return m(e);if(s(e)){var r=0;return{next:function(){var t=function(e,t){if(t+1>=e.length)return t+1;var r=f(e,t);if(r<55296||r>56319)return t+1;var n=f(e,t+1);return n<56320||n>57343?t+1:t+2}(e,r),n=p(e,r,t);return r=t,{done:t>e.length,value:n}}}}return t&&"undefined"!==typeof e["_es6-shim iterator_"]?e["_es6-shim iterator_"]():void 0};if(u||c){var g=r(242),v=r(6325),b=h("Map.prototype.forEach",!0),x=h("Set.prototype.forEach",!0);if("undefined"===typeof process||!process.versions||!process.versions.node)var w=h("Map.prototype.iterator",!0),S=h("Set.prototype.iterator",!0);var k=h("Map.prototype.@@iterator",!0)||h("Map.prototype._es6-shim iterator_",!0),_=h("Set.prototype.@@iterator",!0)||h("Set.prototype._es6-shim iterator_",!0);e.exports=function(e){return function(e){if(g(e)){if(w)return i(w(e));if(k)return k(e);if(b){var t=[];return b(e,(function(e,r){d(t,[r,e])})),m(t)}}if(v(e)){if(S)return i(S(e));if(_)return _(e);if(x){var r=[];return x(e,(function(e){d(r,e)})),m(r)}}}(e)||y(e)}}else e.exports=function(e){if(null!=e)return y(e,!0)}}},905:function(e,t,r){"use strict";var n=r(242),i=r(6325),o=r(7517),a=r(1920);e.exports=function(e){if(e&&"object"===typeof e){if(n(e))return"Map";if(i(e))return"Set";if(o(e))return"WeakMap";if(a(e))return"WeakSet"}return!1}},907:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{Z:function(){return n}})},5861:function(e,t,r){"use strict";function n(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(u){return void r(u)}s.done?t(l):Promise.resolve(l).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,l,"next",e)}function l(e){n(a,i,o,s,l,"throw",e)}s(void 0)}))}}r.d(t,{Z:function(){return i}})},4165:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(1002);function i(){i=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(E){c=function(e,t,r){return e[t]=r}}function h(e,t,r,n){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),s=new C(n||[]);return o(a,"_invoke",{value:k(e,r,s)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(E){return{type:"throw",arg:E}}}e.wrap=h;var f={};function p(){}function m(){}function y(){}var g={};c(g,s,(function(){return this}));var v=Object.getPrototypeOf,b=v&&v(v(P([])));b&&b!==t&&r.call(b,s)&&(g=b);var x=y.prototype=p.prototype=Object.create(g);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function i(o,a,s,l){var u=d(e[o],e,a);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==(0,n.Z)(h)&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,s,l)}),(function(e){i("throw",e,s,l)})):t.resolve(h).then((function(e){c.value=e,s(c)}),(function(e){return i("throw",e,s,l)}))}l(u.arg)}var a;o(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){i(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function k(e,t,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return T()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=d(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function _(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var i=d(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function P(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return m.prototype=y,o(x,"constructor",{value:y,configurable:!0}),o(y,"constructor",{value:m,configurable:!0}),m.displayName=c(y,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},w(S.prototype),c(S.prototype,l,(function(){return this})),e.AsyncIterator=S,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new S(h(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(x),c(x,u,"Generator"),c(x,s,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=P,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),M(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;M(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}},885:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(181);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||(0,n.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2982:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(907);var i=r(181);function o(e){return function(e){if(Array.isArray(e))return(0,n.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9142:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(1002);function i(e){var t=function(e,t){if("object"!==(0,n.Z)(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!==(0,n.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,n.Z)(t)?t:String(t)}},1002:function(e,t,r){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}r.d(t,{Z:function(){return n}})},181:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(907);function i(e,t){if(e){if("string"===typeof e)return(0,n.Z)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?(0,n.Z)(e,t):void 0}}},3985:function(e,t,r){"use strict";r.d(t,{a:function(){return c}});var n=r(2791),i={Date:!0,RegExp:!0,String:!0,Number:!0};function o(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{cyclesFix:!0},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=[],s=Array.isArray(e),l=function(){var l=e[u],c=s?+u:u;if(!(u in t))return a.push({type:"REMOVE",path:[c],oldValue:e[u]}),"continue";var h=t[u],d="object"===typeof l&&"object"===typeof h;if(!(l&&h&&d)||i[Object.getPrototypeOf(l).constructor.name]||r.cyclesFix&&n.includes(l))l===h||d&&(isNaN(l)?l+""===h+"":+l===+h)||a.push({path:[c],type:"CHANGE",value:h,oldValue:l});else{var f=o(l,h,r,r.cyclesFix?n.concat([l]):[]);a.push.apply(a,f.map((function(e){return e.path.unshift(c),e})))}};for(var u in e)l();var c=Array.isArray(t);for(var h in t)h in e||a.push({type:"CREATE",path:[c?+h:h],value:t[h]});return a}var a=r(2024),s=function(){return s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)};function l(e){var t;null===(t=e.current)||void 0===t||t.remove(),e.current=null}function u(e){var t=e.sketch,r=e.children,i=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}(e,["sketch","children"]),o=(0,n.createRef)(),s=(0,n.useRef)(null);return(0,n.useEffect)((function(){var e,r;null!==o.current&&(l(s),s.current=(e=t,r=o.current,new a(e,r)))}),[t]),(0,n.useEffect)((function(){var e,t;null===(t=null===(e=s.current)||void 0===e?void 0:e.updateWithProps)||void 0===t||t.call(e,i)}),[i,o]),(0,n.useEffect)((function(){return function(){return l(s)}}),[]),n.createElement("div",{ref:o,className:"react-p5-wrapper"},r)}var c=(0,n.memo)((function(e){return void 0===e.sketch?(console.error("[ReactP5Wrapper] The `sketch` prop is required."),null):n.createElement(u,s({},e))}),(function(e,t){return 0===o(e,t).length}))}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=function(e,t){for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),__webpack_require__.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e};var __webpack_exports__={};!function(){"use strict";var e={};__webpack_require__.r(e),__webpack_require__.d(e,{ArgumentOutOfRangeError:function(){return bt},AsyncSubject:function(){return he},BehaviorSubject:function(){return le},ConnectableObservable:function(){return J},EMPTY:function(){return Be},EmptyError:function(){return yt},NEVER:function(){return sr},NotFoundError:function(){return xt},Notification:function(){return ft},NotificationKind:function(){return $e},ObjectUnsubscribedError:function(){return oe},Observable:function(){return H},ReplaySubject:function(){return ce},Scheduler:function(){return Se},SequenceError:function(){return wt},Subject:function(){return ae},Subscriber:function(){return L},Subscription:function(){return w},TimeoutError:function(){return kt},UnsubscriptionError:function(){return b},VirtualAction:function(){return Fe},VirtualTimeScheduler:function(){return Ie},animationFrame:function(){return De},animationFrameScheduler:function(){return Re},animationFrames:function(){return te},asap:function(){return Me},asapScheduler:function(){return je},async:function(){return Pe},asyncScheduler:function(){return Ce},audit:function(){return wr},auditTime:function(){return Sr},bindCallback:function(){return Et},bindNodeCallback:function(){return Ot},buffer:function(){return kr},bufferCount:function(){return _r},bufferTime:function(){return jr},bufferToggle:function(){return Mr},bufferWhen:function(){return Cr},catchError:function(){return Pr},combineAll:function(){return Rr},combineLatest:function(){return Ft},combineLatestAll:function(){return Nr},combineLatestWith:function(){return Ir},concat:function(){return Ht},concatAll:function(){return Vt},concatMap:function(){return Fr},concatMapTo:function(){return Br},concatWith:function(){return zr},config:function(){return j},connect:function(){return Gr},connectable:function(){return Yt},count:function(){return Vr},debounce:function(){return Hr},debounceTime:function(){return Wr},defaultIfEmpty:function(){return Xr},defer:function(){return Wt},delay:function(){return Jr},delayWhen:function(){return $r},dematerialize:function(){return Qr},distinct:function(){return en},distinctUntilChanged:function(){return tn},distinctUntilKeyChanged:function(){return nn},elementAt:function(){return sn},empty:function(){return Ue},endWith:function(){return ln},every:function(){return un},exhaust:function(){return dn},exhaustAll:function(){return hn},exhaustMap:function(){return cn},expand:function(){return fn},filter:function(){return pr},finalize:function(){return pn},find:function(){return mn},findIndex:function(){return gn},first:function(){return vn},firstValueFrom:function(){return vt},flatMap:function(){return jn},forkJoin:function(){return Kt},from:function(){return ct},fromEvent:function(){return Qt},fromEventPattern:function(){return tr},generate:function(){return rr},groupBy:function(){return bn},identity:function(){return q},ignoreElements:function(){return Kr},iif:function(){return nr},interval:function(){return or},isEmpty:function(){return xn},isObservable:function(){return mt},last:function(){return Sn},lastValueFrom:function(){return gt},map:function(){return Mt},mapTo:function(){return Zr},materialize:function(){return kn},max:function(){return _n},merge:function(){return ar},mergeAll:function(){return Gt},mergeMap:function(){return qt},mergeMapTo:function(){return Mn},mergeScan:function(){return Cn},mergeWith:function(){return Tn},min:function(){return En},multicast:function(){return On},never:function(){return lr},noop:function(){return P},observable:function(){return z},observeOn:function(){return ot},of:function(){return ht},onErrorResumeNext:function(){return hr},onErrorResumeNextWith:function(){return An},pairs:function(){return dr},pairwise:function(){return Ln},partition:function(){return mr},pipe:function(){return G},pluck:function(){return Nn},publish:function(){return Rn},publishBehavior:function(){return Dn},publishLast:function(){return In},publishReplay:function(){return Fn},queue:function(){return Ae},queueScheduler:function(){return Oe},race:function(){return yr},raceWith:function(){return Bn},range:function(){return vr},reduce:function(){return Er},refCount:function(){return $},repeat:function(){return Un},repeatWhen:function(){return zn},retry:function(){return qn},retryWhen:function(){return Gn},sample:function(){return Vn},sampleTime:function(){return Hn},scan:function(){return Wn},scheduled:function(){return ut},sequenceEqual:function(){return Xn},share:function(){return Yn},shareReplay:function(){return Zn},single:function(){return $n},skip:function(){return Jn},skipLast:function(){return Qn},skipUntil:function(){return ei},skipWhile:function(){return ti},startWith:function(){return ri},subscribeOn:function(){return at},switchAll:function(){return ii},switchMap:function(){return ni},switchMapTo:function(){return oi},switchScan:function(){return ai},take:function(){return Yr},takeLast:function(){return wn},takeUntil:function(){return si},takeWhile:function(){return li},tap:function(){return ui},throttle:function(){return hi},throttleTime:function(){return di},throwError:function(){return dt},throwIfEmpty:function(){return on},timeInterval:function(){return fi},timeout:function(){return _t},timeoutWith:function(){return mi},timer:function(){return ir},timestamp:function(){return yi},toArray:function(){return Ar},using:function(){return br},window:function(){return gi},windowCount:function(){return vi},windowTime:function(){return bi},windowToggle:function(){return xi},windowWhen:function(){return wi},withLatestFrom:function(){return Si},zip:function(){return xr},zipAll:function(){return ki},zipWith:function(){return ji}});var t=__webpack_require__(2791),r=__webpack_require__(1250),n=__webpack_require__(4165),i=__webpack_require__(5861),o=__webpack_require__(2982),a=__webpack_require__(885),s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},s(e,t)};function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function u(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{l(n.next(e))}catch(t){o(t)}}function s(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}l((n=n.apply(e,t||[])).next())}))}function c(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(l){s=[6,l],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}Object.create;function h(e){var t="function"===typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(e,t){var r="function"===typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function f(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function p(e){return this instanceof p?(this.v=e,this):new p(e)}function m(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},a("next"),a("throw"),a("return"),n[Symbol.asyncIterator]=function(){return this},n;function a(e){i[e]&&(n[e]=function(t){return new Promise((function(r,n){o.push([e,t,r,n])>1||s(e,t)}))})}function s(e,t){try{(r=i[e](t)).value instanceof p?Promise.resolve(r.value.v).then(l,u):c(o[0][2],r)}catch(n){c(o[0][3],n)}var r}function l(e){s("next",e)}function u(e){s("throw",e)}function c(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function y(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=h(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,i){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,i,(t=e[r](t)).done,t.value)}))}}}Object.create;function g(e){return"function"===typeof e}function v(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var b=v((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function x(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var w=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,r,n,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=h(o),s=a.next();!s.done;s=a.next()){s.value.remove(this)}}catch(y){e={error:y}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else o.remove(this);var l=this.initialTeardown;if(g(l))try{l()}catch(v){i=v instanceof b?v.errors:[v]}var u=this._finalizers;if(u){this._finalizers=null;try{for(var c=h(u),p=c.next();!p.done;p=c.next()){var m=p.value;try{_(m)}catch(x){i=null!==i&&void 0!==i?i:[],x instanceof b?i=f(f([],d(i)),d(x.errors)):i.push(x)}}}catch(w){r={error:w}}finally{try{p&&!p.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}}if(i)throw new b(i)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)_(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&x(t,e)},e.prototype.remove=function(t){var r=this._finalizers;r&&x(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),S=w.EMPTY;function k(e){return e instanceof w||e&&"closed"in e&&g(e.remove)&&g(e.add)&&g(e.unsubscribe)}function _(e){g(e)?e():e.unsubscribe()}var j={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},M={setTimeout:function(e){function t(t,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=M.delegate;return(null===i||void 0===i?void 0:i.setTimeout)?i.setTimeout.apply(i,f([e,t],d(r))):setTimeout.apply(void 0,f([e,t],d(r)))})),clearTimeout:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=M.delegate;return((null===t||void 0===t?void 0:t.clearTimeout)||clearTimeout)(e)})),delegate:void 0};function C(e){M.setTimeout((function(){var t=j.onUnhandledError;if(!t)throw e;t(e)}))}function P(){}var T=E("C",void 0,void 0);function E(e,t,r){return{kind:e,value:t,error:r}}var O=null;function A(e){if(j.useDeprecatedSynchronousErrorHandling){var t=!O;if(t&&(O={errorThrown:!1,error:null}),e(),t){var r=O,n=r.errorThrown,i=r.error;if(O=null,n)throw i}}else e()}var L=function(e){function t(t){var r=e.call(this)||this;return r.isStopped=!1,t?(r.destination=t,k(t)&&t.add(r)):r.destination=U,r}return l(t,e),t.create=function(e,t,r){return new I(e,t,r)},t.prototype.next=function(e){this.isStopped?B(function(e){return E("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?B(E("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?B(T,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(w),N=Function.prototype.bind;function R(e,t){return N.call(e,t)}var D=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(r){F(r)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(r){F(r)}else F(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){F(t)}},e}(),I=function(e){function t(t,r,n){var i,o,a=e.call(this)||this;g(t)||!t?i={next:null!==t&&void 0!==t?t:void 0,error:null!==r&&void 0!==r?r:void 0,complete:null!==n&&void 0!==n?n:void 0}:a&&j.useDeprecatedNextContext?((o=Object.create(t)).unsubscribe=function(){return a.unsubscribe()},i={next:t.next&&R(t.next,o),error:t.error&&R(t.error,o),complete:t.complete&&R(t.complete,o)}):i=t;return a.destination=new D(i),a}return l(t,e),t}(L);function F(e){var t;j.useDeprecatedSynchronousErrorHandling?(t=e,j.useDeprecatedSynchronousErrorHandling&&O&&(O.errorThrown=!0,O.error=t)):C(e)}function B(e,t){var r=j.onStoppedNotification;r&&M.setTimeout((function(){return r(e,t)}))}var U={closed:!0,next:P,error:function(e){throw e},complete:P},z="function"===typeof Symbol&&Symbol.observable||"@@observable";function q(e){return e}function G(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return V(e)}function V(e){return 0===e.length?q:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var H=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n,i=this,o=(n=e)&&n instanceof L||function(e){return e&&g(e.next)&&g(e.error)&&g(e.complete)}(n)&&k(n)?e:new I(e,t,r);return A((function(){var e=i,t=e.operator,r=e.source;o.add(t?t.call(o,r):r?i._subscribe(o):i._trySubscribe(o))})),o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=W(t))((function(t,n){var i=new I({next:function(t){try{e(t)}catch(r){n(r),i.unsubscribe()}},error:n,complete:t});r.subscribe(i)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[z]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return V(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=W(e))((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();function W(e){var t;return null!==(t=null!==e&&void 0!==e?e:j.Promise)&&void 0!==t?t:Promise}function X(e){return g(null===e||void 0===e?void 0:e.lift)}function Y(e){return function(t){if(X(t))return t.lift((function(t){try{return e(t,this)}catch(r){this.error(r)}}));throw new TypeError("Unable to lift unknown Observable type")}}function K(e,t,r,n,i){return new Z(e,t,r,n,i)}var Z=function(e){function t(t,r,n,i,o,a){var s=e.call(this,t)||this;return s.onFinalize=o,s.shouldUnsubscribe=a,s._next=r?function(e){try{r(e)}catch(n){t.error(n)}}:e.prototype._next,s._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return l(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(L);function $(){return Y((function(e,t){var r=null;e._refCount++;var n=K(t,void 0,void 0,void 0,(function(){if(!e||e._refCount<=0||0<--e._refCount)r=null;else{var n=e._connection,i=r;r=null,!n||i&&n!==i||n.unsubscribe(),t.unsubscribe()}}));e.subscribe(n),n.closed||(r=e.connect())}))}var J=function(e){function t(t,r){var n=e.call(this)||this;return n.source=t,n.subjectFactory=r,n._subject=null,n._refCount=0,n._connection=null,X(t)&&(n.lift=t.lift),n}return l(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var e=this._connection;this._subject=this._connection=null,null===e||void 0===e||e.unsubscribe()},t.prototype.connect=function(){var e=this,t=this._connection;if(!t){t=this._connection=new w;var r=this.getSubject();t.add(this.source.subscribe(K(r,void 0,(function(){e._teardown(),r.complete()}),(function(t){e._teardown(),r.error(t)}),(function(){return e._teardown()})))),t.closed&&(this._connection=null,t=w.EMPTY)}return t},t.prototype.refCount=function(){return $()(this)},t}(H),Q={now:function(){return(Q.delegate||performance).now()},delegate:void 0},ee={schedule:function(e){var t=requestAnimationFrame,r=cancelAnimationFrame,n=ee.delegate;n&&(t=n.requestAnimationFrame,r=n.cancelAnimationFrame);var i=t((function(t){r=void 0,e(t)}));return new w((function(){return null===r||void 0===r?void 0:r(i)}))},requestAnimationFrame:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=ee.delegate;return((null===r||void 0===r?void 0:r.requestAnimationFrame)||requestAnimationFrame).apply(void 0,f([],d(e)))})),cancelAnimationFrame:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=ee.delegate;return((null===r||void 0===r?void 0:r.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,f([],d(e)))})),delegate:void 0};function te(e){return e?re(e):ie}function re(e){return new H((function(t){var r=e||Q,n=r.now(),i=0;return function o(){t.closed||(i=ee.requestAnimationFrame((function(a){i=0;var s=r.now();t.next({timestamp:e?s:a,elapsed:s-n}),o()})))}(),function(){i&&ee.cancelAnimationFrame(i)}}))}var ne,ie=re(),oe=v((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),ae=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return l(t,e),t.prototype.lift=function(e){var t=new se(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new oe},t.prototype.next=function(e){var t=this;A((function(){var r,n;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var i=h(t.currentObservers),o=i.next();!o.done;o=i.next()){o.value.next(e)}}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}}))},t.prototype.error=function(e){var t=this;A((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var r=t.observers;r.length;)r.shift().error(e)}}))},t.prototype.complete=function(){var e=this;A((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,r=this,n=r.hasError,i=r.isStopped,o=r.observers;return n||i?S:(this.currentObservers=null,o.push(e),new w((function(){t.currentObservers=null,x(o,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,r=t.hasError,n=t.thrownError,i=t.isStopped;r?e.error(n):i&&e.complete()},t.prototype.asObservable=function(){var e=new H;return e.source=this,e},t.create=function(e,t){return new se(e,t)},t}(H),se=function(e){function t(t,r){var n=e.call(this)||this;return n.destination=t,n.source=r,n}return l(t,e),t.prototype.next=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)},t.prototype.error=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:S},t}(ae),le=function(e){function t(t){var r=e.call(this)||this;return r._value=t,r}return l(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return!r.closed&&t.next(this._value),r},t.prototype.getValue=function(){var e=this,t=e.hasError,r=e.thrownError,n=e._value;if(t)throw r;return this._throwIfClosed(),n},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(ae),ue={now:function(){return(ue.delegate||Date).now()},delegate:void 0},ce=function(e){function t(t,r,n){void 0===t&&(t=1/0),void 0===r&&(r=1/0),void 0===n&&(n=ue);var i=e.call(this)||this;return i._bufferSize=t,i._windowTime=r,i._timestampProvider=n,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=r===1/0,i._bufferSize=Math.max(1,t),i._windowTime=Math.max(1,r),i}return l(t,e),t.prototype.next=function(t){var r=this,n=r.isStopped,i=r._buffer,o=r._infiniteTimeWindow,a=r._timestampProvider,s=r._windowTime;n||(i.push(t),!o&&i.push(a.now()+s)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),r=this._infiniteTimeWindow,n=this._buffer.slice(),i=0;i<n.length&&!e.closed;i+=r?1:2)e.next(n[i]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,r=e._timestampProvider,n=e._buffer,i=e._infiniteTimeWindow,o=(i?1:2)*t;if(t<1/0&&o<n.length&&n.splice(0,n.length-o),!i){for(var a=r.now(),s=0,l=1;l<n.length&&n[l]<=a;l+=2)s=l;s&&n.splice(0,s+1)}},t}(ae),he=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._value=null,t._hasValue=!1,t._isComplete=!1,t}return l(t,e),t.prototype._checkFinalizedStatuses=function(e){var t=this,r=t.hasError,n=t._hasValue,i=t._value,o=t.thrownError,a=t.isStopped,s=t._isComplete;r?e.error(o):(a||s)&&(n&&e.next(i),e.complete())},t.prototype.next=function(e){this.isStopped||(this._value=e,this._hasValue=!0)},t.prototype.complete=function(){var t=this,r=t._hasValue,n=t._value;t._isComplete||(this._isComplete=!0,r&&e.prototype.next.call(this,n),e.prototype.complete.call(this))},t}(ae),de=function(e){function t(t,r){return e.call(this)||this}return l(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(w),fe={setInterval:function(e){function t(t,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=fe.delegate;return(null===i||void 0===i?void 0:i.setInterval)?i.setInterval.apply(i,f([e,t],d(r))):setInterval.apply(void 0,f([e,t],d(r)))})),clearInterval:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=fe.delegate;return((null===t||void 0===t?void 0:t.clearInterval)||clearInterval)(e)})),delegate:void 0},pe=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n.pending=!1,n}return l(t,e),t.prototype.schedule=function(e,t){var r;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),fe.setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&fe.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var r,n=!1;try{this.work(e)}catch(i){n=!0,r=i||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,r=this.scheduler,n=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,x(n,this),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(de),me=1,ye={};function ge(e){return e in ye&&(delete ye[e],!0)}var ve=function(e){var t=me++;return ye[t]=!0,ne||(ne=Promise.resolve()),ne.then((function(){return ge(t)&&e()})),t},be=function(e){ge(e)},xe={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=xe.delegate;return((null===r||void 0===r?void 0:r.setImmediate)||ve).apply(void 0,f([],d(e)))},clearImmediate:function(e){var t=xe.delegate;return((null===t||void 0===t?void 0:t.clearImmediate)||be)(e)},delegate:void 0},we=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n}return l(t,e),t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,t,r,n):(t.actions.push(this),t._scheduled||(t._scheduled=xe.setImmediate(t.flush.bind(t,void 0))))},t.prototype.recycleAsyncId=function(t,r,n){var i;if(void 0===n&&(n=0),null!=n?n>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,n);var o=t.actions;null!=r&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==r&&(xe.clearImmediate(r),t._scheduled=void 0)},t}(pe),Se=function(){function e(t,r){void 0===r&&(r=e.now),this.schedulerActionCtor=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(r,t)},e.now=ue.now,e}(),ke=function(e){function t(t,r){void 0===r&&(r=Se.now);var n=e.call(this,t,r)||this;return n.actions=[],n._active=!1,n}return l(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}},t}(Se),_e=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t.prototype.flush=function(e){this._active=!0;var t=this._scheduled;this._scheduled=void 0;var r,n=this.actions;e=e||n.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===t&&n.shift());if(this._active=!1,r){for(;(e=n[0])&&e.id===t&&n.shift();)e.unsubscribe();throw r}},t}(ke),je=new _e(we),Me=je,Ce=new ke(pe),Pe=Ce,Te=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n}return l(t,e),t.prototype.schedule=function(t,r){return void 0===r&&(r=0),r>0?e.prototype.schedule.call(this,t,r):(this.delay=r,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,r){return r>0||this.closed?e.prototype.execute.call(this,t,r):this._execute(t,r)},t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!=n&&n>0||null==n&&this.delay>0?e.prototype.requestAsyncId.call(this,t,r,n):(t.flush(this),0)},t}(pe),Ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t}(ke),Oe=new Ee(Te),Ae=Oe,Le=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n}return l(t,e),t.prototype.requestAsyncId=function(t,r,n){return void 0===n&&(n=0),null!==n&&n>0?e.prototype.requestAsyncId.call(this,t,r,n):(t.actions.push(this),t._scheduled||(t._scheduled=ee.requestAnimationFrame((function(){return t.flush(void 0)}))))},t.prototype.recycleAsyncId=function(t,r,n){var i;if(void 0===n&&(n=0),null!=n?n>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,n);var o=t.actions;null!=r&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==r&&(ee.cancelAnimationFrame(r),t._scheduled=void 0)},t}(pe),Ne=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t.prototype.flush=function(e){this._active=!0;var t=this._scheduled;this._scheduled=void 0;var r,n=this.actions;e=e||n.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===t&&n.shift());if(this._active=!1,r){for(;(e=n[0])&&e.id===t&&n.shift();)e.unsubscribe();throw r}},t}(ke),Re=new Ne(Le),De=Re,Ie=function(e){function t(t,r){void 0===t&&(t=Fe),void 0===r&&(r=1/0);var n=e.call(this,t,(function(){return n.frame}))||this;return n.maxFrames=r,n.frame=0,n.index=-1,n}return l(t,e),t.prototype.flush=function(){for(var e,t,r=this.actions,n=this.maxFrames;(t=r[0])&&t.delay<=n&&(r.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=r.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(ke),Fe=function(e){function t(t,r,n){void 0===n&&(n=t.index+=1);var i=e.call(this,t,r)||this;return i.scheduler=t,i.work=r,i.index=n,i.active=!0,i.index=t.index=n,i}return l(t,e),t.prototype.schedule=function(r,n){if(void 0===n&&(n=0),Number.isFinite(n)){if(!this.id)return e.prototype.schedule.call(this,r,n);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(r,n)}return w.EMPTY},t.prototype.requestAsyncId=function(e,r,n){void 0===n&&(n=0),this.delay=e.frame+n;var i=e.actions;return i.push(this),i.sort(t.sortActions),1},t.prototype.recycleAsyncId=function(e,t,r){void 0===r&&(r=0)},t.prototype._execute=function(t,r){if(!0===this.active)return e.prototype._execute.call(this,t,r)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(pe),Be=new H((function(e){return e.complete()}));function Ue(e){return e?function(e){return new H((function(t){return e.schedule((function(){return t.complete()}))}))}(e):Be}function ze(e){return e&&g(e.schedule)}function qe(e){return e[e.length-1]}function Ge(e){return g(qe(e))?e.pop():void 0}function Ve(e){return ze(qe(e))?e.pop():void 0}function He(e,t){return"number"===typeof qe(e)?e.pop():t}var We=function(e){return e&&"number"===typeof e.length&&"function"!==typeof e};function Xe(e){return g(null===e||void 0===e?void 0:e.then)}function Ye(e){return g(e[z])}function Ke(e){return Symbol.asyncIterator&&g(null===e||void 0===e?void 0:e[Symbol.asyncIterator])}function Ze(e){return new TypeError("You provided "+(null!==e&&"object"===typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var $e,Je="function"===typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Qe(e){return g(null===e||void 0===e?void 0:e[Je])}function et(e){return m(this,arguments,(function(){var t,r,n;return c(this,(function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,p(t.read())];case 3:return r=i.sent(),n=r.value,r.done?[4,p(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,p(n)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function tt(e){return g(null===e||void 0===e?void 0:e.getReader)}function rt(e){if(e instanceof H)return e;if(null!=e){if(Ye(e))return i=e,new H((function(e){var t=i[z]();if(g(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(We(e))return n=e,new H((function(e){for(var t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()}));if(Xe(e))return r=e,new H((function(e){r.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,C)}));if(Ke(e))return nt(e);if(Qe(e))return t=e,new H((function(e){var r,n;try{for(var i=h(t),o=i.next();!o.done;o=i.next()){var a=o.value;if(e.next(a),e.closed)return}}catch(s){r={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}e.complete()}));if(tt(e))return nt(et(e))}var t,r,n,i;throw Ze(e)}function nt(e){return new H((function(t){(function(e,t){var r,n,i,o;return u(this,void 0,void 0,(function(){var a,s;return c(this,(function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),r=y(e),l.label=1;case 1:return[4,r.next()];case 2:if((n=l.sent()).done)return[3,4];if(a=n.value,t.next(a),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=l.sent(),i={error:s},[3,11];case 6:return l.trys.push([6,,9,10]),n&&!n.done&&(o=r.return)?[4,o.call(r)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function it(e,t,r,n,i){void 0===n&&(n=0),void 0===i&&(i=!1);var o=t.schedule((function(){r(),i?e.add(this.schedule(null,n)):this.unsubscribe()}),n);if(e.add(o),!i)return o}function ot(e,t){return void 0===t&&(t=0),Y((function(r,n){r.subscribe(K(n,(function(r){return it(n,e,(function(){return n.next(r)}),t)}),(function(){return it(n,e,(function(){return n.complete()}),t)}),(function(r){return it(n,e,(function(){return n.error(r)}),t)})))}))}function at(e,t){return void 0===t&&(t=0),Y((function(r,n){n.add(e.schedule((function(){return r.subscribe(n)}),t))}))}function st(e,t){return new H((function(r){var n;return it(r,t,(function(){n=e[Je](),it(r,t,(function(){var e,t,i;try{t=(e=n.next()).value,i=e.done}catch(o){return void r.error(o)}i?r.complete():r.next(t)}),0,!0)})),function(){return g(null===n||void 0===n?void 0:n.return)&&n.return()}}))}function lt(e,t){if(!e)throw new Error("Iterable cannot be null");return new H((function(r){it(r,t,(function(){var n=e[Symbol.asyncIterator]();it(r,t,(function(){n.next().then((function(e){e.done?r.complete():r.next(e.value)}))}),0,!0)}))}))}function ut(e,t){if(null!=e){if(Ye(e))return function(e,t){return rt(e).pipe(at(t),ot(t))}(e,t);if(We(e))return function(e,t){return new H((function(r){var n=0;return t.schedule((function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())}))}))}(e,t);if(Xe(e))return function(e,t){return rt(e).pipe(at(t),ot(t))}(e,t);if(Ke(e))return lt(e,t);if(Qe(e))return st(e,t);if(tt(e))return function(e,t){return lt(et(e),t)}(e,t)}throw Ze(e)}function ct(e,t){return t?ut(e,t):rt(e)}function ht(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ct(e,Ve(e))}function dt(e,t){var r=g(e)?e:function(){return e},n=function(e){return e.error(r())};return new H(t?function(e){return t.schedule(n,0,e)}:n)}!function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"}($e||($e={}));var ft=function(){function e(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}return e.prototype.observe=function(e){return pt(this,e)},e.prototype.do=function(e,t,r){var n=this,i=n.kind,o=n.value,a=n.error;return"N"===i?null===e||void 0===e?void 0:e(o):"E"===i?null===t||void 0===t?void 0:t(a):null===r||void 0===r?void 0:r()},e.prototype.accept=function(e,t,r){var n;return g(null===(n=e)||void 0===n?void 0:n.next)?this.observe(e):this.do(e,t,r)},e.prototype.toObservable=function(){var e=this,t=e.kind,r=e.value,n=e.error,i="N"===t?ht(r):"E"===t?dt((function(){return n})):"C"===t?Be:0;if(!i)throw new TypeError("Unexpected notification kind "+t);return i},e.createNext=function(t){return new e("N",t)},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e}();function pt(e,t){var r,n,i,o=e,a=o.kind,s=o.value,l=o.error;if("string"!==typeof a)throw new TypeError('Invalid notification, missing "kind"');"N"===a?null===(r=t.next)||void 0===r||r.call(t,s):"E"===a?null===(n=t.error)||void 0===n||n.call(t,l):null===(i=t.complete)||void 0===i||i.call(t)}function mt(e){return!!e&&(e instanceof H||g(e.lift)&&g(e.subscribe))}var yt=v((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}));function gt(e,t){var r="object"===typeof t;return new Promise((function(n,i){var o,a=!1;e.subscribe({next:function(e){o=e,a=!0},error:i,complete:function(){a?n(o):r?n(t.defaultValue):i(new yt)}})}))}function vt(e,t){var r="object"===typeof t;return new Promise((function(n,i){var o=new I({next:function(e){n(e),o.unsubscribe()},error:i,complete:function(){r?n(t.defaultValue):i(new yt)}});e.subscribe(o)}))}var bt=v((function(e){return function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}})),xt=v((function(e){return function(t){e(this),this.name="NotFoundError",this.message=t}})),wt=v((function(e){return function(t){e(this),this.name="SequenceError",this.message=t}}));function St(e){return e instanceof Date&&!isNaN(e)}var kt=v((function(e){return function(t){void 0===t&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}}));function _t(e,t){var r=St(e)?{first:e}:"number"===typeof e?{each:e}:e,n=r.first,i=r.each,o=r.with,a=void 0===o?jt:o,s=r.scheduler,l=void 0===s?null!==t&&void 0!==t?t:Ce:s,u=r.meta,c=void 0===u?null:u;if(null==n&&null==i)throw new TypeError("No timeout provided.");return Y((function(e,t){var r,o,s=null,u=0,h=function(e){o=it(t,l,(function(){try{r.unsubscribe(),rt(a({meta:c,lastValue:s,seen:u})).subscribe(t)}catch(e){t.error(e)}}),e)};r=e.subscribe(K(t,(function(e){null===o||void 0===o||o.unsubscribe(),u++,t.next(s=e),i>0&&h(i)}),void 0,void 0,(function(){(null===o||void 0===o?void 0:o.closed)||null===o||void 0===o||o.unsubscribe(),s=null}))),!u&&h(null!=n?"number"===typeof n?n:+n-l.now():i)}))}function jt(e){throw new kt(e)}function Mt(e,t){return Y((function(r,n){var i=0;r.subscribe(K(n,(function(r){n.next(e.call(t,r,i++))})))}))}var Ct=Array.isArray;function Pt(e){return Mt((function(t){return function(e,t){return Ct(t)?e.apply(void 0,f([],d(t))):e(t)}(e,t)}))}function Tt(e,t,r,n){if(r){if(!ze(r))return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return Tt(e,t,n).apply(this,i).pipe(Pt(r))};n=r}return n?function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return Tt(e,t).apply(this,r).pipe(at(n),ot(n))}:function(){for(var r=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o=new he,a=!0;return new H((function(i){var s=o.subscribe(i);if(a){a=!1;var l=!1,u=!1;t.apply(r,f(f([],d(n)),[function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(e){var n=t.shift();if(null!=n)return void o.error(n)}o.next(1<t.length?t:t[0]),u=!0,l&&o.complete()}])),u&&o.complete(),l=!0}return s}))}}function Et(e,t,r){return Tt(!1,e,t,r)}function Ot(e,t,r){return Tt(!0,e,t,r)}var At=Array.isArray,Lt=Object.getPrototypeOf,Nt=Object.prototype,Rt=Object.keys;function Dt(e){if(1===e.length){var t=e[0];if(At(t))return{args:t,keys:null};if((n=t)&&"object"===typeof n&&Lt(n)===Nt){var r=Rt(t);return{args:r.map((function(e){return t[e]})),keys:r}}}var n;return{args:e,keys:null}}function It(e,t){return e.reduce((function(e,r,n){return e[r]=t[n],e}),{})}function Ft(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Ve(e),n=Ge(e),i=Dt(e),o=i.args,a=i.keys;if(0===o.length)return ct([],r);var s=new H(Bt(o,r,a?function(e){return It(a,e)}:q));return n?s.pipe(Pt(n)):s}function Bt(e,t,r){return void 0===r&&(r=q),function(n){Ut(t,(function(){for(var i=e.length,o=new Array(i),a=i,s=i,l=function(i){Ut(t,(function(){var l=ct(e[i],t),u=!1;l.subscribe(K(n,(function(e){o[i]=e,u||(u=!0,s--),s||n.next(r(o.slice()))}),(function(){--a||n.complete()})))}),n)},u=0;u<i;u++)l(u)}),n)}}function Ut(e,t,r){e?it(r,e,t):t()}function zt(e,t,r,n,i,o,a,s){var l=[],u=0,c=0,h=!1,d=function(){!h||l.length||u||t.complete()},f=function(e){return u<n?p(e):l.push(e)},p=function e(s){o&&t.next(s),u++;var h=!1;rt(r(s,c++)).subscribe(K(t,(function(e){null===i||void 0===i||i(e),o?f(e):t.next(e)}),(function(){h=!0}),void 0,(function(){if(h)try{u--;for(var r=function(){var r=l.shift();a?it(t,a,(function(){return e(r)})):e(r)};l.length&&u<n;)r();d()}catch(i){t.error(i)}})))};return e.subscribe(K(t,f,(function(){h=!0,d()}))),function(){null===s||void 0===s||s()}}function qt(e,t,r){return void 0===r&&(r=1/0),g(t)?qt((function(r,n){return Mt((function(e,i){return t(r,e,n,i)}))(rt(e(r,n)))}),r):("number"===typeof t&&(r=t),Y((function(t,n){return zt(t,n,e,r)})))}function Gt(e){return void 0===e&&(e=1/0),qt(q,e)}function Vt(){return Gt(1)}function Ht(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Vt()(ct(e,Ve(e)))}function Wt(e){return new H((function(t){rt(e()).subscribe(t)}))}var Xt={connector:function(){return new ae},resetOnDisconnect:!0};function Yt(e,t){void 0===t&&(t=Xt);var r=null,n=t.connector,i=t.resetOnDisconnect,o=void 0===i||i,a=n(),s=new H((function(e){return a.subscribe(e)}));return s.connect=function(){return r&&!r.closed||(r=Wt((function(){return e})).subscribe(a),o&&r.add((function(){return a=n()}))),r},s}function Kt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Ge(e),n=Dt(e),i=n.args,o=n.keys,a=new H((function(e){var t=i.length;if(t)for(var r=new Array(t),n=t,a=t,s=function(t){var s=!1;rt(i[t]).subscribe(K(e,(function(e){s||(s=!0,a--),r[t]=e}),(function(){return n--}),void 0,(function(){n&&s||(a||e.next(o?It(o,r):r),e.complete())})))},l=0;l<t;l++)s(l);else e.complete()}));return r?a.pipe(Pt(r)):a}var Zt=["addListener","removeListener"],$t=["addEventListener","removeEventListener"],Jt=["on","off"];function Qt(e,t,r,n){if(g(r)&&(n=r,r=void 0),n)return Qt(e,t,r).pipe(Pt(n));var i=d(function(e){return g(e.addEventListener)&&g(e.removeEventListener)}(e)?$t.map((function(n){return function(i){return e[n](t,i,r)}})):function(e){return g(e.addListener)&&g(e.removeListener)}(e)?Zt.map(er(e,t)):function(e){return g(e.on)&&g(e.off)}(e)?Jt.map(er(e,t)):[],2),o=i[0],a=i[1];if(!o&&We(e))return qt((function(e){return Qt(e,t,r)}))(rt(e));if(!o)throw new TypeError("Invalid event target");return new H((function(e){var t=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.next(1<t.length?t:t[0])};return o(t),function(){return a(t)}}))}function er(e,t){return function(r){return function(n){return e[r](t,n)}}}function tr(e,t,r){return r?tr(e,t).pipe(Pt(r)):new H((function(r){var n=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.next(1===e.length?e[0]:e)},i=e(n);return g(t)?function(){return t(n,i)}:void 0}))}function rr(e,t,r,n,i){var o,a,s,l;function u(){var e;return c(this,(function(n){switch(n.label){case 0:e=l,n.label=1;case 1:return t&&!t(e)?[3,4]:[4,s(e)];case 2:n.sent(),n.label=3;case 3:return e=r(e),[3,1];case 4:return[2]}}))}return 1===arguments.length?(l=(o=e).initialState,t=o.condition,r=o.iterate,a=o.resultSelector,s=void 0===a?q:a,i=o.scheduler):(l=e,!n||ze(n)?(s=q,i=n):s=n),Wt(i?function(){return st(u(),i)}:u)}function nr(e,t,r){return Wt((function(){return e()?t:r}))}function ir(e,t,r){void 0===e&&(e=0),void 0===r&&(r=Pe);var n=-1;return null!=t&&(ze(t)?r=t:n=t),new H((function(t){var i=St(e)?+e-r.now():e;i<0&&(i=0);var o=0;return r.schedule((function(){t.closed||(t.next(o++),0<=n?this.schedule(void 0,n):t.complete())}),i)}))}function or(e,t){return void 0===e&&(e=0),void 0===t&&(t=Ce),e<0&&(e=0),ir(e,e,t)}function ar(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Ve(e),n=He(e,1/0),i=e;return i.length?1===i.length?rt(i[0]):Gt(n)(ct(i,r)):Be}var sr=new H(P);function lr(){return sr}var ur=Array.isArray;function cr(e){return 1===e.length&&ur(e[0])?e[0]:e}function hr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=cr(e);return new H((function(e){var t=0;!function n(){if(t<r.length){var i=void 0;try{i=rt(r[t++])}catch(a){return void n()}var o=new Z(e,void 0,P,P);i.subscribe(o),o.add(n)}else e.complete()}()}))}function dr(e,t){return ct(Object.entries(e),t)}function fr(e,t){return function(r,n){return!e.call(t,r,n)}}function pr(e,t){return Y((function(r,n){var i=0;r.subscribe(K(n,(function(r){return e.call(t,r,i++)&&n.next(r)})))}))}function mr(e,t,r){return[pr(t,r)(rt(e)),pr(fr(t,r))(rt(e))]}function yr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===(e=cr(e)).length?rt(e[0]):new H(gr(e))}function gr(e){return function(t){for(var r=[],n=function(n){r.push(rt(e[n]).subscribe(K(t,(function(e){if(r){for(var i=0;i<r.length;i++)i!==n&&r[i].unsubscribe();r=null}t.next(e)}))))},i=0;r&&!t.closed&&i<e.length;i++)n(i)}}function vr(e,t,r){if(null==t&&(t=e,e=0),t<=0)return Be;var n=t+e;return new H(r?function(t){var i=e;return r.schedule((function(){i<n?(t.next(i++),this.schedule()):t.complete()}))}:function(t){for(var r=e;r<n&&!t.closed;)t.next(r++);t.complete()})}function br(e,t){return new H((function(r){var n=e(),i=t(n);return(i?rt(i):Be).subscribe(r),function(){n&&n.unsubscribe()}}))}function xr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Ge(e),n=cr(e);return n.length?new H((function(e){var t=n.map((function(){return[]})),i=n.map((function(){return!1}));e.add((function(){t=i=null}));for(var o=function(o){rt(n[o]).subscribe(K(e,(function(n){if(t[o].push(n),t.every((function(e){return e.length}))){var a=t.map((function(e){return e.shift()}));e.next(r?r.apply(void 0,f([],d(a))):a),t.some((function(e,t){return!e.length&&i[t]}))&&e.complete()}}),(function(){i[o]=!0,!t[o].length&&e.complete()})))},a=0;!e.closed&&a<n.length;a++)o(a);return function(){t=i=null}})):Be}function wr(e){return Y((function(t,r){var n=!1,i=null,o=null,a=!1,s=function(){if(null===o||void 0===o||o.unsubscribe(),o=null,n){n=!1;var e=i;i=null,r.next(e)}a&&r.complete()},l=function(){o=null,a&&r.complete()};t.subscribe(K(r,(function(t){n=!0,i=t,o||rt(e(t)).subscribe(o=K(r,s,l))}),(function(){a=!0,(!n||!o||o.closed)&&r.complete()})))}))}function Sr(e,t){return void 0===t&&(t=Ce),wr((function(){return ir(e,t)}))}function kr(e){return Y((function(t,r){var n=[];return t.subscribe(K(r,(function(e){return n.push(e)}),(function(){r.next(n),r.complete()}))),rt(e).subscribe(K(r,(function(){var e=n;n=[],r.next(e)}),P)),function(){n=null}}))}function _r(e,t){return void 0===t&&(t=null),t=null!==t&&void 0!==t?t:e,Y((function(r,n){var i=[],o=0;r.subscribe(K(n,(function(r){var a,s,l,u,c=null;o++%t===0&&i.push([]);try{for(var d=h(i),f=d.next();!f.done;f=d.next()){(y=f.value).push(r),e<=y.length&&(c=null!==c&&void 0!==c?c:[]).push(y)}}catch(g){a={error:g}}finally{try{f&&!f.done&&(s=d.return)&&s.call(d)}finally{if(a)throw a.error}}if(c)try{for(var p=h(c),m=p.next();!m.done;m=p.next()){var y=m.value;x(i,y),n.next(y)}}catch(v){l={error:v}}finally{try{m&&!m.done&&(u=p.return)&&u.call(p)}finally{if(l)throw l.error}}}),(function(){var e,t;try{for(var r=h(i),o=r.next();!o.done;o=r.next()){var a=o.value;n.next(a)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}n.complete()}),void 0,(function(){i=null})))}))}function jr(e){for(var t,r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=null!==(t=Ve(n))&&void 0!==t?t:Ce,a=null!==(r=n[0])&&void 0!==r?r:null,s=n[1]||1/0;return Y((function(t,r){var n=[],i=!1,l=function(e){var t=e.buffer;e.subs.unsubscribe(),x(n,e),r.next(t),i&&u()},u=function(){if(n){var t=new w;r.add(t);var i={buffer:[],subs:t};n.push(i),it(t,o,(function(){return l(i)}),e)}};null!==a&&a>=0?it(r,o,u,a,!0):i=!0,u();var c=K(r,(function(e){var t,r,i=n.slice();try{for(var o=h(i),a=o.next();!a.done;a=o.next()){var u=a.value,c=u.buffer;c.push(e),s<=c.length&&l(u)}}catch(d){t={error:d}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}}),(function(){for(;null===n||void 0===n?void 0:n.length;)r.next(n.shift().buffer);null===c||void 0===c||c.unsubscribe(),r.complete(),r.unsubscribe()}),void 0,(function(){return n=null}));t.subscribe(c)}))}function Mr(e,t){return Y((function(r,n){var i=[];rt(e).subscribe(K(n,(function(e){var r=[];i.push(r);var o=new w;o.add(rt(t(e)).subscribe(K(n,(function(){x(i,r),n.next(r),o.unsubscribe()}),P)))}),P)),r.subscribe(K(n,(function(e){var t,r;try{for(var n=h(i),o=n.next();!o.done;o=n.next()){o.value.push(e)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}}),(function(){for(;i.length>0;)n.next(i.shift());n.complete()})))}))}function Cr(e){return Y((function(t,r){var n=null,i=null;!function t(){null===i||void 0===i||i.unsubscribe();var o=n;n=[],o&&r.next(o),rt(e()).subscribe(i=K(r,t,P))}(),t.subscribe(K(r,(function(e){return null===n||void 0===n?void 0:n.push(e)}),(function(){n&&r.next(n),r.complete()}),void 0,(function(){return n=i=null})))}))}function Pr(e){return Y((function(t,r){var n,i=null,o=!1;i=t.subscribe(K(r,void 0,void 0,(function(a){n=rt(e(a,Pr(e)(t))),i?(i.unsubscribe(),i=null,n.subscribe(r)):o=!0}))),o&&(i.unsubscribe(),i=null,n.subscribe(r))}))}function Tr(e,t,r,n,i){return function(o,a){var s=r,l=t,u=0;o.subscribe(K(a,(function(t){var r=u++;l=s?e(l,t,r):(s=!0,t),n&&a.next(l)}),i&&function(){s&&a.next(l),a.complete()}))}}function Er(e,t){return Y(Tr(e,t,arguments.length>=2,!1,!0))}var Or=function(e,t){return e.push(t),e};function Ar(){return Y((function(e,t){Er(Or,[])(e).subscribe(t)}))}function Lr(e,t){return G(Ar(),qt((function(t){return e(t)})),t?Pt(t):q)}function Nr(e){return Lr(Ft,e)}var Rr=Nr;function Dr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Ge(e);return r?G(Dr.apply(void 0,f([],d(e))),Pt(r)):Y((function(t,r){Bt(f([t],d(cr(e))))(r)}))}function Ir(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Dr.apply(void 0,f([],d(e)))}function Fr(e,t){return g(t)?qt(e,t,1):qt(e,1)}function Br(e,t){return g(t)?Fr((function(){return e}),t):Fr((function(){return e}))}function Ur(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Ve(e);return Y((function(t,n){Vt()(ct(f([t],d(e)),r)).subscribe(n)}))}function zr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Ur.apply(void 0,f([],d(e)))}var qr={connector:function(){return new ae}};function Gr(e,t){void 0===t&&(t=qr);var r=t.connector;return Y((function(t,n){var i,o=r();rt(e((i=o,new H((function(e){return i.subscribe(e)}))))).subscribe(n),n.add(t.subscribe(o))}))}function Vr(e){return Er((function(t,r,n){return!e||e(r,n)?t+1:t}),0)}function Hr(e){return Y((function(t,r){var n=!1,i=null,o=null,a=function(){if(null===o||void 0===o||o.unsubscribe(),o=null,n){n=!1;var e=i;i=null,r.next(e)}};t.subscribe(K(r,(function(t){null===o||void 0===o||o.unsubscribe(),n=!0,i=t,o=K(r,a,P),rt(e(t)).subscribe(o)}),(function(){a(),r.complete()}),void 0,(function(){i=o=null})))}))}function Wr(e,t){return void 0===t&&(t=Ce),Y((function(r,n){var i=null,o=null,a=null,s=function(){if(i){i.unsubscribe(),i=null;var e=o;o=null,n.next(e)}};function l(){var r=a+e,o=t.now();if(o<r)return i=this.schedule(void 0,r-o),void n.add(i);s()}r.subscribe(K(n,(function(r){o=r,a=t.now(),i||(i=t.schedule(l,e),n.add(i))}),(function(){s(),n.complete()}),void 0,(function(){o=i=null})))}))}function Xr(e){return Y((function(t,r){var n=!1;t.subscribe(K(r,(function(e){n=!0,r.next(e)}),(function(){n||r.next(e),r.complete()})))}))}function Yr(e){return e<=0?function(){return Be}:Y((function(t,r){var n=0;t.subscribe(K(r,(function(t){++n<=e&&(r.next(t),e<=n&&r.complete())})))}))}function Kr(){return Y((function(e,t){e.subscribe(K(t,P))}))}function Zr(e){return Mt((function(){return e}))}function $r(e,t){return t?function(r){return Ht(t.pipe(Yr(1),Kr()),r.pipe($r(e)))}:qt((function(t,r){return rt(e(t,r)).pipe(Yr(1),Zr(t))}))}function Jr(e,t){void 0===t&&(t=Ce);var r=ir(e,t);return $r((function(){return r}))}function Qr(){return Y((function(e,t){e.subscribe(K(t,(function(e){return pt(e,t)})))}))}function en(e,t){return Y((function(r,n){var i=new Set;r.subscribe(K(n,(function(t){var r=e?e(t):t;i.has(r)||(i.add(r),n.next(t))}))),t&&rt(t).subscribe(K(n,(function(){return i.clear()}),P))}))}function tn(e,t){return void 0===t&&(t=q),e=null!==e&&void 0!==e?e:rn,Y((function(r,n){var i,o=!0;r.subscribe(K(n,(function(r){var a=t(r);!o&&e(i,a)||(o=!1,i=a,n.next(r))})))}))}function rn(e,t){return e===t}function nn(e,t){return tn((function(r,n){return t?t(r[e],n[e]):r[e]===n[e]}))}function on(e){return void 0===e&&(e=an),Y((function(t,r){var n=!1;t.subscribe(K(r,(function(e){n=!0,r.next(e)}),(function(){return n?r.complete():r.error(e())})))}))}function an(){return new yt}function sn(e,t){if(e<0)throw new bt;var r=arguments.length>=2;return function(n){return n.pipe(pr((function(t,r){return r===e})),Yr(1),r?Xr(t):on((function(){return new bt})))}}function ln(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return Ht(t,ht.apply(void 0,f([],d(e))))}}function un(e,t){return Y((function(r,n){var i=0;r.subscribe(K(n,(function(o){e.call(t,o,i++,r)||(n.next(!1),n.complete())}),(function(){n.next(!0),n.complete()})))}))}function cn(e,t){return t?function(r){return r.pipe(cn((function(r,n){return rt(e(r,n)).pipe(Mt((function(e,i){return t(r,e,n,i)})))})))}:Y((function(t,r){var n=0,i=null,o=!1;t.subscribe(K(r,(function(t){i||(i=K(r,void 0,(function(){i=null,o&&r.complete()})),rt(e(t,n++)).subscribe(i))}),(function(){o=!0,!i&&r.complete()})))}))}function hn(){return cn(q)}var dn=hn;function fn(e,t,r){return void 0===t&&(t=1/0),t=(t||0)<1?1/0:t,Y((function(n,i){return zt(n,i,e,t,void 0,!0,r)}))}function pn(e){return Y((function(t,r){try{t.subscribe(r)}finally{r.add(e)}}))}function mn(e,t){return Y(yn(e,t,"value"))}function yn(e,t,r){var n="index"===r;return function(r,i){var o=0;r.subscribe(K(i,(function(a){var s=o++;e.call(t,a,s,r)&&(i.next(n?s:a),i.complete())}),(function(){i.next(n?-1:void 0),i.complete()})))}}function gn(e,t){return Y(yn(e,t,"index"))}function vn(e,t){var r=arguments.length>=2;return function(n){return n.pipe(e?pr((function(t,r){return e(t,r,n)})):q,Yr(1),r?Xr(t):on((function(){return new yt})))}}function bn(e,t,r,n){return Y((function(i,o){var a;t&&"function"!==typeof t?(r=t.duration,a=t.element,n=t.connector):a=t;var s=new Map,l=function(e){s.forEach(e),e(o)},u=function(e){return l((function(t){return t.error(e)}))},c=0,h=!1,d=new Z(o,(function(t){try{var i=e(t),l=s.get(i);if(!l){s.set(i,l=n?n():new ae);var f=function(e,t){var r=new H((function(e){c++;var r=t.subscribe(e);return function(){r.unsubscribe(),0===--c&&h&&d.unsubscribe()}}));return r.key=e,r}(i,l);if(o.next(f),r){var p=K(l,(function(){l.complete(),null===p||void 0===p||p.unsubscribe()}),void 0,void 0,(function(){return s.delete(i)}));d.add(rt(r(f)).subscribe(p))}}l.next(a?a(t):t)}catch(m){u(m)}}),(function(){return l((function(e){return e.complete()}))}),u,(function(){return s.clear()}),(function(){return h=!0,0===c}));i.subscribe(d)}))}function xn(){return Y((function(e,t){e.subscribe(K(t,(function(){t.next(!1),t.complete()}),(function(){t.next(!0),t.complete()})))}))}function wn(e){return e<=0?function(){return Be}:Y((function(t,r){var n=[];t.subscribe(K(r,(function(t){n.push(t),e<n.length&&n.shift()}),(function(){var e,t;try{for(var i=h(n),o=i.next();!o.done;o=i.next()){var a=o.value;r.next(a)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}r.complete()}),void 0,(function(){n=null})))}))}function Sn(e,t){var r=arguments.length>=2;return function(n){return n.pipe(e?pr((function(t,r){return e(t,r,n)})):q,wn(1),r?Xr(t):on((function(){return new yt})))}}function kn(){return Y((function(e,t){e.subscribe(K(t,(function(e){t.next(ft.createNext(e))}),(function(){t.next(ft.createComplete()),t.complete()}),(function(e){t.next(ft.createError(e)),t.complete()})))}))}function _n(e){return Er(g(e)?function(t,r){return e(t,r)>0?t:r}:function(e,t){return e>t?e:t})}var jn=qt;function Mn(e,t,r){return void 0===r&&(r=1/0),g(t)?qt((function(){return e}),t,r):("number"===typeof t&&(r=t),qt((function(){return e}),r))}function Cn(e,t,r){return void 0===r&&(r=1/0),Y((function(n,i){var o=t;return zt(n,i,(function(t,r){return e(o,t,r)}),r,(function(e){o=e}),!1,void 0,(function(){return o=null}))}))}function Pn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Ve(e),n=He(e,1/0);return e=cr(e),Y((function(t,i){Gt(n)(ct(f([t],d(e)),r)).subscribe(i)}))}function Tn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Pn.apply(void 0,f([],d(e)))}function En(e){return Er(g(e)?function(t,r){return e(t,r)<0?t:r}:function(e,t){return e<t?e:t})}function On(e,t){var r=g(e)?e:function(){return e};return g(t)?Gr(t,{connector:r}):function(e){return new J(e,r)}}function An(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=cr(e);return function(e){return hr.apply(void 0,f([e],d(r)))}}function Ln(){return Y((function(e,t){var r,n=!1;e.subscribe(K(t,(function(e){var i=r;r=e,n&&t.next([i,e]),n=!0})))}))}function Nn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.length;if(0===r)throw new Error("list of properties cannot be empty.");return Mt((function(t){for(var n=t,i=0;i<r;i++){var o=null===n||void 0===n?void 0:n[e[i]];if("undefined"===typeof o)return;n=o}return n}))}function Rn(e){return e?function(t){return Gr(e)(t)}:function(e){return On(new ae)(e)}}function Dn(e){return function(t){var r=new le(e);return new J(t,(function(){return r}))}}function In(){return function(e){var t=new he;return new J(e,(function(){return t}))}}function Fn(e,t,r,n){r&&!g(r)&&(n=r);var i=g(r)?r:void 0;return function(r){return On(new ce(e,t,n),i)(r)}}function Bn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length?Y((function(t,r){gr(f([t],d(e)))(r)})):q}function Un(e){var t,r,n=1/0;return null!=e&&("object"===typeof e?(t=e.count,n=void 0===t?1/0:t,r=e.delay):n=e),n<=0?function(){return Be}:Y((function(e,t){var i,o=0,a=function(){if(null===i||void 0===i||i.unsubscribe(),i=null,null!=r){var e="number"===typeof r?ir(r):rt(r(o)),n=K(t,(function(){n.unsubscribe(),s()}));e.subscribe(n)}else s()},s=function(){var r=!1;i=e.subscribe(K(t,void 0,(function(){++o<n?i?a():r=!0:t.complete()}))),r&&a()};s()}))}function zn(e){return Y((function(t,r){var n,i,o=!1,a=!1,s=!1,l=function(){return s&&a&&(r.complete(),!0)},u=function(){return i||(i=new ae,rt(e(i)).subscribe(K(r,(function(){n?c():o=!0}),(function(){a=!0,l()})))),i},c=function e(){s=!1,n=t.subscribe(K(r,void 0,(function(){s=!0,!l()&&u().next()}))),o&&(n.unsubscribe(),n=null,o=!1,e())};c()}))}function qn(e){var t;void 0===e&&(e=1/0);var r=(t=e&&"object"===typeof e?e:{count:e}).count,n=void 0===r?1/0:r,i=t.delay,o=t.resetOnSuccess,a=void 0!==o&&o;return n<=0?q:Y((function(e,t){var r,o=0;!function s(){var l=!1;r=e.subscribe(K(t,(function(e){a&&(o=0),t.next(e)}),void 0,(function(e){if(o++<n){var a=function(){r?(r.unsubscribe(),r=null,s()):l=!0};if(null!=i){var u="number"===typeof i?ir(i):rt(i(e,o)),c=K(t,(function(){c.unsubscribe(),a()}),(function(){t.complete()}));u.subscribe(c)}else a()}else t.error(e)}))),l&&(r.unsubscribe(),r=null,s())}()}))}function Gn(e){return Y((function(t,r){var n,i,o=!1;!function a(){n=t.subscribe(K(r,void 0,void 0,(function(t){i||(i=new ae,rt(e(i)).subscribe(K(r,(function(){return n?a():o=!0})))),i&&i.next(t)}))),o&&(n.unsubscribe(),n=null,o=!1,a())}()}))}function Vn(e){return Y((function(t,r){var n=!1,i=null;t.subscribe(K(r,(function(e){n=!0,i=e}))),rt(e).subscribe(K(r,(function(){if(n){n=!1;var e=i;i=null,r.next(e)}}),P))}))}function Hn(e,t){return void 0===t&&(t=Ce),Vn(or(e,t))}function Wn(e,t){return Y(Tr(e,t,arguments.length>=2,!0))}function Xn(e,t){return void 0===t&&(t=function(e,t){return e===t}),Y((function(r,n){var i={buffer:[],complete:!1},o={buffer:[],complete:!1},a=function(e){n.next(e),n.complete()},s=function(e,r){var i=K(n,(function(n){var i=r.buffer,o=r.complete;0===i.length?o?a(!1):e.buffer.push(n):!t(n,i.shift())&&a(!1)}),(function(){e.complete=!0;var t=r.complete,n=r.buffer;t&&a(0===n.length),null===i||void 0===i||i.unsubscribe()}));return i};r.subscribe(s(i,o)),rt(e).subscribe(s(o,i))}))}function Yn(e){void 0===e&&(e={});var t=e.connector,r=void 0===t?function(){return new ae}:t,n=e.resetOnError,i=void 0===n||n,o=e.resetOnComplete,a=void 0===o||o,s=e.resetOnRefCountZero,l=void 0===s||s;return function(e){var t,n,o,s=0,u=!1,c=!1,h=function(){null===n||void 0===n||n.unsubscribe(),n=void 0},d=function(){h(),t=o=void 0,u=c=!1},f=function(){var e=t;d(),null===e||void 0===e||e.unsubscribe()};return Y((function(e,p){s++,c||u||h();var m=o=null!==o&&void 0!==o?o:r();p.add((function(){0!==--s||c||u||(n=Kn(f,l))})),m.subscribe(p),!t&&s>0&&(t=new I({next:function(e){return m.next(e)},error:function(e){c=!0,h(),n=Kn(d,i,e),m.error(e)},complete:function(){u=!0,h(),n=Kn(d,a),m.complete()}}),rt(e).subscribe(t))}))(e)}}function Kn(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(!0!==t){if(!1!==t){var i=new I({next:function(){i.unsubscribe(),e()}});return rt(t.apply(void 0,f([],d(r)))).subscribe(i)}}else e()}function Zn(e,t,r){var n,i,o,a,s=!1;return e&&"object"===typeof e?(n=e.bufferSize,a=void 0===n?1/0:n,i=e.windowTime,t=void 0===i?1/0:i,s=void 0!==(o=e.refCount)&&o,r=e.scheduler):a=null!==e&&void 0!==e?e:1/0,Yn({connector:function(){return new ce(a,t,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function $n(e){return Y((function(t,r){var n,i=!1,o=!1,a=0;t.subscribe(K(r,(function(s){o=!0,e&&!e(s,a++,t)||(i&&r.error(new wt("Too many matching values")),i=!0,n=s)}),(function(){i?(r.next(n),r.complete()):r.error(o?new xt("No matching values"):new yt)})))}))}function Jn(e){return pr((function(t,r){return e<=r}))}function Qn(e){return e<=0?q:Y((function(t,r){var n=new Array(e),i=0;return t.subscribe(K(r,(function(t){var o=i++;if(o<e)n[o]=t;else{var a=o%e,s=n[a];n[a]=t,r.next(s)}}))),function(){n=null}}))}function ei(e){return Y((function(t,r){var n=!1,i=K(r,(function(){null===i||void 0===i||i.unsubscribe(),n=!0}),P);rt(e).subscribe(i),t.subscribe(K(r,(function(e){return n&&r.next(e)})))}))}function ti(e){return Y((function(t,r){var n=!1,i=0;t.subscribe(K(r,(function(t){return(n||(n=!e(t,i++)))&&r.next(t)})))}))}function ri(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Ve(e);return Y((function(t,n){(r?Ht(e,t,r):Ht(e,t)).subscribe(n)}))}function ni(e,t){return Y((function(r,n){var i=null,o=0,a=!1,s=function(){return a&&!i&&n.complete()};r.subscribe(K(n,(function(r){null===i||void 0===i||i.unsubscribe();var a=0,l=o++;rt(e(r,l)).subscribe(i=K(n,(function(e){return n.next(t?t(r,e,l,a++):e)}),(function(){i=null,s()})))}),(function(){a=!0,s()})))}))}function ii(){return ni(q)}function oi(e,t){return g(t)?ni((function(){return e}),t):ni((function(){return e}))}function ai(e,t){return Y((function(r,n){var i=t;return ni((function(t,r){return e(i,t,r)}),(function(e,t){return i=t,t}))(r).subscribe(n),function(){i=null}}))}function si(e){return Y((function(t,r){rt(e).subscribe(K(r,(function(){return r.complete()}),P)),!r.closed&&t.subscribe(r)}))}function li(e,t){return void 0===t&&(t=!1),Y((function(r,n){var i=0;r.subscribe(K(n,(function(r){var o=e(r,i++);(o||t)&&n.next(r),!o&&n.complete()})))}))}function ui(e,t,r){var n=g(e)||t||r?{next:e,error:t,complete:r}:e;return n?Y((function(e,t){var r;null===(r=n.subscribe)||void 0===r||r.call(n);var i=!0;e.subscribe(K(t,(function(e){var r;null===(r=n.next)||void 0===r||r.call(n,e),t.next(e)}),(function(){var e;i=!1,null===(e=n.complete)||void 0===e||e.call(n),t.complete()}),(function(e){var r;i=!1,null===(r=n.error)||void 0===r||r.call(n,e),t.error(e)}),(function(){var e,t;i&&(null===(e=n.unsubscribe)||void 0===e||e.call(n)),null===(t=n.finalize)||void 0===t||t.call(n)})))})):q}var ci={leading:!0,trailing:!1};function hi(e,t){return void 0===t&&(t=ci),Y((function(r,n){var i=t.leading,o=t.trailing,a=!1,s=null,l=null,u=!1,c=function(){null===l||void 0===l||l.unsubscribe(),l=null,o&&(f(),u&&n.complete())},h=function(){l=null,u&&n.complete()},d=function(t){return l=rt(e(t)).subscribe(K(n,c,h))},f=function(){if(a){a=!1;var e=s;s=null,n.next(e),!u&&d(e)}};r.subscribe(K(n,(function(e){a=!0,s=e,(!l||l.closed)&&(i?f():d(e))}),(function(){u=!0,(!(o&&a&&l)||l.closed)&&n.complete()})))}))}function di(e,t,r){void 0===t&&(t=Ce),void 0===r&&(r=ci);var n=ir(e,t);return hi((function(){return n}),r)}function fi(e){return void 0===e&&(e=Ce),Y((function(t,r){var n=e.now();t.subscribe(K(r,(function(t){var i=e.now(),o=i-n;n=i,r.next(new pi(t,o))})))}))}var pi=function(e,t){this.value=e,this.interval=t};function mi(e,t,r){var n,i,o;if(r=null!==r&&void 0!==r?r:Pe,St(e)?n=e:"number"===typeof e&&(i=e),!t)throw new TypeError("No observable provided to switch to");if(o=function(){return t},null==n&&null==i)throw new TypeError("No timeout provided.");return _t({first:n,each:i,scheduler:r,with:o})}function yi(e){return void 0===e&&(e=ue),Mt((function(t){return{value:t,timestamp:e.now()}}))}function gi(e){return Y((function(t,r){var n=new ae;r.next(n.asObservable());var i=function(e){n.error(e),r.error(e)};return t.subscribe(K(r,(function(e){return null===n||void 0===n?void 0:n.next(e)}),(function(){n.complete(),r.complete()}),i)),rt(e).subscribe(K(r,(function(){n.complete(),r.next(n=new ae)}),P,i)),function(){null===n||void 0===n||n.unsubscribe(),n=null}}))}function vi(e,t){void 0===t&&(t=0);var r=t>0?t:e;return Y((function(t,n){var i=[new ae],o=0;n.next(i[0].asObservable()),t.subscribe(K(n,(function(t){var a,s;try{for(var l=h(i),u=l.next();!u.done;u=l.next()){u.value.next(t)}}catch(f){a={error:f}}finally{try{u&&!u.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}var c=o-e+1;if(c>=0&&c%r===0&&i.shift().complete(),++o%r===0){var d=new ae;i.push(d),n.next(d.asObservable())}}),(function(){for(;i.length>0;)i.shift().complete();n.complete()}),(function(e){for(;i.length>0;)i.shift().error(e);n.error(e)}),(function(){null,i=null})))}))}function bi(e){for(var t,r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=null!==(t=Ve(n))&&void 0!==t?t:Ce,a=null!==(r=n[0])&&void 0!==r?r:null,s=n[1]||1/0;return Y((function(t,r){var n=[],i=!1,l=function(e){var t=e.window,r=e.subs;t.complete(),r.unsubscribe(),x(n,e),i&&u()},u=function(){if(n){var t=new w;r.add(t);var i=new ae,a={window:i,subs:t,seen:0};n.push(a),r.next(i.asObservable()),it(t,o,(function(){return l(a)}),e)}};null!==a&&a>=0?it(r,o,u,a,!0):i=!0,u();var c=function(e){return n.slice().forEach(e)},h=function(e){c((function(t){var r=t.window;return e(r)})),e(r),r.unsubscribe()};return t.subscribe(K(r,(function(e){c((function(t){t.window.next(e),s<=++t.seen&&l(t)}))}),(function(){return h((function(e){return e.complete()}))}),(function(e){return h((function(t){return t.error(e)}))}))),function(){n=null}}))}function xi(e,t){return Y((function(r,n){var i=[],o=function(e){for(;0<i.length;)i.shift().error(e);n.error(e)};rt(e).subscribe(K(n,(function(e){var r=new ae;i.push(r);var a,s=new w;try{a=rt(t(e))}catch(l){return void o(l)}n.next(r.asObservable()),s.add(a.subscribe(K(n,(function(){x(i,r),r.complete(),s.unsubscribe()}),P,o)))}),P)),r.subscribe(K(n,(function(e){var t,r,n=i.slice();try{for(var o=h(n),a=o.next();!a.done;a=o.next()){a.value.next(e)}}catch(s){t={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}}),(function(){for(;0<i.length;)i.shift().complete();n.complete()}),o,(function(){for(;0<i.length;)i.shift().unsubscribe()})))}))}function wi(e){return Y((function(t,r){var n,i,o=function(e){n.error(e),r.error(e)};!function t(){var a;null===i||void 0===i||i.unsubscribe(),null===n||void 0===n||n.complete(),n=new ae,r.next(n.asObservable());try{a=rt(e())}catch(s){return void o(s)}a.subscribe(i=K(r,t,t,o))}(),t.subscribe(K(r,(function(e){return n.next(e)}),(function(){n.complete(),r.complete()}),o,(function(){null===i||void 0===i||i.unsubscribe(),n=null})))}))}function Si(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Ge(e);return Y((function(t,n){for(var i=e.length,o=new Array(i),a=e.map((function(){return!1})),s=!1,l=function(t){rt(e[t]).subscribe(K(n,(function(e){o[t]=e,s||a[t]||(a[t]=!0,(s=a.every(q))&&(a=null))}),P))},u=0;u<i;u++)l(u);t.subscribe(K(n,(function(e){if(s){var t=f([e],d(o));n.next(r?r.apply(void 0,f([],d(t))):t)}})))}))}function ki(e){return Lr(xr,e)}function _i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Y((function(t,r){xr.apply(void 0,f([t],d(e))).subscribe(r)}))}function ji(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return _i.apply(void 0,f([],d(e)))}var Mi=__webpack_require__(1193),Ci=(__webpack_require__(5683),__webpack_require__(3985),__webpack_require__(2322),__webpack_require__(3897),__webpack_require__(2304),__webpack_require__(8306),__webpack_require__(2088),__webpack_require__(8045),__webpack_require__(2219),__webpack_require__(7430),__webpack_require__(1804),__webpack_require__(7070),__webpack_require__(184)),Pi={mode:"javascript",theme:"material",lineNumbers:!0,lineWrapping:!0,smartIndent:!0,foldGutter:!0,gutters:["CodeMirror-lint-markers","CodeMirror-linenumbers","CodeMirror-foldgutter"],keyMap:"sublime",matchBrackets:!0,extraKeys:{"Ctrl-Space":"autocomplete"},hintOptions:{},styleActiveLine:!0,styleActiveSelected:!0,indentUnit:4,indentWithTabs:!0,highlightSelectionMatches:{minChars:2,showToken:/Hello/,style:"matchhighlight"}};function Ti(e){var t=e.visualCode,r=e.changeVisualCode,n=e.codeErrorMessage;return(0,Ci.jsxs)("div",{style:{maxWidth:"100%",height:"100%",display:"flex",flexDirection:"column"},children:[(0,Ci.jsx)("div",{style:{flex:"1",maxWidth:"100%",overflow:"auto"},children:(0,Ci.jsx)("div",{id:"editor",style:{maxWidth:"100%",height:"100%"},children:(0,Ci.jsx)(Mi.fk,{className:"CodeMirror",value:t,onBeforeChange:function(e,t,n){e.showHint({completeSingle:!1}),r(n)},options:Pi,style:{maxWidth:"100%"}})})}),n&&(0,Ci.jsx)("div",{style:{flex:"0 0 auto",width:"99%"},children:(0,Ci.jsx)("textarea",{value:"Error message: ".concat(n.message,"\nError stack:\n").concat(n.stack),className:"error-message",style:{width:"100%",height:"auto",minHeight:"150px",backgroundColor:"gray"}})})]})}__webpack_require__(4454);function Ei(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Oi=__webpack_require__(9142);function Ai(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(0,Oi.Z)(n.key),n)}}function Li(e,t,r){return t&&Ai(e.prototype,t),r&&Ai(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Ni,Ri="#EEEEFF",Di="#FFFFFF",Ii="#777777",Fi="#FF6666",Bi="#FFDD77",Ui=new Uint8Array(16);function zi(){if(!Ni&&!(Ni="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ni(Ui)}var qi=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Gi=function(e){return"string"===typeof e&&qi.test(e)},Vi=[],Hi=0;Hi<256;++Hi)Vi.push((Hi+256).toString(16).substr(1));var Wi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(Vi[e[t+0]]+Vi[e[t+1]]+Vi[e[t+2]]+Vi[e[t+3]]+"-"+Vi[e[t+4]]+Vi[e[t+5]]+"-"+Vi[e[t+6]]+Vi[e[t+7]]+"-"+Vi[e[t+8]]+Vi[e[t+9]]+"-"+Vi[e[t+10]]+Vi[e[t+11]]+Vi[e[t+12]]+Vi[e[t+13]]+Vi[e[t+14]]+Vi[e[t+15]]).toLowerCase();if(!Gi(r))throw TypeError("Stringified UUID is invalid");return r};var Xi=function(e,t,r){var n=(e=e||{}).random||(e.rng||zi)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return Wi(n)},Yi=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;Ei(this,e),this.id=i||Xi(),this.name=r||"#OBS".concat(t),this.code=n||"// You can declare global variables in the following way:\n// GLOB[\"global_var\"] = \"test\"\n\n//Observable\nobservable = rxjs.fromEvent(document, 'keydown')\n                 .pipe(rxjs.filter(event => event.code === 'ArrowUp')) \n  ",this.emittedValues=0,this.errorMessage="",this.category="observable",this.rowNumber=t,this.columnNumber=1,this.observers=[],this.fill=Di,this.border=Ii}return Li(e,[{key:"changeCode",value:function(e){this.code=e}},{key:"changeName",value:function(e){this.name=e}},{key:"changeCategory",value:function(e){this.category=e}},{key:"emitNewValue",value:function(){this.emittedValues+=1}},{key:"setErrorMessage",value:function(e){this.errorMessage=e}}]),e}(),Ki=__webpack_require__(8180),Zi=(__webpack_require__(4164),__webpack_require__(9340)),$i=Ki.act;function Ji(){if("undefined"!==typeof globalThis)return globalThis;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof __webpack_require__.g)return __webpack_require__.g;throw new Error("unable to locate global object")}function Qi(e){Ji().IS_REACT_ACT_ENVIRONMENT=e}function eo(){return Ji().IS_REACT_ACT_ENVIRONMENT}var to,ro=(to=$i,function(e){var t=eo();Qi(!0);try{var r=!1,n=to((function(){var t=e();return null!==t&&"object"===typeof t&&"function"===typeof t.then&&(r=!0),t}));if(r){var i=n;return{then:function(e,r){i.then((function(r){Qi(t),e(r)}),(function(e){Qi(t),r(e)}))}}}return Qi(t),n}catch(o){throw Qi(t),o}}),no=function(){return Zi.BX.apply(void 0,arguments)};Object.keys(Zi.BX).forEach((function(e){no[e]=function(){return Zi.BX[e].apply(Zi.BX,arguments)}}));var io=no.mouseEnter,oo=no.mouseLeave;no.mouseEnter=function(){return io.apply(void 0,arguments),no.mouseOver.apply(no,arguments)},no.mouseLeave=function(){return oo.apply(void 0,arguments),no.mouseOut.apply(no,arguments)};var ao=no.pointerEnter,so=no.pointerLeave;no.pointerEnter=function(){return ao.apply(void 0,arguments),no.pointerOver.apply(no,arguments)},no.pointerLeave=function(){return so.apply(void 0,arguments),no.pointerOut.apply(no,arguments)};var lo=no.select;no.select=function(e,t){lo(e,t),e.focus(),no.keyUp(e,t)};var uo=no.blur,co=no.focus;no.blur=function(){return no.focusOut.apply(no,arguments),uo.apply(void 0,arguments)},no.focus=function(){return no.focusIn.apply(no,arguments),co.apply(void 0,arguments)},(0,Zi.jQ)({unstable_advanceTimersWrapper:function(e){return ro(e)},asyncWrapper:function(){var e=(0,i.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=eo(),Qi(!1),e.prev=2,e.next=5,t();case 5:return e.abrupt("return",e.sent);case 6:return e.prev=6,Qi(r),e.finish(6);case 9:case"end":return e.stop()}}),e,null,[[2,,6,9]])})));return function(t){return e.apply(this,arguments)}}(),eventWrapper:function(e){var t;return ro((function(){t=e()})),t}});var ho,fo=new Set,po=[];function mo(){po.forEach((function(e){var t=e.root,r=e.container;ro((function(){t.unmount()})),r.parentNode===document.body&&document.body.removeChild(r)})),po.length=0,fo.clear()}if(("undefined"===typeof process||null==(ho={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||!ho.RTL_SKIP_AUTO_CLEANUP)&&("function"===typeof afterEach?afterEach((function(){mo()})):"function"===typeof teardown&&teardown((function(){mo()})),"function"===typeof beforeAll&&"function"===typeof afterAll)){var yo=eo();beforeAll((function(){yo=eo(),Qi(!0)})),afterAll((function(){Qi(yo)}))}var go=function(e){var r=e.element,n=e.state,i=e.renameElement,o=(0,t.useState)(r.code),s=(0,a.Z)(o,2),l=(s[0],s[1]),u=(0,t.useState)(r.name),c=(0,a.Z)(u,2),h=(c[0],c[1]),d=(0,t.useState)(""),f=(0,a.Z)(d,2),p=f[0],m=f[1],y=(0,t.useRef)(r.highlight);return(0,t.useEffect)((function(){y.current!==r.highlight&&(y.current=r.highlight),m(r.errorMessage)}),[n]),(0,Ci.jsxs)("div",{style:{width:"100%",height:"100%",background:"lightgray"},children:[(0,Ci.jsx)("div",{style:{display:"block",width:"100%"},children:(0,Ci.jsx)("input",{style:{display:"block",width:"100%"},type:"text",value:r.name,onChange:function(e){r.changeName(e.target.value),h(e.target.value),i([r,r.name])}})}),(0,Ci.jsx)("div",{style:{display:"block",width:"100%",height:"85%"},children:(0,Ci.jsx)(Mi.fk,{className:"Observ",value:r.code,onBeforeChange:function(e,t,n){r.changeCode(n),l(n)},options:Pi})}),p.length>0&&(0,Ci.jsx)("div",{style:{display:"block",width:"100%"},children:(0,Ci.jsx)("input",{type:"text",value:p,className:"error-message",style:{width:"100%"}})})]})};function vo(e){var t=e.observables,r=e.observers,n=(e.parameters,e.state),i=e.activeEditor,o=e.renameElement;function a(e){return i===e?1:0}return(0,Ci.jsxs)("div",{style:{position:"relative",height:"50%",width:"100%"},children:[t.map((function(e,t){return(0,Ci.jsx)("div",{id:e.id,className:"Observ",style:{height:"100%",width:"100%",position:"absolute",top:0,left:0,zIndex:a(e.id)},children:(0,Ci.jsx)(go,{element:e,state:n,renameElement:o})},e.id)})),r.map((function(e,t){return(0,Ci.jsx)("div",{id:e.id,className:"Observ",style:{height:"100%",width:"100%",position:"absolute",top:0,left:0,zIndex:a(e.id)},children:(0,Ci.jsx)(go,{element:e,state:n,renameElement:o})},e.id)}))]})}var bo=__webpack_require__(3166),xo=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;Ei(this,e),this.id=i||Xi(),this.name=r||"#SUB".concat(t),this.code=n||'subscription = OBS["#OBS0"].subscribe(\n  () => { PAR["#PAR0"] = PAR["#PAR0"] + 10; }\n)',this.highlight=0,this.errorMessage="",this.category="observer",this.rowNumber=t,this.columnNumber=1,this.parameters=[],this.fill=Di,this.border=Ii}return Li(e,[{key:"changeCategory",value:function(e){this.category=e}},{key:"setCode",value:function(e){this.code=e}},{key:"changeName",value:function(e){this.name=e}},{key:"changeCode",value:function(e){this.code=e}},{key:"newHighlight",value:function(){this.highlight+=1}},{key:"setErrorMessage",value:function(e){this.errorMessage=e}}]),e}();var wo=function(e){var r=e.observables,n=e.observers,i=e.parameters,s=e.changeObservables,l=e.changeObservers,u=e.changeParameters,c=e.firedObservables,h=e.changeActiveEditor,d=e.activeEditor,f=e.run,p=(e.upload,e.renamedElement),m=(0,t.useRef)(null),y=(0,t.useState)([]),g=(0,a.Z)(y,2),v=g[0],b=g[1],x=(0,t.useState)([]),w=(0,a.Z)(x,2),S=w[0],k=w[1],_=(0,t.useRef)(),j=(0,t.useRef)(),M=(0,t.useRef)(),C=(0,t.useRef)([]),P=(0,t.useRef)([]),T=(0,t.useRef)([]),E=(0,t.useRef)([]),O=(0,t.useRef)([]),A=(0,t.useRef)(d),L=(0,t.useRef)(0),N=(0,t.useRef)(0),R=(0,t.useRef)(0);function D(e){var t=M.current(bo.NB,"Auto",{locationSpot:bo.z6.Center},new bo.KX("location","location").makeTwoWay(),M.current(bo.bn,{fill:"white",strokeWidth:2},new bo.KX("fill","fill"),new bo.KX("stroke","border")),M.current(bo.s_,"Vertical",M.current(bo.al,{margin:4,editable:!0,font:"bold 14px sans-serif",isMultiline:!1,width:100,textAlign:"center"},new bo.KX("text","name").makeTwoWay()),M.current("Button",new bo.KX("element","element"),{margin:2,click:I},M.current(bo.al,"Editor"))));_.current.nodeTemplateMap.add(e,t)}function I(e,t){var r=function(e,t){var r=t,n=t.find((function(e){return e.id===A.current}));n&&(n.element.fill=Di,r=U(r,n.element));return h(e.id),A.current=e.id,e.fill=Ri,r=U(r,e),r}(t.part.data.element,j.current.nodeDataArray);b(r)}function F(e,t,r){var n=function(e,t,r){var n={id:e.id,key:e.id,name:e.name,category:e.category,element:e,color:e.color,location:new bo.E9(t,r),value:B(e.value),fill:e.fill,border:e.border};return n}(e,t,r.current);return r.current=r.current+60,n}function B(e){var t,r=typeof e;if(e)if(Array.isArray(e))t="[".concat(e.join(", "),"]");else if("object"===r&&null!==e)t=JSON.stringify(e);else try{t=e.toString()}catch(n){t="no string repr"}else t=void 0;return t}function U(e,t){var r=e.findIndex((function(e){return e.id===t.id})),n=e[r],i=(0,o.Z)(e);return-1!==r&&(n.name=t.name,n.category=t.category,n.value=B(t.value),n.fill=t.fill,n.border=t.border,i[r]=n),i}function z(){var e=function(){var e=[];return r.forEach((function(t){t.observers.forEach((function(r){var n=q(t,r);e=[].concat((0,o.Z)(e),[n])}))})),e}(),t=function(){var e=[];return n.forEach((function(t){t.parameters.forEach((function(r){var n=q(t,r);e=[].concat((0,o.Z)(e),[n])}))})),e}(),i=e.concat(t);k(i)}function q(e,t){return function(e,t){return{from:e.id,to:t.id}}(e,t)}return(0,t.useEffect)((function(){j.current=new bo.FJ,_.current=new bo.S0,_.current.addDiagramListener("SelectionDeleted",(function(e){var t=[];e.subject.each((function(e){t.push(e.data)})),function(e){var t=(0,o.Z)(C.current),r=(0,o.Z)(P.current),n=(0,o.Z)(T.current);e.forEach((function(e){"observable"===e.category?t=t.filter((function(t){return t.id!==e.id})):"observer"===e.category?r=r.filter((function(t){return t.id!==e.id})):"parameter"===e.category&&(n=n.filter((function(t){return t.id!==e.id})))})),s(t),C.current=t,l(r),P.current=r,u(n),T.current=n}(t)})),_.current.addDiagramListener("TextEdited",(function(e){var t=e.subject,r=t.text;t.part.data.element.changeName(r)})),M.current=bo.bx.make,_.current.div=m.current,D("observable"),D("observer"),function(e){var t=M.current(bo.NB,"Auto",{locationSpot:bo.z6.Center},new bo.KX("location","location").makeTwoWay(),M.current(bo.bn,{fill:"white",strokeWidth:2},new bo.KX("fill","fill"),new bo.KX("stroke","border")),M.current(bo.s_,"Vertical",M.current(bo.al,{margin:4,editable:!0,font:"bold 14px sans-serif",isMultiline:!1,width:80,height:25,textAlign:"center"},new bo.KX("text","name").makeTwoWay()),new bo.KX("element","element"),M.current(bo.al,new bo.KX("text","value"))));_.current.nodeTemplateMap.add(e,t)}("parameter")}),[]),(0,t.useEffect)((function(){if(p){var e=U(v,p[0]);b(e)}}),[p]),(0,t.useEffect)((function(){for(var e=r.map((function(e){return e.emittedValues})),t=i.map((function(e){return e.value})),n=[],o=0;o<=E.current.length;o++)E.current[o]!==e[o]&&(n.push(r[o]),r[o].observers.forEach((function(e){n.push(e),n=n.concat(e.parameters),e.parameters.forEach((function(e){return U(v,e)}))})));!function(e){var t=v;e.forEach((function(e){e.border!==Fi&&(e.border=Bi,t=U(t,e),b(t))})),setTimeout((function(){e.forEach((function(e){e.border!==Fi&&(e.border=Ii,t=U(t,e),b(t))}))}),100)}(n),E.current=e,O.current=t}),[c]),(0,t.useEffect)((function(){var e=r.filter((function(e){return!C.current.includes(e)})),t=C.current.filter((function(e){return!r.includes(e)}));e=e.map((function(e){return F(e,-100,L)})),C.current=r,E.current=r.map((function(e){return e.emittedValues}));var a=n.filter((function(e){return!P.current.includes(e)})),s=P.current.filter((function(e){return!n.includes(e)}));a=a.map((function(e){return F(e,100,N)})),P.current=n;var l=i.filter((function(e){return!T.current.includes(e)})),u=T.current.filter((function(e){return!i.includes(e)}));l=l.map((function(e){return F(e,300,R)})),T.current=i;var c=[].concat((0,o.Z)(t),(0,o.Z)(s),(0,o.Z)(u)),h=function(e,t){var r=new Set(t.map((function(e){return e.id})));return e.filter((function(e){return!r.has(e.id)}))}(v,c);b([].concat((0,o.Z)(h),(0,o.Z)(e),(0,o.Z)(a),(0,o.Z)(l)))}),[r,n,i]),(0,t.useEffect)((function(){j.current.nodeDataArray=v,j.current.linkDataArray=S,_.current.model=j.current}),[v,S]),(0,t.useEffect)((function(){z();var e=v;r.concat(n).forEach((function(t){t.errorMessage.length>0?(console.log("error!",t),t.border=Fi):t.border=Ii,e=U(v,t)})),b(e)}),[f]),(0,Ci.jsx)("div",{ref:m,style:{position:"relative",top:0,left:0,zIndex:1,height:"100%",width:"100%"}})},So=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;Ei(this,e),this.id=i||Xi(),this.name=r||"#PAR".concat(t),this.value=n||5,this.category="parameter",this.fill=Di,this.border=Ii,this.rowNumber=t,this.columnNumber=1}return Li(e,[{key:"changeName",value:function(e){this.name=e}},{key:"changeValue",value:function(e){this.value=e}},{key:"changeCategory",value:function(e){this.category=e}}]),e}();var ko=function(e,t){return ko=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},ko(e,t)};function _o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}ko(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}Object.create;Object.create;(function(e){function r(r){var n=e.call(this,r)||this;return n.wasCleared=!1,n.modelChangedListener=null,n.divRef=t.createRef(),n}_o(r,e),r.prototype.getDiagram=function(){return null===this.divRef.current?null:bo.S0.fromDiv(this.divRef.current)},r.prototype.clear=function(){var e=this.getDiagram();null!==e&&(e.clear(),this.wasCleared=!0)},r.prototype.componentDidMount=function(){var e=this;if(null!==this.divRef.current){var t=this.props.initDiagram();t.div=this.divRef.current,this.modelChangedListener=function(t){if(t.isTransactionFinished&&t.model&&!t.model.isReadOnly&&e.props.onModelChange){var r=t.model.toIncrementalData(t);null!==r&&e.props.onModelChange(r)}},t.addModelChangedListener(this.modelChangedListener),t.delayInitialization((function(){e.mergeData(t,!0)}))}},r.prototype.componentWillUnmount=function(){var e=this.getDiagram();null!==e&&(e.div=null,null!==this.modelChangedListener&&(e.removeModelChangedListener(this.modelChangedListener),this.modelChangedListener=null))},r.prototype.shouldComponentUpdate=function(e,t){return e.divClassName!==this.props.divClassName||e.style!==this.props.style||!e.skipsDiagramUpdate&&(e.nodeDataArray!==this.props.nodeDataArray||e.linkDataArray!==this.props.linkDataArray||e.modelData!==this.props.modelData)},r.prototype.componentDidUpdate=function(e,t){var r=this;if(e.nodeDataArray!==this.props.nodeDataArray||e.linkDataArray!==this.props.linkDataArray||e.modelData!==this.props.modelData){var n=this.getDiagram();null!==n&&(this.wasCleared?n.delayInitialization((function(){r.mergeData(n,!0),r.wasCleared=!1})):this.mergeData(n,!1))}},r.prototype.mergeData=function(e,t){var r=this;e.model.commit((function(e){void 0!==r.props.modelData&&e.assignAllDataProperties(e.modelData,r.props.modelData),e.mergeNodeDataArray(r.props.nodeDataArray),void 0!==r.props.linkDataArray&&e instanceof bo.FJ&&e.mergeLinkDataArray(r.props.linkDataArray)}),t?"initial merge":"merge data")},r.prototype.render=function(){return t.createElement("div",{ref:this.divRef,className:this.props.divClassName,style:this.props.style})}})(t.Component),function(e){function r(r){var n=e.call(this,r)||this;return n.divRef=t.createRef(),n}_o(r,e),r.prototype.getOverview=function(){return null===this.divRef.current?null:bo.S0.fromDiv(this.divRef.current)},r.prototype.componentDidMount=function(){var e;null!==this.divRef.current&&(void 0!==this.props.initOverview?e=this.props.initOverview():(e=new bo.g2).contentAlignment=bo.z6.Center,e.div=this.divRef.current,e.observed=this.props.observedDiagram)},r.prototype.componentWillUnmount=function(){var e=this.getOverview();null!==e&&(e.div=null,e.observed=null)},r.prototype.shouldComponentUpdate=function(e,t){return e.divClassName!==this.props.divClassName||e.style!==this.props.style||e.observedDiagram!==this.props.observedDiagram},r.prototype.componentDidUpdate=function(e,t){if(e.observedDiagram!==this.props.observedDiagram){var r=this.getOverview();null!==r&&(r.observed=this.props.observedDiagram)}},r.prototype.render=function(){return t.createElement("div",{ref:this.divRef,className:this.props.divClassName,style:this.props.style})}}(t.Component),function(e){function r(r){var n=e.call(this,r)||this;return n.wasCleared=!1,n.divRef=t.createRef(),n}_o(r,e),r.prototype.getPalette=function(){return null===this.divRef.current?null:bo.S0.fromDiv(this.divRef.current)},r.prototype.clear=function(){var e=this.getPalette();null!==e&&(e.clear(),this.wasCleared=!0)},r.prototype.componentDidMount=function(){var e=this;if(null!==this.divRef.current){var t=this.props.initPalette();t.div=this.divRef.current,t.delayInitialization((function(){e.mergeData(t,!0)}))}},r.prototype.componentWillUnmount=function(){var e=this.getPalette();null!==e&&(e.div=null)},r.prototype.shouldComponentUpdate=function(e,t){return e.divClassName!==this.props.divClassName||e.style!==this.props.style||(e.nodeDataArray!==this.props.nodeDataArray||e.linkDataArray!==this.props.linkDataArray||e.modelData!==this.props.modelData)},r.prototype.componentDidUpdate=function(e,t){var r=this;if(e.nodeDataArray!==this.props.nodeDataArray||e.linkDataArray!==this.props.linkDataArray||e.modelData!==this.props.modelData){var n=this.getPalette();null!==n&&(this.wasCleared?n.delayInitialization((function(){r.mergeData(n,!0),r.wasCleared=!1})):this.mergeData(n,!1))}},r.prototype.mergeData=function(e,t){var r=this;e.model.commit((function(e){void 0!==r.props.modelData&&e.assignAllDataProperties(e.modelData,r.props.modelData),e.mergeNodeDataArray(r.props.nodeDataArray),void 0!==r.props.linkDataArray&&e instanceof bo.FJ&&e.mergeLinkDataArray(r.props.linkDataArray)}),t?"initial merge":"merge data")},r.prototype.render=function(){return t.createElement("div",{ref:this.divRef,className:this.props.divClassName,style:this.props.style})}}(t.Component);var jo=[],Mo=new Yi(0);Mo.changeCode("\nconst midiInputsObservable = navigator.requestMIDIAccess().then(midiAccess => {\n  const midiInputs = midiAccess.inputs\n  const inputObservables = Array.from(midiInputs.values()).map(input => rxjs.fromEvent(input, 'midimessage').pipe(\n    rxjs.map(event => event.data)))\n  observableMerged = rxjs.merge(...inputObservables);\n  return observableMerged\n})\nobservable = midiInputsObservable\n"),Mo.changeName("midiSignal"),jo.push(Mo);var Co=new Yi(1);Co.changeCode("\nobservable = rxjs.fromEvent(document, 'keydown')\n                 .pipe(\n                    // change key code here if required:\n                    rxjs.filter(event => event.code === 'space')\n                  ) "),Co.changeName("keyPress"),jo.push(Co);var Po=new Yi(2);Po.changeCode("\n\nconst audioCtx = new AudioContext();\nconst analyser = audioCtx.createAnalyser();\nconst freqArray = new Float32Array(analyser.frequencyBinCount);\n\nconst audioObservable = navigator.mediaDevices.getUserMedia({ audio: true })\n  .then(stream => {\n    var source = audioCtx.createMediaStreamSource(stream);\n  \tsource.connect(analyser);\n\n    // Start the audio processing\n    analyser.connect(audioCtx.destination);\n  // fill the Float32Array with data returned from getFloatFrequencyData()\n\t  const Audioobservable = rxjs.interval(1000).pipe(\n\t\t  rxjs.map(x => {  \n\t\t\t  analyser.getFloatFrequencyData(freqArray);\n\t\t\t  return Array.from(freqArray);\n\t\t  })\n\t)\n  return Audioobservable\n  })\nobservable = audioObservable\n     \n     "),Po.changeName("audioSignal"),jo.push(Po);var To=new Yi(3);To.changeCode("\nconst numbers = rxjs.interval(1000);\n \nreturn numbers\n"),To.changeName("interval"),jo.push(To);var Eo=jo;var Oo=function(e){e.selected;var r=e.observables,n=e.observers,i=e.parameters,s=e.changeParameters,l=e.changeObservables,u=e.changeObservers,c=e.executeCode,h=e.stopExecution,d=e.firedObservables,f=e.run,p=e.upload,m=(0,t.useState)(),y=(0,a.Z)(m,2),g=y[0],v=y[1],b=(0,t.useState)(!1),x=(0,a.Z)(b,2),w=x[0],S=x[1],k=(0,t.useState)(),_=(0,a.Z)(k,2),j=_[0],M=_[1];function C(e,t,r){var n=(0,o.Z)(e);n.push(t),r(n)}return(0,Ci.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%"},children:[(0,Ci.jsxs)("div",{style:{width:"100%",height:"50%"},children:[(0,Ci.jsx)("button",{onClick:function(){c()},style:{width:"66%"},children:"RUN"}),(0,Ci.jsx)("button",{onClick:function(){h()},style:{width:"33%"},children:"STOP"}),(0,Ci.jsx)("br",{}),(0,Ci.jsx)("button",{onClick:function(){return C(r,new Yi(r.length),l)},style:{width:"33%"},children:"+ OBSERVABLE"}),(0,Ci.jsx)("button",{onClick:function(){return C(n,new xo(n.length),u)},style:{width:"33%"},children:"+ SUBSCRIPTION"}),(0,Ci.jsx)("button",{onClick:function(){return C(i,new So(i.length),s)},style:{width:"33%"},children:"+ PARAMETER"}),(0,Ci.jsx)("button",{onClick:function(){return S(!0)},style:{width:"33%"},children:"Browse..."}),(0,Ci.jsx)(wo,{observables:r,observers:n,parameters:i,changeObservables:l,changeObservers:u,changeParameters:s,firedObservables:d,changeActiveEditor:v,activeEditor:g,run:f,upload:p,renamedElement:j})]}),(0,Ci.jsx)(vo,{className:"editor",observables:r,observers:n,parameters:i,state:d,activeEditor:g,renameElement:M}),w&&(0,Ci.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:1},children:(0,Ci.jsxs)("div",{style:{position:"absolute",top:"50%",left:"25%",transform:"translate(-50%, -50%)",backgroundColor:"white",borderRadius:10,padding:20},children:[(0,Ci.jsx)("h2",{children:"Prebuilt Observables"}),(0,Ci.jsx)("ul",{style:{maxHeight:200,overflowY:"auto",width:"100%",listStyle:"none",padding:0,margin:0},children:Eo.slice(0,5).map((function(e){return(0,Ci.jsx)("li",{onClick:function(){return function(e){C(r,e,l),S(!1)}(e)},children:(0,Ci.jsx)("button",{style:{width:"100%"},children:e.name})},e.id)}))}),(0,Ci.jsx)("button",{onClick:function(){return S(!1)},children:"Close"})]})})]})},Ao=__webpack_require__(9183),Lo=__webpack_require__(4802),No=__webpack_require__(5587),Ro=__webpack_require__.n(No),Do=new ae,Io={},Fo={},Bo={},Uo={};var zo=function(e){var t=e.isSelected,r=e.onClick,n=e.content,i=e.colour;return(0,Ci.jsx)("div",{style:{flex:t?8:1,background:i,overflow:"hidden",width:"100%",height:"100%",padding:"5px"},onClick:r,children:n})},qo=function(){var r=(0,t.useState)(0),s=(0,a.Z)(r,2),l=s[0],u=s[1],c=(0,t.useState)(0),h=(0,a.Z)(c,2),d=h[0],f=h[1],p=(0,t.useState)(!1),m=(0,a.Z)(p,2),y=m[0],g=m[1],v=(0,t.useState)(""),b=(0,a.Z)(v,2),x=b[0],w=b[1],S=(0,t.useState)(),k=(0,a.Z)(S,2),_=k[0],j=k[1],M=(0,t.useState)(0),C=(0,a.Z)(M,2),P=C[0],T=C[1],E=(0,t.useState)(0),O=(0,a.Z)(E,2),A=O[0],L=O[1],N=(0,t.useState)(null),R=(0,a.Z)(N,2),D=R[0],I=R[1],F=(0,t.useState)(!1),B=(0,a.Z)(F,2),U=B[0],z=B[1],q=(0,t.useState)([]),G=(0,a.Z)(q,2),V=G[0],W=G[1],X=(0,t.useState)([]),Y=(0,a.Z)(X,2),K=Y[0],Z=Y[1],$=(0,t.useState)([]),J=(0,a.Z)($,2),Q=J[0],ee=J[1],te=(0,t.useState)(""),re=(0,a.Z)(te,2),ne=re[0],ie=re[1],oe=(0,t.useState)('\n// canvasWidth and canvasHeight can be used in the code\n// The dictionaries GLOB (global variables) and PAR (parameters) can be used in the code\n\n// DRAW FUNCTION\np5.draw = () => {\n  p5.background("rgb(0,0,0)") \n  p5.circle(0, 0, canvasWidth / 4) \n};\n  '),ae=(0,a.Z)(oe,2),se=ae[0],le=ae[1],ue=function(e){I(e)};function ce(){for(var e in Io={},Uo={},Bo)Bo[e].unsubscribe();Bo={},Do.next(),Do.complete(),Fo={}}var he=function(){var e=(0,i.Z)((0,n.Z)().mark((function e(){var t,r,i,o,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new(Ro()),r=t.folder("observables"),i=t.folder("observers"),o=t.folder("parameters"),V.forEach((function(e){r.file("".concat(e.name,"_").concat(e.id,".txt"),e.code)})),K.forEach((function(e){i.file("".concat(e.name,"_").concat(e.id,".txt"),e.code)})),Q.forEach((function(e){o.file("".concat(e.name,"_").concat(e.id,".txt"),e.value.toString())})),t.file("visualCode.txt",se),e.next=10,t.generateAsync({type:"blob"});case 10:a=e.sent,(0,Lo.saveAs)(a,"".concat(x||"visual",".zip")),g(!1);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Ci.jsxs)("div",{children:[(0,Ci.jsxs)("div",{id:"fileuploadcontainer",onMouseEnter:function(){z(!0)},onMouseLeave:function(){z(!1)},style:{minHeight:"10px"},children:[U&&(0,Ci.jsxs)("div",{children:[(0,Ci.jsx)("button",{style:{position:"relative",zIndex:1,width:"50%",background:"white"},onClick:function(){return g(!0)},children:"Save Visual"}),(0,Ci.jsx)("button",{style:{position:"relative",zIndex:1,width:"50%",background:"white"},onClick:function(){console.log("upload!");var e=document.createElement("input");function t(e){return new Promise((function(t,r){var n=new FileReader;n.onload=function(e){var r=e.target.result;t(r)},n.onerror=function(e){r(e.target.error)},n.readAsText(e)}))}e.type="file",e.webkitdirectory=!0,e.onchange=function(e){var r=e.target.files,n=[],i=[],o=[],a=Array.from(r).map((function(e){var r=e.webkitRelativePath.split("/")[1];return"visualCode.txt"===r?t(e).then((function(e){le(e)})):"observables"===r?t(e).then((function(t){var r=e.name.split("_")[0],i=e.name.split("_")[1],o=t;n.push(new Yi(0,r,o,i))})):"observers"===r?t(e).then((function(t){var r=e.name.split("_")[0],n=e.name.split("_")[0],o=t;i.push(new xo(0,r,o,n))})):"parameters"===r?t(e).then((function(t){var r=e.name.split("_")[0],n=e.name.split("_")[1];o.push(new So(0,r,void 0,n))})):void 0}));Promise.all(a).then((function(){W(n),Z(i),ee(o)}))},e.click(),f(Math.random())},children:"Upload Visual"})]}),U&&y&&(0,Ci.jsx)("div",{className:"modal",children:(0,Ci.jsxs)("div",{className:"modal-content",children:[(0,Ci.jsx)("span",{className:"close",onClick:function(){return g(!1)},children:"\xd7"}),(0,Ci.jsx)("label",{htmlFor:"zipName",children:"           Enter ZIP file name...           "}),(0,Ci.jsx)("input",{type:"text",id:"zipName",placeholder:"visual",value:x,onChange:function(e){return w(e.target.value)}}),(0,Ci.jsx)("button",{onClick:he,children:"Save ZIP"})]})})]}),(0,Ci.jsxs)("div",{style:{display:"flex",height:"100vh",flexDirection:"row",padding:"5px"},children:[(0,Ci.jsx)(zo,{isSelected:0===D,onClick:function(){return ue(0)},content:(0,Ci.jsx)(Oo,{selected:0===D,observables:V,observers:K,parameters:Q,changeObservables:W,changeObservers:Z,changeParameters:ee,executeCode:function(){ce(),Q.forEach((function(e){Io[e.name]=e.value})),V.forEach((function(e){e.observers=[],K.forEach((function(t){t.code.includes(e.name)&&(e.observers=[].concat((0,o.Z)(e.observers),[t]))}))})),K.forEach((function(e){e.parameters=[],Q.forEach((function(t){e.code.includes(t.name)&&(e.parameters=[].concat((0,o.Z)(e.parameters),[t]))}))}));var t=V.map((function(t){return new Promise((function(r,n){try{new Function("rxjs","return (async function () {\n".concat("var observable = null"," \n").concat(t.code," \n").concat("return observable","\n          }\n          )();"))(e).then((function(e){e instanceof H?(Fo[t.name]=e.pipe(si(Do)),Bo["".concat(t.name,"_colour")]=Fo[t.name].subscribe((function(){t.emitNewValue()})),t.setErrorMessage(""),r()):(t.setErrorMessage("observable doesn't return observable: ".concat(e)),r("observable doesn't return observable: ".concat(e)))}))}catch(i){t.setErrorMessage(i.message),r(i.message)}}))}));Promise.all(t).then((function(){!function(){var e="var subscription = null",t="return subscription";K.forEach((function(r){try{var n="\n".concat(e," \n").concat(r.code," \n").concat(t,"; \n"),i=new Function("OBS","PAR","GLOB",n);Bo[r.name]=i(Fo,Io,Uo),r.setErrorMessage("")}catch(o){console.log("error!!!"),r.setErrorMessage(o.message)}}))}(),function(){var t,r=Object.values(Fo);r.length>0&&(t=ar.apply(e,r),Fo.mergedObservable=t,Bo.inputPassing=t.subscribe((function(){var e=function(e){var t=Q.find((function(t){return t.name===e})),r=(t.value,Io[e]);t.changeValue(r)};for(var t in Io)e(t);j(Math.random())})),j(Math.random()))}(),j(Math.random()),u(Math.random)})).catch((function(e){console.log("One or more observables failed:",e)})),console.log(Uo)},stopExecution:ce,firedObservables:_,run:l,upload:d}),colour:"lightgray"}),(0,Ci.jsx)(zo,{isSelected:1===D,onClick:function(){return ue(1)},content:(0,Ci.jsx)(Ti,{visualCode:se,changeVisualCode:le,codeErrorMessage:ne}),colour:"gray"}),(0,Ci.jsx)(zo,{isSelected:2===D,onClick:function(){return ue(2)},content:(0,Ci.jsx)(Ao.i,{selected:2===D,paramsDict:Io,globDict:Uo,state:_,setCodeErrorMessage:ie,updateVisualWidth:T,updateVisualHeight:L,visualWidth:P,visualHeight:A,visualCode:se}),colour:"lightgray"})]})]})};r.createRoot(document.getElementById("root")).render((0,Ci.jsx)(qo,{}))}()})();
//# sourceMappingURL=main.01375cbb.js.map